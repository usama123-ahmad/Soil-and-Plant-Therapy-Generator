var nZ=Object.defineProperty;var K_=n=>{throw TypeError(n)};var rZ=(n,e,t)=>e in n?nZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Wt=(n,e,t)=>rZ(n,typeof e!="symbol"?e+"":e,t),AP=(n,e,t)=>e.has(n)||K_("Cannot "+t);var m=(n,e,t)=>(AP(n,e,"read from private field"),t?t.call(n):e.get(n)),Z=(n,e,t)=>e.has(n)?K_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Q=(n,e,t,r)=>(AP(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),ne=(n,e,t)=>(AP(n,e,"access private method"),t);var Ko=(n,e,t,r)=>({set _(i){Q(n,e,i,t)},get _(){return m(n,e,r)}});function iZ(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var t2e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dP={exports:{}},ex={},hP={exports:{}},qr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function sZ(){if(V_)return qr;V_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),A=Symbol.iterator;function h(te){return te===null||typeof te!="object"?null:(te=A&&te[A]||te["@@iterator"],typeof te=="function"?te:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function x(te,H,q){this.props=te,this.context=H,this.refs=g,this.updater=q||f}x.prototype.isReactComponent={},x.prototype.setState=function(te,H){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,H,"setState")},x.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function b(){}b.prototype=x.prototype;function S(te,H,q){this.props=te,this.context=H,this.refs=g,this.updater=q||f}var E=S.prototype=new b;E.constructor=S,v(E,x.prototype),E.isPureReactComponent=!0;var k=Array.isArray,P=Object.prototype.hasOwnProperty,N={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function U(te,H,q){var re,he={},Ae=null,ge=null;if(H!=null)for(re in H.ref!==void 0&&(ge=H.ref),H.key!==void 0&&(Ae=""+H.key),H)P.call(H,re)&&!I.hasOwnProperty(re)&&(he[re]=H[re]);var we=arguments.length-2;if(we===1)he.children=q;else if(1<we){for(var ke=Array(we),ze=0;ze<we;ze++)ke[ze]=arguments[ze+2];he.children=ke}if(te&&te.defaultProps)for(re in we=te.defaultProps,we)he[re]===void 0&&(he[re]=we[re]);return{$$typeof:n,type:te,key:Ae,ref:ge,props:he,_owner:N.current}}function V(te,H){return{$$typeof:n,type:te.type,key:H,ref:te.ref,props:te.props,_owner:te._owner}}function W(te){return typeof te=="object"&&te!==null&&te.$$typeof===n}function L(te){var H={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(q){return H[q]})}var D=/\/+/g;function z(te,H){return typeof te=="object"&&te!==null&&te.key!=null?L(""+te.key):H.toString(36)}function G(te,H,q,re,he){var Ae=typeof te;(Ae==="undefined"||Ae==="boolean")&&(te=null);var ge=!1;if(te===null)ge=!0;else switch(Ae){case"string":case"number":ge=!0;break;case"object":switch(te.$$typeof){case n:case e:ge=!0}}if(ge)return ge=te,he=he(ge),te=re===""?"."+z(ge,0):re,k(he)?(q="",te!=null&&(q=te.replace(D,"$&/")+"/"),G(he,H,q,"",function(ze){return ze})):he!=null&&(W(he)&&(he=V(he,q+(!he.key||ge&&ge.key===he.key?"":(""+he.key).replace(D,"$&/")+"/")+te)),H.push(he)),1;if(ge=0,re=re===""?".":re+":",k(te))for(var we=0;we<te.length;we++){Ae=te[we];var ke=re+z(Ae,we);ge+=G(Ae,H,q,ke,he)}else if(ke=h(te),typeof ke=="function")for(te=ke.call(te),we=0;!(Ae=te.next()).done;)Ae=Ae.value,ke=re+z(Ae,we++),ge+=G(Ae,H,q,ke,he);else if(Ae==="object")throw H=String(te),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ge}function ve(te,H,q){if(te==null)return te;var re=[],he=0;return G(te,re,"","",function(Ae){return H.call(q,Ae,he++)}),re}function J(te){if(te._status===-1){var H=te._result;H=H(),H.then(function(q){(te._status===0||te._status===-1)&&(te._status=1,te._result=q)},function(q){(te._status===0||te._status===-1)&&(te._status=2,te._result=q)}),te._status===-1&&(te._status=0,te._result=H)}if(te._status===1)return te._result.default;throw te._result}var $={current:null},X={transition:null},ie={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:X,ReactCurrentOwner:N};function pe(){throw Error("act(...) is not supported in production builds of React.")}return qr.Children={map:ve,forEach:function(te,H,q){ve(te,function(){H.apply(this,arguments)},q)},count:function(te){var H=0;return ve(te,function(){H++}),H},toArray:function(te){return ve(te,function(H){return H})||[]},only:function(te){if(!W(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},qr.Component=x,qr.Fragment=t,qr.Profiler=i,qr.PureComponent=S,qr.StrictMode=r,qr.Suspense=l,qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,qr.act=pe,qr.cloneElement=function(te,H,q){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var re=v({},te.props),he=te.key,Ae=te.ref,ge=te._owner;if(H!=null){if(H.ref!==void 0&&(Ae=H.ref,ge=N.current),H.key!==void 0&&(he=""+H.key),te.type&&te.type.defaultProps)var we=te.type.defaultProps;for(ke in H)P.call(H,ke)&&!I.hasOwnProperty(ke)&&(re[ke]=H[ke]===void 0&&we!==void 0?we[ke]:H[ke])}var ke=arguments.length-2;if(ke===1)re.children=q;else if(1<ke){we=Array(ke);for(var ze=0;ze<ke;ze++)we[ze]=arguments[ze+2];re.children=we}return{$$typeof:n,type:te.type,key:he,ref:Ae,props:re,_owner:ge}},qr.createContext=function(te){return te={$$typeof:o,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:s,_context:te},te.Consumer=te},qr.createElement=U,qr.createFactory=function(te){var H=U.bind(null,te);return H.type=te,H},qr.createRef=function(){return{current:null}},qr.forwardRef=function(te){return{$$typeof:a,render:te}},qr.isValidElement=W,qr.lazy=function(te){return{$$typeof:u,_payload:{_status:-1,_result:te},_init:J}},qr.memo=function(te,H){return{$$typeof:c,type:te,compare:H===void 0?null:H}},qr.startTransition=function(te){var H=X.transition;X.transition={};try{te()}finally{X.transition=H}},qr.unstable_act=pe,qr.useCallback=function(te,H){return $.current.useCallback(te,H)},qr.useContext=function(te){return $.current.useContext(te)},qr.useDebugValue=function(){},qr.useDeferredValue=function(te){return $.current.useDeferredValue(te)},qr.useEffect=function(te,H){return $.current.useEffect(te,H)},qr.useId=function(){return $.current.useId()},qr.useImperativeHandle=function(te,H,q){return $.current.useImperativeHandle(te,H,q)},qr.useInsertionEffect=function(te,H){return $.current.useInsertionEffect(te,H)},qr.useLayoutEffect=function(te,H){return $.current.useLayoutEffect(te,H)},qr.useMemo=function(te,H){return $.current.useMemo(te,H)},qr.useReducer=function(te,H,q){return $.current.useReducer(te,H,q)},qr.useRef=function(te){return $.current.useRef(te)},qr.useState=function(te){return $.current.useState(te)},qr.useSyncExternalStore=function(te,H,q){return $.current.useSyncExternalStore(te,H,q)},qr.useTransition=function(){return $.current.useTransition()},qr.version="18.3.1",qr}var G_;function _S(){return G_||(G_=1,hP.exports=sZ()),hP.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function oZ(){if(W_)return ex;W_=1;var n=_S(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,A={},h=null,f=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(f=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(A[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)A[u]===void 0&&(A[u]=l[u]);return{$$typeof:e,type:a,key:h,ref:f,props:A,_owner:i.current}}return ex.Fragment=t,ex.jsx=o,ex.jsxs=o,ex}var q_;function aZ(){return q_||(q_=1,dP.exports=oZ()),dP.exports}var y=aZ(),zB={},fP={exports:{}},$l={},pP={exports:{}},mP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function lZ(){return X_||(X_=1,function(n){function e(X,ie){var pe=X.length;X.push(ie);e:for(;0<pe;){var te=pe-1>>>1,H=X[te];if(0<i(H,ie))X[te]=ie,X[pe]=H,pe=te;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ie=X[0],pe=X.pop();if(pe!==ie){X[0]=pe;e:for(var te=0,H=X.length,q=H>>>1;te<q;){var re=2*(te+1)-1,he=X[re],Ae=re+1,ge=X[Ae];if(0>i(he,pe))Ae<H&&0>i(ge,he)?(X[te]=ge,X[Ae]=pe,te=Ae):(X[te]=he,X[re]=pe,te=re);else if(Ae<H&&0>i(ge,pe))X[te]=ge,X[Ae]=pe,te=Ae;else break e}}return ie}function i(X,ie){var pe=X.sortIndex-ie.sortIndex;return pe!==0?pe:X.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,A=null,h=3,f=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(X){for(var ie=t(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=X)r(c),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=t(c)}}function k(X){if(g=!1,E(X),!v)if(t(l)!==null)v=!0,J(P);else{var ie=t(c);ie!==null&&$(k,ie.startTime-X)}}function P(X,ie){v=!1,g&&(g=!1,b(U),U=-1),f=!0;var pe=h;try{for(E(ie),A=t(l);A!==null&&(!(A.expirationTime>ie)||X&&!L());){var te=A.callback;if(typeof te=="function"){A.callback=null,h=A.priorityLevel;var H=te(A.expirationTime<=ie);ie=n.unstable_now(),typeof H=="function"?A.callback=H:A===t(l)&&r(l),E(ie)}else r(l);A=t(l)}if(A!==null)var q=!0;else{var re=t(c);re!==null&&$(k,re.startTime-ie),q=!1}return q}finally{A=null,h=pe,f=!1}}var N=!1,I=null,U=-1,V=5,W=-1;function L(){return!(n.unstable_now()-W<V)}function D(){if(I!==null){var X=n.unstable_now();W=X;var ie=!0;try{ie=I(!0,X)}finally{ie?z():(N=!1,I=null)}}else N=!1}var z;if(typeof S=="function")z=function(){S(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ve=G.port2;G.port1.onmessage=D,z=function(){ve.postMessage(null)}}else z=function(){x(D,0)};function J(X){I=X,N||(N=!0,z())}function $(X,ie){U=x(function(){X(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){v||f||(v=!0,J(P))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(X){switch(h){case 1:case 2:case 3:var ie=3;break;default:ie=h}var pe=h;h=ie;try{return X()}finally{h=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,ie){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=h;h=X;try{return ie()}finally{h=pe}},n.unstable_scheduleCallback=function(X,ie,pe){var te=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?te+pe:te):pe=te,X){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=pe+H,X={id:u++,callback:ie,priorityLevel:X,startTime:pe,expirationTime:H,sortIndex:-1},pe>te?(X.sortIndex=pe,e(c,X),t(l)===null&&X===t(c)&&(g?(b(U),U=-1):g=!0,$(k,pe-te))):(X.sortIndex=H,e(l,X),v||f||(v=!0,J(P))),X},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(X){var ie=h;return function(){var pe=h;h=ie;try{return X.apply(this,arguments)}finally{h=pe}}}}(mP)),mP}var Y_;function cZ(){return Y_||(Y_=1,pP.exports=lZ()),pP.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function uZ(){if(Z_)return $l;Z_=1;var n=_S(),e=cZ();function t(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,p){o(d,p),o(d+"Capture",p)}function o(d,p){for(i[d]=p,d=0;d<p.length;d++)r.add(p[d])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},A={};function h(d){return l.call(A,d)?!0:l.call(u,d)?!1:c.test(d)?A[d]=!0:(u[d]=!0,!1)}function f(d,p,w,B){if(w!==null&&w.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return B?!1:w!==null?!w.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function v(d,p,w,B){if(p===null||typeof p>"u"||f(d,p,w,B))return!0;if(B)return!1;if(w!==null)switch(w.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function g(d,p,w,B,M,j,ue){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=B,this.attributeNamespace=M,this.mustUseProperty=w,this.propertyName=d,this.type=p,this.sanitizeURL=j,this.removeEmptyString=ue}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){x[d]=new g(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];x[p]=new g(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){x[d]=new g(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){x[d]=new g(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){x[d]=new g(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){x[d]=new g(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){x[d]=new g(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){x[d]=new g(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){x[d]=new g(d,5,!1,d.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function S(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(b,S);x[p]=new g(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(b,S);x[p]=new g(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(b,S);x[p]=new g(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){x[d]=new g(d,1,!1,d.toLowerCase(),null,!1,!1)}),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){x[d]=new g(d,1,!1,d.toLowerCase(),null,!0,!0)});function E(d,p,w,B){var M=x.hasOwnProperty(p)?x[p]:null;(M!==null?M.type!==0:B||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(v(p,w,M,B)&&(w=null),B||M===null?h(p)&&(w===null?d.removeAttribute(p):d.setAttribute(p,""+w)):M.mustUseProperty?d[M.propertyName]=w===null?M.type===3?!1:"":w:(p=M.attributeName,B=M.attributeNamespace,w===null?d.removeAttribute(p):(M=M.type,w=M===3||M===4&&w===!0?"":""+w,B?d.setAttributeNS(B,p,w):d.setAttribute(p,w))))}var k=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),X=Symbol.iterator;function ie(d){return d===null||typeof d!="object"?null:(d=X&&d[X]||d["@@iterator"],typeof d=="function"?d:null)}var pe=Object.assign,te;function H(d){if(te===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);te=p&&p[1]||""}return`
`+te+d}var q=!1;function re(d,p){if(!d||q)return"";q=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ct){var B=ct}Reflect.construct(d,[],p)}else{try{p.call()}catch(ct){B=ct}d.call(p.prototype)}else{try{throw Error()}catch(ct){B=ct}d()}}catch(ct){if(ct&&B&&typeof ct.stack=="string"){for(var M=ct.stack.split(`
`),j=B.stack.split(`
`),ue=M.length-1,Te=j.length-1;1<=ue&&0<=Te&&M[ue]!==j[Te];)Te--;for(;1<=ue&&0<=Te;ue--,Te--)if(M[ue]!==j[Te]){if(ue!==1||Te!==1)do if(ue--,Te--,0>Te||M[ue]!==j[Te]){var Re=`
`+M[ue].replace(" at new "," at ");return d.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",d.displayName)),Re}while(1<=ue&&0<=Te);break}}}finally{q=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?H(d):""}function he(d){switch(d.tag){case 5:return H(d.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return d=re(d.type,!1),d;case 11:return d=re(d.type.render,!1),d;case 1:return d=re(d.type,!0),d;default:return""}}function Ae(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case I:return"Fragment";case N:return"Portal";case V:return"Profiler";case U:return"StrictMode";case z:return"Suspense";case G:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case L:return(d.displayName||"Context")+".Consumer";case W:return(d._context.displayName||"Context")+".Provider";case D:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case ve:return p=d.displayName||null,p!==null?p:Ae(d.type)||"Memo";case J:p=d._payload,d=d._init;try{return Ae(d(p))}catch{}}return null}function ge(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(p);case 8:return p===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function we(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ke(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function ze(d){var p=ke(d)?"checked":"value",w=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),B=""+d[p];if(!d.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var M=w.get,j=w.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return M.call(this)},set:function(ue){B=""+ue,j.call(this,ue)}}),Object.defineProperty(d,p,{enumerable:w.enumerable}),{getValue:function(){return B},setValue:function(ue){B=""+ue},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Ve(d){d._valueTracker||(d._valueTracker=ze(d))}function Ue(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var w=p.getValue(),B="";return d&&(B=ke(d)?d.checked?"true":"false":d.value),d=B,d!==w?(p.setValue(d),!0):!1}function ft(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Kt(d,p){var w=p.checked;return pe({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??d._wrapperState.initialChecked})}function Ge(d,p){var w=p.defaultValue==null?"":p.defaultValue,B=p.checked!=null?p.checked:p.defaultChecked;w=we(p.value!=null?p.value:w),d._wrapperState={initialChecked:B,initialValue:w,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Se(d,p){p=p.checked,p!=null&&E(d,"checked",p,!1)}function Nt(d,p){Se(d,p);var w=we(p.value),B=p.type;if(w!=null)B==="number"?(w===0&&d.value===""||d.value!=w)&&(d.value=""+w):d.value!==""+w&&(d.value=""+w);else if(B==="submit"||B==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?at(d,p.type,w):p.hasOwnProperty("defaultValue")&&at(d,p.type,we(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function xt(d,p,w){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var B=p.type;if(!(B!=="submit"&&B!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,w||p===d.value||(d.value=p),d.defaultValue=p}w=d.name,w!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,w!==""&&(d.name=w)}function at(d,p,w){(p!=="number"||ft(d.ownerDocument)!==d)&&(w==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+w&&(d.defaultValue=""+w))}var Ct=Array.isArray;function Et(d,p,w,B){if(d=d.options,p){p={};for(var M=0;M<w.length;M++)p["$"+w[M]]=!0;for(w=0;w<d.length;w++)M=p.hasOwnProperty("$"+d[w].value),d[w].selected!==M&&(d[w].selected=M),M&&B&&(d[w].defaultSelected=!0)}else{for(w=""+we(w),p=null,M=0;M<d.length;M++){if(d[M].value===w){d[M].selected=!0,B&&(d[M].defaultSelected=!0);return}p!==null||d[M].disabled||(p=d[M])}p!==null&&(p.selected=!0)}}function mt(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(t(91));return pe({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Ut(d,p){var w=p.value;if(w==null){if(w=p.children,p=p.defaultValue,w!=null){if(p!=null)throw Error(t(92));if(Ct(w)){if(1<w.length)throw Error(t(93));w=w[0]}p=w}p==null&&(p=""),w=p}d._wrapperState={initialValue:we(w)}}function qe(d,p){var w=we(p.value),B=we(p.defaultValue);w!=null&&(w=""+w,w!==d.value&&(d.value=w),p.defaultValue==null&&d.defaultValue!==w&&(d.defaultValue=w)),B!=null&&(d.defaultValue=""+B)}function Cn(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function zt(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vn(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?zt(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var mn,ln=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,w,B,M){MSApp.execUnsafeLocalFunction(function(){return d(p,w,B,M)})}:d}(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(mn=mn||document.createElement("div"),mn.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=mn.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function Fn(d,p){if(p){var w=d.firstChild;if(w&&w===d.lastChild&&w.nodeType===3){w.nodeValue=p;return}}d.textContent=p}var se={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ut=["Webkit","ms","Moz","O"];Object.keys(se).forEach(function(d){ut.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),se[p]=se[d]})});function At(d,p,w){return p==null||typeof p=="boolean"||p===""?"":w||typeof p!="number"||p===0||se.hasOwnProperty(d)&&se[d]?(""+p).trim():p+"px"}function Pt(d,p){d=d.style;for(var w in p)if(p.hasOwnProperty(w)){var B=w.indexOf("--")===0,M=At(w,p[w],B);w==="float"&&(w="cssFloat"),B?d.setProperty(w,M):d[w]=M}}var Le=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function We(d,p){if(p){if(Le[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(t(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(t(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(t(61))}if(p.style!=null&&typeof p.style!="object")throw Error(t(62))}}function oe(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=null;function sn(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var O=null,Xe=null,Ye=null;function ae(d){if(d=cp(d)){if(typeof O!="function")throw Error(t(280));var p=d.stateNode;p&&(p=Qg(p),O(d.stateNode,d.type,p))}}function Ee(d){Xe?Ye?Ye.push(d):Ye=[d]:Xe=d}function Pe(){if(Xe){var d=Xe,p=Ye;if(Ye=Xe=null,ae(d),p)for(d=0;d<p.length;d++)ae(p[d])}}function Ft(d,p){return d(p)}function vt(){}var Lt=!1;function Ze(d,p,w){if(Lt)return d(p,w);Lt=!0;try{return Ft(d,p,w)}finally{Lt=!1,(Xe!==null||Ye!==null)&&(vt(),Pe())}}function Oe(d,p){var w=d.stateNode;if(w===null)return null;var B=Qg(w);if(B===null)return null;w=B[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(d=d.type,B=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!B;break e;default:d=!1}if(d)return null;if(w&&typeof w!="function")throw Error(t(231,p,typeof w));return w}var St=!1;if(a)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){St=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch{St=!1}function lt(d,p,w,B,M,j,ue,Te,Re){var ct=Array.prototype.slice.call(arguments,3);try{p.apply(w,ct)}catch(_t){this.onError(_t)}}var pt=!1,qt=null,on=!1,Gt=null,en={onError:function(d){pt=!0,qt=d}};function Tt(d,p,w,B,M,j,ue,Te,Re){pt=!1,qt=null,lt.apply(en,arguments)}function tn(d,p,w,B,M,j,ue,Te,Re){if(Tt.apply(this,arguments),pt){if(pt){var ct=qt;pt=!1,qt=null}else throw Error(t(198));on||(on=!0,Gt=ct)}}function yn(d){var p=d,w=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(w=p.return),d=p.return;while(d)}return p.tag===3?w:null}function Yt(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function cn(d){if(yn(d)!==d)throw Error(t(188))}function bn(d){var p=d.alternate;if(!p){if(p=yn(d),p===null)throw Error(t(188));return p!==d?null:d}for(var w=d,B=p;;){var M=w.return;if(M===null)break;var j=M.alternate;if(j===null){if(B=M.return,B!==null){w=B;continue}break}if(M.child===j.child){for(j=M.child;j;){if(j===w)return cn(M),d;if(j===B)return cn(M),p;j=j.sibling}throw Error(t(188))}if(w.return!==B.return)w=M,B=j;else{for(var ue=!1,Te=M.child;Te;){if(Te===w){ue=!0,w=M,B=j;break}if(Te===B){ue=!0,B=M,w=j;break}Te=Te.sibling}if(!ue){for(Te=j.child;Te;){if(Te===w){ue=!0,w=j,B=M;break}if(Te===B){ue=!0,B=j,w=M;break}Te=Te.sibling}if(!ue)throw Error(t(189))}}if(w.alternate!==B)throw Error(t(190))}if(w.tag!==3)throw Error(t(188));return w.stateNode.current===w?d:p}function yr(d){return d=bn(d),d!==null?On(d):null}function On(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=On(d);if(p!==null)return p;d=d.sibling}return null}var hr=e.unstable_scheduleCallback,Pn=e.unstable_cancelCallback,Si=e.unstable_shouldYield,$c=e.unstable_requestPaint,di=e.unstable_now,us=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,qu=e.unstable_UserBlockingPriority,Xu=e.unstable_NormalPriority,Yu=e.unstable_LowPriority,uh=e.unstable_IdlePriority,Dl=null,Hr=null;function rl(d){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Dl,d,void 0,(d.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:Ah,ri=Math.log,Zu=Math.LN2;function Ah(d){return d>>>=0,d===0?32:31-(ri(d)/Zu|0)|0}var eu=64,_l=4194304;function vs(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function ys(d,p){var w=d.pendingLanes;if(w===0)return 0;var B=0,M=d.suspendedLanes,j=d.pingedLanes,ue=w&268435455;if(ue!==0){var Te=ue&~M;Te!==0?B=vs(Te):(j&=ue,j!==0&&(B=vs(j)))}else ue=w&~M,ue!==0?B=vs(ue):j!==0&&(B=vs(j));if(B===0)return 0;if(p!==0&&p!==B&&(p&M)===0&&(M=B&-B,j=p&-p,M>=j||M===16&&(j&4194240)!==0))return p;if((B&4)!==0&&(B|=w&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=B;0<p;)w=31-_s(p),M=1<<w,B|=d[w],p&=~M;return B}function ci(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(d,p){for(var w=d.suspendedLanes,B=d.pingedLanes,M=d.expirationTimes,j=d.pendingLanes;0<j;){var ue=31-_s(j),Te=1<<ue,Re=M[ue];Re===-1?((Te&w)===0||(Te&B)!==0)&&(M[ue]=ci(Te,p)):Re<=p&&(d.expiredLanes|=Te),j&=~Te}}function Ol(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function As(){var d=eu;return eu<<=1,(eu&4194240)===0&&(eu=64),d}function tu(d){for(var p=[],w=0;31>w;w++)p.push(d);return p}function Do(d,p,w){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-_s(p),d[p]=w}function Wf(d,p){var w=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var B=d.eventTimes;for(d=d.expirationTimes;0<w;){var M=31-_s(w),j=1<<M;p[M]=0,B[M]=-1,d[M]=-1,w&=~j}}function nu(d,p){var w=d.entangledLanes|=p;for(d=d.entanglements;w;){var B=31-_s(w),M=1<<B;M&p|d[B]&p&&(d[B]|=p),w&=~M}}var Wr=0;function Ul(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Ju,hc,id,il,Hl,jl=!1,ru=[],Ki=null,Ts=null,wo=null,nn=new Map,sl=new Map,sa=[],Vi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fc(d,p){switch(d){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":nn.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(p.pointerId)}}function ol(d,p,w,B,M,j){return d===null||d.nativeEvent!==j?(d={blockedOn:p,domEventName:w,eventSystemFlags:B,nativeEvent:j,targetContainers:[M]},p!==null&&(p=cp(p),p!==null&&hc(p)),d):(d.eventSystemFlags|=B,p=d.targetContainers,M!==null&&p.indexOf(M)===-1&&p.push(M),d)}function iu(d,p,w,B,M){switch(p){case"focusin":return Ki=ol(Ki,d,p,w,B,M),!0;case"dragenter":return Ts=ol(Ts,d,p,w,B,M),!0;case"mouseover":return wo=ol(wo,d,p,w,B,M),!0;case"pointerover":var j=M.pointerId;return nn.set(j,ol(nn.get(j)||null,d,p,w,B,M)),!0;case"gotpointercapture":return j=M.pointerId,sl.set(j,ol(sl.get(j)||null,d,p,w,B,M)),!0}return!1}function pc(d){var p=ud(d.target);if(p!==null){var w=yn(p);if(w!==null){if(p=w.tag,p===13){if(p=Yt(w),p!==null){d.blockedOn=p,Hl(d.priority,function(){id(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){d.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Fe(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var w=Vr(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(w===null){w=d.nativeEvent;var B=new w.constructor(w.type,w);st=B,w.target.dispatchEvent(B),st=null}else return p=cp(w),p!==null&&hc(p),d.blockedOn=w,!1;p.shift()}return!0}function rn(d,p,w){Fe(d)&&w.delete(p)}function $n(){jl=!1,Ki!==null&&Fe(Ki)&&(Ki=null),Ts!==null&&Fe(Ts)&&(Ts=null),wo!==null&&Fe(wo)&&(wo=null),nn.forEach(rn),sl.forEach(rn)}function zn(d,p){d.blockedOn===p&&(d.blockedOn=null,jl||(jl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$n)))}function Rt(d){function p(M){return zn(M,d)}if(0<ru.length){zn(ru[0],d);for(var w=1;w<ru.length;w++){var B=ru[w];B.blockedOn===d&&(B.blockedOn=null)}}for(Ki!==null&&zn(Ki,d),Ts!==null&&zn(Ts,d),wo!==null&&zn(wo,d),nn.forEach(p),sl.forEach(p),w=0;w<sa.length;w++)B=sa[w],B.blockedOn===d&&(B.blockedOn=null);for(;0<sa.length&&(w=sa[0],w.blockedOn===null);)pc(w),w.blockedOn===null&&sa.shift()}var Sn=k.ReactCurrentBatchConfig,fr=!0;function hn(d,p,w,B){var M=Wr,j=Sn.transition;Sn.transition=null;try{Wr=1,Yn(d,p,w,B)}finally{Wr=M,Sn.transition=j}}function jr(d,p,w,B){var M=Wr,j=Sn.transition;Sn.transition=null;try{Wr=4,Yn(d,p,w,B)}finally{Wr=M,Sn.transition=j}}function Yn(d,p,w,B){if(fr){var M=Vr(d,p,w,B);if(M===null)Ug(d,p,B,gi,w),fc(d,B);else if(iu(M,d,p,w,B))B.stopPropagation();else if(fc(d,B),p&4&&-1<Vi.indexOf(d)){for(;M!==null;){var j=cp(M);if(j!==null&&Ju(j),j=Vr(d,p,w,B),j===null&&Ug(d,p,B,gi,w),j===M)break;M=j}M!==null&&B.stopPropagation()}else Ug(d,p,B,null,w)}}var gi=null;function Vr(d,p,w,B){if(gi=null,d=sn(B),d=ud(d),d!==null)if(p=yn(d),p===null)d=null;else if(w=p.tag,w===13){if(d=Yt(p),d!==null)return d;d=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return gi=d,null}function ii(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(us()){case qs:return 1;case qu:return 4;case Xu:case Yu:return 16;case uh:return 536870912;default:return 16}default:return 16}}var Ns=null,Kn=null,Er=null;function Li(){if(Er)return Er;var d,p=Kn,w=p.length,B,M="value"in Ns?Ns.value:Ns.textContent,j=M.length;for(d=0;d<w&&p[d]===M[d];d++);var ue=w-d;for(B=1;B<=ue&&p[w-B]===M[j-B];B++);return Er=M.slice(d,1<B?1-B:void 0)}function nr(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function bs(){return!0}function Ql(){return!1}function Bi(d){function p(w,B,M,j,ue){this._reactName=w,this._targetInst=M,this.type=B,this.nativeEvent=j,this.target=ue,this.currentTarget=null;for(var Te in d)d.hasOwnProperty(Te)&&(w=d[Te],this[Te]=w?w(j):j[Te]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?bs:Ql,this.isPropagationStopped=Ql,this}return pe(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),p}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=Bi(or),fe=pe({},or,{view:0,detail:0}),rt=Bi(fe),Ne,ht,gt,tt=pe({},fe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ht,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==gt&&(gt&&d.type==="mousemove"?(Ne=d.screenX-gt.screenX,ht=d.screenY-gt.screenY):ht=Ne=0,gt=d),Ne)},movementY:function(d){return"movementY"in d?d.movementY:ht}}),lr=Bi(tt),Jt=pe({},tt,{dataTransfer:0}),un=Bi(Jt),Rn=pe({},fe,{relatedTarget:0}),jt=Bi(Rn),Tn=pe({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Dt=Bi(Tn),Fr=pe({},or,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),T=Bi(Fr),Y=pe({},or,{data:0}),le=Bi(Y),xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},je={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ot(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=je[d])?!!p[d]:!1}function Ht(){return ot}var Ln=pe({},fe,{key:function(d){if(d.key){var p=xe[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=nr(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Ie[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ht,charCode:function(d){return d.type==="keypress"?nr(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?nr(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),fn=Bi(Ln),Hn=pe({},tt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lr=Bi(Hn),_i=pe({},fe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ht}),Vn=Bi(_i),si=pe({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gi=Bi(si),Wi=pe({},tt,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),mc=Bi(Wi),al=[9,13,27,32],zl=a&&"CompositionEvent"in window,sd=null;a&&"documentMode"in document&&(sd=document.documentMode);var Lg=a&&"TextEvent"in window&&!sd,qf=a&&(!zl||sd&&8<sd&&11>=sd),dh=" ",Xf=!1;function Yf(d,p){switch(d){case"keyup":return al.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hh(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var ws=!1;function Zf(d,p){switch(d){case"compositionend":return hh(p);case"keypress":return p.which!==32?null:(Xf=!0,dh);case"textInput":return d=p.data,d===dh&&Xf?null:d;default:return null}}function Jf(d,p){if(ws)return d==="compositionend"||!zl&&Yf(d,p)?(d=Li(),Er=Kn=Ns=null,ws=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return qf&&p.locale!=="ko"?null:p.data;default:return null}}var $f={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!$f[d.type]:p==="textarea"}function oa(d,p,w,B){Ee(B),p=yy(p,"onChange"),0<p.length&&(w=new $i("onChange","change",null,w,B),d.push({event:w,listeners:p}))}var fh=null,$u=null;function my(d){_g(d,0)}function aa(d){var p=Ch(d);if(Ue(p))return d}function tp(d,p){if(d==="change")return p}var Ig=!1;if(a){var np;if(a){var su="oninput"in document;if(!su){var od=document.createElement("div");od.setAttribute("oninput","return;"),su=typeof od.oninput=="function"}np=su}else np=!1;Ig=np&&(!document.documentMode||9<document.documentMode)}function la(){fh&&(fh.detachEvent("onpropertychange",_o),$u=fh=null)}function _o(d){if(d.propertyName==="value"&&aa($u)){var p=[];oa(p,$u,d,sn(d)),Ze(my,p)}}function ad(d,p,w){d==="focusin"?(la(),fh=p,$u=w,fh.attachEvent("onpropertychange",_o)):d==="focusout"&&la()}function eA(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return aa($u)}function tA(d,p){if(d==="click")return aa(p)}function rp(d,p){if(d==="input"||d==="change")return aa(p)}function nA(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var hi=typeof Object.is=="function"?Object.is:nA;function rA(d,p){if(hi(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var w=Object.keys(d),B=Object.keys(p);if(w.length!==B.length)return!1;for(B=0;B<w.length;B++){var M=w[B];if(!l.call(p,M)||!hi(d[M],p[M]))return!1}return!0}function Oo(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function ll(d,p){var w=Oo(d);d=0;for(var B;w;){if(w.nodeType===3){if(B=d+w.textContent.length,d<=p&&B>=p)return{node:w,offset:p-d};d=B}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Oo(w)}}function ph(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?ph(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function Mg(){for(var d=window,p=ft();p instanceof d.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)d=p.contentWindow;else break;p=ft(d.document)}return p}function mh(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function gh(d){var p=Mg(),w=d.focusedElem,B=d.selectionRange;if(p!==w&&w&&w.ownerDocument&&ph(w.ownerDocument.documentElement,w)){if(B!==null&&mh(w)){if(p=B.start,d=B.end,d===void 0&&(d=p),"selectionStart"in w)w.selectionStart=p,w.selectionEnd=Math.min(d,w.value.length);else if(d=(p=w.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var M=w.textContent.length,j=Math.min(B.start,M);B=B.end===void 0?j:Math.min(B.end,M),!d.extend&&j>B&&(M=B,B=j,j=M),M=ll(w,j);var ue=ll(w,B);M&&ue&&(d.rangeCount!==1||d.anchorNode!==M.node||d.anchorOffset!==M.offset||d.focusNode!==ue.node||d.focusOffset!==ue.offset)&&(p=p.createRange(),p.setStart(M.node,M.offset),d.removeAllRanges(),j>B?(d.addRange(p),d.extend(ue.node,ue.offset)):(p.setEnd(ue.node,ue.offset),d.addRange(p)))}}for(p=[],d=w;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<p.length;w++)d=p[w],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var vh=a&&"documentMode"in document&&11>=document.documentMode,cl=null,iA=null,ou=null,sA=!1;function oA(d,p,w){var B=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;sA||cl==null||cl!==ft(B)||(B=cl,"selectionStart"in B&&mh(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),ou&&rA(ou,B)||(ou=B,B=yy(iA,"onSelect"),0<B.length&&(p=new $i("onSelect","select",null,p,w),d.push({event:p,listeners:B}),p.target=cl)))}function ld(d,p){var w={};return w[d.toLowerCase()]=p.toLowerCase(),w["Webkit"+d]="webkit"+p,w["Moz"+d]="moz"+p,w}var xo={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},La={},Oi={};a&&(Oi=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Ei(d){if(La[d])return La[d];if(!xo[d])return d;var p=xo[d],w;for(w in p)if(p.hasOwnProperty(w)&&w in Oi)return La[d]=p[w];return d}var xs=Ei("animationend"),Os=Ei("animationiteration"),au=Ei("animationstart"),ip=Ei("transitionend"),yh=new Map,Rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lu(d,p){yh.set(d,p),s(p,[d])}for(var sp=0;sp<Rg.length;sp++){var ca=Rg[sp],Kl=ca.toLowerCase(),gy=ca[0].toUpperCase()+ca.slice(1);lu(Kl,"on"+gy)}lu(xs,"onAnimationEnd"),lu(Os,"onAnimationIteration"),lu(au,"onAnimationStart"),lu("dblclick","onDoubleClick"),lu("focusin","onFocus"),lu("focusout","onBlur"),lu(ip,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cB=new Set("cancel close invalid load scroll toggle".split(" ").concat(cd));function Dg(d,p,w){var B=d.type||"unknown-event";d.currentTarget=w,tn(B,p,void 0,d),d.currentTarget=null}function _g(d,p){p=(p&4)!==0;for(var w=0;w<d.length;w++){var B=d[w],M=B.event;B=B.listeners;e:{var j=void 0;if(p)for(var ue=B.length-1;0<=ue;ue--){var Te=B[ue],Re=Te.instance,ct=Te.currentTarget;if(Te=Te.listener,Re!==j&&M.isPropagationStopped())break e;Dg(M,Te,ct),j=Re}else for(ue=0;ue<B.length;ue++){if(Te=B[ue],Re=Te.instance,ct=Te.currentTarget,Te=Te.listener,Re!==j&&M.isPropagationStopped())break e;Dg(M,Te,ct),j=Re}}}if(on)throw d=Gt,on=!1,Gt=null,d}function Ui(d,p){var w=p[Ma];w===void 0&&(w=p[Ma]=new Set);var B=d+"__bubble";w.has(B)||(Og(p,d,2,!1),w.add(B))}function vy(d,p,w){var B=0;p&&(B|=4),Og(w,d,B,p)}var op="_reactListening"+Math.random().toString(36).slice(2);function bh(d){if(!d[op]){d[op]=!0,r.forEach(function(w){w!=="selectionchange"&&(cB.has(w)||vy(w,!1,d),vy(w,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[op]||(p[op]=!0,vy("selectionchange",!1,p))}}function Og(d,p,w,B){switch(ii(p)){case 1:var M=hn;break;case 4:M=jr;break;default:M=Yn}w=M.bind(null,p,w,d),M=void 0,!St||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(M=!0),B?M!==void 0?d.addEventListener(p,w,{capture:!0,passive:M}):d.addEventListener(p,w,!0):M!==void 0?d.addEventListener(p,w,{passive:M}):d.addEventListener(p,w,!1)}function Ug(d,p,w,B,M){var j=B;if((p&1)===0&&(p&2)===0&&B!==null)e:for(;;){if(B===null)return;var ue=B.tag;if(ue===3||ue===4){var Te=B.stateNode.containerInfo;if(Te===M||Te.nodeType===8&&Te.parentNode===M)break;if(ue===4)for(ue=B.return;ue!==null;){var Re=ue.tag;if((Re===3||Re===4)&&(Re=ue.stateNode.containerInfo,Re===M||Re.nodeType===8&&Re.parentNode===M))return;ue=ue.return}for(;Te!==null;){if(ue=ud(Te),ue===null)return;if(Re=ue.tag,Re===5||Re===6){B=j=ue;continue e}Te=Te.parentNode}}B=B.return}Ze(function(){var ct=j,_t=sn(w),Qt=[];e:{var It=yh.get(d);if(It!==void 0){var wn=$i,Dn=d;switch(d){case"keypress":if(nr(w)===0)break e;case"keydown":case"keyup":wn=fn;break;case"focusin":Dn="focus",wn=jt;break;case"focusout":Dn="blur",wn=jt;break;case"beforeblur":case"afterblur":wn=jt;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wn=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wn=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wn=Vn;break;case xs:case Os:case au:wn=Dt;break;case ip:wn=Gi;break;case"scroll":wn=rt;break;case"wheel":wn=mc;break;case"copy":case"cut":case"paste":wn=T;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wn=Lr}var Un=(p&4)!==0,Js=!Un&&d==="scroll",nt=Un?It!==null?It+"Capture":null:It;Un=[];for(var He=ct,it;He!==null;){it=He;var $t=it.stateNode;if(it.tag===5&&$t!==null&&(it=$t,nt!==null&&($t=Oe(He,nt),$t!=null&&Un.push(Hg(He,$t,it)))),Js)break;He=He.return}0<Un.length&&(It=new wn(It,Dn,null,w,_t),Qt.push({event:It,listeners:Un}))}}if((p&7)===0){e:{if(It=d==="mouseover"||d==="pointerover",wn=d==="mouseout"||d==="pointerout",It&&w!==st&&(Dn=w.relatedTarget||w.fromElement)&&(ud(Dn)||Dn[Uo]))break e;if((wn||It)&&(It=_t.window===_t?_t:(It=_t.ownerDocument)?It.defaultView||It.parentWindow:window,wn?(Dn=w.relatedTarget||w.toElement,wn=ct,Dn=Dn?ud(Dn):null,Dn!==null&&(Js=yn(Dn),Dn!==Js||Dn.tag!==5&&Dn.tag!==6)&&(Dn=null)):(wn=null,Dn=ct),wn!==Dn)){if(Un=lr,$t="onMouseLeave",nt="onMouseEnter",He="mouse",(d==="pointerout"||d==="pointerover")&&(Un=Lr,$t="onPointerLeave",nt="onPointerEnter",He="pointer"),Js=wn==null?It:Ch(wn),it=Dn==null?It:Ch(Dn),It=new Un($t,He+"leave",wn,w,_t),It.target=Js,It.relatedTarget=it,$t=null,ud(_t)===ct&&(Un=new Un(nt,He+"enter",Dn,w,_t),Un.target=it,Un.relatedTarget=Js,$t=Un),Js=$t,wn&&Dn)t:{for(Un=wn,nt=Dn,He=0,it=Un;it;it=wh(it))He++;for(it=0,$t=nt;$t;$t=wh($t))it++;for(;0<He-it;)Un=wh(Un),He--;for(;0<it-He;)nt=wh(nt),it--;for(;He--;){if(Un===nt||nt!==null&&Un===nt.alternate)break t;Un=wh(Un),nt=wh(nt)}Un=null}else Un=null;wn!==null&&uB(Qt,It,wn,Un,!1),Dn!==null&&Js!==null&&uB(Qt,Js,Dn,Un,!0)}}e:{if(It=ct?Ch(ct):window,wn=It.nodeName&&It.nodeName.toLowerCase(),wn==="select"||wn==="input"&&It.type==="file")var jn=tp;else if(ep(It))if(Ig)jn=rp;else{jn=eA;var er=ad}else(wn=It.nodeName)&&wn.toLowerCase()==="input"&&(It.type==="checkbox"||It.type==="radio")&&(jn=tA);if(jn&&(jn=jn(d,ct))){oa(Qt,jn,w,_t);break e}er&&er(d,It,ct),d==="focusout"&&(er=It._wrapperState)&&er.controlled&&It.type==="number"&&at(It,"number",It.value)}switch(er=ct?Ch(ct):window,d){case"focusin":(ep(er)||er.contentEditable==="true")&&(cl=er,iA=ct,ou=null);break;case"focusout":ou=iA=cl=null;break;case"mousedown":sA=!0;break;case"contextmenu":case"mouseup":case"dragend":sA=!1,oA(Qt,w,_t);break;case"selectionchange":if(vh)break;case"keydown":case"keyup":oA(Qt,w,_t)}var tr;if(zl)e:{switch(d){case"compositionstart":var br="onCompositionStart";break e;case"compositionend":br="onCompositionEnd";break e;case"compositionupdate":br="onCompositionUpdate";break e}br=void 0}else ws?Yf(d,w)&&(br="onCompositionEnd"):d==="keydown"&&w.keyCode===229&&(br="onCompositionStart");br&&(qf&&w.locale!=="ko"&&(ws||br!=="onCompositionStart"?br==="onCompositionEnd"&&ws&&(tr=Li()):(Ns=_t,Kn="value"in Ns?Ns.value:Ns.textContent,ws=!0)),er=yy(ct,br),0<er.length&&(br=new le(br,d,null,w,_t),Qt.push({event:br,listeners:er}),tr?br.data=tr:(tr=hh(w),tr!==null&&(br.data=tr)))),(tr=Lg?Zf(d,w):Jf(d,w))&&(ct=yy(ct,"onBeforeInput"),0<ct.length&&(_t=new le("onBeforeInput","beforeinput",null,w,_t),Qt.push({event:_t,listeners:ct}),_t.data=tr))}_g(Qt,p)})}function Hg(d,p,w){return{instance:d,listener:p,currentTarget:w}}function yy(d,p){for(var w=p+"Capture",B=[];d!==null;){var M=d,j=M.stateNode;M.tag===5&&j!==null&&(M=j,j=Oe(d,w),j!=null&&B.unshift(Hg(d,j,M)),j=Oe(d,p),j!=null&&B.push(Hg(d,j,M))),d=d.return}return B}function wh(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function uB(d,p,w,B,M){for(var j=p._reactName,ue=[];w!==null&&w!==B;){var Te=w,Re=Te.alternate,ct=Te.stateNode;if(Re!==null&&Re===B)break;Te.tag===5&&ct!==null&&(Te=ct,M?(Re=Oe(w,j),Re!=null&&ue.unshift(Hg(w,Re,Te))):M||(Re=Oe(w,j),Re!=null&&ue.push(Hg(w,Re,Te)))),w=w.return}ue.length!==0&&d.push({event:p,listeners:ue})}var Bk=/\r\n?/g,Ek=/\u0000|\uFFFD/g;function AB(d){return(typeof d=="string"?d:""+d).replace(Bk,`
`).replace(Ek,"")}function by(d,p,w){if(p=AB(p),AB(d)!==p&&w)throw Error(t(425))}function ap(){}var jg=null,xh=null;function _w(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Ow=typeof setTimeout=="function"?setTimeout:void 0,dB=typeof clearTimeout=="function"?clearTimeout:void 0,hB=typeof Promise=="function"?Promise:void 0,Fk=typeof queueMicrotask=="function"?queueMicrotask:typeof hB<"u"?function(d){return hB.resolve(null).then(d).catch(Tk)}:Ow;function Tk(d){setTimeout(function(){throw d})}function Uw(d,p){var w=p,B=0;do{var M=w.nextSibling;if(d.removeChild(w),M&&M.nodeType===8)if(w=M.data,w==="/$"){if(B===0){d.removeChild(M),Rt(p);return}B--}else w!=="$"&&w!=="$?"&&w!=="$!"||B++;w=M}while(w);Rt(p)}function ua(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function Vl(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var w=d.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return d;p--}else w==="/$"&&p++}d=d.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),cu="__reactFiber$"+Ia,lp="__reactProps$"+Ia,Uo="__reactContainer$"+Ia,Ma="__reactEvents$"+Ia,Nk="__reactListeners$"+Ia,kk="__reactHandles$"+Ia;function ud(d){var p=d[cu];if(p)return p;for(var w=d.parentNode;w;){if(p=w[Uo]||w[cu]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(d=Vl(d);d!==null;){if(w=d[cu])return w;d=Vl(d)}return p}d=w,w=d.parentNode}return null}function cp(d){return d=d[cu]||d[Uo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Ch(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(t(33))}function Qg(d){return d[lp]||null}var Hw=[],aA=-1;function gc(d){return{current:d}}function Fi(d){0>aA||(d.current=Hw[aA],Hw[aA]=null,aA--)}function Ii(d,p){aA++,Hw[aA]=d.current,d.current=p}var Ad={},Co=gc(Ad),Ra=gc(!1),Sh=Ad;function up(d,p){var w=d.type.contextTypes;if(!w)return Ad;var B=d.stateNode;if(B&&B.__reactInternalMemoizedUnmaskedChildContext===p)return B.__reactInternalMemoizedMaskedChildContext;var M={},j;for(j in w)M[j]=p[j];return B&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=M),M}function Da(d){return d=d.childContextTypes,d!=null}function wy(){Fi(Ra),Fi(Co)}function fB(d,p,w){if(Co.current!==Ad)throw Error(t(168));Ii(Co,p),Ii(Ra,w)}function jw(d,p,w){var B=d.stateNode;if(p=p.childContextTypes,typeof B.getChildContext!="function")return w;B=B.getChildContext();for(var M in B)if(!(M in p))throw Error(t(108,ge(d)||"Unknown",M));return pe({},w,B)}function Bh(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ad,Sh=Co.current,Ii(Co,d),Ii(Ra,Ra.current),!0}function pB(d,p,w){var B=d.stateNode;if(!B)throw Error(t(169));w?(d=jw(d,p,Sh),B.__reactInternalMemoizedMergedChildContext=d,Fi(Ra),Fi(Co),Ii(Co,d)):Fi(Ra),Ii(Ra,w)}var lA=null,zg=!1,C=!1;function F(d){lA===null?lA=[d]:lA.push(d)}function R(d){zg=!0,F(d)}function K(){if(!C&&lA!==null){C=!0;var d=0,p=Wr;try{var w=lA;for(Wr=1;d<w.length;d++){var B=w[d];do B=B(!0);while(B!==null)}lA=null,zg=!1}catch(M){throw lA!==null&&(lA=lA.slice(d+1)),hr(qs,K),M}finally{Wr=p,C=!1}}return null}var ee=[],ce=0,de=null,me=0,ye=[],Ce=0,Me=null,Je=1,$e="";function Qe(d,p){ee[ce++]=me,ee[ce++]=de,de=d,me=p}function Bt(d,p,w){ye[Ce++]=Je,ye[Ce++]=$e,ye[Ce++]=Me,Me=d;var B=Je;d=$e;var M=32-_s(B)-1;B&=~(1<<M),w+=1;var j=32-_s(p)+M;if(30<j){var ue=M-M%5;j=(B&(1<<ue)-1).toString(32),B>>=ue,M-=ue,Je=1<<32-_s(p)+M|w<<M|B,$e=j+d}else Je=1<<j|w<<M|B,$e=d}function dt(d){d.return!==null&&(Qe(d,1),Bt(d,1,0))}function De(d){for(;d===de;)de=ee[--ce],ee[ce]=null,me=ee[--ce],ee[ce]=null;for(;d===Me;)Me=ye[--Ce],ye[Ce]=null,$e=ye[--Ce],ye[Ce]=null,Je=ye[--Ce],ye[Ce]=null}var _e=null,bt=null,yt=!1,wt=null;function pn(d,p){var w=pu(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=d,p=d.deletions,p===null?(d.deletions=[w],d.flags|=16):p.push(w)}function an(d,p){switch(d.tag){case 5:var w=d.type;return p=p.nodeType!==1||w.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,_e=d,bt=ua(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,_e=d,bt=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(w=Me!==null?{id:Je,overflow:$e}:null,d.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=pu(18,null,null,0),w.stateNode=p,w.return=d,d.child=w,_e=d,bt=null,!0):!1;default:return!1}}function qn(d){return(d.mode&1)!==0&&(d.flags&128)===0}function An(d){if(yt){var p=bt;if(p){var w=p;if(!an(d,p)){if(qn(d))throw Error(t(418));p=ua(w.nextSibling);var B=_e;p&&an(d,p)?pn(B,w):(d.flags=d.flags&-4097|2,yt=!1,_e=d)}}else{if(qn(d))throw Error(t(418));d.flags=d.flags&-4097|2,yt=!1,_e=d}}}function ui(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;_e=d}function Ai(d){if(d!==_e)return!1;if(!yt)return ui(d),yt=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!_w(d.type,d.memoizedProps)),p&&(p=bt)){if(qn(d))throw Jr(),Error(t(418));for(;p;)pn(d,p),p=ua(p.nextSibling)}if(ui(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var w=d.data;if(w==="/$"){if(p===0){bt=ua(d.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++}d=d.nextSibling}bt=null}}else bt=_e?ua(d.stateNode.nextSibling):null;return!0}function Jr(){for(var d=bt;d;)d=ua(d.nextSibling)}function Ir(){bt=_e=null,yt=!1}function Ti(d){wt===null?wt=[d]:wt.push(d)}var Mi=k.ReactCurrentBatchConfig;function pr(d,p,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(t(309));var B=w.stateNode}if(!B)throw Error(t(147,d));var M=B,j=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===j?p.ref:(p=function(ue){var Te=M.refs;ue===null?delete Te[j]:Te[j]=ue},p._stringRef=j,p)}if(typeof d!="string")throw Error(t(284));if(!w._owner)throw Error(t(290,d))}return d}function ds(d,p){throw d=Object.prototype.toString.call(p),Error(t(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function Aa(d){var p=d._init;return p(d._payload)}function ks(d){function p(nt,He){if(d){var it=nt.deletions;it===null?(nt.deletions=[He],nt.flags|=16):it.push(He)}}function w(nt,He){if(!d)return null;for(;He!==null;)p(nt,He),He=He.sibling;return null}function B(nt,He){for(nt=new Map;He!==null;)He.key!==null?nt.set(He.key,He):nt.set(He.index,He),He=He.sibling;return nt}function M(nt,He){return nt=xp(nt,He),nt.index=0,nt.sibling=null,nt}function j(nt,He,it){return nt.index=it,d?(it=nt.alternate,it!==null?(it=it.index,it<He?(nt.flags|=2,He):it):(nt.flags|=2,He)):(nt.flags|=1048576,He)}function ue(nt){return d&&nt.alternate===null&&(nt.flags|=2),nt}function Te(nt,He,it,$t){return He===null||He.tag!==6?(He=sP(it,nt.mode,$t),He.return=nt,He):(He=M(He,it),He.return=nt,He)}function Re(nt,He,it,$t){var jn=it.type;return jn===I?_t(nt,He,it.props.children,$t,it.key):He!==null&&(He.elementType===jn||typeof jn=="object"&&jn!==null&&jn.$$typeof===J&&Aa(jn)===He.type)?($t=M(He,it.props),$t.ref=pr(nt,He,it),$t.return=nt,$t):($t=RB(it.type,it.key,it.props,null,nt.mode,$t),$t.ref=pr(nt,He,it),$t.return=nt,$t)}function ct(nt,He,it,$t){return He===null||He.tag!==4||He.stateNode.containerInfo!==it.containerInfo||He.stateNode.implementation!==it.implementation?(He=oP(it,nt.mode,$t),He.return=nt,He):(He=M(He,it.children||[]),He.return=nt,He)}function _t(nt,He,it,$t,jn){return He===null||He.tag!==7?(He=Zg(it,nt.mode,$t,jn),He.return=nt,He):(He=M(He,it),He.return=nt,He)}function Qt(nt,He,it){if(typeof He=="string"&&He!==""||typeof He=="number")return He=sP(""+He,nt.mode,it),He.return=nt,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case P:return it=RB(He.type,He.key,He.props,null,nt.mode,it),it.ref=pr(nt,null,He),it.return=nt,it;case N:return He=oP(He,nt.mode,it),He.return=nt,He;case J:var $t=He._init;return Qt(nt,$t(He._payload),it)}if(Ct(He)||ie(He))return He=Zg(He,nt.mode,it,null),He.return=nt,He;ds(nt,He)}return null}function It(nt,He,it,$t){var jn=He!==null?He.key:null;if(typeof it=="string"&&it!==""||typeof it=="number")return jn!==null?null:Te(nt,He,""+it,$t);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case P:return it.key===jn?Re(nt,He,it,$t):null;case N:return it.key===jn?ct(nt,He,it,$t):null;case J:return jn=it._init,It(nt,He,jn(it._payload),$t)}if(Ct(it)||ie(it))return jn!==null?null:_t(nt,He,it,$t,null);ds(nt,it)}return null}function wn(nt,He,it,$t,jn){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return nt=nt.get(it)||null,Te(He,nt,""+$t,jn);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case P:return nt=nt.get($t.key===null?it:$t.key)||null,Re(He,nt,$t,jn);case N:return nt=nt.get($t.key===null?it:$t.key)||null,ct(He,nt,$t,jn);case J:var er=$t._init;return wn(nt,He,it,er($t._payload),jn)}if(Ct($t)||ie($t))return nt=nt.get(it)||null,_t(He,nt,$t,jn,null);ds(He,$t)}return null}function Dn(nt,He,it,$t){for(var jn=null,er=null,tr=He,br=He=0,zo=null;tr!==null&&br<it.length;br++){tr.index>br?(zo=tr,tr=null):zo=tr.sibling;var bi=It(nt,tr,it[br],$t);if(bi===null){tr===null&&(tr=zo);break}d&&tr&&bi.alternate===null&&p(nt,tr),He=j(bi,He,br),er===null?jn=bi:er.sibling=bi,er=bi,tr=zo}if(br===it.length)return w(nt,tr),yt&&Qe(nt,br),jn;if(tr===null){for(;br<it.length;br++)tr=Qt(nt,it[br],$t),tr!==null&&(He=j(tr,He,br),er===null?jn=tr:er.sibling=tr,er=tr);return yt&&Qe(nt,br),jn}for(tr=B(nt,tr);br<it.length;br++)zo=wn(tr,nt,br,it[br],$t),zo!==null&&(d&&zo.alternate!==null&&tr.delete(zo.key===null?br:zo.key),He=j(zo,He,br),er===null?jn=zo:er.sibling=zo,er=zo);return d&&tr.forEach(function(Cp){return p(nt,Cp)}),yt&&Qe(nt,br),jn}function Un(nt,He,it,$t){var jn=ie(it);if(typeof jn!="function")throw Error(t(150));if(it=jn.call(it),it==null)throw Error(t(151));for(var er=jn=null,tr=He,br=He=0,zo=null,bi=it.next();tr!==null&&!bi.done;br++,bi=it.next()){tr.index>br?(zo=tr,tr=null):zo=tr.sibling;var Cp=It(nt,tr,bi.value,$t);if(Cp===null){tr===null&&(tr=zo);break}d&&tr&&Cp.alternate===null&&p(nt,tr),He=j(Cp,He,br),er===null?jn=Cp:er.sibling=Cp,er=Cp,tr=zo}if(bi.done)return w(nt,tr),yt&&Qe(nt,br),jn;if(tr===null){for(;!bi.done;br++,bi=it.next())bi=Qt(nt,bi.value,$t),bi!==null&&(He=j(bi,He,br),er===null?jn=bi:er.sibling=bi,er=bi);return yt&&Qe(nt,br),jn}for(tr=B(nt,tr);!bi.done;br++,bi=it.next())bi=wn(tr,nt,br,bi.value,$t),bi!==null&&(d&&bi.alternate!==null&&tr.delete(bi.key===null?br:bi.key),He=j(bi,He,br),er===null?jn=bi:er.sibling=bi,er=bi);return d&&tr.forEach(function(tZ){return p(nt,tZ)}),yt&&Qe(nt,br),jn}function Js(nt,He,it,$t){if(typeof it=="object"&&it!==null&&it.type===I&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case P:e:{for(var jn=it.key,er=He;er!==null;){if(er.key===jn){if(jn=it.type,jn===I){if(er.tag===7){w(nt,er.sibling),He=M(er,it.props.children),He.return=nt,nt=He;break e}}else if(er.elementType===jn||typeof jn=="object"&&jn!==null&&jn.$$typeof===J&&Aa(jn)===er.type){w(nt,er.sibling),He=M(er,it.props),He.ref=pr(nt,er,it),He.return=nt,nt=He;break e}w(nt,er);break}else p(nt,er);er=er.sibling}it.type===I?(He=Zg(it.props.children,nt.mode,$t,it.key),He.return=nt,nt=He):($t=RB(it.type,it.key,it.props,null,nt.mode,$t),$t.ref=pr(nt,He,it),$t.return=nt,nt=$t)}return ue(nt);case N:e:{for(er=it.key;He!==null;){if(He.key===er)if(He.tag===4&&He.stateNode.containerInfo===it.containerInfo&&He.stateNode.implementation===it.implementation){w(nt,He.sibling),He=M(He,it.children||[]),He.return=nt,nt=He;break e}else{w(nt,He);break}else p(nt,He);He=He.sibling}He=oP(it,nt.mode,$t),He.return=nt,nt=He}return ue(nt);case J:return er=it._init,Js(nt,He,er(it._payload),$t)}if(Ct(it))return Dn(nt,He,it,$t);if(ie(it))return Un(nt,He,it,$t);ds(nt,it)}return typeof it=="string"&&it!==""||typeof it=="number"?(it=""+it,He!==null&&He.tag===6?(w(nt,He.sibling),He=M(He,it),He.return=nt,nt=He):(w(nt,He),He=sP(it,nt.mode,$t),He.return=nt,nt=He),ue(nt)):w(nt,He)}return Js}var Xs=ks(!0),vi=ks(!1),Ho=gc(null),jo=null,hs=null,Ys=null;function So(){Ys=hs=jo=null}function _a(d){var p=Ho.current;Fi(Ho),d._currentValue=p}function Gl(d,p,w){for(;d!==null;){var B=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,B!==null&&(B.childLanes|=p)):B!==null&&(B.childLanes&p)!==p&&(B.childLanes|=p),d===w)break;d=d.return}}function fs(d,p){jo=d,Ys=hs=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&p)!==0&&(Yl=!0),d.firstContext=null)}function Us(d){var p=d._currentValue;if(Ys!==d)if(d={context:d,memoizedValue:p,next:null},hs===null){if(jo===null)throw Error(t(308));hs=d,jo.dependencies={lanes:0,firstContext:d}}else hs=hs.next=d;return p}var ul=null;function dd(d){ul===null?ul=[d]:ul.push(d)}function cA(d,p,w,B){var M=p.interleaved;return M===null?(w.next=w,dd(p)):(w.next=M.next,M.next=w),p.interleaved=w,yi(d,B)}function yi(d,p){d.lanes|=p;var w=d.alternate;for(w!==null&&(w.lanes|=p),w=d,d=d.return;d!==null;)d.childLanes|=p,w=d.alternate,w!==null&&(w.childLanes|=p),w=d,d=d.return;return w.tag===3?w.stateNode:null}var uu=!1;function xy(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qw(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Wl(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function ql(d,p,w){var B=d.updateQueue;if(B===null)return null;if(B=B.shared,(fi&2)!==0){var M=B.pending;return M===null?p.next=p:(p.next=M.next,M.next=p),B.pending=p,yi(d,w)}return M=B.interleaved,M===null?(p.next=p,dd(B)):(p.next=M.next,M.next=p),B.interleaved=p,yi(d,w)}function Eh(d,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var B=p.lanes;B&=d.pendingLanes,w|=B,p.lanes=w,nu(d,w)}}function Xl(d,p){var w=d.updateQueue,B=d.alternate;if(B!==null&&(B=B.updateQueue,w===B)){var M=null,j=null;if(w=w.firstBaseUpdate,w!==null){do{var ue={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};j===null?M=j=ue:j=j.next=ue,w=w.next}while(w!==null);j===null?M=j=p:j=j.next=p}else M=j=p;w={baseState:B.baseState,firstBaseUpdate:M,lastBaseUpdate:j,shared:B.shared,effects:B.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=p:d.next=p,w.lastBaseUpdate=p}function uA(d,p,w,B){var M=d.updateQueue;uu=!1;var j=M.firstBaseUpdate,ue=M.lastBaseUpdate,Te=M.shared.pending;if(Te!==null){M.shared.pending=null;var Re=Te,ct=Re.next;Re.next=null,ue===null?j=ct:ue.next=ct,ue=Re;var _t=d.alternate;_t!==null&&(_t=_t.updateQueue,Te=_t.lastBaseUpdate,Te!==ue&&(Te===null?_t.firstBaseUpdate=ct:Te.next=ct,_t.lastBaseUpdate=Re))}if(j!==null){var Qt=M.baseState;ue=0,_t=ct=Re=null,Te=j;do{var It=Te.lane,wn=Te.eventTime;if((B&It)===It){_t!==null&&(_t=_t.next={eventTime:wn,lane:0,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null});e:{var Dn=d,Un=Te;switch(It=p,wn=w,Un.tag){case 1:if(Dn=Un.payload,typeof Dn=="function"){Qt=Dn.call(wn,Qt,It);break e}Qt=Dn;break e;case 3:Dn.flags=Dn.flags&-65537|128;case 0:if(Dn=Un.payload,It=typeof Dn=="function"?Dn.call(wn,Qt,It):Dn,It==null)break e;Qt=pe({},Qt,It);break e;case 2:uu=!0}}Te.callback!==null&&Te.lane!==0&&(d.flags|=64,It=M.effects,It===null?M.effects=[Te]:It.push(Te))}else wn={eventTime:wn,lane:It,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},_t===null?(ct=_t=wn,Re=Qt):_t=_t.next=wn,ue|=It;if(Te=Te.next,Te===null){if(Te=M.shared.pending,Te===null)break;It=Te,Te=It.next,It.next=null,M.lastBaseUpdate=It,M.shared.pending=null}}while(!0);if(_t===null&&(Re=Qt),M.baseState=Re,M.firstBaseUpdate=ct,M.lastBaseUpdate=_t,p=M.shared.interleaved,p!==null){M=p;do ue|=M.lane,M=M.next;while(M!==p)}else j===null&&(M.shared.lanes=0);Wg|=ue,d.lanes=ue,d.memoizedState=Qt}}function Fh(d,p,w){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var B=d[p],M=B.callback;if(M!==null){if(B.callback=null,B=w,typeof M!="function")throw Error(t(191,M));M.call(B)}}}var Ap={},Al=gc(Ap),dp=gc(Ap),hd=gc(Ap);function AA(d){if(d===Ap)throw Error(t(174));return d}function hp(d,p){switch(Ii(hd,p),Ii(dp,d),Ii(Al,Ap),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:vn(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=vn(p,d)}Fi(Al),Ii(Al,p)}function Au(){Fi(Al),Fi(dp),Fi(hd)}function mB(d){AA(hd.current);var p=AA(Al.current),w=vn(p,d.type);p!==w&&(Ii(dp,d),Ii(Al,w))}function zw(d){dp.current===d&&(Fi(Al),Fi(dp))}var es=gc(0);function vc(d){for(var p=d;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Kw=[];function Vw(){for(var d=0;d<Kw.length;d++)Kw[d]._workInProgressVersionPrimary=null;Kw.length=0}var Cy=k.ReactCurrentDispatcher,Sy=k.ReactCurrentBatchConfig,du=0,rs=null,Hs=null,Ps=null,fp=!1,dA=!1,pp=0,Pk=0;function Zs(){throw Error(t(321))}function By(d,p){if(p===null)return!1;for(var w=0;w<p.length&&w<d.length;w++)if(!hi(d[w],p[w]))return!1;return!0}function Kg(d,p,w,B,M,j){if(du=j,rs=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Cy.current=d===null||d.memoizedState===null?FY:TY,d=w(B,M),dA){j=0;do{if(dA=!1,pp=0,25<=j)throw Error(t(301));j+=1,Ps=Hs=null,p.updateQueue=null,Cy.current=NY,d=w(B,M)}while(dA)}if(Cy.current=wB,p=Hs!==null&&Hs.next!==null,du=0,Ps=Hs=rs=null,fp=!1,p)throw Error(t(300));return d}function hu(){var d=pp!==0;return pp=0,d}function yc(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?rs.memoizedState=Ps=d:Ps=Ps.next=d,Ps}function dl(){if(Hs===null){var d=rs.alternate;d=d!==null?d.memoizedState:null}else d=Hs.next;var p=Ps===null?rs.memoizedState:Ps.next;if(p!==null)Ps=p,Hs=d;else{if(d===null)throw Error(t(310));Hs=d,d={memoizedState:Hs.memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},Ps===null?rs.memoizedState=Ps=d:Ps=Ps.next=d}return Ps}function Vg(d,p){return typeof p=="function"?p(d):p}function Ey(d){var p=dl(),w=p.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=d;var B=Hs,M=B.baseQueue,j=w.pending;if(j!==null){if(M!==null){var ue=M.next;M.next=j.next,j.next=ue}B.baseQueue=M=j,w.pending=null}if(M!==null){j=M.next,B=B.baseState;var Te=ue=null,Re=null,ct=j;do{var _t=ct.lane;if((du&_t)===_t)Re!==null&&(Re=Re.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),B=ct.hasEagerState?ct.eagerState:d(B,ct.action);else{var Qt={lane:_t,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};Re===null?(Te=Re=Qt,ue=B):Re=Re.next=Qt,rs.lanes|=_t,Wg|=_t}ct=ct.next}while(ct!==null&&ct!==j);Re===null?ue=B:Re.next=Te,hi(B,p.memoizedState)||(Yl=!0),p.memoizedState=B,p.baseState=ue,p.baseQueue=Re,w.lastRenderedState=B}if(d=w.interleaved,d!==null){M=d;do j=M.lane,rs.lanes|=j,Wg|=j,M=M.next;while(M!==d)}else M===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function fd(d){var p=dl(),w=p.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=d;var B=w.dispatch,M=w.pending,j=p.memoizedState;if(M!==null){w.pending=null;var ue=M=M.next;do j=d(j,ue.action),ue=ue.next;while(ue!==M);hi(j,p.memoizedState)||(Yl=!0),p.memoizedState=j,p.baseQueue===null&&(p.baseState=j),w.lastRenderedState=j}return[j,B]}function gB(){}function Gw(d,p){var w=rs,B=dl(),M=p(),j=!hi(B.memoizedState,M);if(j&&(B.memoizedState=M,Yl=!0),B=B.queue,Ny(yB.bind(null,w,B,d),[d]),B.getSnapshot!==p||j||Ps!==null&&Ps.memoizedState.tag&1){if(w.flags|=2048,hl(9,Ww.bind(null,w,B,M,p),void 0,null),Qo===null)throw Error(t(349));(du&30)!==0||vB(w,p,M)}return M}function vB(d,p,w){d.flags|=16384,d={getSnapshot:p,value:w},p=rs.updateQueue,p===null?(p={lastEffect:null,stores:null},rs.updateQueue=p,p.stores=[d]):(w=p.stores,w===null?p.stores=[d]:w.push(d))}function Ww(d,p,w,B){p.value=w,p.getSnapshot=B,mp(p)&&Fy(d)}function yB(d,p,w){return w(function(){mp(p)&&Fy(d)})}function mp(d){var p=d.getSnapshot;d=d.value;try{var w=p();return!hi(d,w)}catch{return!0}}function Fy(d){var p=yi(d,1);p!==null&&gA(p,d,1,-1)}function Gg(d){var p=yc();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:d},p.queue=d,d=d.dispatch=EY.bind(null,rs,d),[p.memoizedState,d]}function hl(d,p,w,B){return d={tag:d,create:p,destroy:w,deps:B,next:null},p=rs.updateQueue,p===null?(p={lastEffect:null,stores:null},rs.updateQueue=p,p.lastEffect=d.next=d):(w=p.lastEffect,w===null?p.lastEffect=d.next=d:(B=w.next,w.next=d,d.next=B,p.lastEffect=d)),d}function hA(){return dl().memoizedState}function bc(d,p,w,B){var M=yc();rs.flags|=d,M.memoizedState=hl(1|p,w,void 0,B===void 0?null:B)}function Th(d,p,w,B){var M=dl();B=B===void 0?null:B;var j=void 0;if(Hs!==null){var ue=Hs.memoizedState;if(j=ue.destroy,B!==null&&By(B,ue.deps)){M.memoizedState=hl(p,w,j,B);return}}rs.flags|=d,M.memoizedState=hl(1|p,w,j,B)}function Ty(d,p){return bc(8390656,8,d,p)}function Ny(d,p){return Th(2048,8,d,p)}function bB(d,p){return Th(4,2,d,p)}function ky(d,p){return Th(4,4,d,p)}function Py(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function QD(d,p,w){return w=w!=null?w.concat([d]):null,Th(4,4,Py.bind(null,p,d),w)}function Lk(){}function zD(d,p){var w=dl();p=p===void 0?null:p;var B=w.memoizedState;return B!==null&&p!==null&&By(p,B[1])?B[0]:(w.memoizedState=[d,p],d)}function KD(d,p){var w=dl();p=p===void 0?null:p;var B=w.memoizedState;return B!==null&&p!==null&&By(p,B[1])?B[0]:(d=d(),w.memoizedState=[d,p],d)}function VD(d,p,w){return(du&21)===0?(d.baseState&&(d.baseState=!1,Yl=!0),d.memoizedState=w):(hi(w,p)||(w=As(),rs.lanes|=w,Wg|=w,d.baseState=!0),p)}function SY(d,p){var w=Wr;Wr=w!==0&&4>w?w:4,d(!0);var B=Sy.transition;Sy.transition={};try{d(!1),p()}finally{Wr=w,Sy.transition=B}}function GD(){return dl().memoizedState}function BY(d,p,w){var B=bp(d);if(w={lane:B,action:w,hasEagerState:!1,eagerState:null,next:null},WD(d))qD(p,w);else if(w=cA(d,p,w,B),w!==null){var M=pl();gA(w,d,B,M),XD(w,p,B)}}function EY(d,p,w){var B=bp(d),M={lane:B,action:w,hasEagerState:!1,eagerState:null,next:null};if(WD(d))qD(p,M);else{var j=d.alternate;if(d.lanes===0&&(j===null||j.lanes===0)&&(j=p.lastRenderedReducer,j!==null))try{var ue=p.lastRenderedState,Te=j(ue,w);if(M.hasEagerState=!0,M.eagerState=Te,hi(Te,ue)){var Re=p.interleaved;Re===null?(M.next=M,dd(p)):(M.next=Re.next,Re.next=M),p.interleaved=M;return}}catch{}finally{}w=cA(d,p,M,B),w!==null&&(M=pl(),gA(w,d,B,M),XD(w,p,B))}}function WD(d){var p=d.alternate;return d===rs||p!==null&&p===rs}function qD(d,p){dA=fp=!0;var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}function XD(d,p,w){if((w&4194240)!==0){var B=p.lanes;B&=d.pendingLanes,w|=B,p.lanes=w,nu(d,w)}}var wB={readContext:Us,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useInsertionEffect:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useSyncExternalStore:Zs,useId:Zs,unstable_isNewReconciler:!1},FY={readContext:Us,useCallback:function(d,p){return yc().memoizedState=[d,p===void 0?null:p],d},useContext:Us,useEffect:Ty,useImperativeHandle:function(d,p,w){return w=w!=null?w.concat([d]):null,bc(4194308,4,Py.bind(null,p,d),w)},useLayoutEffect:function(d,p){return bc(4194308,4,d,p)},useInsertionEffect:function(d,p){return bc(4,2,d,p)},useMemo:function(d,p){var w=yc();return p=p===void 0?null:p,d=d(),w.memoizedState=[d,p],d},useReducer:function(d,p,w){var B=yc();return p=w!==void 0?w(p):p,B.memoizedState=B.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},B.queue=d,d=d.dispatch=BY.bind(null,rs,d),[B.memoizedState,d]},useRef:function(d){var p=yc();return d={current:d},p.memoizedState=d},useState:Gg,useDebugValue:Lk,useDeferredValue:function(d){return yc().memoizedState=d},useTransition:function(){var d=Gg(!1),p=d[0];return d=SY.bind(null,d[1]),yc().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,w){var B=rs,M=yc();if(yt){if(w===void 0)throw Error(t(407));w=w()}else{if(w=p(),Qo===null)throw Error(t(349));(du&30)!==0||vB(B,p,w)}M.memoizedState=w;var j={value:w,getSnapshot:p};return M.queue=j,Ty(yB.bind(null,B,j,d),[d]),B.flags|=2048,hl(9,Ww.bind(null,B,j,w,p),void 0,null),w},useId:function(){var d=yc(),p=Qo.identifierPrefix;if(yt){var w=$e,B=Je;w=(B&~(1<<32-_s(B)-1)).toString(32)+w,p=":"+p+"R"+w,w=pp++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=Pk++,p=":"+p+"r"+w.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},TY={readContext:Us,useCallback:zD,useContext:Us,useEffect:Ny,useImperativeHandle:QD,useInsertionEffect:bB,useLayoutEffect:ky,useMemo:KD,useReducer:Ey,useRef:hA,useState:function(){return Ey(Vg)},useDebugValue:Lk,useDeferredValue:function(d){var p=dl();return VD(p,Hs.memoizedState,d)},useTransition:function(){var d=Ey(Vg)[0],p=dl().memoizedState;return[d,p]},useMutableSource:gB,useSyncExternalStore:Gw,useId:GD,unstable_isNewReconciler:!1},NY={readContext:Us,useCallback:zD,useContext:Us,useEffect:Ny,useImperativeHandle:QD,useInsertionEffect:bB,useLayoutEffect:ky,useMemo:KD,useReducer:fd,useRef:hA,useState:function(){return fd(Vg)},useDebugValue:Lk,useDeferredValue:function(d){var p=dl();return Hs===null?p.memoizedState=d:VD(p,Hs.memoizedState,d)},useTransition:function(){var d=fd(Vg)[0],p=dl().memoizedState;return[d,p]},useMutableSource:gB,useSyncExternalStore:Gw,useId:GD,unstable_isNewReconciler:!1};function fA(d,p){if(d&&d.defaultProps){p=pe({},p),d=d.defaultProps;for(var w in d)p[w]===void 0&&(p[w]=d[w]);return p}return p}function Ik(d,p,w,B){p=d.memoizedState,w=w(B,p),w=w==null?p:pe({},p,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var xB={isMounted:function(d){return(d=d._reactInternals)?yn(d)===d:!1},enqueueSetState:function(d,p,w){d=d._reactInternals;var B=pl(),M=bp(d),j=Wl(B,M);j.payload=p,w!=null&&(j.callback=w),p=ql(d,j,M),p!==null&&(gA(p,d,M,B),Eh(p,d,M))},enqueueReplaceState:function(d,p,w){d=d._reactInternals;var B=pl(),M=bp(d),j=Wl(B,M);j.tag=1,j.payload=p,w!=null&&(j.callback=w),p=ql(d,j,M),p!==null&&(gA(p,d,M,B),Eh(p,d,M))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var w=pl(),B=bp(d),M=Wl(w,B);M.tag=2,p!=null&&(M.callback=p),p=ql(d,M,B),p!==null&&(gA(p,d,B,w),Eh(p,d,B))}};function YD(d,p,w,B,M,j,ue){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(B,j,ue):p.prototype&&p.prototype.isPureReactComponent?!rA(w,B)||!rA(M,j):!0}function ZD(d,p,w){var B=!1,M=Ad,j=p.contextType;return typeof j=="object"&&j!==null?j=Us(j):(M=Da(p)?Sh:Co.current,B=p.contextTypes,j=(B=B!=null)?up(d,M):Ad),p=new p(w,j),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=xB,d.stateNode=p,p._reactInternals=d,B&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=M,d.__reactInternalMemoizedMaskedChildContext=j),p}function JD(d,p,w,B){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,B),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,B),p.state!==d&&xB.enqueueReplaceState(p,p.state,null)}function Mk(d,p,w,B){var M=d.stateNode;M.props=w,M.state=d.memoizedState,M.refs={},xy(d);var j=p.contextType;typeof j=="object"&&j!==null?M.context=Us(j):(j=Da(p)?Sh:Co.current,M.context=up(d,j)),M.state=d.memoizedState,j=p.getDerivedStateFromProps,typeof j=="function"&&(Ik(d,p,j,w),M.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(p=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),p!==M.state&&xB.enqueueReplaceState(M,M.state,null),uA(d,w,M,B),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308)}function Ly(d,p){try{var w="",B=p;do w+=he(B),B=B.return;while(B);var M=w}catch(j){M=`
Error generating stack: `+j.message+`
`+j.stack}return{value:d,source:p,stack:M,digest:null}}function Rk(d,p,w){return{value:d,source:null,stack:w??null,digest:p??null}}function Dk(d,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var kY=typeof WeakMap=="function"?WeakMap:Map;function $D(d,p,w){w=Wl(-1,w),w.tag=3,w.payload={element:null};var B=p.value;return w.callback=function(){NB||(NB=!0,Zk=B),Dk(d,p)},w}function e_(d,p,w){w=Wl(-1,w),w.tag=3;var B=d.type.getDerivedStateFromError;if(typeof B=="function"){var M=p.value;w.payload=function(){return B(M)},w.callback=function(){Dk(d,p)}}var j=d.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(w.callback=function(){Dk(d,p),typeof B!="function"&&(vp===null?vp=new Set([this]):vp.add(this));var ue=p.stack;this.componentDidCatch(p.value,{componentStack:ue!==null?ue:""})}),w}function t_(d,p,w){var B=d.pingCache;if(B===null){B=d.pingCache=new kY;var M=new Set;B.set(p,M)}else M=B.get(p),M===void 0&&(M=new Set,B.set(p,M));M.has(w)||(M.add(w),d=KY.bind(null,d,p,w),p.then(d,d))}function n_(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function r_(d,p,w,B,M){return(d.mode&1)===0?(d===p?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Wl(-1,1),p.tag=2,ql(w,p,1))),w.lanes|=1),d):(d.flags|=65536,d.lanes=M,d)}var PY=k.ReactCurrentOwner,Yl=!1;function fl(d,p,w,B){p.child=d===null?vi(p,null,w,B):Xs(p,d.child,w,B)}function i_(d,p,w,B,M){w=w.render;var j=p.ref;return fs(p,M),B=Kg(d,p,w,B,j,M),w=hu(),d!==null&&!Yl?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~M,Nh(d,p,M)):(yt&&w&&dt(p),p.flags|=1,fl(d,p,B,M),p.child)}function s_(d,p,w,B,M){if(d===null){var j=w.type;return typeof j=="function"&&!iP(j)&&j.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=j,o_(d,p,j,B,M)):(d=RB(w.type,null,B,p,p.mode,M),d.ref=p.ref,d.return=p,p.child=d)}if(j=d.child,(d.lanes&M)===0){var ue=j.memoizedProps;if(w=w.compare,w=w!==null?w:rA,w(ue,B)&&d.ref===p.ref)return Nh(d,p,M)}return p.flags|=1,d=xp(j,B),d.ref=p.ref,d.return=p,p.child=d}function o_(d,p,w,B,M){if(d!==null){var j=d.memoizedProps;if(rA(j,B)&&d.ref===p.ref)if(Yl=!1,p.pendingProps=B=j,(d.lanes&M)!==0)(d.flags&131072)!==0&&(Yl=!0);else return p.lanes=d.lanes,Nh(d,p,M)}return _k(d,p,w,B,M)}function a_(d,p,w){var B=p.pendingProps,M=B.children,j=d!==null?d.memoizedState:null;if(B.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(My,wc),wc|=w;else{if((w&1073741824)===0)return d=j!==null?j.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,Ii(My,wc),wc|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},B=j!==null?j.baseLanes:w,Ii(My,wc),wc|=B}else j!==null?(B=j.baseLanes|w,p.memoizedState=null):B=w,Ii(My,wc),wc|=B;return fl(d,p,M,w),p.child}function l_(d,p){var w=p.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function _k(d,p,w,B,M){var j=Da(w)?Sh:Co.current;return j=up(p,j),fs(p,M),w=Kg(d,p,w,B,j,M),B=hu(),d!==null&&!Yl?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~M,Nh(d,p,M)):(yt&&B&&dt(p),p.flags|=1,fl(d,p,w,M),p.child)}function c_(d,p,w,B,M){if(Da(w)){var j=!0;Bh(p)}else j=!1;if(fs(p,M),p.stateNode===null)SB(d,p),ZD(p,w,B),Mk(p,w,B,M),B=!0;else if(d===null){var ue=p.stateNode,Te=p.memoizedProps;ue.props=Te;var Re=ue.context,ct=w.contextType;typeof ct=="object"&&ct!==null?ct=Us(ct):(ct=Da(w)?Sh:Co.current,ct=up(p,ct));var _t=w.getDerivedStateFromProps,Qt=typeof _t=="function"||typeof ue.getSnapshotBeforeUpdate=="function";Qt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Te!==B||Re!==ct)&&JD(p,ue,B,ct),uu=!1;var It=p.memoizedState;ue.state=It,uA(p,B,ue,M),Re=p.memoizedState,Te!==B||It!==Re||Ra.current||uu?(typeof _t=="function"&&(Ik(p,w,_t,B),Re=p.memoizedState),(Te=uu||YD(p,w,Te,B,It,Re,ct))?(Qt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=B,p.memoizedState=Re),ue.props=B,ue.state=Re,ue.context=ct,B=Te):(typeof ue.componentDidMount=="function"&&(p.flags|=4194308),B=!1)}else{ue=p.stateNode,Qw(d,p),Te=p.memoizedProps,ct=p.type===p.elementType?Te:fA(p.type,Te),ue.props=ct,Qt=p.pendingProps,It=ue.context,Re=w.contextType,typeof Re=="object"&&Re!==null?Re=Us(Re):(Re=Da(w)?Sh:Co.current,Re=up(p,Re));var wn=w.getDerivedStateFromProps;(_t=typeof wn=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Te!==Qt||It!==Re)&&JD(p,ue,B,Re),uu=!1,It=p.memoizedState,ue.state=It,uA(p,B,ue,M);var Dn=p.memoizedState;Te!==Qt||It!==Dn||Ra.current||uu?(typeof wn=="function"&&(Ik(p,w,wn,B),Dn=p.memoizedState),(ct=uu||YD(p,w,ct,B,It,Dn,Re)||!1)?(_t||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(B,Dn,Re),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(B,Dn,Re)),typeof ue.componentDidUpdate=="function"&&(p.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Te===d.memoizedProps&&It===d.memoizedState||(p.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Te===d.memoizedProps&&It===d.memoizedState||(p.flags|=1024),p.memoizedProps=B,p.memoizedState=Dn),ue.props=B,ue.state=Dn,ue.context=Re,B=ct):(typeof ue.componentDidUpdate!="function"||Te===d.memoizedProps&&It===d.memoizedState||(p.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Te===d.memoizedProps&&It===d.memoizedState||(p.flags|=1024),B=!1)}return Ok(d,p,w,B,j,M)}function Ok(d,p,w,B,M,j){l_(d,p);var ue=(p.flags&128)!==0;if(!B&&!ue)return M&&pB(p,w,!1),Nh(d,p,j);B=p.stateNode,PY.current=p;var Te=ue&&typeof w.getDerivedStateFromError!="function"?null:B.render();return p.flags|=1,d!==null&&ue?(p.child=Xs(p,d.child,null,j),p.child=Xs(p,null,Te,j)):fl(d,p,Te,j),p.memoizedState=B.state,M&&pB(p,w,!0),p.child}function u_(d){var p=d.stateNode;p.pendingContext?fB(d,p.pendingContext,p.pendingContext!==p.context):p.context&&fB(d,p.context,!1),hp(d,p.containerInfo)}function A_(d,p,w,B,M){return Ir(),Ti(M),p.flags|=256,fl(d,p,w,B),p.child}var Uk={dehydrated:null,treeContext:null,retryLane:0};function Hk(d){return{baseLanes:d,cachePool:null,transitions:null}}function d_(d,p,w){var B=p.pendingProps,M=es.current,j=!1,ue=(p.flags&128)!==0,Te;if((Te=ue)||(Te=d!==null&&d.memoizedState===null?!1:(M&2)!==0),Te?(j=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(M|=1),Ii(es,M&1),d===null)return An(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((p.mode&1)===0?p.lanes=1:d.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(ue=B.children,d=B.fallback,j?(B=p.mode,j=p.child,ue={mode:"hidden",children:ue},(B&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=ue):j=DB(ue,B,0,null),d=Zg(d,B,w,null),j.return=p,d.return=p,j.sibling=d,p.child=j,p.child.memoizedState=Hk(w),p.memoizedState=Uk,d):jk(p,ue));if(M=d.memoizedState,M!==null&&(Te=M.dehydrated,Te!==null))return LY(d,p,ue,B,Te,M,w);if(j){j=B.fallback,ue=p.mode,M=d.child,Te=M.sibling;var Re={mode:"hidden",children:B.children};return(ue&1)===0&&p.child!==M?(B=p.child,B.childLanes=0,B.pendingProps=Re,p.deletions=null):(B=xp(M,Re),B.subtreeFlags=M.subtreeFlags&14680064),Te!==null?j=xp(Te,j):(j=Zg(j,ue,w,null),j.flags|=2),j.return=p,B.return=p,B.sibling=j,p.child=B,B=j,j=p.child,ue=d.child.memoizedState,ue=ue===null?Hk(w):{baseLanes:ue.baseLanes|w,cachePool:null,transitions:ue.transitions},j.memoizedState=ue,j.childLanes=d.childLanes&~w,p.memoizedState=Uk,B}return j=d.child,d=j.sibling,B=xp(j,{mode:"visible",children:B.children}),(p.mode&1)===0&&(B.lanes=w),B.return=p,B.sibling=null,d!==null&&(w=p.deletions,w===null?(p.deletions=[d],p.flags|=16):w.push(d)),p.child=B,p.memoizedState=null,B}function jk(d,p){return p=DB({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function CB(d,p,w,B){return B!==null&&Ti(B),Xs(p,d.child,null,w),d=jk(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function LY(d,p,w,B,M,j,ue){if(w)return p.flags&256?(p.flags&=-257,B=Rk(Error(t(422))),CB(d,p,ue,B)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(j=B.fallback,M=p.mode,B=DB({mode:"visible",children:B.children},M,0,null),j=Zg(j,M,ue,null),j.flags|=2,B.return=p,j.return=p,B.sibling=j,p.child=B,(p.mode&1)!==0&&Xs(p,d.child,null,ue),p.child.memoizedState=Hk(ue),p.memoizedState=Uk,j);if((p.mode&1)===0)return CB(d,p,ue,null);if(M.data==="$!"){if(B=M.nextSibling&&M.nextSibling.dataset,B)var Te=B.dgst;return B=Te,j=Error(t(419)),B=Rk(j,B,void 0),CB(d,p,ue,B)}if(Te=(ue&d.childLanes)!==0,Yl||Te){if(B=Qo,B!==null){switch(ue&-ue){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(B.suspendedLanes|ue))!==0?0:M,M!==0&&M!==j.retryLane&&(j.retryLane=M,yi(d,M),gA(B,d,M,-1))}return rP(),B=Rk(Error(t(421))),CB(d,p,ue,B)}return M.data==="$?"?(p.flags|=128,p.child=d.child,p=VY.bind(null,d),M._reactRetry=p,null):(d=j.treeContext,bt=ua(M.nextSibling),_e=p,yt=!0,wt=null,d!==null&&(ye[Ce++]=Je,ye[Ce++]=$e,ye[Ce++]=Me,Je=d.id,$e=d.overflow,Me=p),p=jk(p,B.children),p.flags|=4096,p)}function h_(d,p,w){d.lanes|=p;var B=d.alternate;B!==null&&(B.lanes|=p),Gl(d.return,p,w)}function Qk(d,p,w,B,M){var j=d.memoizedState;j===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:B,tail:w,tailMode:M}:(j.isBackwards=p,j.rendering=null,j.renderingStartTime=0,j.last=B,j.tail=w,j.tailMode=M)}function f_(d,p,w){var B=p.pendingProps,M=B.revealOrder,j=B.tail;if(fl(d,p,B.children,w),B=es.current,(B&2)!==0)B=B&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&h_(d,w,p);else if(d.tag===19)h_(d,w,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}B&=1}if(Ii(es,B),(p.mode&1)===0)p.memoizedState=null;else switch(M){case"forwards":for(w=p.child,M=null;w!==null;)d=w.alternate,d!==null&&vc(d)===null&&(M=w),w=w.sibling;w=M,w===null?(M=p.child,p.child=null):(M=w.sibling,w.sibling=null),Qk(p,!1,M,w,j);break;case"backwards":for(w=null,M=p.child,p.child=null;M!==null;){if(d=M.alternate,d!==null&&vc(d)===null){p.child=M;break}d=M.sibling,M.sibling=w,w=M,M=d}Qk(p,!0,w,null,j);break;case"together":Qk(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function SB(d,p){(p.mode&1)===0&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function Nh(d,p,w){if(d!==null&&(p.dependencies=d.dependencies),Wg|=p.lanes,(w&p.childLanes)===0)return null;if(d!==null&&p.child!==d.child)throw Error(t(153));if(p.child!==null){for(d=p.child,w=xp(d,d.pendingProps),p.child=w,w.return=p;d.sibling!==null;)d=d.sibling,w=w.sibling=xp(d,d.pendingProps),w.return=p;w.sibling=null}return p.child}function IY(d,p,w){switch(p.tag){case 3:u_(p),Ir();break;case 5:mB(p);break;case 1:Da(p.type)&&Bh(p);break;case 4:hp(p,p.stateNode.containerInfo);break;case 10:var B=p.type._context,M=p.memoizedProps.value;Ii(Ho,B._currentValue),B._currentValue=M;break;case 13:if(B=p.memoizedState,B!==null)return B.dehydrated!==null?(Ii(es,es.current&1),p.flags|=128,null):(w&p.child.childLanes)!==0?d_(d,p,w):(Ii(es,es.current&1),d=Nh(d,p,w),d!==null?d.sibling:null);Ii(es,es.current&1);break;case 19:if(B=(w&p.childLanes)!==0,(d.flags&128)!==0){if(B)return f_(d,p,w);p.flags|=128}if(M=p.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Ii(es,es.current),B)break;return null;case 22:case 23:return p.lanes=0,a_(d,p,w)}return Nh(d,p,w)}var p_,zk,m_,g_;p_=function(d,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)d.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},zk=function(){},m_=function(d,p,w,B){var M=d.memoizedProps;if(M!==B){d=p.stateNode,AA(Al.current);var j=null;switch(w){case"input":M=Kt(d,M),B=Kt(d,B),j=[];break;case"select":M=pe({},M,{value:void 0}),B=pe({},B,{value:void 0}),j=[];break;case"textarea":M=mt(d,M),B=mt(d,B),j=[];break;default:typeof M.onClick!="function"&&typeof B.onClick=="function"&&(d.onclick=ap)}We(w,B);var ue;w=null;for(ct in M)if(!B.hasOwnProperty(ct)&&M.hasOwnProperty(ct)&&M[ct]!=null)if(ct==="style"){var Te=M[ct];for(ue in Te)Te.hasOwnProperty(ue)&&(w||(w={}),w[ue]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(i.hasOwnProperty(ct)?j||(j=[]):(j=j||[]).push(ct,null));for(ct in B){var Re=B[ct];if(Te=M!=null?M[ct]:void 0,B.hasOwnProperty(ct)&&Re!==Te&&(Re!=null||Te!=null))if(ct==="style")if(Te){for(ue in Te)!Te.hasOwnProperty(ue)||Re&&Re.hasOwnProperty(ue)||(w||(w={}),w[ue]="");for(ue in Re)Re.hasOwnProperty(ue)&&Te[ue]!==Re[ue]&&(w||(w={}),w[ue]=Re[ue])}else w||(j||(j=[]),j.push(ct,w)),w=Re;else ct==="dangerouslySetInnerHTML"?(Re=Re?Re.__html:void 0,Te=Te?Te.__html:void 0,Re!=null&&Te!==Re&&(j=j||[]).push(ct,Re)):ct==="children"?typeof Re!="string"&&typeof Re!="number"||(j=j||[]).push(ct,""+Re):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(i.hasOwnProperty(ct)?(Re!=null&&ct==="onScroll"&&Ui("scroll",d),j||Te===Re||(j=[])):(j=j||[]).push(ct,Re))}w&&(j=j||[]).push("style",w);var ct=j;(p.updateQueue=ct)&&(p.flags|=4)}},g_=function(d,p,w,B){w!==B&&(p.flags|=4)};function qw(d,p){if(!yt)switch(d.tailMode){case"hidden":p=d.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var B=null;w!==null;)w.alternate!==null&&(B=w),w=w.sibling;B===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:B.sibling=null}}function Oa(d){var p=d.alternate!==null&&d.alternate.child===d.child,w=0,B=0;if(p)for(var M=d.child;M!==null;)w|=M.lanes|M.childLanes,B|=M.subtreeFlags&14680064,B|=M.flags&14680064,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)w|=M.lanes|M.childLanes,B|=M.subtreeFlags,B|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=B,d.childLanes=w,p}function MY(d,p,w){var B=p.pendingProps;switch(De(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(p),null;case 1:return Da(p.type)&&wy(),Oa(p),null;case 3:return B=p.stateNode,Au(),Fi(Ra),Fi(Co),Vw(),B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null),(d===null||d.child===null)&&(Ai(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,wt!==null&&(eP(wt),wt=null))),zk(d,p),Oa(p),null;case 5:zw(p);var M=AA(hd.current);if(w=p.type,d!==null&&p.stateNode!=null)m_(d,p,w,B,M),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!B){if(p.stateNode===null)throw Error(t(166));return Oa(p),null}if(d=AA(Al.current),Ai(p)){B=p.stateNode,w=p.type;var j=p.memoizedProps;switch(B[cu]=p,B[lp]=j,d=(p.mode&1)!==0,w){case"dialog":Ui("cancel",B),Ui("close",B);break;case"iframe":case"object":case"embed":Ui("load",B);break;case"video":case"audio":for(M=0;M<cd.length;M++)Ui(cd[M],B);break;case"source":Ui("error",B);break;case"img":case"image":case"link":Ui("error",B),Ui("load",B);break;case"details":Ui("toggle",B);break;case"input":Ge(B,j),Ui("invalid",B);break;case"select":B._wrapperState={wasMultiple:!!j.multiple},Ui("invalid",B);break;case"textarea":Ut(B,j),Ui("invalid",B)}We(w,j),M=null;for(var ue in j)if(j.hasOwnProperty(ue)){var Te=j[ue];ue==="children"?typeof Te=="string"?B.textContent!==Te&&(j.suppressHydrationWarning!==!0&&by(B.textContent,Te,d),M=["children",Te]):typeof Te=="number"&&B.textContent!==""+Te&&(j.suppressHydrationWarning!==!0&&by(B.textContent,Te,d),M=["children",""+Te]):i.hasOwnProperty(ue)&&Te!=null&&ue==="onScroll"&&Ui("scroll",B)}switch(w){case"input":Ve(B),xt(B,j,!0);break;case"textarea":Ve(B),Cn(B);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(B.onclick=ap)}B=M,p.updateQueue=B,B!==null&&(p.flags|=4)}else{ue=M.nodeType===9?M:M.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=zt(w)),d==="http://www.w3.org/1999/xhtml"?w==="script"?(d=ue.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof B.is=="string"?d=ue.createElement(w,{is:B.is}):(d=ue.createElement(w),w==="select"&&(ue=d,B.multiple?ue.multiple=!0:B.size&&(ue.size=B.size))):d=ue.createElementNS(d,w),d[cu]=p,d[lp]=B,p_(d,p,!1,!1),p.stateNode=d;e:{switch(ue=oe(w,B),w){case"dialog":Ui("cancel",d),Ui("close",d),M=B;break;case"iframe":case"object":case"embed":Ui("load",d),M=B;break;case"video":case"audio":for(M=0;M<cd.length;M++)Ui(cd[M],d);M=B;break;case"source":Ui("error",d),M=B;break;case"img":case"image":case"link":Ui("error",d),Ui("load",d),M=B;break;case"details":Ui("toggle",d),M=B;break;case"input":Ge(d,B),M=Kt(d,B),Ui("invalid",d);break;case"option":M=B;break;case"select":d._wrapperState={wasMultiple:!!B.multiple},M=pe({},B,{value:void 0}),Ui("invalid",d);break;case"textarea":Ut(d,B),M=mt(d,B),Ui("invalid",d);break;default:M=B}We(w,M),Te=M;for(j in Te)if(Te.hasOwnProperty(j)){var Re=Te[j];j==="style"?Pt(d,Re):j==="dangerouslySetInnerHTML"?(Re=Re?Re.__html:void 0,Re!=null&&ln(d,Re)):j==="children"?typeof Re=="string"?(w!=="textarea"||Re!=="")&&Fn(d,Re):typeof Re=="number"&&Fn(d,""+Re):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Re!=null&&j==="onScroll"&&Ui("scroll",d):Re!=null&&E(d,j,Re,ue))}switch(w){case"input":Ve(d),xt(d,B,!1);break;case"textarea":Ve(d),Cn(d);break;case"option":B.value!=null&&d.setAttribute("value",""+we(B.value));break;case"select":d.multiple=!!B.multiple,j=B.value,j!=null?Et(d,!!B.multiple,j,!1):B.defaultValue!=null&&Et(d,!!B.multiple,B.defaultValue,!0);break;default:typeof M.onClick=="function"&&(d.onclick=ap)}switch(w){case"button":case"input":case"select":case"textarea":B=!!B.autoFocus;break e;case"img":B=!0;break e;default:B=!1}}B&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Oa(p),null;case 6:if(d&&p.stateNode!=null)g_(d,p,d.memoizedProps,B);else{if(typeof B!="string"&&p.stateNode===null)throw Error(t(166));if(w=AA(hd.current),AA(Al.current),Ai(p)){if(B=p.stateNode,w=p.memoizedProps,B[cu]=p,(j=B.nodeValue!==w)&&(d=_e,d!==null))switch(d.tag){case 3:by(B.nodeValue,w,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&by(B.nodeValue,w,(d.mode&1)!==0)}j&&(p.flags|=4)}else B=(w.nodeType===9?w:w.ownerDocument).createTextNode(B),B[cu]=p,p.stateNode=B}return Oa(p),null;case 13:if(Fi(es),B=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(yt&&bt!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Jr(),Ir(),p.flags|=98560,j=!1;else if(j=Ai(p),B!==null&&B.dehydrated!==null){if(d===null){if(!j)throw Error(t(318));if(j=p.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(t(317));j[cu]=p}else Ir(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Oa(p),j=!1}else wt!==null&&(eP(wt),wt=null),j=!0;if(!j)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=w,p):(B=B!==null,B!==(d!==null&&d.memoizedState!==null)&&B&&(p.child.flags|=8192,(p.mode&1)!==0&&(d===null||(es.current&1)!==0?Bo===0&&(Bo=3):rP())),p.updateQueue!==null&&(p.flags|=4),Oa(p),null);case 4:return Au(),zk(d,p),d===null&&bh(p.stateNode.containerInfo),Oa(p),null;case 10:return _a(p.type._context),Oa(p),null;case 17:return Da(p.type)&&wy(),Oa(p),null;case 19:if(Fi(es),j=p.memoizedState,j===null)return Oa(p),null;if(B=(p.flags&128)!==0,ue=j.rendering,ue===null)if(B)qw(j,!1);else{if(Bo!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(ue=vc(d),ue!==null){for(p.flags|=128,qw(j,!1),B=ue.updateQueue,B!==null&&(p.updateQueue=B,p.flags|=4),p.subtreeFlags=0,B=w,w=p.child;w!==null;)j=w,d=B,j.flags&=14680066,ue=j.alternate,ue===null?(j.childLanes=0,j.lanes=d,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=ue.childLanes,j.lanes=ue.lanes,j.child=ue.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=ue.memoizedProps,j.memoizedState=ue.memoizedState,j.updateQueue=ue.updateQueue,j.type=ue.type,d=ue.dependencies,j.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),w=w.sibling;return Ii(es,es.current&1|2),p.child}d=d.sibling}j.tail!==null&&di()>Ry&&(p.flags|=128,B=!0,qw(j,!1),p.lanes=4194304)}else{if(!B)if(d=vc(ue),d!==null){if(p.flags|=128,B=!0,w=d.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),qw(j,!0),j.tail===null&&j.tailMode==="hidden"&&!ue.alternate&&!yt)return Oa(p),null}else 2*di()-j.renderingStartTime>Ry&&w!==1073741824&&(p.flags|=128,B=!0,qw(j,!1),p.lanes=4194304);j.isBackwards?(ue.sibling=p.child,p.child=ue):(w=j.last,w!==null?w.sibling=ue:p.child=ue,j.last=ue)}return j.tail!==null?(p=j.tail,j.rendering=p,j.tail=p.sibling,j.renderingStartTime=di(),p.sibling=null,w=es.current,Ii(es,B?w&1|2:w&1),p):(Oa(p),null);case 22:case 23:return nP(),B=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==B&&(p.flags|=8192),B&&(p.mode&1)!==0?(wc&1073741824)!==0&&(Oa(p),p.subtreeFlags&6&&(p.flags|=8192)):Oa(p),null;case 24:return null;case 25:return null}throw Error(t(156,p.tag))}function RY(d,p){switch(De(p),p.tag){case 1:return Da(p.type)&&wy(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Au(),Fi(Ra),Fi(Co),Vw(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 5:return zw(p),null;case 13:if(Fi(es),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(t(340));Ir()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Fi(es),null;case 4:return Au(),null;case 10:return _a(p.type._context),null;case 22:case 23:return nP(),null;case 24:return null;default:return null}}var BB=!1,Ua=!1,DY=typeof WeakSet=="function"?WeakSet:Set,In=null;function Iy(d,p){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(B){js(d,p,B)}else w.current=null}function Kk(d,p,w){try{w()}catch(B){js(d,p,B)}}var v_=!1;function _Y(d,p){if(jg=fr,d=Mg(),mh(d)){if("selectionStart"in d)var w={start:d.selectionStart,end:d.selectionEnd};else e:{w=(w=d.ownerDocument)&&w.defaultView||window;var B=w.getSelection&&w.getSelection();if(B&&B.rangeCount!==0){w=B.anchorNode;var M=B.anchorOffset,j=B.focusNode;B=B.focusOffset;try{w.nodeType,j.nodeType}catch{w=null;break e}var ue=0,Te=-1,Re=-1,ct=0,_t=0,Qt=d,It=null;t:for(;;){for(var wn;Qt!==w||M!==0&&Qt.nodeType!==3||(Te=ue+M),Qt!==j||B!==0&&Qt.nodeType!==3||(Re=ue+B),Qt.nodeType===3&&(ue+=Qt.nodeValue.length),(wn=Qt.firstChild)!==null;)It=Qt,Qt=wn;for(;;){if(Qt===d)break t;if(It===w&&++ct===M&&(Te=ue),It===j&&++_t===B&&(Re=ue),(wn=Qt.nextSibling)!==null)break;Qt=It,It=Qt.parentNode}Qt=wn}w=Te===-1||Re===-1?null:{start:Te,end:Re}}else w=null}w=w||{start:0,end:0}}else w=null;for(xh={focusedElem:d,selectionRange:w},fr=!1,In=p;In!==null;)if(p=In,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,In=d;else for(;In!==null;){p=In;try{var Dn=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Dn!==null){var Un=Dn.memoizedProps,Js=Dn.memoizedState,nt=p.stateNode,He=nt.getSnapshotBeforeUpdate(p.elementType===p.type?Un:fA(p.type,Un),Js);nt.__reactInternalSnapshotBeforeUpdate=He}break;case 3:var it=p.stateNode.containerInfo;it.nodeType===1?it.textContent="":it.nodeType===9&&it.documentElement&&it.removeChild(it.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch($t){js(p,p.return,$t)}if(d=p.sibling,d!==null){d.return=p.return,In=d;break}In=p.return}return Dn=v_,v_=!1,Dn}function Xw(d,p,w){var B=p.updateQueue;if(B=B!==null?B.lastEffect:null,B!==null){var M=B=B.next;do{if((M.tag&d)===d){var j=M.destroy;M.destroy=void 0,j!==void 0&&Kk(p,w,j)}M=M.next}while(M!==B)}}function EB(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&d)===d){var B=w.create;w.destroy=B()}w=w.next}while(w!==p)}}function Vk(d){var p=d.ref;if(p!==null){var w=d.stateNode;switch(d.tag){case 5:d=w;break;default:d=w}typeof p=="function"?p(d):p.current=d}}function y_(d){var p=d.alternate;p!==null&&(d.alternate=null,y_(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[cu],delete p[lp],delete p[Ma],delete p[Nk],delete p[kk])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function b_(d){return d.tag===5||d.tag===3||d.tag===4}function w_(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||b_(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Gk(d,p,w){var B=d.tag;if(B===5||B===6)d=d.stateNode,p?w.nodeType===8?w.parentNode.insertBefore(d,p):w.insertBefore(d,p):(w.nodeType===8?(p=w.parentNode,p.insertBefore(d,w)):(p=w,p.appendChild(d)),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=ap));else if(B!==4&&(d=d.child,d!==null))for(Gk(d,p,w),d=d.sibling;d!==null;)Gk(d,p,w),d=d.sibling}function Wk(d,p,w){var B=d.tag;if(B===5||B===6)d=d.stateNode,p?w.insertBefore(d,p):w.appendChild(d);else if(B!==4&&(d=d.child,d!==null))for(Wk(d,p,w),d=d.sibling;d!==null;)Wk(d,p,w),d=d.sibling}var da=null,pA=!1;function gp(d,p,w){for(w=w.child;w!==null;)x_(d,p,w),w=w.sibling}function x_(d,p,w){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Dl,w)}catch{}switch(w.tag){case 5:Ua||Iy(w,p);case 6:var B=da,M=pA;da=null,gp(d,p,w),da=B,pA=M,da!==null&&(pA?(d=da,w=w.stateNode,d.nodeType===8?d.parentNode.removeChild(w):d.removeChild(w)):da.removeChild(w.stateNode));break;case 18:da!==null&&(pA?(d=da,w=w.stateNode,d.nodeType===8?Uw(d.parentNode,w):d.nodeType===1&&Uw(d,w),Rt(d)):Uw(da,w.stateNode));break;case 4:B=da,M=pA,da=w.stateNode.containerInfo,pA=!0,gp(d,p,w),da=B,pA=M;break;case 0:case 11:case 14:case 15:if(!Ua&&(B=w.updateQueue,B!==null&&(B=B.lastEffect,B!==null))){M=B=B.next;do{var j=M,ue=j.destroy;j=j.tag,ue!==void 0&&((j&2)!==0||(j&4)!==0)&&Kk(w,p,ue),M=M.next}while(M!==B)}gp(d,p,w);break;case 1:if(!Ua&&(Iy(w,p),B=w.stateNode,typeof B.componentWillUnmount=="function"))try{B.props=w.memoizedProps,B.state=w.memoizedState,B.componentWillUnmount()}catch(Te){js(w,p,Te)}gp(d,p,w);break;case 21:gp(d,p,w);break;case 22:w.mode&1?(Ua=(B=Ua)||w.memoizedState!==null,gp(d,p,w),Ua=B):gp(d,p,w);break;default:gp(d,p,w)}}function C_(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new DY),p.forEach(function(B){var M=GY.bind(null,d,B);w.has(B)||(w.add(B),B.then(M,M))})}}function mA(d,p){var w=p.deletions;if(w!==null)for(var B=0;B<w.length;B++){var M=w[B];try{var j=d,ue=p,Te=ue;e:for(;Te!==null;){switch(Te.tag){case 5:da=Te.stateNode,pA=!1;break e;case 3:da=Te.stateNode.containerInfo,pA=!0;break e;case 4:da=Te.stateNode.containerInfo,pA=!0;break e}Te=Te.return}if(da===null)throw Error(t(160));x_(j,ue,M),da=null,pA=!1;var Re=M.alternate;Re!==null&&(Re.return=null),M.return=null}catch(ct){js(M,p,ct)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)S_(p,d),p=p.sibling}function S_(d,p){var w=d.alternate,B=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(mA(p,d),pd(d),B&4){try{Xw(3,d,d.return),EB(3,d)}catch(Un){js(d,d.return,Un)}try{Xw(5,d,d.return)}catch(Un){js(d,d.return,Un)}}break;case 1:mA(p,d),pd(d),B&512&&w!==null&&Iy(w,w.return);break;case 5:if(mA(p,d),pd(d),B&512&&w!==null&&Iy(w,w.return),d.flags&32){var M=d.stateNode;try{Fn(M,"")}catch(Un){js(d,d.return,Un)}}if(B&4&&(M=d.stateNode,M!=null)){var j=d.memoizedProps,ue=w!==null?w.memoizedProps:j,Te=d.type,Re=d.updateQueue;if(d.updateQueue=null,Re!==null)try{Te==="input"&&j.type==="radio"&&j.name!=null&&Se(M,j),oe(Te,ue);var ct=oe(Te,j);for(ue=0;ue<Re.length;ue+=2){var _t=Re[ue],Qt=Re[ue+1];_t==="style"?Pt(M,Qt):_t==="dangerouslySetInnerHTML"?ln(M,Qt):_t==="children"?Fn(M,Qt):E(M,_t,Qt,ct)}switch(Te){case"input":Nt(M,j);break;case"textarea":qe(M,j);break;case"select":var It=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!j.multiple;var wn=j.value;wn!=null?Et(M,!!j.multiple,wn,!1):It!==!!j.multiple&&(j.defaultValue!=null?Et(M,!!j.multiple,j.defaultValue,!0):Et(M,!!j.multiple,j.multiple?[]:"",!1))}M[lp]=j}catch(Un){js(d,d.return,Un)}}break;case 6:if(mA(p,d),pd(d),B&4){if(d.stateNode===null)throw Error(t(162));M=d.stateNode,j=d.memoizedProps;try{M.nodeValue=j}catch(Un){js(d,d.return,Un)}}break;case 3:if(mA(p,d),pd(d),B&4&&w!==null&&w.memoizedState.isDehydrated)try{Rt(p.containerInfo)}catch(Un){js(d,d.return,Un)}break;case 4:mA(p,d),pd(d);break;case 13:mA(p,d),pd(d),M=d.child,M.flags&8192&&(j=M.memoizedState!==null,M.stateNode.isHidden=j,!j||M.alternate!==null&&M.alternate.memoizedState!==null||(Yk=di())),B&4&&C_(d);break;case 22:if(_t=w!==null&&w.memoizedState!==null,d.mode&1?(Ua=(ct=Ua)||_t,mA(p,d),Ua=ct):mA(p,d),pd(d),B&8192){if(ct=d.memoizedState!==null,(d.stateNode.isHidden=ct)&&!_t&&(d.mode&1)!==0)for(In=d,_t=d.child;_t!==null;){for(Qt=In=_t;In!==null;){switch(It=In,wn=It.child,It.tag){case 0:case 11:case 14:case 15:Xw(4,It,It.return);break;case 1:Iy(It,It.return);var Dn=It.stateNode;if(typeof Dn.componentWillUnmount=="function"){B=It,w=It.return;try{p=B,Dn.props=p.memoizedProps,Dn.state=p.memoizedState,Dn.componentWillUnmount()}catch(Un){js(B,w,Un)}}break;case 5:Iy(It,It.return);break;case 22:if(It.memoizedState!==null){F_(Qt);continue}}wn!==null?(wn.return=It,In=wn):F_(Qt)}_t=_t.sibling}e:for(_t=null,Qt=d;;){if(Qt.tag===5){if(_t===null){_t=Qt;try{M=Qt.stateNode,ct?(j=M.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(Te=Qt.stateNode,Re=Qt.memoizedProps.style,ue=Re!=null&&Re.hasOwnProperty("display")?Re.display:null,Te.style.display=At("display",ue))}catch(Un){js(d,d.return,Un)}}}else if(Qt.tag===6){if(_t===null)try{Qt.stateNode.nodeValue=ct?"":Qt.memoizedProps}catch(Un){js(d,d.return,Un)}}else if((Qt.tag!==22&&Qt.tag!==23||Qt.memoizedState===null||Qt===d)&&Qt.child!==null){Qt.child.return=Qt,Qt=Qt.child;continue}if(Qt===d)break e;for(;Qt.sibling===null;){if(Qt.return===null||Qt.return===d)break e;_t===Qt&&(_t=null),Qt=Qt.return}_t===Qt&&(_t=null),Qt.sibling.return=Qt.return,Qt=Qt.sibling}}break;case 19:mA(p,d),pd(d),B&4&&C_(d);break;case 21:break;default:mA(p,d),pd(d)}}function pd(d){var p=d.flags;if(p&2){try{e:{for(var w=d.return;w!==null;){if(b_(w)){var B=w;break e}w=w.return}throw Error(t(160))}switch(B.tag){case 5:var M=B.stateNode;B.flags&32&&(Fn(M,""),B.flags&=-33);var j=w_(d);Wk(d,j,M);break;case 3:case 4:var ue=B.stateNode.containerInfo,Te=w_(d);Gk(d,Te,ue);break;default:throw Error(t(161))}}catch(Re){js(d,d.return,Re)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function OY(d,p,w){In=d,B_(d)}function B_(d,p,w){for(var B=(d.mode&1)!==0;In!==null;){var M=In,j=M.child;if(M.tag===22&&B){var ue=M.memoizedState!==null||BB;if(!ue){var Te=M.alternate,Re=Te!==null&&Te.memoizedState!==null||Ua;Te=BB;var ct=Ua;if(BB=ue,(Ua=Re)&&!ct)for(In=M;In!==null;)ue=In,Re=ue.child,ue.tag===22&&ue.memoizedState!==null?T_(M):Re!==null?(Re.return=ue,In=Re):T_(M);for(;j!==null;)In=j,B_(j),j=j.sibling;In=M,BB=Te,Ua=ct}E_(d)}else(M.subtreeFlags&8772)!==0&&j!==null?(j.return=M,In=j):E_(d)}}function E_(d){for(;In!==null;){var p=In;if((p.flags&8772)!==0){var w=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Ua||EB(5,p);break;case 1:var B=p.stateNode;if(p.flags&4&&!Ua)if(w===null)B.componentDidMount();else{var M=p.elementType===p.type?w.memoizedProps:fA(p.type,w.memoizedProps);B.componentDidUpdate(M,w.memoizedState,B.__reactInternalSnapshotBeforeUpdate)}var j=p.updateQueue;j!==null&&Fh(p,j,B);break;case 3:var ue=p.updateQueue;if(ue!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=p.child.stateNode;break;case 1:w=p.child.stateNode}Fh(p,ue,w)}break;case 5:var Te=p.stateNode;if(w===null&&p.flags&4){w=Te;var Re=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Re.autoFocus&&w.focus();break;case"img":Re.src&&(w.src=Re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ct=p.alternate;if(ct!==null){var _t=ct.memoizedState;if(_t!==null){var Qt=_t.dehydrated;Qt!==null&&Rt(Qt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ua||p.flags&512&&Vk(p)}catch(It){js(p,p.return,It)}}if(p===d){In=null;break}if(w=p.sibling,w!==null){w.return=p.return,In=w;break}In=p.return}}function F_(d){for(;In!==null;){var p=In;if(p===d){In=null;break}var w=p.sibling;if(w!==null){w.return=p.return,In=w;break}In=p.return}}function T_(d){for(;In!==null;){var p=In;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{EB(4,p)}catch(Re){js(p,w,Re)}break;case 1:var B=p.stateNode;if(typeof B.componentDidMount=="function"){var M=p.return;try{B.componentDidMount()}catch(Re){js(p,M,Re)}}var j=p.return;try{Vk(p)}catch(Re){js(p,j,Re)}break;case 5:var ue=p.return;try{Vk(p)}catch(Re){js(p,ue,Re)}}}catch(Re){js(p,p.return,Re)}if(p===d){In=null;break}var Te=p.sibling;if(Te!==null){Te.return=p.return,In=Te;break}In=p.return}}var UY=Math.ceil,FB=k.ReactCurrentDispatcher,qk=k.ReactCurrentOwner,fu=k.ReactCurrentBatchConfig,fi=0,Qo=null,co=null,ha=0,wc=0,My=gc(0),Bo=0,Yw=null,Wg=0,TB=0,Xk=0,Zw=null,Zl=null,Yk=0,Ry=1/0,kh=null,NB=!1,Zk=null,vp=null,kB=!1,yp=null,PB=0,Jw=0,Jk=null,LB=-1,IB=0;function pl(){return(fi&6)!==0?di():LB!==-1?LB:LB=di()}function bp(d){return(d.mode&1)===0?1:(fi&2)!==0&&ha!==0?ha&-ha:Mi.transition!==null?(IB===0&&(IB=As()),IB):(d=Wr,d!==0||(d=window.event,d=d===void 0?16:ii(d.type)),d)}function gA(d,p,w,B){if(50<Jw)throw Jw=0,Jk=null,Error(t(185));Do(d,w,B),((fi&2)===0||d!==Qo)&&(d===Qo&&((fi&2)===0&&(TB|=w),Bo===4&&wp(d,ha)),Jl(d,B),w===1&&fi===0&&(p.mode&1)===0&&(Ry=di()+500,zg&&K()))}function Jl(d,p){var w=d.callbackNode;lo(d,p);var B=ys(d,d===Qo?ha:0);if(B===0)w!==null&&Pn(w),d.callbackNode=null,d.callbackPriority=0;else if(p=B&-B,d.callbackPriority!==p){if(w!=null&&Pn(w),p===1)d.tag===0?R(k_.bind(null,d)):F(k_.bind(null,d)),Fk(function(){(fi&6)===0&&K()}),w=null;else{switch(Ul(B)){case 1:w=qs;break;case 4:w=qu;break;case 16:w=Xu;break;case 536870912:w=uh;break;default:w=Xu}w=O_(w,N_.bind(null,d))}d.callbackPriority=p,d.callbackNode=w}}function N_(d,p){if(LB=-1,IB=0,(fi&6)!==0)throw Error(t(327));var w=d.callbackNode;if(Dy()&&d.callbackNode!==w)return null;var B=ys(d,d===Qo?ha:0);if(B===0)return null;if((B&30)!==0||(B&d.expiredLanes)!==0||p)p=MB(d,B);else{p=B;var M=fi;fi|=2;var j=L_();(Qo!==d||ha!==p)&&(kh=null,Ry=di()+500,Xg(d,p));do try{QY();break}catch(Te){P_(d,Te)}while(!0);So(),FB.current=j,fi=M,co!==null?p=0:(Qo=null,ha=0,p=Bo)}if(p!==0){if(p===2&&(M=Ol(d),M!==0&&(B=M,p=$k(d,M))),p===1)throw w=Yw,Xg(d,0),wp(d,B),Jl(d,di()),w;if(p===6)wp(d,B);else{if(M=d.current.alternate,(B&30)===0&&!HY(M)&&(p=MB(d,B),p===2&&(j=Ol(d),j!==0&&(B=j,p=$k(d,j))),p===1))throw w=Yw,Xg(d,0),wp(d,B),Jl(d,di()),w;switch(d.finishedWork=M,d.finishedLanes=B,p){case 0:case 1:throw Error(t(345));case 2:Yg(d,Zl,kh);break;case 3:if(wp(d,B),(B&130023424)===B&&(p=Yk+500-di(),10<p)){if(ys(d,0)!==0)break;if(M=d.suspendedLanes,(M&B)!==B){pl(),d.pingedLanes|=d.suspendedLanes&M;break}d.timeoutHandle=Ow(Yg.bind(null,d,Zl,kh),p);break}Yg(d,Zl,kh);break;case 4:if(wp(d,B),(B&4194240)===B)break;for(p=d.eventTimes,M=-1;0<B;){var ue=31-_s(B);j=1<<ue,ue=p[ue],ue>M&&(M=ue),B&=~j}if(B=M,B=di()-B,B=(120>B?120:480>B?480:1080>B?1080:1920>B?1920:3e3>B?3e3:4320>B?4320:1960*UY(B/1960))-B,10<B){d.timeoutHandle=Ow(Yg.bind(null,d,Zl,kh),B);break}Yg(d,Zl,kh);break;case 5:Yg(d,Zl,kh);break;default:throw Error(t(329))}}}return Jl(d,di()),d.callbackNode===w?N_.bind(null,d):null}function $k(d,p){var w=Zw;return d.current.memoizedState.isDehydrated&&(Xg(d,p).flags|=256),d=MB(d,p),d!==2&&(p=Zl,Zl=w,p!==null&&eP(p)),d}function eP(d){Zl===null?Zl=d:Zl.push.apply(Zl,d)}function HY(d){for(var p=d;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var B=0;B<w.length;B++){var M=w[B],j=M.getSnapshot;M=M.value;try{if(!hi(j(),M))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function wp(d,p){for(p&=~Xk,p&=~TB,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var w=31-_s(p),B=1<<w;d[w]=-1,p&=~B}}function k_(d){if((fi&6)!==0)throw Error(t(327));Dy();var p=ys(d,0);if((p&1)===0)return Jl(d,di()),null;var w=MB(d,p);if(d.tag!==0&&w===2){var B=Ol(d);B!==0&&(p=B,w=$k(d,B))}if(w===1)throw w=Yw,Xg(d,0),wp(d,p),Jl(d,di()),w;if(w===6)throw Error(t(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,Yg(d,Zl,kh),Jl(d,di()),null}function tP(d,p){var w=fi;fi|=1;try{return d(p)}finally{fi=w,fi===0&&(Ry=di()+500,zg&&K())}}function qg(d){yp!==null&&yp.tag===0&&(fi&6)===0&&Dy();var p=fi;fi|=1;var w=fu.transition,B=Wr;try{if(fu.transition=null,Wr=1,d)return d()}finally{Wr=B,fu.transition=w,fi=p,(fi&6)===0&&K()}}function nP(){wc=My.current,Fi(My)}function Xg(d,p){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==-1&&(d.timeoutHandle=-1,dB(w)),co!==null)for(w=co.return;w!==null;){var B=w;switch(De(B),B.tag){case 1:B=B.type.childContextTypes,B!=null&&wy();break;case 3:Au(),Fi(Ra),Fi(Co),Vw();break;case 5:zw(B);break;case 4:Au();break;case 13:Fi(es);break;case 19:Fi(es);break;case 10:_a(B.type._context);break;case 22:case 23:nP()}w=w.return}if(Qo=d,co=d=xp(d.current,null),ha=wc=p,Bo=0,Yw=null,Xk=TB=Wg=0,Zl=Zw=null,ul!==null){for(p=0;p<ul.length;p++)if(w=ul[p],B=w.interleaved,B!==null){w.interleaved=null;var M=B.next,j=w.pending;if(j!==null){var ue=j.next;j.next=M,B.next=ue}w.pending=B}ul=null}return d}function P_(d,p){do{var w=co;try{if(So(),Cy.current=wB,fp){for(var B=rs.memoizedState;B!==null;){var M=B.queue;M!==null&&(M.pending=null),B=B.next}fp=!1}if(du=0,Ps=Hs=rs=null,dA=!1,pp=0,qk.current=null,w===null||w.return===null){Bo=1,Yw=p,co=null;break}e:{var j=d,ue=w.return,Te=w,Re=p;if(p=ha,Te.flags|=32768,Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var ct=Re,_t=Te,Qt=_t.tag;if((_t.mode&1)===0&&(Qt===0||Qt===11||Qt===15)){var It=_t.alternate;It?(_t.updateQueue=It.updateQueue,_t.memoizedState=It.memoizedState,_t.lanes=It.lanes):(_t.updateQueue=null,_t.memoizedState=null)}var wn=n_(ue);if(wn!==null){wn.flags&=-257,r_(wn,ue,Te,j,p),wn.mode&1&&t_(j,ct,p),p=wn,Re=ct;var Dn=p.updateQueue;if(Dn===null){var Un=new Set;Un.add(Re),p.updateQueue=Un}else Dn.add(Re);break e}else{if((p&1)===0){t_(j,ct,p),rP();break e}Re=Error(t(426))}}else if(yt&&Te.mode&1){var Js=n_(ue);if(Js!==null){(Js.flags&65536)===0&&(Js.flags|=256),r_(Js,ue,Te,j,p),Ti(Ly(Re,Te));break e}}j=Re=Ly(Re,Te),Bo!==4&&(Bo=2),Zw===null?Zw=[j]:Zw.push(j),j=ue;do{switch(j.tag){case 3:j.flags|=65536,p&=-p,j.lanes|=p;var nt=$D(j,Re,p);Xl(j,nt);break e;case 1:Te=Re;var He=j.type,it=j.stateNode;if((j.flags&128)===0&&(typeof He.getDerivedStateFromError=="function"||it!==null&&typeof it.componentDidCatch=="function"&&(vp===null||!vp.has(it)))){j.flags|=65536,p&=-p,j.lanes|=p;var $t=e_(j,Te,p);Xl(j,$t);break e}}j=j.return}while(j!==null)}M_(w)}catch(jn){p=jn,co===w&&w!==null&&(co=w=w.return);continue}break}while(!0)}function L_(){var d=FB.current;return FB.current=wB,d===null?wB:d}function rP(){(Bo===0||Bo===3||Bo===2)&&(Bo=4),Qo===null||(Wg&268435455)===0&&(TB&268435455)===0||wp(Qo,ha)}function MB(d,p){var w=fi;fi|=2;var B=L_();(Qo!==d||ha!==p)&&(kh=null,Xg(d,p));do try{jY();break}catch(M){P_(d,M)}while(!0);if(So(),fi=w,FB.current=B,co!==null)throw Error(t(261));return Qo=null,ha=0,Bo}function jY(){for(;co!==null;)I_(co)}function QY(){for(;co!==null&&!Si();)I_(co)}function I_(d){var p=__(d.alternate,d,wc);d.memoizedProps=d.pendingProps,p===null?M_(d):co=p,qk.current=null}function M_(d){var p=d;do{var w=p.alternate;if(d=p.return,(p.flags&32768)===0){if(w=MY(w,p,wc),w!==null){co=w;return}}else{if(w=RY(w,p),w!==null){w.flags&=32767,co=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Bo=6,co=null;return}}if(p=p.sibling,p!==null){co=p;return}co=p=d}while(p!==null);Bo===0&&(Bo=5)}function Yg(d,p,w){var B=Wr,M=fu.transition;try{fu.transition=null,Wr=1,zY(d,p,w,B)}finally{fu.transition=M,Wr=B}return null}function zY(d,p,w,B){do Dy();while(yp!==null);if((fi&6)!==0)throw Error(t(327));w=d.finishedWork;var M=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(t(177));d.callbackNode=null,d.callbackPriority=0;var j=w.lanes|w.childLanes;if(Wf(d,j),d===Qo&&(co=Qo=null,ha=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||kB||(kB=!0,O_(Xu,function(){return Dy(),null})),j=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||j){j=fu.transition,fu.transition=null;var ue=Wr;Wr=1;var Te=fi;fi|=4,qk.current=null,_Y(d,w),S_(w,d),gh(xh),fr=!!jg,xh=jg=null,d.current=w,OY(w),$c(),fi=Te,Wr=ue,fu.transition=j}else d.current=w;if(kB&&(kB=!1,yp=d,PB=M),j=d.pendingLanes,j===0&&(vp=null),rl(w.stateNode),Jl(d,di()),p!==null)for(B=d.onRecoverableError,w=0;w<p.length;w++)M=p[w],B(M.value,{componentStack:M.stack,digest:M.digest});if(NB)throw NB=!1,d=Zk,Zk=null,d;return(PB&1)!==0&&d.tag!==0&&Dy(),j=d.pendingLanes,(j&1)!==0?d===Jk?Jw++:(Jw=0,Jk=d):Jw=0,K(),null}function Dy(){if(yp!==null){var d=Ul(PB),p=fu.transition,w=Wr;try{if(fu.transition=null,Wr=16>d?16:d,yp===null)var B=!1;else{if(d=yp,yp=null,PB=0,(fi&6)!==0)throw Error(t(331));var M=fi;for(fi|=4,In=d.current;In!==null;){var j=In,ue=j.child;if((In.flags&16)!==0){var Te=j.deletions;if(Te!==null){for(var Re=0;Re<Te.length;Re++){var ct=Te[Re];for(In=ct;In!==null;){var _t=In;switch(_t.tag){case 0:case 11:case 15:Xw(8,_t,j)}var Qt=_t.child;if(Qt!==null)Qt.return=_t,In=Qt;else for(;In!==null;){_t=In;var It=_t.sibling,wn=_t.return;if(y_(_t),_t===ct){In=null;break}if(It!==null){It.return=wn,In=It;break}In=wn}}}var Dn=j.alternate;if(Dn!==null){var Un=Dn.child;if(Un!==null){Dn.child=null;do{var Js=Un.sibling;Un.sibling=null,Un=Js}while(Un!==null)}}In=j}}if((j.subtreeFlags&2064)!==0&&ue!==null)ue.return=j,In=ue;else e:for(;In!==null;){if(j=In,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Xw(9,j,j.return)}var nt=j.sibling;if(nt!==null){nt.return=j.return,In=nt;break e}In=j.return}}var He=d.current;for(In=He;In!==null;){ue=In;var it=ue.child;if((ue.subtreeFlags&2064)!==0&&it!==null)it.return=ue,In=it;else e:for(ue=He;In!==null;){if(Te=In,(Te.flags&2048)!==0)try{switch(Te.tag){case 0:case 11:case 15:EB(9,Te)}}catch(jn){js(Te,Te.return,jn)}if(Te===ue){In=null;break e}var $t=Te.sibling;if($t!==null){$t.return=Te.return,In=$t;break e}In=Te.return}}if(fi=M,K(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Dl,d)}catch{}B=!0}return B}finally{Wr=w,fu.transition=p}}return!1}function R_(d,p,w){p=Ly(w,p),p=$D(d,p,1),d=ql(d,p,1),p=pl(),d!==null&&(Do(d,1,p),Jl(d,p))}function js(d,p,w){if(d.tag===3)R_(d,d,w);else for(;p!==null;){if(p.tag===3){R_(p,d,w);break}else if(p.tag===1){var B=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(vp===null||!vp.has(B))){d=Ly(w,d),d=e_(p,d,1),p=ql(p,d,1),d=pl(),p!==null&&(Do(p,1,d),Jl(p,d));break}}p=p.return}}function KY(d,p,w){var B=d.pingCache;B!==null&&B.delete(p),p=pl(),d.pingedLanes|=d.suspendedLanes&w,Qo===d&&(ha&w)===w&&(Bo===4||Bo===3&&(ha&130023424)===ha&&500>di()-Yk?Xg(d,0):Xk|=w),Jl(d,p)}function D_(d,p){p===0&&((d.mode&1)===0?p=1:(p=_l,_l<<=1,(_l&130023424)===0&&(_l=4194304)));var w=pl();d=yi(d,p),d!==null&&(Do(d,p,w),Jl(d,w))}function VY(d){var p=d.memoizedState,w=0;p!==null&&(w=p.retryLane),D_(d,w)}function GY(d,p){var w=0;switch(d.tag){case 13:var B=d.stateNode,M=d.memoizedState;M!==null&&(w=M.retryLane);break;case 19:B=d.stateNode;break;default:throw Error(t(314))}B!==null&&B.delete(p),D_(d,w)}var __;__=function(d,p,w){if(d!==null)if(d.memoizedProps!==p.pendingProps||Ra.current)Yl=!0;else{if((d.lanes&w)===0&&(p.flags&128)===0)return Yl=!1,IY(d,p,w);Yl=(d.flags&131072)!==0}else Yl=!1,yt&&(p.flags&1048576)!==0&&Bt(p,me,p.index);switch(p.lanes=0,p.tag){case 2:var B=p.type;SB(d,p),d=p.pendingProps;var M=up(p,Co.current);fs(p,w),M=Kg(null,p,B,d,M,w);var j=hu();return p.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Da(B)?(j=!0,Bh(p)):j=!1,p.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,xy(p),M.updater=xB,p.stateNode=M,M._reactInternals=p,Mk(p,B,d,w),p=Ok(null,p,B,!0,j,w)):(p.tag=0,yt&&j&&dt(p),fl(null,p,M,w),p=p.child),p;case 16:B=p.elementType;e:{switch(SB(d,p),d=p.pendingProps,M=B._init,B=M(B._payload),p.type=B,M=p.tag=qY(B),d=fA(B,d),M){case 0:p=_k(null,p,B,d,w);break e;case 1:p=c_(null,p,B,d,w);break e;case 11:p=i_(null,p,B,d,w);break e;case 14:p=s_(null,p,B,fA(B.type,d),w);break e}throw Error(t(306,B,""))}return p;case 0:return B=p.type,M=p.pendingProps,M=p.elementType===B?M:fA(B,M),_k(d,p,B,M,w);case 1:return B=p.type,M=p.pendingProps,M=p.elementType===B?M:fA(B,M),c_(d,p,B,M,w);case 3:e:{if(u_(p),d===null)throw Error(t(387));B=p.pendingProps,j=p.memoizedState,M=j.element,Qw(d,p),uA(p,B,null,w);var ue=p.memoizedState;if(B=ue.element,j.isDehydrated)if(j={element:B,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},p.updateQueue.baseState=j,p.memoizedState=j,p.flags&256){M=Ly(Error(t(423)),p),p=A_(d,p,B,w,M);break e}else if(B!==M){M=Ly(Error(t(424)),p),p=A_(d,p,B,w,M);break e}else for(bt=ua(p.stateNode.containerInfo.firstChild),_e=p,yt=!0,wt=null,w=vi(p,null,B,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Ir(),B===M){p=Nh(d,p,w);break e}fl(d,p,B,w)}p=p.child}return p;case 5:return mB(p),d===null&&An(p),B=p.type,M=p.pendingProps,j=d!==null?d.memoizedProps:null,ue=M.children,_w(B,M)?ue=null:j!==null&&_w(B,j)&&(p.flags|=32),l_(d,p),fl(d,p,ue,w),p.child;case 6:return d===null&&An(p),null;case 13:return d_(d,p,w);case 4:return hp(p,p.stateNode.containerInfo),B=p.pendingProps,d===null?p.child=Xs(p,null,B,w):fl(d,p,B,w),p.child;case 11:return B=p.type,M=p.pendingProps,M=p.elementType===B?M:fA(B,M),i_(d,p,B,M,w);case 7:return fl(d,p,p.pendingProps,w),p.child;case 8:return fl(d,p,p.pendingProps.children,w),p.child;case 12:return fl(d,p,p.pendingProps.children,w),p.child;case 10:e:{if(B=p.type._context,M=p.pendingProps,j=p.memoizedProps,ue=M.value,Ii(Ho,B._currentValue),B._currentValue=ue,j!==null)if(hi(j.value,ue)){if(j.children===M.children&&!Ra.current){p=Nh(d,p,w);break e}}else for(j=p.child,j!==null&&(j.return=p);j!==null;){var Te=j.dependencies;if(Te!==null){ue=j.child;for(var Re=Te.firstContext;Re!==null;){if(Re.context===B){if(j.tag===1){Re=Wl(-1,w&-w),Re.tag=2;var ct=j.updateQueue;if(ct!==null){ct=ct.shared;var _t=ct.pending;_t===null?Re.next=Re:(Re.next=_t.next,_t.next=Re),ct.pending=Re}}j.lanes|=w,Re=j.alternate,Re!==null&&(Re.lanes|=w),Gl(j.return,w,p),Te.lanes|=w;break}Re=Re.next}}else if(j.tag===10)ue=j.type===p.type?null:j.child;else if(j.tag===18){if(ue=j.return,ue===null)throw Error(t(341));ue.lanes|=w,Te=ue.alternate,Te!==null&&(Te.lanes|=w),Gl(ue,w,p),ue=j.sibling}else ue=j.child;if(ue!==null)ue.return=j;else for(ue=j;ue!==null;){if(ue===p){ue=null;break}if(j=ue.sibling,j!==null){j.return=ue.return,ue=j;break}ue=ue.return}j=ue}fl(d,p,M.children,w),p=p.child}return p;case 9:return M=p.type,B=p.pendingProps.children,fs(p,w),M=Us(M),B=B(M),p.flags|=1,fl(d,p,B,w),p.child;case 14:return B=p.type,M=fA(B,p.pendingProps),M=fA(B.type,M),s_(d,p,B,M,w);case 15:return o_(d,p,p.type,p.pendingProps,w);case 17:return B=p.type,M=p.pendingProps,M=p.elementType===B?M:fA(B,M),SB(d,p),p.tag=1,Da(B)?(d=!0,Bh(p)):d=!1,fs(p,w),ZD(p,B,M),Mk(p,B,M,w),Ok(null,p,B,!0,d,w);case 19:return f_(d,p,w);case 22:return a_(d,p,w)}throw Error(t(156,p.tag))};function O_(d,p){return hr(d,p)}function WY(d,p,w,B){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pu(d,p,w,B){return new WY(d,p,w,B)}function iP(d){return d=d.prototype,!(!d||!d.isReactComponent)}function qY(d){if(typeof d=="function")return iP(d)?1:0;if(d!=null){if(d=d.$$typeof,d===D)return 11;if(d===ve)return 14}return 2}function xp(d,p){var w=d.alternate;return w===null?(w=pu(d.tag,p,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=p,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,p=d.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function RB(d,p,w,B,M,j){var ue=2;if(B=d,typeof d=="function")iP(d)&&(ue=1);else if(typeof d=="string")ue=5;else e:switch(d){case I:return Zg(w.children,M,j,p);case U:ue=8,M|=8;break;case V:return d=pu(12,w,p,M|2),d.elementType=V,d.lanes=j,d;case z:return d=pu(13,w,p,M),d.elementType=z,d.lanes=j,d;case G:return d=pu(19,w,p,M),d.elementType=G,d.lanes=j,d;case $:return DB(w,M,j,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case W:ue=10;break e;case L:ue=9;break e;case D:ue=11;break e;case ve:ue=14;break e;case J:ue=16,B=null;break e}throw Error(t(130,d==null?d:typeof d,""))}return p=pu(ue,w,p,M),p.elementType=d,p.type=B,p.lanes=j,p}function Zg(d,p,w,B){return d=pu(7,d,B,p),d.lanes=w,d}function DB(d,p,w,B){return d=pu(22,d,B,p),d.elementType=$,d.lanes=w,d.stateNode={isHidden:!1},d}function sP(d,p,w){return d=pu(6,d,null,p),d.lanes=w,d}function oP(d,p,w){return p=pu(4,d.children!==null?d.children:[],d.key,p),p.lanes=w,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function XY(d,p,w,B,M){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=B,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function aP(d,p,w,B,M,j,ue,Te,Re){return d=new XY(d,p,w,Te,Re),p===1?(p=1,j===!0&&(p|=8)):p=0,j=pu(3,null,null,p),d.current=j,j.stateNode=d,j.memoizedState={element:B,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},xy(j),d}function YY(d,p,w){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:B==null?null:""+B,children:d,containerInfo:p,implementation:w}}function U_(d){if(!d)return Ad;d=d._reactInternals;e:{if(yn(d)!==d||d.tag!==1)throw Error(t(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Da(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(t(171))}if(d.tag===1){var w=d.type;if(Da(w))return jw(d,w,p)}return p}function H_(d,p,w,B,M,j,ue,Te,Re){return d=aP(w,B,!0,d,M,j,ue,Te,Re),d.context=U_(null),w=d.current,B=pl(),M=bp(w),j=Wl(B,M),j.callback=p??null,ql(w,j,M),d.current.lanes=M,Do(d,M,B),Jl(d,B),d}function _B(d,p,w,B){var M=p.current,j=pl(),ue=bp(M);return w=U_(w),p.context===null?p.context=w:p.pendingContext=w,p=Wl(j,ue),p.payload={element:d},B=B===void 0?null:B,B!==null&&(p.callback=B),d=ql(M,p,ue),d!==null&&(gA(d,M,ue,j),Eh(d,M,ue)),ue}function OB(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function j_(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<p?w:p}}function lP(d,p){j_(d,p),(d=d.alternate)&&j_(d,p)}function ZY(){return null}var Q_=typeof reportError=="function"?reportError:function(d){console.error(d)};function cP(d){this._internalRoot=d}UB.prototype.render=cP.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(t(409));_B(d,p,null,null)},UB.prototype.unmount=cP.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;qg(function(){_B(null,d,null,null)}),p[Uo]=null}};function UB(d){this._internalRoot=d}UB.prototype.unstable_scheduleHydration=function(d){if(d){var p=il();d={blockedOn:null,target:d,priority:p};for(var w=0;w<sa.length&&p!==0&&p<sa[w].priority;w++);sa.splice(w,0,d),w===0&&pc(d)}};function uP(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function HB(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function z_(){}function JY(d,p,w,B,M){if(M){if(typeof B=="function"){var j=B;B=function(){var ct=OB(ue);j.call(ct)}}var ue=H_(p,B,d,0,null,!1,!1,"",z_);return d._reactRootContainer=ue,d[Uo]=ue.current,bh(d.nodeType===8?d.parentNode:d),qg(),ue}for(;M=d.lastChild;)d.removeChild(M);if(typeof B=="function"){var Te=B;B=function(){var ct=OB(Re);Te.call(ct)}}var Re=aP(d,0,!1,null,null,!1,!1,"",z_);return d._reactRootContainer=Re,d[Uo]=Re.current,bh(d.nodeType===8?d.parentNode:d),qg(function(){_B(p,Re,w,B)}),Re}function jB(d,p,w,B,M){var j=w._reactRootContainer;if(j){var ue=j;if(typeof M=="function"){var Te=M;M=function(){var Re=OB(ue);Te.call(Re)}}_B(p,ue,d,M)}else ue=JY(w,p,d,M,B);return OB(ue)}Ju=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var w=vs(p.pendingLanes);w!==0&&(nu(p,w|1),Jl(p,di()),(fi&6)===0&&(Ry=di()+500,K()))}break;case 13:qg(function(){var B=yi(d,1);if(B!==null){var M=pl();gA(B,d,1,M)}}),lP(d,1)}},hc=function(d){if(d.tag===13){var p=yi(d,134217728);if(p!==null){var w=pl();gA(p,d,134217728,w)}lP(d,134217728)}},id=function(d){if(d.tag===13){var p=bp(d),w=yi(d,p);if(w!==null){var B=pl();gA(w,d,p,B)}lP(d,p)}},il=function(){return Wr},Hl=function(d,p){var w=Wr;try{return Wr=d,p()}finally{Wr=w}},O=function(d,p,w){switch(p){case"input":if(Nt(d,w),p=w.name,w.type==="radio"&&p!=null){for(w=d;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<w.length;p++){var B=w[p];if(B!==d&&B.form===d.form){var M=Qg(B);if(!M)throw Error(t(90));Ue(B),Nt(B,M)}}}break;case"textarea":qe(d,w);break;case"select":p=w.value,p!=null&&Et(d,!!w.multiple,p,!1)}},Ft=tP,vt=qg;var $Y={usingClientEntryPoint:!1,Events:[cp,Ch,Qg,Ee,Pe,tP]},$w={findFiberByHostInstance:ud,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eZ={bundleType:$w.bundleType,version:$w.version,rendererPackageName:$w.rendererPackageName,rendererConfig:$w.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=yr(d),d===null?null:d.stateNode},findFiberByHostInstance:$w.findFiberByHostInstance||ZY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var QB=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!QB.isDisabled&&QB.supportsFiber)try{Dl=QB.inject(eZ),Hr=QB}catch{}}return $l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$Y,$l.createPortal=function(d,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uP(p))throw Error(t(200));return YY(d,p,null,w)},$l.createRoot=function(d,p){if(!uP(d))throw Error(t(299));var w=!1,B="",M=Q_;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(B=p.identifierPrefix),p.onRecoverableError!==void 0&&(M=p.onRecoverableError)),p=aP(d,1,!1,null,null,w,!1,B,M),d[Uo]=p.current,bh(d.nodeType===8?d.parentNode:d),new cP(p)},$l.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(t(188)):(d=Object.keys(d).join(","),Error(t(268,d)));return d=yr(p),d=d===null?null:d.stateNode,d},$l.flushSync=function(d){return qg(d)},$l.hydrate=function(d,p,w){if(!HB(p))throw Error(t(200));return jB(null,d,p,!0,w)},$l.hydrateRoot=function(d,p,w){if(!uP(d))throw Error(t(405));var B=w!=null&&w.hydratedSources||null,M=!1,j="",ue=Q_;if(w!=null&&(w.unstable_strictMode===!0&&(M=!0),w.identifierPrefix!==void 0&&(j=w.identifierPrefix),w.onRecoverableError!==void 0&&(ue=w.onRecoverableError)),p=H_(p,null,d,1,w??null,M,!1,j,ue),d[Uo]=p.current,bh(d),B)for(d=0;d<B.length;d++)w=B[d],M=w._getVersion,M=M(w._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[w,M]:p.mutableSourceEagerHydrationData.push(w,M);return new UB(p)},$l.render=function(d,p,w){if(!HB(p))throw Error(t(200));return jB(null,d,p,!1,w)},$l.unmountComponentAtNode=function(d){if(!HB(d))throw Error(t(40));return d._reactRootContainer?(qg(function(){jB(null,null,d,!1,function(){d._reactRootContainer=null,d[Uo]=null})}),!0):!1},$l.unstable_batchedUpdates=tP,$l.unstable_renderSubtreeIntoContainer=function(d,p,w,B){if(!HB(w))throw Error(t(200));if(d==null||d._reactInternals===void 0)throw Error(t(38));return jB(d,p,w,!1,B)},$l.version="18.3.1-next-f1338f8080-20240426",$l}var J_;function yj(){if(J_)return fP.exports;J_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fP.exports=uZ(),fP.exports}var $_;function AZ(){if($_)return zB;$_=1;var n=yj();return zB.createRoot=n.createRoot,zB.hydrateRoot=n.hydrateRoot,zB}var dZ=AZ(),_=_S();const kt=iN(_),wM=iZ({__proto__:null,default:kt},[_]),hZ=1,fZ=1e6;let gP=0;function pZ(){return gP=(gP+1)%Number.MAX_SAFE_INTEGER,gP.toString()}const vP=new Map,eO=n=>{if(vP.has(n))return;const e=setTimeout(()=>{vP.delete(n),a2({type:"REMOVE_TOAST",toastId:n})},fZ);vP.set(n,e)},mZ=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,hZ)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?eO(t):n.toasts.forEach(r=>{eO(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},nE=[];let rE={toasts:[]};function a2(n){rE=mZ(rE,n),nE.forEach(e=>{e(rE)})}function gZ({...n}){const e=pZ(),t=i=>a2({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>a2({type:"DISMISS_TOAST",toastId:e});return a2({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function vZ(){const[n,e]=_.useState(rE);return _.useEffect(()=>(nE.push(e),()=>{const t=nE.indexOf(e);t>-1&&nE.splice(t,1)}),[n]),{...n,toast:gZ,dismiss:t=>a2({type:"DISMISS_TOAST",toastId:t})}}var xw=yj();const xM=iN(xw);function mr(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function tO(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function bj(...n){return e=>{let t=!1;const r=n.map(i=>{const s=tO(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():tO(n[i],null)}}}}function zi(...n){return _.useCallback(bj(...n),n)}function yZ(n,e){const t=_.createContext(e),r=s=>{const{children:o,...a}=s,l=_.useMemo(()=>a,Object.values(a));return y.jsx(t.Provider,{value:l,children:o})};r.displayName=n+"Provider";function i(s){const o=_.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function Qf(n,e=[]){let t=[];function r(s,o){const a=_.createContext(o),l=t.length;t=[...t,o];const c=A=>{var b;const{scope:h,children:f,...v}=A,g=((b=h==null?void 0:h[n])==null?void 0:b[l])||a,x=_.useMemo(()=>v,Object.values(v));return y.jsx(g.Provider,{value:x,children:f})};c.displayName=s+"Provider";function u(A,h){var g;const f=((g=h==null?void 0:h[n])==null?void 0:g[l])||a,v=_.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${A}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>_.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return _.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,bZ(i,...e)]}function bZ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const A=l(s)[`__scope${c}`];return{...a,...A}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Wv(n){const e=xZ(n),t=_.forwardRef((r,i)=>{const{children:s,...o}=r,a=_.Children.toArray(s),l=a.find(SZ);if(l){const c=l.props.children,u=a.map(A=>A===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:A);return y.jsx(e,{...o,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,u):null})}return y.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var wZ=Wv("Slot");function xZ(n){const e=_.forwardRef((t,r)=>{const{children:i,...s}=t;if(_.isValidElement(i)){const o=EZ(i),a=BZ(s,i.props);return i.type!==_.Fragment&&(a.ref=r?bj(r,o):o),_.cloneElement(i,a)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var wj=Symbol("radix.slottable");function CZ(n){const e=({children:t})=>y.jsx(y.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=wj,e}function SZ(n){return _.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===wj}function BZ(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function EZ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function xj(n){const e=n+"CollectionProvider",[t,r]=Qf(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:b}=g,S=kt.useRef(null),E=kt.useRef(new Map).current;return y.jsx(i,{scope:x,itemMap:E,collectionRef:S,children:b})};o.displayName=e;const a=n+"CollectionSlot",l=Wv(a),c=kt.forwardRef((g,x)=>{const{scope:b,children:S}=g,E=s(a,b),k=zi(x,E.collectionRef);return y.jsx(l,{ref:k,children:S})});c.displayName=a;const u=n+"CollectionItemSlot",A="data-radix-collection-item",h=Wv(u),f=kt.forwardRef((g,x)=>{const{scope:b,children:S,...E}=g,k=kt.useRef(null),P=zi(x,k),N=s(u,b);return kt.useEffect(()=>(N.itemMap.set(k,{ref:k,...E}),()=>void N.itemMap.delete(k))),y.jsx(h,{[A]:"",ref:P,children:S})});f.displayName=u;function v(g){const x=s(n+"CollectionConsumer",g);return kt.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${A}]`));return Array.from(x.itemMap.values()).sort((N,I)=>E.indexOf(N.ref.current)-E.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},v,r]}var FZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ur=FZ.reduce((n,e)=>{const t=Wv(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function Cj(n,e){n&&xw.flushSync(()=>n.dispatchEvent(e))}function WA(n){const e=_.useRef(n);return _.useEffect(()=>{e.current=n}),_.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function TZ(n,e=globalThis==null?void 0:globalThis.document){const t=WA(n);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var NZ="DismissableLayer",uL="dismissableLayer.update",kZ="dismissableLayer.pointerDownOutside",PZ="dismissableLayer.focusOutside",nO,Sj=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cw=_.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=_.useContext(Sj),[u,A]=_.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=_.useState({}),v=zi(e,I=>A(I)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(x),S=u?g.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,k=S>=b,P=IZ(I=>{const U=I.target,V=[...c.branches].some(W=>W.contains(U));!k||V||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},h),N=MZ(I=>{const U=I.target;[...c.branches].some(W=>W.contains(U))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},h);return TZ(I=>{S===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},h),_.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(nO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),rO(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=nO)}},[u,h,t,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),rO())},[u,c]),_.useEffect(()=>{const I=()=>f({});return document.addEventListener(uL,I),()=>document.removeEventListener(uL,I)},[]),y.jsx(Ur.div,{...l,ref:v,style:{pointerEvents:E?k?"auto":"none":void 0,...n.style},onFocusCapture:mr(n.onFocusCapture,N.onFocusCapture),onBlurCapture:mr(n.onBlurCapture,N.onBlurCapture),onPointerDownCapture:mr(n.onPointerDownCapture,P.onPointerDownCapture)})});Cw.displayName=NZ;var LZ="DismissableLayerBranch",Bj=_.forwardRef((n,e)=>{const t=_.useContext(Sj),r=_.useRef(null),i=zi(e,r);return _.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),y.jsx(Ur.div,{...n,ref:i})});Bj.displayName=LZ;function IZ(n,e=globalThis==null?void 0:globalThis.document){const t=WA(n),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Ej(kZ,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function MZ(n,e=globalThis==null?void 0:globalThis.document){const t=WA(n),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&Ej(PZ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rO(){const n=new CustomEvent(uL);document.dispatchEvent(n)}function Ej(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Cj(i,s):i.dispatchEvent(s)}var RZ=Cw,DZ=Bj,Pa=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},_Z="Portal",OS=_.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=_.useState(!1);Pa(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?xM.createPortal(y.jsx(Ur.div,{...r,ref:e}),o):null});OS.displayName=_Z;function OZ(n,e){return _.useReducer((t,r)=>e[t][r]??t,n)}var zf=n=>{const{present:e,children:t}=n,r=UZ(e),i=typeof t=="function"?t({present:r.isPresent}):_.Children.only(t),s=zi(r.ref,HZ(i));return typeof t=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};zf.displayName="Presence";function UZ(n){const[e,t]=_.useState(),r=_.useRef(null),i=_.useRef(n),s=_.useRef("none"),o=n?"mounted":"unmounted",[a,l]=OZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=KB(r.current);s.current=a==="mounted"?c:"none"},[a]),Pa(()=>{const c=r.current,u=i.current;if(u!==n){const h=s.current,f=KB(c);n?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Pa(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,A=f=>{const g=KB(r.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=f=>{f.target===e&&(s.current=KB(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",A),e.addEventListener("animationend",A),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",A),e.removeEventListener("animationend",A)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function KB(n){return(n==null?void 0:n.animationName)||"none"}function HZ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var jZ=wM[" useInsertionEffect ".trim().toString()]||Pa;function lw({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=QZ({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const u=_.useRef(n!==void 0);_.useEffect(()=>{const A=u.current;A!==a&&console.warn(`${r} is changing from ${A?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=_.useCallback(u=>{var A;if(a){const h=zZ(u)?u(n):u;h!==n&&((A=o.current)==null||A.call(o,h))}else s(u)},[a,n,s,o]);return[l,c]}function QZ({defaultProp:n,onChange:e}){const[t,r]=_.useState(n),i=_.useRef(t),s=_.useRef(e);return jZ(()=>{s.current=e},[e]),_.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function zZ(n){return typeof n=="function"}var Fj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KZ="VisuallyHidden",sN=_.forwardRef((n,e)=>y.jsx(Ur.span,{...n,ref:e,style:{...Fj,...n.style}}));sN.displayName=KZ;var VZ=sN,CM="ToastProvider",[SM,GZ,WZ]=xj("Toast"),[Tj,n2e]=Qf("Toast",[WZ]),[qZ,oN]=Tj(CM),Nj=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=_.useState(null),[c,u]=_.useState(0),A=_.useRef(!1),h=_.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${CM}\`. Expected non-empty \`string\`.`),y.jsx(SM.Provider,{scope:e,children:y.jsx(qZ,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:_.useCallback(()=>u(f=>f+1),[]),onToastRemove:_.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:h,children:o})})};Nj.displayName=CM;var kj="ToastViewport",XZ=["F8"],AL="toast.viewportPause",dL="toast.viewportResume",Pj=_.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=XZ,label:i="Notifications ({hotkey})",...s}=n,o=oN(kj,t),a=GZ(t),l=_.useRef(null),c=_.useRef(null),u=_.useRef(null),A=_.useRef(null),h=zi(e,A,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;_.useEffect(()=>{const x=b=>{var E;r.length!==0&&r.every(k=>b[k]||b.code===k)&&((E=A.current)==null||E.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),_.useEffect(()=>{const x=l.current,b=A.current;if(v&&x&&b){const S=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(AL);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(dL);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},k=N=>{!x.contains(N.relatedTarget)&&E()},P=()=>{x.contains(document.activeElement)||E()};return x.addEventListener("focusin",S),x.addEventListener("focusout",k),x.addEventListener("pointermove",S),x.addEventListener("pointerleave",P),window.addEventListener("blur",S),window.addEventListener("focus",E),()=>{x.removeEventListener("focusin",S),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",S),x.removeEventListener("pointerleave",P),window.removeEventListener("blur",S),window.removeEventListener("focus",E)}}},[v,o.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:x})=>{const S=a().map(E=>{const k=E.ref.current,P=[k,...lJ(k)];return x==="forwards"?P:P.reverse()});return(x==="forwards"?S.reverse():S).flat()},[a]);return _.useEffect(()=>{const x=A.current;if(x){const b=S=>{var P,N,I;const E=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!E){const U=document.activeElement,V=S.shiftKey;if(S.target===x&&V){(P=c.current)==null||P.focus();return}const D=g({tabbingDirection:V?"backwards":"forwards"}),z=D.findIndex(G=>G===U);yP(D.slice(z+1))?S.preventDefault():V?(N=c.current)==null||N.focus():(I=u.current)==null||I.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[a,g]),y.jsxs(DZ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&y.jsx(hL,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});yP(x)}}),y.jsx(SM.Slot,{scope:t,children:y.jsx(Ur.ol,{tabIndex:-1,...s,ref:h})}),v&&y.jsx(hL,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});yP(x)}})]})});Pj.displayName=kj;var Lj="ToastFocusProxy",hL=_.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=oN(Lj,t);return y.jsx(sN,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});hL.displayName=Lj;var US="Toast",YZ="toast.swipeStart",ZZ="toast.swipeMove",JZ="toast.swipeCancel",$Z="toast.swipeEnd",Ij=_.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,l]=lw({prop:r,defaultProp:i??!0,onChange:s,caller:US});return y.jsx(zf,{present:t||a,children:y.jsx(nJ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:WA(n.onPause),onResume:WA(n.onResume),onSwipeStart:mr(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:mr(n.onSwipeMove,c=>{const{x:u,y:A}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:mr(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:mr(n.onSwipeEnd,c=>{const{x:u,y:A}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),l(!1)})})})});Ij.displayName=US;var[eJ,tJ]=Tj(US,{onClose(){}}),nJ=_.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:A,onSwipeCancel:h,onSwipeEnd:f,...v}=n,g=oN(US,t),[x,b]=_.useState(null),S=zi(e,G=>b(G)),E=_.useRef(null),k=_.useRef(null),P=i||g.duration,N=_.useRef(0),I=_.useRef(P),U=_.useRef(0),{onToastAdd:V,onToastRemove:W}=g,L=WA(()=>{var ve;(x==null?void 0:x.contains(document.activeElement))&&((ve=g.viewport)==null||ve.focus()),o()}),D=_.useCallback(G=>{!G||G===1/0||(window.clearTimeout(U.current),N.current=new Date().getTime(),U.current=window.setTimeout(L,G))},[L]);_.useEffect(()=>{const G=g.viewport;if(G){const ve=()=>{D(I.current),c==null||c()},J=()=>{const $=new Date().getTime()-N.current;I.current=I.current-$,window.clearTimeout(U.current),l==null||l()};return G.addEventListener(AL,J),G.addEventListener(dL,ve),()=>{G.removeEventListener(AL,J),G.removeEventListener(dL,ve)}}},[g.viewport,P,l,c,D]),_.useEffect(()=>{s&&!g.isClosePausedRef.current&&D(P)},[s,P,g.isClosePausedRef,D]),_.useEffect(()=>(V(),()=>W()),[V,W]);const z=_.useMemo(()=>x?Hj(x):null,[x]);return g.viewport?y.jsxs(y.Fragment,{children:[z&&y.jsx(rJ,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),y.jsx(eJ,{scope:t,onClose:L,children:xw.createPortal(y.jsx(SM.ItemSlot,{scope:t,children:y.jsx(RZ,{asChild:!0,onEscapeKeyDown:mr(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Ur.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:S,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:mr(n.onKeyDown,G=>{G.key==="Escape"&&(a==null||a(G.nativeEvent),G.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:mr(n.onPointerDown,G=>{G.button===0&&(E.current={x:G.clientX,y:G.clientY})}),onPointerMove:mr(n.onPointerMove,G=>{if(!E.current)return;const ve=G.clientX-E.current.x,J=G.clientY-E.current.y,$=!!k.current,X=["left","right"].includes(g.swipeDirection),ie=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,pe=X?ie(0,ve):0,te=X?0:ie(0,J),H=G.pointerType==="touch"?10:2,q={x:pe,y:te},re={originalEvent:G,delta:q};$?(k.current=q,VB(ZZ,A,re,{discrete:!1})):iO(q,g.swipeDirection,H)?(k.current=q,VB(YZ,u,re,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(ve)>H||Math.abs(J)>H)&&(E.current=null)}),onPointerUp:mr(n.onPointerUp,G=>{const ve=k.current,J=G.target;if(J.hasPointerCapture(G.pointerId)&&J.releasePointerCapture(G.pointerId),k.current=null,E.current=null,ve){const $=G.currentTarget,X={originalEvent:G,delta:ve};iO(ve,g.swipeDirection,g.swipeThreshold)?VB($Z,f,X,{discrete:!0}):VB(JZ,h,X,{discrete:!0}),$.addEventListener("click",ie=>ie.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),rJ=n=>{const{__scopeToast:e,children:t,...r}=n,i=oN(US,e),[s,o]=_.useState(!1),[a,l]=_.useState(!1);return oJ(()=>o(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:y.jsx(OS,{asChild:!0,children:y.jsx(sN,{...r,children:s&&y.jsxs(y.Fragment,{children:[i.label," ",t]})})})},iJ="ToastTitle",Mj=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx(Ur.div,{...r,ref:e})});Mj.displayName=iJ;var sJ="ToastDescription",Rj=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx(Ur.div,{...r,ref:e})});Rj.displayName=sJ;var Dj="ToastAction",_j=_.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?y.jsx(Uj,{altText:t,asChild:!0,children:y.jsx(BM,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dj}\`. Expected non-empty \`string\`.`),null)});_j.displayName=Dj;var Oj="ToastClose",BM=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=tJ(Oj,t);return y.jsx(Uj,{asChild:!0,children:y.jsx(Ur.button,{type:"button",...r,ref:e,onClick:mr(n.onClick,i.onClose)})})});BM.displayName=Oj;var Uj=_.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return y.jsx(Ur.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Hj(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),aJ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Hj(r))}}),e}function VB(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Cj(i,s):i.dispatchEvent(s)}var iO=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function oJ(n=()=>{}){const e=WA(n);Pa(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function aJ(n){return n.nodeType===n.ELEMENT_NODE}function lJ(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function yP(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var cJ=Nj,jj=Pj,Qj=Ij,zj=Mj,Kj=Rj,Vj=_j,Gj=BM;function Wj(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Wj(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function qj(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Wj(n))&&(r&&(r+=" "),r+=e);return r}const sO=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,oO=qj,aN=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return oO(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],A=s==null?void 0:s[c];if(u===null)return null;const h=sO(u)||sO(A);return i[c][h]}),a=t&&Object.entries(t).reduce((c,u)=>{let[A,h]=u;return h===void 0||(c[A]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:A,className:h,...f}=u;return Object.entries(f).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...s,...a}[g]):{...s,...a}[g]===x})?[...c,A,h]:c},[]);return oO(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xj=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=_.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...AJ,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Xj("lucide",i),...a},[...o.map(([c,u])=>_.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=(n,e)=>{const t=_.forwardRef(({className:r,...i},s)=>_.createElement(dJ,{ref:s,iconNode:e,className:Xj(`lucide-${uJ(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=ls("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=ls("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=ls("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ls("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=ls("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=ls("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=ls("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=ls("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ls("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=ls("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=ls("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=ls("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ls("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=ls("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=ls("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=ls("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=ls("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=ls("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=ls("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=ls("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=ls("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ls("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=ls("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=ls("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ls("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=ls("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),FM="-",TJ=n=>{const e=kJ(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(FM);return a[0]===""&&a.length!==1&&a.shift(),$j(a,e)||NJ(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},$j=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?$j(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(FM);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},AO=/^\[(.+)\]$/,NJ=n=>{if(AO.test(n)){const e=AO.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},kJ=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return LJ(Object.entries(n.classGroups),t).forEach(([s,o])=>{pL(o,r,s,e)}),r},pL=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:dO(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(PJ(i)){pL(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{pL(o,dO(e,s),t,r)})})},dO=(n,e)=>{let t=n;return e.split(FM).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},PJ=n=>n.isThemeGetter,LJ=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,IJ=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},eQ="!",MJ=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,A;for(let x=0;x<a.length;x++){let b=a[x];if(c===0){if(b===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(u,x)),u=x+s;continue}if(b==="/"){A=x;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(eQ),v=f?h.substring(1):h,g=A&&A>u?A-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},RJ=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},DJ=n=>({cache:IJ(n.cacheSize),parseClassName:MJ(n),...TJ(n)}),_J=/\s+/,OJ=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(_J);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:A,baseClassName:h,maybePostfixModifierPosition:f}=t(c);let v=!!f,g=r(v?h.substring(0,f):h);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const x=RJ(u).join(":"),b=A?x+eQ:x,S=b+g;if(s.includes(S))continue;s.push(S);const E=i(g,v);for(let k=0;k<E.length;++k){const P=E[k];s.push(b+P)}a=c+(a.length>0?" "+a:a)}return a};function UJ(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=tQ(e))&&(r&&(r+=" "),r+=t);return r}const tQ=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=tQ(n[r]))&&(t&&(t+=" "),t+=e);return t};function HJ(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,A)=>A(u),n());return t=DJ(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=OJ(l,t);return i(l,u),u}return function(){return s(UJ.apply(null,arguments))}}const ps=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},nQ=/^\[(?:([a-z-]+):)?(.+)\]$/i,jJ=/^\d+\/\d+$/,QJ=new Set(["px","full","screen"]),zJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ph=n=>P1(n)||QJ.has(n)||jJ.test(n),Sp=n=>Bw(n,"length",t$),P1=n=>!!n&&!Number.isNaN(Number(n)),bP=n=>Bw(n,"number",P1),tx=n=>!!n&&Number.isInteger(Number(n)),qJ=n=>n.endsWith("%")&&P1(n.slice(0,-1)),Or=n=>nQ.test(n),Bp=n=>zJ.test(n),XJ=new Set(["length","size","percentage"]),YJ=n=>Bw(n,XJ,rQ),ZJ=n=>Bw(n,"position",rQ),JJ=new Set(["image","url"]),$J=n=>Bw(n,JJ,r$),e$=n=>Bw(n,"",n$),nx=()=>!0,Bw=(n,e,t)=>{const r=nQ.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},t$=n=>KJ.test(n)&&!VJ.test(n),rQ=()=>!1,n$=n=>GJ.test(n),r$=n=>WJ.test(n),i$=()=>{const n=ps("colors"),e=ps("spacing"),t=ps("blur"),r=ps("brightness"),i=ps("borderColor"),s=ps("borderRadius"),o=ps("borderSpacing"),a=ps("borderWidth"),l=ps("contrast"),c=ps("grayscale"),u=ps("hueRotate"),A=ps("invert"),h=ps("gap"),f=ps("gradientColorStops"),v=ps("gradientColorStopPositions"),g=ps("inset"),x=ps("margin"),b=ps("opacity"),S=ps("padding"),E=ps("saturate"),k=ps("scale"),P=ps("sepia"),N=ps("skew"),I=ps("space"),U=ps("translate"),V=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Or,e],D=()=>[Or,e],z=()=>["",Ph,Sp],G=()=>["auto",P1,Or],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",Or],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[P1,Or];return{cacheSize:500,separator:":",theme:{colors:[nx],spacing:[Ph,Sp],blur:["none","",Bp,Or],brightness:te(),borderColor:[n],borderRadius:["none","","full",Bp,Or],borderSpacing:D(),borderWidth:z(),contrast:te(),grayscale:ie(),hueRotate:te(),invert:ie(),gap:D(),gradientColorStops:[n],gradientColorStopPositions:[qJ,Sp],inset:L(),margin:L(),opacity:te(),padding:D(),saturate:te(),scale:te(),sepia:ie(),skew:te(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Or]}],container:["container"],columns:[{columns:[Bp]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),Or]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tx,Or]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Or]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",tx,Or]}],"grid-cols":[{"grid-cols":[nx]}],"col-start-end":[{col:["auto",{span:["full",tx,Or]},Or]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[nx]}],"row-start-end":[{row:["auto",{span:[tx,Or]},Or]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Or]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Or,e]}],"min-w":[{"min-w":[Or,e,"min","max","fit"]}],"max-w":[{"max-w":[Or,e,"none","full","min","max","fit","prose",{screen:[Bp]},Bp]}],h:[{h:[Or,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Or,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Or,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Or,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bp,Sp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bP]}],"font-family":[{font:[nx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Or]}],"line-clamp":[{"line-clamp":["none",P1,bP]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ph,Or]}],"list-image":[{"list-image":["none",Or]}],"list-style-type":[{list:["none","disc","decimal",Or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ph,Sp]}],"underline-offset":[{"underline-offset":["auto",Ph,Or]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),ZJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",YJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$J]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Ph,Or]}],"outline-w":[{outline:[Ph,Sp]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ph,Sp]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Bp,e$]}],"shadow-color":[{shadow:[nx]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bp,Or]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[A]}],saturate:[{saturate:[E]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Or]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Or]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[tx,Or]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Or]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Or]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Or]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ph,Sp,bP]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},s$=HJ(i$);function ir(...n){return s$(qj(n))}const o$=cJ,iQ=_.forwardRef(({className:n,...e},t)=>y.jsx(jj,{ref:t,className:ir("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));iQ.displayName=jj.displayName;const a$=aN("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sQ=_.forwardRef(({className:n,variant:e,...t},r)=>y.jsx(Qj,{ref:r,className:ir(a$({variant:e}),n),...t}));sQ.displayName=Qj.displayName;const l$=_.forwardRef(({className:n,...e},t)=>y.jsx(Vj,{ref:t,className:ir("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));l$.displayName=Vj.displayName;const oQ=_.forwardRef(({className:n,...e},t)=>y.jsx(Gj,{ref:t,className:ir("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:y.jsx(Sw,{className:"h-4 w-4"})}));oQ.displayName=Gj.displayName;const aQ=_.forwardRef(({className:n,...e},t)=>y.jsx(zj,{ref:t,className:ir("text-sm font-semibold",n),...e}));aQ.displayName=zj.displayName;const lQ=_.forwardRef(({className:n,...e},t)=>y.jsx(Kj,{ref:t,className:ir("text-sm opacity-90",n),...e}));lQ.displayName=Kj.displayName;function c$(){const{toasts:n}=vZ();return y.jsxs(o$,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return y.jsxs(sQ,{...s,children:[y.jsxs("div",{className:"grid gap-1",children:[t&&y.jsx(aQ,{children:t}),r&&y.jsx(lQ,{children:r})]}),i,y.jsx(oQ,{})]},e)}),y.jsx(iQ,{})]})}var u$=n=>{switch(n){case"success":return h$;case"info":return p$;case"warning":return f$;case"error":return m$;default:return null}},A$=Array(12).fill(0),d$=({visible:n,className:e})=>kt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},kt.createElement("div",{className:"sonner-spinner"},A$.map((t,r)=>kt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),h$=kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},kt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),f$=kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},kt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),p$=kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},kt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),m$=kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},kt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),g$=kt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},kt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),kt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),v$=()=>{let[n,e]=kt.useState(document.hidden);return kt.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},mL=1,y$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:mL++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],kt.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(w$(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,A=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:A})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,A=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:A})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,A=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:A})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||mL++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},oc=new y$,b$=(n,e)=>{let t=(e==null?void 0:e.id)||mL++;return oc.addToast({title:n,...e,id:t}),t},w$=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",x$=b$,C$=()=>oc.toasts,S$=()=>oc.getActiveToasts();Object.assign(x$,{success:oc.success,info:oc.info,warning:oc.warning,error:oc.error,custom:oc.custom,message:oc.message,promise:oc.promise,dismiss:oc.dismiss,loading:oc.loading},{getHistory:C$,getToasts:S$});function B$(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}B$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function GB(n){return n.label!==void 0}var E$=3,F$="32px",T$="16px",hO=4e3,N$=356,k$=14,P$=20,L$=200;function vA(...n){return n.filter(Boolean).join(" ")}function I$(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var M$=n=>{var e,t,r,i,s,o,a,l,c,u,A;let{invert:h,toast:f,unstyled:v,interacting:g,setHeights:x,visibleToasts:b,heights:S,index:E,toasts:k,expanded:P,removeToast:N,defaultRichColors:I,closeButton:U,style:V,cancelButtonStyle:W,actionButtonStyle:L,className:D="",descriptionClassName:z="",duration:G,position:ve,gap:J,loadingIcon:$,expandByDefault:X,classNames:ie,icons:pe,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:H}=n,[q,re]=kt.useState(null),[he,Ae]=kt.useState(null),[ge,we]=kt.useState(!1),[ke,ze]=kt.useState(!1),[Ve,Ue]=kt.useState(!1),[ft,Kt]=kt.useState(!1),[Ge,Se]=kt.useState(!1),[Nt,xt]=kt.useState(0),[at,Ct]=kt.useState(0),Et=kt.useRef(f.duration||G||hO),mt=kt.useRef(null),Ut=kt.useRef(null),qe=E===0,Cn=E+1<=b,zt=f.type,vn=f.dismissible!==!1,mn=f.className||"",ln=f.descriptionClassName||"",Fn=kt.useMemo(()=>S.findIndex(Pe=>Pe.toastId===f.id)||0,[S,f.id]),se=kt.useMemo(()=>{var Pe;return(Pe=f.closeButton)!=null?Pe:U},[f.closeButton,U]),ut=kt.useMemo(()=>f.duration||G||hO,[f.duration,G]),At=kt.useRef(0),Pt=kt.useRef(0),Le=kt.useRef(0),We=kt.useRef(null),[oe,st]=ve.split("-"),sn=kt.useMemo(()=>S.reduce((Pe,Ft,vt)=>vt>=Fn?Pe:Pe+Ft.height,0),[S,Fn]),O=v$(),Xe=f.invert||h,Ye=zt==="loading";Pt.current=kt.useMemo(()=>Fn*J+sn,[Fn,sn]),kt.useEffect(()=>{Et.current=ut},[ut]),kt.useEffect(()=>{we(!0)},[]),kt.useEffect(()=>{let Pe=Ut.current;if(Pe){let Ft=Pe.getBoundingClientRect().height;return Ct(Ft),x(vt=>[{toastId:f.id,height:Ft,position:f.position},...vt]),()=>x(vt=>vt.filter(Lt=>Lt.toastId!==f.id))}},[x,f.id]),kt.useLayoutEffect(()=>{if(!ge)return;let Pe=Ut.current,Ft=Pe.style.height;Pe.style.height="auto";let vt=Pe.getBoundingClientRect().height;Pe.style.height=Ft,Ct(vt),x(Lt=>Lt.find(Ze=>Ze.toastId===f.id)?Lt.map(Ze=>Ze.toastId===f.id?{...Ze,height:vt}:Ze):[{toastId:f.id,height:vt,position:f.position},...Lt])},[ge,f.title,f.description,x,f.id]);let ae=kt.useCallback(()=>{ze(!0),xt(Pt.current),x(Pe=>Pe.filter(Ft=>Ft.toastId!==f.id)),setTimeout(()=>{N(f)},L$)},[f,N,x,Pt]);kt.useEffect(()=>{if(f.promise&&zt==="loading"||f.duration===1/0||f.type==="loading")return;let Pe;return P||g||H&&O?(()=>{if(Le.current<At.current){let Ft=new Date().getTime()-At.current;Et.current=Et.current-Ft}Le.current=new Date().getTime()})():Et.current!==1/0&&(At.current=new Date().getTime(),Pe=setTimeout(()=>{var Ft;(Ft=f.onAutoClose)==null||Ft.call(f,f),ae()},Et.current)),()=>clearTimeout(Pe)},[P,g,f,zt,H,O,ae]),kt.useEffect(()=>{f.delete&&ae()},[ae,f.delete]);function Ee(){var Pe,Ft,vt;return pe!=null&&pe.loading?kt.createElement("div",{className:vA(ie==null?void 0:ie.loader,(Pe=f==null?void 0:f.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":zt==="loading"},pe.loading):$?kt.createElement("div",{className:vA(ie==null?void 0:ie.loader,(Ft=f==null?void 0:f.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":zt==="loading"},$):kt.createElement(d$,{className:vA(ie==null?void 0:ie.loader,(vt=f==null?void 0:f.classNames)==null?void 0:vt.loader),visible:zt==="loading"})}return kt.createElement("li",{tabIndex:0,ref:Ut,className:vA(D,mn,ie==null?void 0:ie.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,ie==null?void 0:ie.default,ie==null?void 0:ie[zt],(t=f==null?void 0:f.classNames)==null?void 0:t[zt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:I,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":ge,"data-promise":!!f.promise,"data-swiped":Ge,"data-removed":ke,"data-visible":Cn,"data-y-position":oe,"data-x-position":st,"data-index":E,"data-front":qe,"data-swiping":Ve,"data-dismissible":vn,"data-type":zt,"data-invert":Xe,"data-swipe-out":ft,"data-swipe-direction":he,"data-expanded":!!(P||X&&ge),style:{"--index":E,"--toasts-before":E,"--z-index":k.length-E,"--offset":`${ke?Nt:Pt.current}px`,"--initial-height":X?"auto":`${at}px`,...V,...f.style},onDragEnd:()=>{Ue(!1),re(null),We.current=null},onPointerDown:Pe=>{Ye||!vn||(mt.current=new Date,xt(Pt.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(Ue(!0),We.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,Ft,vt,Lt;if(ft||!vn)return;We.current=null;let Ze=Number(((Pe=Ut.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Oe=Number(((Ft=Ut.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),St=new Date().getTime()-((vt=mt.current)==null?void 0:vt.getTime()),Ke=q==="x"?Ze:Oe,lt=Math.abs(Ke)/St;if(Math.abs(Ke)>=P$||lt>.11){xt(Pt.current),(Lt=f.onDismiss)==null||Lt.call(f,f),Ae(q==="x"?Ze>0?"right":"left":Oe>0?"down":"up"),ae(),Kt(!0),Se(!1);return}Ue(!1),re(null)},onPointerMove:Pe=>{var Ft,vt,Lt,Ze;if(!We.current||!vn||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;let Oe=Pe.clientY-We.current.y,St=Pe.clientX-We.current.x,Ke=(vt=n.swipeDirections)!=null?vt:I$(ve);!q&&(Math.abs(St)>1||Math.abs(Oe)>1)&&re(Math.abs(St)>Math.abs(Oe)?"x":"y");let lt={x:0,y:0};q==="y"?(Ke.includes("top")||Ke.includes("bottom"))&&(Ke.includes("top")&&Oe<0||Ke.includes("bottom")&&Oe>0)&&(lt.y=Oe):q==="x"&&(Ke.includes("left")||Ke.includes("right"))&&(Ke.includes("left")&&St<0||Ke.includes("right")&&St>0)&&(lt.x=St),(Math.abs(lt.x)>0||Math.abs(lt.y)>0)&&Se(!0),(Lt=Ut.current)==null||Lt.style.setProperty("--swipe-amount-x",`${lt.x}px`),(Ze=Ut.current)==null||Ze.style.setProperty("--swipe-amount-y",`${lt.y}px`)}},se&&!f.jsx?kt.createElement("button",{"aria-label":te,"data-disabled":Ye,"data-close-button":!0,onClick:Ye||!vn?()=>{}:()=>{var Pe;ae(),(Pe=f.onDismiss)==null||Pe.call(f,f)},className:vA(ie==null?void 0:ie.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=pe==null?void 0:pe.close)!=null?s:g$):null,f.jsx||_.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:kt.createElement(kt.Fragment,null,zt||f.icon||f.promise?kt.createElement("div",{"data-icon":"",className:vA(ie==null?void 0:ie.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ee():null,f.type!=="loading"?f.icon||(pe==null?void 0:pe[zt])||u$(zt):null):null,kt.createElement("div",{"data-content":"",className:vA(ie==null?void 0:ie.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},kt.createElement("div",{"data-title":"",className:vA(ie==null?void 0:ie.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?kt.createElement("div",{"data-description":"",className:vA(z,ln,ie==null?void 0:ie.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),_.isValidElement(f.cancel)?f.cancel:f.cancel&&GB(f.cancel)?kt.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||W,onClick:Pe=>{var Ft,vt;GB(f.cancel)&&vn&&((vt=(Ft=f.cancel).onClick)==null||vt.call(Ft,Pe),ae())},className:vA(ie==null?void 0:ie.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,_.isValidElement(f.action)?f.action:f.action&&GB(f.action)?kt.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||L,onClick:Pe=>{var Ft,vt;GB(f.action)&&((vt=(Ft=f.action).onClick)==null||vt.call(Ft,Pe),!Pe.defaultPrevented&&ae())},className:vA(ie==null?void 0:ie.actionButton,(A=f==null?void 0:f.classNames)==null?void 0:A.actionButton)},f.action.label):null))};function fO(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function R$(n,e){let t={};return[n,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?T$:F$;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),t}var D$=_.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:A,duration:h,style:f,visibleToasts:v=E$,toastOptions:g,dir:x=fO(),gap:b=k$,loadingIcon:S,icons:E,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:P}=n,[N,I]=kt.useState([]),U=kt.useMemo(()=>Array.from(new Set([r].concat(N.filter(H=>H.position).map(H=>H.position)))),[N,r]),[V,W]=kt.useState([]),[L,D]=kt.useState(!1),[z,G]=kt.useState(!1),[ve,J]=kt.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=kt.useRef(null),X=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ie=kt.useRef(null),pe=kt.useRef(!1),te=kt.useCallback(H=>{I(q=>{var re;return(re=q.find(he=>he.id===H.id))!=null&&re.delete||oc.dismiss(H.id),q.filter(({id:he})=>he!==H.id)})},[]);return kt.useEffect(()=>oc.subscribe(H=>{if(H.dismiss){I(q=>q.map(re=>re.id===H.id?{...re,delete:!0}:re));return}setTimeout(()=>{xM.flushSync(()=>{I(q=>{let re=q.findIndex(he=>he.id===H.id);return re!==-1?[...q.slice(0,re),{...q[re],...H},...q.slice(re+1)]:[H,...q]})})})}),[]),kt.useEffect(()=>{if(u!=="system"){J(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:q})=>{J(q?"dark":"light")})}catch{H.addListener(({matches:re})=>{try{J(re?"dark":"light")}catch(he){console.error(he)}})}},[u]),kt.useEffect(()=>{N.length<=1&&D(!1)},[N]),kt.useEffect(()=>{let H=q=>{var re,he;i.every(Ae=>q[Ae]||q.code===Ae)&&(D(!0),(re=$.current)==null||re.focus()),q.code==="Escape"&&(document.activeElement===$.current||(he=$.current)!=null&&he.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[i]),kt.useEffect(()=>{if($.current)return()=>{ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null,pe.current=!1)}},[$.current]),kt.createElement("section",{ref:e,"aria-label":`${k} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((H,q)=>{var re;let[he,Ae]=H.split("-");return N.length?kt.createElement("ol",{key:H,dir:x==="auto"?fO():x,tabIndex:-1,ref:$,className:a,"data-sonner-toaster":!0,"data-theme":ve,"data-y-position":he,"data-lifted":L&&N.length>1&&!s,"data-x-position":Ae,style:{"--front-toast-height":`${((re=V[0])==null?void 0:re.height)||0}px`,"--width":`${N$}px`,"--gap":`${b}px`,...f,...R$(l,c)},onBlur:ge=>{pe.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(pe.current=!1,ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,ie.current=ge.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{z||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},N.filter(ge=>!ge.position&&q===0||ge.position===H).map((ge,we)=>{var ke,ze;return kt.createElement(M$,{key:ge.id,icons:E,index:we,toast:ge,defaultRichColors:A,duration:(ke=g==null?void 0:g.duration)!=null?ke:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:v,closeButton:(ze=g==null?void 0:g.closeButton)!=null?ze:o,interacting:z,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:te,toasts:N.filter(Ve=>Ve.position==ge.position),heights:V.filter(Ve=>Ve.position==ge.position),setHeights:W,expandByDefault:s,gap:b,loadingIcon:S,expanded:L,pauseWhenPageIsHidden:P,swipeDirections:n.swipeDirections})})):null}))});const cQ=_.createContext(null);function _$({children:n,defaultTheme:e="system",value:t,...r}){const[i,s]=_.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("theme");return a&&(a==="dark"||a==="light"||a==="system")?a:e}return e});_.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem("theme",a),s(a)}};return y.jsx(cQ.Provider,{value:o,...r,children:n})}const O$=()=>{const n=_.useContext(cQ);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n},U$=({...n})=>{const{theme:e}=O$();return y.jsx(D$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var H$=wM[" useId ".trim().toString()]||(()=>{}),j$=0;function Ov(n){const[e,t]=_.useState(H$());return Pa(()=>{t(r=>r??String(j$++))},[n]),n||(e?`radix-${e}`:"")}const Q$=["top","right","bottom","left"],og=Math.min,jc=Math.max,rF=Math.round,WB=Math.floor,Yd=n=>({x:n,y:n}),z$={left:"right",right:"left",bottom:"top",top:"bottom"},K$={start:"end",end:"start"};function gL(n,e,t){return jc(n,og(e,t))}function Of(n,e){return typeof n=="function"?n(e):n}function Uf(n){return n.split("-")[0]}function Ew(n){return n.split("-")[1]}function TM(n){return n==="x"?"y":"x"}function NM(n){return n==="y"?"height":"width"}const V$=new Set(["top","bottom"]);function qd(n){return V$.has(Uf(n))?"y":"x"}function kM(n){return TM(qd(n))}function G$(n,e,t){t===void 0&&(t=!1);const r=Ew(n),i=kM(n),s=NM(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=iF(o)),[o,iF(o)]}function W$(n){const e=iF(n);return[vL(n),e,vL(e)]}function vL(n){return n.replace(/start|end/g,e=>K$[e])}const pO=["left","right"],mO=["right","left"],q$=["top","bottom"],X$=["bottom","top"];function Y$(n,e,t){switch(n){case"top":case"bottom":return t?e?mO:pO:e?pO:mO;case"left":case"right":return e?q$:X$;default:return[]}}function Z$(n,e,t,r){const i=Ew(n);let s=Y$(Uf(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(vL)))),s}function iF(n){return n.replace(/left|right|bottom|top/g,e=>z$[e])}function J$(n){return{top:0,right:0,bottom:0,left:0,...n}}function uQ(n){return typeof n!="number"?J$(n):{top:n,right:n,bottom:n,left:n}}function sF(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function gO(n,e,t){let{reference:r,floating:i}=n;const s=qd(e),o=kM(e),a=NM(o),l=Uf(e),c=s==="y",u=r.x+r.width/2-i.width/2,A=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:A};break;case"left":f={x:r.x-i.width,y:A};break;default:f={x:r.x,y:r.y}}switch(Ew(e)){case"start":f[o]-=h*(t&&c?-1:1);break;case"end":f[o]+=h*(t&&c?-1:1);break}return f}const $$=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:A}=gO(c,r,l),h=r,f={},v=0;for(let g=0;g<a.length;g++){const{name:x,fn:b}=a[g],{x:S,y:E,data:k,reset:P}=await b({x:u,y:A,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=S??u,A=E??A,f={...f,[x]:{...f[x],...k}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):P.rects),{x:u,y:A}=gO(c,h,l)),g=-1)}return{x:u,y:A,placement:h,strategy:i,middlewareData:f}};async function P2(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:A="floating",altBoundary:h=!1,padding:f=0}=Of(e,n),v=uQ(f),x=a[h?A==="floating"?"reference":"floating":A],b=sF(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),S=A==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},P=sF(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:E,strategy:l}):S);return{top:(b.top-P.top+v.top)/k.y,bottom:(P.bottom-b.bottom+v.bottom)/k.y,left:(b.left-P.left+v.left)/k.x,right:(P.right-b.right+v.right)/k.x}}const eee=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Of(n,e)||{};if(c==null)return{};const A=uQ(u),h={x:t,y:r},f=kM(i),v=NM(f),g=await o.getDimensions(c),x=f==="y",b=x?"top":"left",S=x?"bottom":"right",E=x?"clientHeight":"clientWidth",k=s.reference[v]+s.reference[f]-h[f]-s.floating[v],P=h[f]-s.reference[f],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=N?N[E]:0;(!I||!await(o.isElement==null?void 0:o.isElement(N)))&&(I=a.floating[E]||s.floating[v]);const U=k/2-P/2,V=I/2-g[v]/2-1,W=og(A[b],V),L=og(A[S],V),D=W,z=I-g[v]-L,G=I/2-g[v]/2+U,ve=gL(D,G,z),J=!l.arrow&&Ew(i)!=null&&G!==ve&&s.reference[v]/2-(G<D?W:L)-g[v]/2<0,$=J?G<D?G-D:G-z:0;return{[f]:h[f]+$,data:{[f]:ve,centerOffset:G-ve-$,...J&&{alignmentOffset:$}},reset:J}}}),tee=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:A=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=Of(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=Uf(i),S=qd(a),E=Uf(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=h||(E||!g?[iF(a)]:W$(a)),N=v!=="none";!h&&N&&P.push(...Z$(a,g,v,k));const I=[a,...P],U=await P2(e,x),V=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&V.push(U[b]),A){const G=G$(i,o,k);V.push(U[G[0]],U[G[1]])}if(W=[...W,{placement:i,overflows:V}],!V.every(G=>G<=0)){var L,D;const G=(((L=s.flip)==null?void 0:L.index)||0)+1,ve=I[G];if(ve&&(!(A==="alignment"?S!==qd(ve):!1)||W.every(X=>qd(X.placement)===S?X.overflows[0]>0:!0)))return{data:{index:G,overflows:W},reset:{placement:ve}};let J=(D=W.filter($=>$.overflows[0]<=0).sort(($,X)=>$.overflows[1]-X.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(f){case"bestFit":{var z;const $=(z=W.filter(X=>{if(N){const ie=qd(X.placement);return ie===S||ie==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ie=>ie>0).reduce((ie,pe)=>ie+pe,0)]).sort((X,ie)=>X[1]-ie[1])[0])==null?void 0:z[0];$&&(J=$);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function vO(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function yO(n){return Q$.some(e=>n[e]>=0)}const nee=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Of(n,e);switch(r){case"referenceHidden":{const s=await P2(e,{...i,elementContext:"reference"}),o=vO(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yO(o)}}}case"escaped":{const s=await P2(e,{...i,altBoundary:!0}),o=vO(s,t.floating);return{data:{escapedOffsets:o,escaped:yO(o)}}}default:return{}}}}},AQ=new Set(["left","top"]);async function ree(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Uf(t),a=Ew(t),l=qd(t)==="y",c=AQ.has(o)?-1:1,u=s&&l?-1:1,A=Of(e,n);let{mainAxis:h,crossAxis:f,alignmentAxis:v}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return a&&typeof v=="number"&&(f=a==="end"?v*-1:v),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const iee=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await ree(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},see=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:b,y:S}=x;return{x:b,y:S}}},...l}=Of(n,e),c={x:t,y:r},u=await P2(e,l),A=qd(Uf(i)),h=TM(A);let f=c[h],v=c[A];if(s){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",S=f+u[x],E=f-u[b];f=gL(S,f,E)}if(o){const x=A==="y"?"top":"left",b=A==="y"?"bottom":"right",S=v+u[x],E=v-u[b];v=gL(S,v,E)}const g=a.fn({...e,[h]:f,[A]:v});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[h]:s,[A]:o}}}}}},oee=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Of(n,e),u={x:t,y:r},A=qd(i),h=TM(A);let f=u[h],v=u[A];const g=Of(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const E=h==="y"?"height":"width",k=s.reference[h]-s.floating[E]+x.mainAxis,P=s.reference[h]+s.reference[E]-x.mainAxis;f<k?f=k:f>P&&(f=P)}if(c){var b,S;const E=h==="y"?"width":"height",k=AQ.has(Uf(i)),P=s.reference[A]-s.floating[E]+(k&&((b=o.offset)==null?void 0:b[A])||0)+(k?0:x.crossAxis),N=s.reference[A]+s.reference[E]+(k?0:((S=o.offset)==null?void 0:S[A])||0)-(k?x.crossAxis:0);v<P?v=P:v>N&&(v=N)}return{[h]:f,[A]:v}}}},aee=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Of(n,e),u=await P2(e,c),A=Uf(i),h=Ew(i),f=qd(i)==="y",{width:v,height:g}=s.floating;let x,b;A==="top"||A==="bottom"?(x=A,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=A,x=h==="end"?"top":"bottom");const S=g-u.top-u.bottom,E=v-u.left-u.right,k=og(g-u[x],S),P=og(v-u[b],E),N=!e.middlewareData.shift;let I=k,U=P;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(U=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=S),N&&!h){const W=jc(u.left,0),L=jc(u.right,0),D=jc(u.top,0),z=jc(u.bottom,0);f?U=v-2*(W!==0||L!==0?W+L:jc(u.left,u.right)):I=g-2*(D!==0||z!==0?D+z:jc(u.top,u.bottom))}await l({...e,availableWidth:U,availableHeight:I});const V=await o.getDimensions(a.floating);return v!==V.width||g!==V.height?{reset:{rects:!0}}:{}}}};function lN(){return typeof window<"u"}function Fw(n){return dQ(n)?(n.nodeName||"").toLowerCase():"#document"}function Wc(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function oh(n){var e;return(e=(dQ(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function dQ(n){return lN()?n instanceof Node||n instanceof Wc(n).Node:!1}function qA(n){return lN()?n instanceof Element||n instanceof Wc(n).Element:!1}function Jd(n){return lN()?n instanceof HTMLElement||n instanceof Wc(n).HTMLElement:!1}function bO(n){return!lN()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Wc(n).ShadowRoot}const lee=new Set(["inline","contents"]);function HS(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=XA(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!lee.has(i)}const cee=new Set(["table","td","th"]);function uee(n){return cee.has(Fw(n))}const Aee=[":popover-open",":modal"];function cN(n){return Aee.some(e=>{try{return n.matches(e)}catch{return!1}})}const dee=["transform","translate","scale","rotate","perspective"],hee=["transform","translate","scale","rotate","perspective","filter"],fee=["paint","layout","strict","content"];function PM(n){const e=LM(),t=qA(n)?XA(n):n;return dee.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||hee.some(r=>(t.willChange||"").includes(r))||fee.some(r=>(t.contain||"").includes(r))}function pee(n){let e=ag(n);for(;Jd(e)&&!cw(e);){if(PM(e))return e;if(cN(e))return null;e=ag(e)}return null}function LM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mee=new Set(["html","body","#document"]);function cw(n){return mee.has(Fw(n))}function XA(n){return Wc(n).getComputedStyle(n)}function uN(n){return qA(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ag(n){if(Fw(n)==="html")return n;const e=n.assignedSlot||n.parentNode||bO(n)&&n.host||oh(n);return bO(e)?e.host:e}function hQ(n){const e=ag(n);return cw(e)?n.ownerDocument?n.ownerDocument.body:n.body:Jd(e)&&HS(e)?e:hQ(e)}function L2(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=hQ(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Wc(i);if(s){const a=yL(o);return e.concat(o,o.visualViewport||[],HS(i)?i:[],a&&t?L2(a):[])}return e.concat(i,L2(i,[],t))}function yL(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function fQ(n){const e=XA(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jd(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=rF(t)!==s||rF(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function IM(n){return qA(n)?n:n.contextElement}function L1(n){const e=IM(n);if(!Jd(e))return Yd(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=fQ(e);let o=(s?rF(t.width):t.width)/r,a=(s?rF(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const gee=Yd(0);function pQ(n){const e=Wc(n);return!LM()||!e.visualViewport?gee:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vee(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Wc(n)?!1:e}function qv(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=IM(n);let o=Yd(1);e&&(r?qA(r)&&(o=L1(r)):o=L1(n));const a=vee(s,t,r)?pQ(s):Yd(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,A=i.height/o.y;if(s){const h=Wc(s),f=r&&qA(r)?Wc(r):r;let v=h,g=yL(v);for(;g&&r&&f!==v;){const x=L1(g),b=g.getBoundingClientRect(),S=XA(g),E=b.left+(g.clientLeft+parseFloat(S.paddingLeft))*x.x,k=b.top+(g.clientTop+parseFloat(S.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,A*=x.y,l+=E,c+=k,v=Wc(g),g=yL(v)}}return sF({width:u,height:A,x:l,y:c})}function MM(n,e){const t=uN(n).scrollLeft;return e?e.left+t:qv(oh(n)).left+t}function mQ(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:MM(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function yee(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=oh(r),a=e?cN(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Yd(1);const u=Yd(0),A=Jd(r);if((A||!A&&!s)&&((Fw(r)!=="body"||HS(o))&&(l=uN(r)),Jd(r))){const f=qv(r);c=L1(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!A&&!s?mQ(o,l,!0):Yd(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:t.y*c.y-l.scrollTop*c.y+u.y+h.y}}function bee(n){return Array.from(n.getClientRects())}function wee(n){const e=oh(n),t=uN(n),r=n.ownerDocument.body,i=jc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=jc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+MM(n);const a=-t.scrollTop;return XA(r).direction==="rtl"&&(o+=jc(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function xee(n,e){const t=Wc(n),r=oh(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=LM();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const Cee=new Set(["absolute","fixed"]);function See(n,e){const t=qv(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Jd(n)?L1(n):Yd(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function wO(n,e,t){let r;if(e==="viewport")r=xee(n,t);else if(e==="document")r=wee(oh(n));else if(qA(e))r=See(e,t);else{const i=pQ(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return sF(r)}function gQ(n,e){const t=ag(n);return t===e||!qA(t)||cw(t)?!1:XA(t).position==="fixed"||gQ(t,e)}function Bee(n,e){const t=e.get(n);if(t)return t;let r=L2(n,[],!1).filter(a=>qA(a)&&Fw(a)!=="body"),i=null;const s=XA(n).position==="fixed";let o=s?ag(n):n;for(;qA(o)&&!cw(o);){const a=XA(o),l=PM(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&Cee.has(i.position)||HS(o)&&!l&&gQ(n,o))?r=r.filter(u=>u!==o):i=a,o=ag(o)}return e.set(n,r),r}function Eee(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?cN(e)?[]:Bee(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const A=wO(e,u,i);return c.top=jc(A.top,c.top),c.right=og(A.right,c.right),c.bottom=og(A.bottom,c.bottom),c.left=jc(A.left,c.left),c},wO(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Fee(n){const{width:e,height:t}=fQ(n);return{width:e,height:t}}function Tee(n,e,t){const r=Jd(e),i=oh(e),s=t==="fixed",o=qv(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Yd(0);function c(){l.x=MM(i)}if(r||!r&&!s)if((Fw(e)!=="body"||HS(i))&&(a=uN(e)),r){const f=qv(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?mQ(i,a):Yd(0),A=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:A,y:h,width:o.width,height:o.height}}function wP(n){return XA(n).position==="static"}function xO(n,e){if(!Jd(n)||XA(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return oh(n)===t&&(t=t.ownerDocument.body),t}function vQ(n,e){const t=Wc(n);if(cN(n))return t;if(!Jd(n)){let i=ag(n);for(;i&&!cw(i);){if(qA(i)&&!wP(i))return i;i=ag(i)}return t}let r=xO(n,e);for(;r&&uee(r)&&wP(r);)r=xO(r,e);return r&&cw(r)&&wP(r)&&!PM(r)?t:r||pee(n)||t}const Nee=async function(n){const e=this.getOffsetParent||vQ,t=this.getDimensions,r=await t(n.floating);return{reference:Tee(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kee(n){return XA(n).direction==="rtl"}const Pee={convertOffsetParentRelativeRectToViewportRelativeRect:yee,getDocumentElement:oh,getClippingRect:Eee,getOffsetParent:vQ,getElementRects:Nee,getClientRects:bee,getDimensions:Fee,getScale:L1,isElement:qA,isRTL:kee};function yQ(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Lee(n,e){let t=null,r;const i=oh(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:A,width:h,height:f}=c;if(a||e(),!h||!f)return;const v=WB(A),g=WB(i.clientWidth-(u+h)),x=WB(i.clientHeight-(A+f)),b=WB(u),E={rootMargin:-v+"px "+-g+"px "+-x+"px "+-b+"px",threshold:jc(0,og(1,l))||1};let k=!0;function P(N){const I=N[0].intersectionRatio;if(I!==l){if(!k)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!yQ(c,n.getBoundingClientRect())&&o(),k=!1}try{t=new IntersectionObserver(P,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(P,E)}t.observe(n)}return o(!0),s}function Iee(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=IM(n),u=i||s?[...c?L2(c):[],...L2(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const A=c&&a?Lee(c,t):null;let h=-1,f=null;o&&(f=new ResizeObserver(b=>{let[S]=b;S&&S.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let v,g=l?qv(n):null;l&&x();function x(){const b=qv(n);g&&!yQ(g,b)&&t(),g=b,v=requestAnimationFrame(x)}return t(),()=>{var b;u.forEach(S=>{i&&S.removeEventListener("scroll",t),s&&S.removeEventListener("resize",t)}),A==null||A(),(b=f)==null||b.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const Mee=iee,Ree=see,Dee=tee,_ee=aee,Oee=nee,CO=eee,Uee=oee,Hee=(n,e,t)=>{const r=new Map,i={platform:Pee,...t},s={...i.platform,_c:r};return $$(n,e,{...i,platform:s})};var jee=typeof document<"u",Qee=function(){},iE=jee?_.useLayoutEffect:Qee;function oF(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!oF(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!oF(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function bQ(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function SO(n,e){const t=bQ(n);return Math.round(e*t)/t}function xP(n){const e=_.useRef(n);return iE(()=>{e.current=n}),e}function zee(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,A]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=_.useState(r);oF(h,r)||f(r);const[v,g]=_.useState(null),[x,b]=_.useState(null),S=_.useCallback(X=>{X!==N.current&&(N.current=X,g(X))},[]),E=_.useCallback(X=>{X!==I.current&&(I.current=X,b(X))},[]),k=s||v,P=o||x,N=_.useRef(null),I=_.useRef(null),U=_.useRef(u),V=l!=null,W=xP(l),L=xP(i),D=xP(c),z=_.useCallback(()=>{if(!N.current||!I.current)return;const X={placement:e,strategy:t,middleware:h};L.current&&(X.platform=L.current),Hee(N.current,I.current,X).then(ie=>{const pe={...ie,isPositioned:D.current!==!1};G.current&&!oF(U.current,pe)&&(U.current=pe,xw.flushSync(()=>{A(pe)}))})},[h,e,t,L,D]);iE(()=>{c===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,A(X=>({...X,isPositioned:!1})))},[c]);const G=_.useRef(!1);iE(()=>(G.current=!0,()=>{G.current=!1}),[]),iE(()=>{if(k&&(N.current=k),P&&(I.current=P),k&&P){if(W.current)return W.current(k,P,z);z()}},[k,P,z,W,V]);const ve=_.useMemo(()=>({reference:N,floating:I,setReference:S,setFloating:E}),[S,E]),J=_.useMemo(()=>({reference:k,floating:P}),[k,P]),$=_.useMemo(()=>{const X={position:t,left:0,top:0};if(!J.floating)return X;const ie=SO(J.floating,u.x),pe=SO(J.floating,u.y);return a?{...X,transform:"translate("+ie+"px, "+pe+"px)",...bQ(J.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ie,top:pe}},[t,a,J.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:z,refs:ve,elements:J,floatingStyles:$}),[u,z,ve,J,$])}const Kee=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?CO({element:r.current,padding:i}).fn(t):{}:r?CO({element:r,padding:i}).fn(t):{}}}},Vee=(n,e)=>({...Mee(n),options:[n,e]}),Gee=(n,e)=>({...Ree(n),options:[n,e]}),Wee=(n,e)=>({...Uee(n),options:[n,e]}),qee=(n,e)=>({...Dee(n),options:[n,e]}),Xee=(n,e)=>({..._ee(n),options:[n,e]}),Yee=(n,e)=>({...Oee(n),options:[n,e]}),Zee=(n,e)=>({...Kee(n),options:[n,e]});var Jee="Arrow",wQ=_.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return y.jsx(Ur.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});wQ.displayName=Jee;var $ee=wQ;function xQ(n){const[e,t]=_.useState(void 0);return Pa(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var RM="Popper",[CQ,Tw]=Qf(RM),[ete,SQ]=CQ(RM),BQ=n=>{const{__scopePopper:e,children:t}=n,[r,i]=_.useState(null);return y.jsx(ete,{scope:e,anchor:r,onAnchorChange:i,children:t})};BQ.displayName=RM;var EQ="PopperAnchor",FQ=_.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=SQ(EQ,t),o=_.useRef(null),a=zi(e,o);return _.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:y.jsx(Ur.div,{...i,ref:a})});FQ.displayName=EQ;var DM="PopperContent",[tte,nte]=CQ(DM),TQ=_.forwardRef((n,e)=>{var ge,we,ke,ze,Ve,Ue;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:A="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:v,...g}=n,x=SQ(DM,t),[b,S]=_.useState(null),E=zi(e,ft=>S(ft)),[k,P]=_.useState(null),N=xQ(k),I=(N==null?void 0:N.width)??0,U=(N==null?void 0:N.height)??0,V=r+(s!=="center"?"-"+s:""),W=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],D=L.length>0,z={padding:W,boundary:L.filter(ite),altBoundary:D},{refs:G,floatingStyles:ve,placement:J,isPositioned:$,middlewareData:X}=zee({strategy:"fixed",placement:V,whileElementsMounted:(...ft)=>Iee(...ft,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[Vee({mainAxis:i+U,alignmentAxis:o}),l&&Gee({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?Wee():void 0,...z}),l&&qee({...z}),Xee({...z,apply:({elements:ft,rects:Kt,availableWidth:Ge,availableHeight:Se})=>{const{width:Nt,height:xt}=Kt.reference,at=ft.floating.style;at.setProperty("--radix-popper-available-width",`${Ge}px`),at.setProperty("--radix-popper-available-height",`${Se}px`),at.setProperty("--radix-popper-anchor-width",`${Nt}px`),at.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),k&&Zee({element:k,padding:a}),ste({arrowWidth:I,arrowHeight:U}),h&&Yee({strategy:"referenceHidden",...z})]}),[ie,pe]=PQ(J),te=WA(v);Pa(()=>{$&&(te==null||te())},[$,te]);const H=(ge=X.arrow)==null?void 0:ge.x,q=(we=X.arrow)==null?void 0:we.y,re=((ke=X.arrow)==null?void 0:ke.centerOffset)!==0,[he,Ae]=_.useState();return Pa(()=>{b&&Ae(window.getComputedStyle(b).zIndex)},[b]),y.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:$?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(ze=X.transformOrigin)==null?void 0:ze.x,(Ve=X.transformOrigin)==null?void 0:Ve.y].join(" "),...((Ue=X.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(tte,{scope:t,placedSide:ie,onArrowChange:P,arrowX:H,arrowY:q,shouldHideArrow:re,children:y.jsx(Ur.div,{"data-side":ie,"data-align":pe,...g,ref:E,style:{...g.style,animation:$?void 0:"none"}})})})});TQ.displayName=DM;var NQ="PopperArrow",rte={top:"bottom",right:"left",bottom:"top",left:"right"},kQ=_.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=nte(NQ,r),o=rte[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx($ee,{...i,ref:t,style:{...i.style,display:"block"}})})});kQ.displayName=NQ;function ite(n){return n!==null}var ste=n=>({name:"transformOrigin",options:n,fn(e){var x,b,S;const{placement:t,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=PQ(t),A={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,f=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=o?A:`${h}px`,g=`${-l}px`):c==="top"?(v=o?A:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=o?A:`${f}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=o?A:`${f}px`),{data:{x:v,y:g}}}});function PQ(n){const[e,t="center"]=n.split("-");return[e,t]}var LQ=BQ,AN=FQ,_M=TQ,OM=kQ,[dN,i2e]=Qf("Tooltip",[Tw]),UM=Tw(),IQ="TooltipProvider",ote=700,BO="tooltip.open",[ate,MQ]=dN(IQ),RQ=n=>{const{__scopeTooltip:e,delayDuration:t=ote,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,o=_.useRef(!0),a=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),y.jsx(ate,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};RQ.displayName=IQ;var DQ="Tooltip",[s2e,hN]=dN(DQ),bL="TooltipTrigger",lte=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=hN(bL,t),s=MQ(bL,t),o=UM(t),a=_.useRef(null),l=zi(e,a,i.onTriggerChange),c=_.useRef(!1),u=_.useRef(!1),A=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",A),[A]),y.jsx(AN,{asChild:!0,...o,children:y.jsx(Ur.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:mr(n.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:mr(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:mr(n.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",A,{once:!0})}),onFocus:mr(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:mr(n.onBlur,i.onClose),onClick:mr(n.onClick,i.onClose)})})});lte.displayName=bL;var cte="TooltipPortal",[o2e,ute]=dN(cte,{forceMount:void 0}),uw="TooltipContent",_Q=_.forwardRef((n,e)=>{const t=ute(uw,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=hN(uw,n.__scopeTooltip);return y.jsx(zf,{present:r||o.open,children:o.disableHoverableContent?y.jsx(OQ,{side:i,...s,ref:e}):y.jsx(Ate,{side:i,...s,ref:e})})}),Ate=_.forwardRef((n,e)=>{const t=hN(uw,n.__scopeTooltip),r=MQ(uw,n.__scopeTooltip),i=_.useRef(null),s=zi(e,i),[o,a]=_.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:A}=r,h=_.useCallback(()=>{a(null),A(!1)},[A]),f=_.useCallback((v,g)=>{const x=v.currentTarget,b={x:v.clientX,y:v.clientY},S=mte(b,x.getBoundingClientRect()),E=gte(b,S),k=vte(g.getBoundingClientRect()),P=bte([...E,...k]);a(P),A(!0)},[A]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(l&&u){const v=x=>f(x,u),g=x=>f(x,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[l,u,f,h]),_.useEffect(()=>{if(o){const v=g=>{const x=g.target,b={x:g.clientX,y:g.clientY},S=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),E=!yte(b,o);S?h():E&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,h]),y.jsx(OQ,{...n,ref:s})}),[dte,hte]=dN(DQ,{isInside:!1}),fte=CZ("TooltipContent"),OQ=_.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=hN(uw,t),c=UM(t),{onClose:u}=l;return _.useEffect(()=>(document.addEventListener(BO,u),()=>document.removeEventListener(BO,u)),[u]),_.useEffect(()=>{if(l.trigger){const A=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",A,{capture:!0}),()=>window.removeEventListener("scroll",A,{capture:!0})}},[l.trigger,u]),y.jsx(Cw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:u,children:y.jsxs(_M,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(fte,{children:r}),y.jsx(dte,{scope:t,isInside:!0,children:y.jsx(VZ,{id:l.contentId,role:"tooltip",children:i||r})})]})})});_Q.displayName=uw;var UQ="TooltipArrow",pte=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=UM(t);return hte(UQ,t).isInside?null:y.jsx(OM,{...i,...r,ref:e})});pte.displayName=UQ;function mte(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gte(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function vte(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function yte(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,A=l.x,h=l.y;u>r!=h>r&&t<(A-c)*(r-u)/(h-u)+c&&(i=!i)}return i}function bte(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),wte(e)}function wte(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var xte=RQ,HQ=_Q;const Cte=xte,Ste=_.forwardRef(({className:n,sideOffset:e=4,...t},r)=>y.jsx(HQ,{ref:r,sideOffset:e,className:ir("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));Ste.displayName=HQ.displayName;var fN=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pN=typeof window>"u"||"Deno"in globalThis;function FA(){}function Bte(n,e){return typeof n=="function"?n(e):n}function Ete(n){return typeof n=="number"&&n>=0&&n!==1/0}function Fte(n,e){return Math.max(n+(e||0)-Date.now(),0)}function wL(n,e){return typeof n=="function"?n(e):n}function Tte(n,e){return typeof n=="function"?n(e):n}function EO(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==HM(o,e.options))return!1}else if(!M2(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function FO(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(I2(e.options.mutationKey)!==I2(s))return!1}else if(!M2(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function HM(n,e){return((e==null?void 0:e.queryKeyHashFn)||I2)(n)}function I2(n){return JSON.stringify(n,(e,t)=>xL(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function M2(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>M2(n[t],e[t])):!1}function jQ(n,e){if(n===e)return n;const t=TO(n)&&TO(e);if(t||xL(n)&&xL(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const A=t?u:s[u];(!t&&l.has(A)||t)&&n[A]===void 0&&e[A]===void 0?(a[A]=void 0,c++):(a[A]=jQ(n[A],e[A]),a[A]===n[A]&&n[A]!==void 0&&c++)}return i===o&&c===i?n:a}return e}function TO(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function xL(n){if(!NO(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!NO(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function NO(n){return Object.prototype.toString.call(n)==="[object Object]"}function Nte(n){return new Promise(e=>{setTimeout(e,n)})}function kte(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?jQ(n,e):e}function Pte(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Lte(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var jM=Symbol();function QQ(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===jM?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var F0,Gp,V1,uj,Ite=(uj=class extends fN{constructor(){super();Z(this,F0);Z(this,Gp);Z(this,V1);Q(this,V1,e=>{if(!pN&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){m(this,Gp)||this.setEventListener(m(this,V1))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,Gp))==null||e.call(this),Q(this,Gp,void 0))}setEventListener(e){var t;Q(this,V1,e),(t=m(this,Gp))==null||t.call(this),Q(this,Gp,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){m(this,F0)!==e&&(Q(this,F0,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof m(this,F0)=="boolean"?m(this,F0):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},F0=new WeakMap,Gp=new WeakMap,V1=new WeakMap,uj),zQ=new Ite,G1,Wp,W1,Aj,Mte=(Aj=class extends fN{constructor(){super();Z(this,G1,!0);Z(this,Wp);Z(this,W1);Q(this,W1,e=>{if(!pN&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){m(this,Wp)||this.setEventListener(m(this,W1))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,Wp))==null||e.call(this),Q(this,Wp,void 0))}setEventListener(e){var t;Q(this,W1,e),(t=m(this,Wp))==null||t.call(this),Q(this,Wp,e(this.setOnline.bind(this)))}setOnline(e){m(this,G1)!==e&&(Q(this,G1,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return m(this,G1)}},G1=new WeakMap,Wp=new WeakMap,W1=new WeakMap,Aj),aF=new Mte;function Rte(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function Dte(n){return Math.min(1e3*2**n,3e4)}function KQ(n){return(n??"online")==="online"?aF.isOnline():!0}var VQ=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function CP(n){return n instanceof VQ}function GQ(n){let e=!1,t=0,r=!1,i;const s=Rte(),o=g=>{var x;r||(h(new VQ(g)),(x=n.abort)==null||x.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>zQ.isFocused()&&(n.networkMode==="always"||aF.isOnline())&&n.canRun(),u=()=>KQ(n.networkMode)&&n.canRun(),A=g=>{var x;r||(r=!0,(x=n.onSuccess)==null||x.call(n,g),i==null||i(),s.resolve(g))},h=g=>{var x;r||(r=!0,(x=n.onError)==null||x.call(n,g),i==null||i(),s.reject(g))},f=()=>new Promise(g=>{var x;i=b=>{(r||c())&&g(b)},(x=n.onPause)==null||x.call(n)}).then(()=>{var g;i=void 0,r||(g=n.onContinue)==null||g.call(n)}),v=()=>{if(r)return;let g;const x=t===0?n.initialPromise:void 0;try{g=x??n.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(A).catch(b=>{var N;if(r)return;const S=n.retry??(pN?0:3),E=n.retryDelay??Dte,k=typeof E=="function"?E(t,b):E,P=S===!0||typeof S=="number"&&t<S||typeof S=="function"&&S(t,b);if(e||!P){h(b);return}t++,(N=n.onFail)==null||N.call(n,t,b),Nte(k).then(()=>c()?void 0:f()).then(()=>{e?h(b):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():f().then(v),s)}}var _te=n=>setTimeout(n,0);function Ote(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=_te;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Bl=Ote(),T0,dj,WQ=(dj=class{constructor(){Z(this,T0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ete(this.gcTime)&&Q(this,T0,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(pN?1/0:300*1e3))}clearGcTimeout(){m(this,T0)&&(clearTimeout(m(this,T0)),Q(this,T0,void 0))}},T0=new WeakMap,dj),q1,N0,xu,k0,Ga,oC,P0,NA,Oh,hj,Ute=(hj=class extends WQ{constructor(e){super();Z(this,NA);Z(this,q1);Z(this,N0);Z(this,xu);Z(this,k0);Z(this,Ga);Z(this,oC);Z(this,P0);Q(this,P0,!1),Q(this,oC,e.defaultOptions),this.setOptions(e.options),this.observers=[],Q(this,k0,e.client),Q(this,xu,m(this,k0).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Q(this,q1,jte(this.options)),this.state=e.state??m(this,q1),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=m(this,Ga))==null?void 0:e.promise}setOptions(e){this.options={...m(this,oC),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,xu).remove(this)}setData(e,t){const r=kte(this.state.data,e,this.options);return ne(this,NA,Oh).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){ne(this,NA,Oh).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=m(this,Ga))==null?void 0:r.promise;return(i=m(this,Ga))==null||i.cancel(e),t?t.then(FA).catch(FA):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,q1))}isActive(){return this.observers.some(e=>Tte(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>wL(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Fte(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=m(this,Ga))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=m(this,Ga))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),m(this,xu).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(m(this,Ga)&&(m(this,P0)?m(this,Ga).cancel({revert:!0}):m(this,Ga).cancelRetry()),this.scheduleGc()),m(this,xu).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ne(this,NA,Oh).call(this,{type:"invalidate"})}fetch(e,t){var c,u,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(m(this,Ga))return m(this,Ga).continueRetry(),m(this,Ga).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Q(this,P0,!0),r.signal)})},s=()=>{const h=QQ(this.options,t),v=(()=>{const g={client:m(this,k0),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return Q(this,P0,!1),this.options.persister?this.options.persister(h,v,this):h(v)},a=(()=>{const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:m(this,k0),state:this.state,fetchFn:s};return i(h),h})();(c=this.options.behavior)==null||c.onFetch(a,this),Q(this,N0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&ne(this,NA,Oh).call(this,{type:"fetch",meta:(A=a.fetchOptions)==null?void 0:A.meta});const l=h=>{var f,v,g,x;CP(h)&&h.silent||ne(this,NA,Oh).call(this,{type:"error",error:h}),CP(h)||((v=(f=m(this,xu).config).onError)==null||v.call(f,h,this),(x=(g=m(this,xu).config).onSettled)==null||x.call(g,this.state.data,h,this)),this.scheduleGc()};return Q(this,Ga,GQ({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,v,g,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(v=(f=m(this,xu).config).onSuccess)==null||v.call(f,h,this),(x=(g=m(this,xu).config).onSettled)==null||x.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{ne(this,NA,Oh).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{ne(this,NA,Oh).call(this,{type:"pause"})},onContinue:()=>{ne(this,NA,Oh).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),m(this,Ga).start()}},q1=new WeakMap,N0=new WeakMap,xu=new WeakMap,k0=new WeakMap,Ga=new WeakMap,oC=new WeakMap,P0=new WeakMap,NA=new WeakSet,Oh=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Hte(r.data,this.options),fetchMeta:e.meta??null};case"success":return Q(this,N0,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return CP(i)&&i.revert&&m(this,N0)?{...m(this,N0),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Bl.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),m(this,xu).notify({query:this,type:"updated",action:e})})},hj);function Hte(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KQ(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function jte(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Sd,fj,Qte=(fj=class extends fN{constructor(e={}){super();Z(this,Sd);this.config=e,Q(this,Sd,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??HM(i,t);let o=this.get(s);return o||(o=new Ute({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){m(this,Sd).has(e.queryHash)||(m(this,Sd).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=m(this,Sd).get(e.queryHash);t&&(e.destroy(),t===e&&m(this,Sd).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bl.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return m(this,Sd).get(e)}getAll(){return[...m(this,Sd).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>EO(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>EO(e,r)):t}notify(e){Bl.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Bl.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bl.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sd=new WeakMap,fj),Bd,vl,L0,Ed,Lp,pj,zte=(pj=class extends WQ{constructor(e){super();Z(this,Ed);Z(this,Bd);Z(this,vl);Z(this,L0);this.mutationId=e.mutationId,Q(this,vl,e.mutationCache),Q(this,Bd,[]),this.state=e.state||Kte(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){m(this,Bd).includes(e)||(m(this,Bd).push(e),this.clearGcTimeout(),m(this,vl).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Q(this,Bd,m(this,Bd).filter(t=>t!==e)),this.scheduleGc(),m(this,vl).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){m(this,Bd).length||(this.state.status==="pending"?this.scheduleGc():m(this,vl).remove(this))}continue(){var e;return((e=m(this,L0))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,l,c,u,A,h,f,v,g,x,b,S,E,k,P,N,I,U;const t=()=>{ne(this,Ed,Lp).call(this,{type:"continue"})};Q(this,L0,GQ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(V,W)=>{ne(this,Ed,Lp).call(this,{type:"failed",failureCount:V,error:W})},onPause:()=>{ne(this,Ed,Lp).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,vl).canRun(this)}));const r=this.state.status==="pending",i=!m(this,L0).canStart();try{if(r)t();else{ne(this,Ed,Lp).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=m(this,vl).config).onMutate)==null?void 0:o.call(s,e,this));const W=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));W!==this.state.context&&ne(this,Ed,Lp).call(this,{type:"pending",context:W,variables:e,isPaused:i})}const V=await m(this,L0).start();return await((u=(c=m(this,vl).config).onSuccess)==null?void 0:u.call(c,V,e,this.state.context,this)),await((h=(A=this.options).onSuccess)==null?void 0:h.call(A,V,e,this.state.context)),await((v=(f=m(this,vl).config).onSettled)==null?void 0:v.call(f,V,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,V,null,e,this.state.context)),ne(this,Ed,Lp).call(this,{type:"success",data:V}),V}catch(V){try{throw await((S=(b=m(this,vl).config).onError)==null?void 0:S.call(b,V,e,this.state.context,this)),await((k=(E=this.options).onError)==null?void 0:k.call(E,V,e,this.state.context)),await((N=(P=m(this,vl).config).onSettled)==null?void 0:N.call(P,void 0,V,this.state.variables,this.state.context,this)),await((U=(I=this.options).onSettled)==null?void 0:U.call(I,void 0,V,e,this.state.context)),V}finally{ne(this,Ed,Lp).call(this,{type:"error",error:V})}}finally{m(this,vl).runNext(this)}}},Bd=new WeakMap,vl=new WeakMap,L0=new WeakMap,Ed=new WeakSet,Lp=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Bl.batch(()=>{m(this,Bd).forEach(r=>{r.onMutationUpdate(e)}),m(this,vl).notify({mutation:this,type:"updated",action:e})})},pj);function Kte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qh,kA,aC,mj,Vte=(mj=class extends fN{constructor(e={}){super();Z(this,qh);Z(this,kA);Z(this,aC);this.config=e,Q(this,qh,new Set),Q(this,kA,new Map),Q(this,aC,0)}build(e,t,r){const i=new zte({mutationCache:this,mutationId:++Ko(this,aC)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){m(this,qh).add(e);const t=qB(e);if(typeof t=="string"){const r=m(this,kA).get(t);r?r.push(e):m(this,kA).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(m(this,qh).delete(e)){const t=qB(e);if(typeof t=="string"){const r=m(this,kA).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&m(this,kA).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=qB(e);if(typeof t=="string"){const r=m(this,kA).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=qB(e);if(typeof t=="string"){const i=(r=m(this,kA).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bl.batch(()=>{m(this,qh).forEach(e=>{this.notify({type:"removed",mutation:e})}),m(this,qh).clear(),m(this,kA).clear()})}getAll(){return Array.from(m(this,qh))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>FO(t,r))}findAll(e={}){return this.getAll().filter(t=>FO(e,t))}notify(e){Bl.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Bl.batch(()=>Promise.all(e.map(t=>t.continue().catch(FA))))}},qh=new WeakMap,kA=new WeakMap,aC=new WeakMap,mj);function qB(n){var e;return(e=n.options.scope)==null?void 0:e.id}function kO(n){return{onFetch:(e,t)=>{var u,A,h,f,v;const r=e.options,i=(h=(A=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:A.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=QQ(e.options,e.fetchOptions),S=async(E,k,P)=>{if(g)return Promise.reject();if(k==null&&E.pages.length)return Promise.resolve(E);const I=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:k,direction:P?"backward":"forward",meta:e.options.meta};return x(L),L})(),U=await b(I),{maxPages:V}=e.options,W=P?Lte:Pte;return{pages:W(E.pages,U,V),pageParams:W(E.pageParams,k,V)}};if(i&&s.length){const E=i==="backward",k=E?Gte:PO,P={pages:s,pageParams:o},N=k(r,P);a=await S(P,N,E)}else{const E=n??s.length;do{const k=l===0?o[0]??r.initialPageParam:PO(r,a);if(l>0&&k==null)break;a=await S(a,k),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function PO(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Gte(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var zs,qp,Xp,X1,Y1,Yp,Z1,J1,gj,Wte=(gj=class{constructor(n={}){Z(this,zs);Z(this,qp);Z(this,Xp);Z(this,X1);Z(this,Y1);Z(this,Yp);Z(this,Z1);Z(this,J1);Q(this,zs,n.queryCache||new Qte),Q(this,qp,n.mutationCache||new Vte),Q(this,Xp,n.defaultOptions||{}),Q(this,X1,new Map),Q(this,Y1,new Map),Q(this,Yp,0)}mount(){Ko(this,Yp)._++,m(this,Yp)===1&&(Q(this,Z1,zQ.subscribe(async n=>{n&&(await this.resumePausedMutations(),m(this,zs).onFocus())})),Q(this,J1,aF.subscribe(async n=>{n&&(await this.resumePausedMutations(),m(this,zs).onOnline())})))}unmount(){var n,e;Ko(this,Yp)._--,m(this,Yp)===0&&((n=m(this,Z1))==null||n.call(this),Q(this,Z1,void 0),(e=m(this,J1))==null||e.call(this),Q(this,J1,void 0))}isFetching(n){return m(this,zs).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return m(this,qp).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=m(this,zs).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=m(this,zs).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(wL(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return m(this,zs).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=m(this,zs).get(r.queryHash),s=i==null?void 0:i.state.data,o=Bte(e,s);if(o!==void 0)return m(this,zs).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Bl.batch(()=>m(this,zs).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=m(this,zs).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=m(this,zs);Bl.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=m(this,zs);return Bl.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Bl.batch(()=>m(this,zs).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(FA).catch(FA)}invalidateQueries(n,e={}){return Bl.batch(()=>(m(this,zs).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Bl.batch(()=>m(this,zs).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(FA)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(FA)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=m(this,zs).build(this,e);return t.isStaleByTime(wL(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(FA).catch(FA)}fetchInfiniteQuery(n){return n.behavior=kO(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(FA).catch(FA)}ensureInfiniteQueryData(n){return n.behavior=kO(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return aF.isOnline()?m(this,qp).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,zs)}getMutationCache(){return m(this,qp)}getDefaultOptions(){return m(this,Xp)}setDefaultOptions(n){Q(this,Xp,n)}setQueryDefaults(n,e){m(this,X1).set(I2(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...m(this,X1).values()],t={};return e.forEach(r=>{M2(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){m(this,Y1).set(I2(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...m(this,Y1).values()],t={};return e.forEach(r=>{M2(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...m(this,Xp).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=HM(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===jM&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...m(this,Xp).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){m(this,zs).clear(),m(this,qp).clear()}},zs=new WeakMap,qp=new WeakMap,Xp=new WeakMap,X1=new WeakMap,Y1=new WeakMap,Yp=new WeakMap,Z1=new WeakMap,J1=new WeakMap,gj),qte=_.createContext(void 0),Xte=({client:n,children:e})=>(_.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),y.jsx(qte.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R2(){return R2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},R2.apply(this,arguments)}var Um;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Um||(Um={}));const LO="popstate";function Yte(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return CL("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:lF(i)}return Jte(e,t,null,n)}function vo(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qQ(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zte(){return Math.random().toString(36).substr(2,8)}function IO(n,e){return{usr:n.state,key:n.key,idx:e}}function CL(n,e,t,r){return t===void 0&&(t=null),R2({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Nw(e):e,{state:t,key:e&&e.key||r||Zte()})}function lF(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nw(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Jte(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Um.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(R2({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function A(){a=Um.Pop;let x=u(),b=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:b})}function h(x,b){a=Um.Push;let S=CL(g.location,x,b);c=u()+1;let E=IO(S,c),k=g.createHref(S);try{o.pushState(E,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(k)}s&&l&&l({action:a,location:g.location,delta:1})}function f(x,b){a=Um.Replace;let S=CL(g.location,x,b);c=u();let E=IO(S,c),k=g.createHref(S);o.replaceState(E,"",k),s&&l&&l({action:a,location:g.location,delta:0})}function v(x){let b=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:lF(x);return S=S.replace(/ $/,"%20"),vo(b,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,b)}let g={get action(){return a},get location(){return n(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(LO,A),l=x,()=>{i.removeEventListener(LO,A),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:f,go(x){return o.go(x)}};return g}var MO;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(MO||(MO={}));function $te(n,e,t){return t===void 0&&(t="/"),ene(n,e,t)}function ene(n,e,t,r){let i=typeof e=="string"?Nw(e):e,s=QM(i.pathname||"/",t);if(s==null)return null;let o=XQ(n);tne(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=hne(s);a=une(o[l],c)}return a}function XQ(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(vo(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Xm([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(vo(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XQ(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:lne(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of YQ(s.path))i(s,o,l)}),e}function YQ(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YQ(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function tne(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cne(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const nne=/^:[\w-]+$/,rne=3,ine=2,sne=1,one=10,ane=-2,RO=n=>n==="*";function lne(n,e){let t=n.split("/"),r=t.length;return t.some(RO)&&(r+=ane),e&&(r+=ine),t.filter(i=>!RO(i)).reduce((i,s)=>i+(nne.test(s)?rne:s===""?sne:one),r)}function cne(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function une(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",A=Ane({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!A)return null;Object.assign(i,A.params),o.push({params:i,pathname:Xm([s,A.pathname]),pathnameBase:gne(Xm([s,A.pathnameBase])),route:h}),A.pathnameBase!=="/"&&(s=Xm([s,A.pathnameBase]))}return o}function Ane(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=dne(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,A)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[A]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[A];return f&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function dne(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),qQ(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hne(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qQ(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function QM(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function fne(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Nw(n):n;return{pathname:t?t.startsWith("/")?t:pne(t,e):e,search:vne(r),hash:yne(i)}}function pne(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function SP(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mne(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ZQ(n,e){let t=mne(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function JQ(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Nw(n):(i=R2({},n),vo(!i.pathname||!i.pathname.includes("?"),SP("?","pathname","search",i)),vo(!i.pathname||!i.pathname.includes("#"),SP("#","pathname","hash",i)),vo(!i.search||!i.search.includes("#"),SP("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let A=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),A-=1;i.pathname=h.join("/")}a=A>=0?e[A]:"/"}let l=fne(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Xm=n=>n.join("/").replace(/\/\/+/g,"/"),gne=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vne=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yne=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bne(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const $Q=["post","put","patch","delete"];new Set($Q);const wne=["get",...$Q];new Set(wne);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D2(){return D2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},D2.apply(this,arguments)}const zM=_.createContext(null),xne=_.createContext(null),oy=_.createContext(null),mN=_.createContext(null),ay=_.createContext({outlet:null,matches:[],isDataRoute:!1}),e7=_.createContext(null);function Cne(n,e){let{relative:t}=e===void 0?{}:e;jS()||vo(!1);let{basename:r,navigator:i}=_.useContext(oy),{hash:s,pathname:o,search:a}=n7(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Xm([r,o])),i.createHref({pathname:l,search:a,hash:s})}function jS(){return _.useContext(mN)!=null}function QS(){return jS()||vo(!1),_.useContext(mN).location}function t7(n){_.useContext(oy).static||_.useLayoutEffect(n)}function Sne(){let{isDataRoute:n}=_.useContext(ay);return n?_ne():Bne()}function Bne(){jS()||vo(!1);let n=_.useContext(zM),{basename:e,future:t,navigator:r}=_.useContext(oy),{matches:i}=_.useContext(ay),{pathname:s}=QS(),o=JSON.stringify(ZQ(i,t.v7_relativeSplatPath)),a=_.useRef(!1);return t7(()=>{a.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let A=JQ(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Xm([e,A.pathname])),(u.replace?r.replace:r.push)(A,u.state,u)},[e,r,o,s,n])}function n7(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=_.useContext(oy),{matches:i}=_.useContext(ay),{pathname:s}=QS(),o=JSON.stringify(ZQ(i,r.v7_relativeSplatPath));return _.useMemo(()=>JQ(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function Ene(n,e){return Fne(n,e)}function Fne(n,e,t,r){jS()||vo(!1);let{navigator:i}=_.useContext(oy),{matches:s}=_.useContext(ay),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=QS(),u;if(e){var A;let x=typeof e=="string"?Nw(e):e;l==="/"||(A=x.pathname)!=null&&A.startsWith(l)||vo(!1),u=x}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=$te(n,{pathname:f}),g=Lne(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Xm([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Xm([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,r);return e&&g?_.createElement(mN.Provider,{value:{location:D2({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Um.Pop}},g):g}function Tne(){let n=Dne(),e=bne(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:i},t):null,null)}const Nne=_.createElement(Tne,null);class kne extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(ay.Provider,{value:this.props.routeContext},_.createElement(e7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pne(n){let{routeContext:e,match:t,children:r}=n,i=_.useContext(zM);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(ay.Provider,{value:e},r)}function Lne(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(A=>A.route.id&&(a==null?void 0:a[A.route.id])!==void 0);u>=0||vo(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let A=o[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(c=u),A.route.id){let{loaderData:h,errors:f}=t,v=A.route.loader&&h[A.route.id]===void 0&&(!f||f[A.route.id]===void 0);if(A.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,A,h)=>{let f,v=!1,g=null,x=null;t&&(f=a&&A.route.id?a[A.route.id]:void 0,g=A.route.errorElement||Nne,l&&(c<0&&h===0?(One("route-fallback"),v=!0,x=null):c===h&&(v=!0,x=A.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),S=()=>{let E;return f?E=g:v?E=x:A.route.Component?E=_.createElement(A.route.Component,null):A.route.element?E=A.route.element:E=u,_.createElement(Pne,{match:A,routeContext:{outlet:u,matches:b,isDataRoute:t!=null},children:E})};return t&&(A.route.ErrorBoundary||A.route.errorElement||h===0)?_.createElement(kne,{location:t.location,revalidation:t.revalidation,component:g,error:f,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}var r7=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(r7||{}),i7=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(i7||{});function Ine(n){let e=_.useContext(zM);return e||vo(!1),e}function Mne(n){let e=_.useContext(xne);return e||vo(!1),e}function Rne(n){let e=_.useContext(ay);return e||vo(!1),e}function s7(n){let e=Rne(),t=e.matches[e.matches.length-1];return t.route.id||vo(!1),t.route.id}function Dne(){var n;let e=_.useContext(e7),t=Mne(),r=s7();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function _ne(){let{router:n}=Ine(r7.UseNavigateStable),e=s7(i7.UseNavigateStable),t=_.useRef(!1);return t7(()=>{t.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,D2({fromRouteId:e},s)))},[n,e])}const DO={};function One(n,e,t){DO[n]||(DO[n]=!0)}function Une(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function i1(n){vo(!1)}function Hne(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Um.Pop,navigator:s,static:o=!1,future:a}=n;jS()&&vo(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:s,static:o,future:D2({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Nw(r));let{pathname:u="/",search:A="",hash:h="",state:f=null,key:v="default"}=r,g=_.useMemo(()=>{let x=QM(u,l);return x==null?null:{location:{pathname:x,search:A,hash:h,state:f,key:v},navigationType:i}},[l,u,A,h,f,v,i]);return g==null?null:_.createElement(oy.Provider,{value:c},_.createElement(mN.Provider,{children:t,value:g}))}function jne(n){let{children:e,location:t}=n;return Ene(SL(e),t)}new Promise(()=>{});function SL(n,e){e===void 0&&(e=[]);let t=[];return _.Children.forEach(n,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){t.push.apply(t,SL(r.props.children,s));return}r.type!==i1&&vo(!1),!r.props.index||!r.props.children||vo(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=SL(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BL(){return BL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BL.apply(this,arguments)}function Qne(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function zne(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Kne(n,e){return n.button===0&&(!e||e==="_self")&&!zne(n)}const Vne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gne="6";try{window.__reactRouterVersion=Gne}catch{}const Wne="startTransition",_O=wM[Wne];function qne(n){let{basename:e,children:t,future:r,window:i}=n,s=_.useRef();s.current==null&&(s.current=Yte({window:i,v5Compat:!0}));let o=s.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=_.useCallback(A=>{c&&_O?_O(()=>l(A)):l(A)},[l,c]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.useEffect(()=>Une(r),[r]),_.createElement(Hne,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const Xne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OO=_.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:A}=e,h=Qne(e,Vne),{basename:f}=_.useContext(oy),v,g=!1;if(typeof c=="string"&&Yne.test(c)&&(v=c,Xne))try{let E=new URL(window.location.href),k=c.startsWith("//")?new URL(E.protocol+c):new URL(c),P=QM(k.pathname,f);k.origin===E.origin&&P!=null?c=P+k.search+k.hash:g=!0}catch{}let x=Cne(c,{relative:i}),b=Zne(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:A});function S(E){r&&r(E),E.defaultPrevented||b(E)}return _.createElement("a",BL({},h,{href:v||x,onClick:g||s?r:S,ref:t,target:l}))});var UO;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(UO||(UO={}));var HO;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(HO||(HO={}));function Zne(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Sne(),c=QS(),u=n7(n,{relative:o});return _.useCallback(A=>{if(Kne(A,t)){A.preventDefault();let h=r!==void 0?r:lF(c)===lF(u);l(n,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,t,n,s,o,a])}const Jne={sidebarOpen:!1,toggleSidebar:()=>{},ntsGeneralCommentsHtml:{},setNtsGeneralCommentsHtml:()=>{}},o7=_.createContext(Jne),KM=()=>_.useContext(o7),$ne=({children:n})=>{const[e,t]=_.useState(!1),[r,i]=_.useState({}),s=()=>{t(o=>!o)};return y.jsx(o7.Provider,{value:{sidebarOpen:e,toggleSidebar:s,ntsGeneralCommentsHtml:r,setNtsGeneralCommentsHtml:i},children:n})},BP=768;function ere(){const[n,e]=_.useState(void 0);return _.useEffect(()=>{const t=window.matchMedia(`(max-width: ${BP-1}px)`),r=()=>{e(window.innerWidth<BP)};return t.addEventListener("change",r),e(window.innerWidth<BP),()=>t.removeEventListener("change",r)},[]),!!n}const VM=({children:n})=>{const{sidebarOpen:e,toggleSidebar:t}=KM();return ere(),y.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[y.jsx("main",{className:"w-full max-w-screen-2xl mx-auto px-4 sm:px-8 lg:px-12 flex-1 pt-0 mt-0",children:n}),y.jsx("footer",{className:"w-full text-center py-4 text-gray-600 text-sm font-semibold mt-auto",style:{color:"var(--primary)"},children:"Powered by NTS G.R.O.W"})]})},rr=_.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:ir("rounded-lg border border-border/40 bg-background shadow-sm",n),...e}));rr.displayName="Card";const wi=_.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:ir("flex flex-col space-y-1.5 p-6",n),...e}));wi.displayName="CardHeader";const xi=_.forwardRef(({className:n,...e},t)=>y.jsx("h3",{ref:t,className:ir("text-2xl font-semibold leading-none tracking-tight text-foreground",n),...e}));xi.displayName="CardTitle";const tre=_.forwardRef(({className:n,...e},t)=>y.jsx("p",{ref:t,className:ir("text-sm text-muted-foreground",n),...e}));tre.displayName="CardDescription";const Ar=_.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:ir("p-6 pt-0",n),...e}));Ar.displayName="CardContent";const nre=_.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:ir("flex items-center p-6 pt-0",n),...e}));nre.displayName="CardFooter";const rre=aN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xr=_.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?wZ:"button";return y.jsx(o,{className:ir(rre({variant:e,size:t,className:n})),ref:s,...i})});xr.displayName="Button";const xg=_.forwardRef(({className:n,type:e,...t},r)=>y.jsx("input",{type:e,className:ir("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));xg.displayName="Input";const a7=({onFileUpload:n,resetKey:e,isLoading:t=!1})=>{const[r,i]=_.useState(!1),[s,o]=_.useState(null);_.useEffect(()=>{o(null)},[e]);const a=A=>{A.preventDefault(),A.stopPropagation(),A.type==="dragenter"||A.type==="dragover"?i(!0):A.type==="dragleave"&&i(!1)},l=A=>{A.preventDefault(),A.stopPropagation(),i(!1);const h=A.dataTransfer.files;h&&h[0]&&c(h[0])},c=A=>{o(A),n(A)},u=A=>{const h=A.target.files;h&&h[0]&&c(h[0])};return y.jsxs(rr,{className:"w-full max-w-screen-xl mx-auto bg-white",children:[y.jsx(wi,{children:y.jsxs(xi,{className:"flex items-center gap-2 text-black text-2xl",children:[y.jsx(uO,{className:"h-6 w-6"}),"PDF Upload"]})}),y.jsx(Ar,{children:y.jsx("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${r&&!t?"border-blue-500 bg-blue-50":"border-gray-300"} ${t?"border-green-500 bg-green-50":""}`,onDragEnter:a,onDragLeave:a,onDragOver:a,onDrop:l,children:t?y.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-green-600",children:[y.jsx(k2,{className:"h-16 w-16 animate-spin"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-lg",children:"Processing PDF..."}),y.jsx("p",{className:"text-base text-gray-500",children:"Please wait while we analyze your therapy charts"})]})]}):s?y.jsxs("div",{className:"flex items-center justify-center gap-2 text-black",children:[y.jsx(fL,{className:"h-10 w-10"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-lg",children:s.name}),y.jsxs("p",{className:"text-base text-gray-500",children:[(s.size/1024/1024).toFixed(2)," MB"]})]})]}):y.jsxs(y.Fragment,{children:[y.jsx(uO,{className:"h-16 w-16 mx-auto text-gray-400 mb-6"}),y.jsx("p",{className:"text-center text-gray-600 text-lg",children:"Drop your therapy charts PDF here"}),y.jsx("p",{className:"text-lg text-gray-500 mb-6",children:"(Export from NTS admin platform first)"}),y.jsx(xg,{type:"file",accept:"image/*,.pdf",onChange:u,className:"hidden",id:"file-upload",disabled:t}),y.jsx(xr,{asChild:!0,size:"lg",disabled:t,children:y.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:"Choose File"})})]})})})]})},Rs=({title:n,children:e,className:t="",collapsible:r=!1,expanded:i=!0,onToggle:s,useHideButton:o=!1,infoContent:a})=>y.jsxs(rr,{className:`mb-6 ${t}`,children:[y.jsxs(wi,{className:"flex flex-row items-center justify-between",children:[y.jsx(xi,{className:"text-lg font-semibold text-gray-800",children:n}),y.jsx("div",{className:"flex items-center gap-2",children:r&&(o?y.jsx("button",{type:"button",onClick:s,className:"ml-2 text-xs px-2 py-1 rounded bg-gray-100 border border-gray-300 hover:bg-gray-200","aria-label":i?"Hide section":"Show section",children:i?"Hide":"Show"}):y.jsx("button",{type:"button",onClick:s,className:"ml-2 text-gray-500 hover:text-black focus:outline-none","aria-label":i?"Collapse section":"Expand section",children:y.jsx("span",{style:{display:"inline-block",transition:"transform 0.2s",transform:i?"rotate(90deg)":"rotate(0deg)"},children:""})}))})]}),(!r||i)&&y.jsx(Ar,{children:e})]});var EP={exports:{}},FP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO;function ire(){if(jO)return FP;jO=1;var n=_S();function e(A,h){return A===h&&(A!==0||1/A===1/h)||A!==A&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function a(A,h){var f=h(),v=r({inst:{value:f,getSnapshot:h}}),g=v[0].inst,x=v[1];return s(function(){g.value=f,g.getSnapshot=h,l(g)&&x({inst:g})},[A,f,h]),i(function(){return l(g)&&x({inst:g}),A(function(){l(g)&&x({inst:g})})},[A]),o(f),f}function l(A){var h=A.getSnapshot;A=A.value;try{var f=h();return!t(A,f)}catch{return!0}}function c(A,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return FP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:u,FP}var QO;function l7(){return QO||(QO=1,EP.exports=ire()),EP.exports}var c7=l7();function ba(n){this.content=n}ba.prototype={constructor:ba,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new ba(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ba(t)},addToStart:function(n,e){return new ba([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new ba(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new ba(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=ba.from(n),n.size?new ba(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ba.from(n),n.size?new ba(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=ba.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};ba.from=function(n){if(n instanceof ba)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new ba(e)};function u7(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=u7(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function A7(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){t-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:t,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(o.content.size||a.content.size){let c=A7(o.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}}class Ot{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Ot(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),r.push(a),i+=a.nodeSize),o=l}return new Ot(r,i)}cutByIndex(e,t){return e==t?Ot.empty:e==0&&t==this.content.length?this:new Ot(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new Ot(i,s)}addToStart(e){return new Ot([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ot(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return u7(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return A7(this,e,t,r)}findIndex(e){if(e==0)return XB(0,e);if(e==this.size)return XB(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),s=r+i.nodeSize;if(s>=e)return s==e?XB(t+1,s):XB(t,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Ot.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ot(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ot.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new Ot(t||e,r)}static from(e){if(!e)return Ot.empty;if(e instanceof Ot)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ot([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ot.empty=new Ot([],0);const TP={index:0,offset:0};function XB(n,e){return TP.index=n,TP.offset=e,TP}function cF(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!cF(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!cF(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let ns=class EL{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&cF(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return EL.none;if(e instanceof EL)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};ns.none=[];class uF extends Error{}class xn{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=h7(this.content,e+this.openStart,t);return r&&new xn(r,this.openStart,this.openEnd)}removeBetween(e,t){return new xn(d7(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return xn.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new xn(Ot.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new xn(e,r,i)}}xn.empty=new xn(Ot.empty,0,0);function d7(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(t);if(i==e||s.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(d7(s.content,e-i-1,t-i-1)))}function h7(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let a=h7(o.content,e-s-1,t,o);return a&&n.replaceChild(i,o.copy(a))}function sre(n,e,t){if(t.openStart>n.depth)throw new uF("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new uF("Inconsistent open depths");return f7(n,e,t,0)}function f7(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=f7(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,a=o.content;return Hv(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=ore(t,n);return Hv(s,m7(n,o,a,e,r))}else return Hv(s,AF(n,e,r))}function p7(n,e){if(!e.type.compatibleContent(n.type))throw new uF("Cannot join "+e.type.name+" onto "+n.type.name)}function FL(n,e,t){let r=n.node(t);return p7(r,e.node(t)),r}function Uv(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function l2(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Uv(n.nodeAfter,r),s++));for(let a=s;a<o;a++)Uv(i.child(a),r);e&&e.depth==t&&e.textOffset&&Uv(e.nodeBefore,r)}function Hv(n,e){return n.type.checkContent(e),n.copy(e)}function m7(n,e,t,r,i){let s=n.depth>i&&FL(n,e,i+1),o=r.depth>i&&FL(t,r,i+1),a=[];return l2(null,n,i,a),s&&o&&e.index(i)==t.index(i)?(p7(s,o),Uv(Hv(s,m7(n,e,t,r,i+1)),a)):(s&&Uv(Hv(s,AF(n,e,i+1)),a),l2(e,t,i,a),o&&Uv(Hv(o,AF(t,r,i+1)),a)),l2(r,null,i,a),new Ot(a)}function AF(n,e,t){let r=[];if(l2(null,n,t,r),n.depth>t){let i=FL(n,e,t+1);Uv(Hv(i,AF(n,e,t+1)),r)}return l2(e,null,t,r),new Ot(r)}function ore(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(Ot.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class _2{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return ns.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new dF(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new _2(t,r,s)}static resolveCached(e,t){let r=zO.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else zO.set(e,r=new are);let i=r.elts[r.i]=_2.resolve(e,t);return r.i=(r.i+1)%lre,i}}class are{constructor(){this.elts=[],this.i=0}}const lre=12,zO=new WeakMap;class dF{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const cre=Object.create(null);let Ym=class TL{constructor(e,t,r,i=ns.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||Ot.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&cF(this.attrs,t||e.defaultAttrs||cre)&&ns.sameSet(this.marks,r||ns.none)}copy(e=null){return e==this.content?this:new TL(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new TL(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return xn.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new xn(c,i.depth-o,s.depth-o)}replace(e,t,r){return sre(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return _2.resolveCached(this,e)}resolveNoCache(e){return _2.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),g7(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=Ot.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ns.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!ns.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=Ot.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Ym.prototype.text=void 0;class hF extends Ym{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):g7(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new hF(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new hF(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function g7(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Xv{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new ure(e,t);if(r.next==null)return Xv.empty;let i=v7(r);r.next&&r.err("Unexpected trailing text");let s=gre(mre(i));return vre(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!t||l.validEnd))return Ot.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:A}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(A)==-1){i.push(A);let h=s(A,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Xv.empty=new Xv(!0);class ure{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function v7(n){let e=[];do e.push(Are(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Are(n){let e=[];do e.push(dre(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dre(n){let e=pre(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=hre(n,e);else break;return e}function KO(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function hre(n,e){let t=KO(n),r=t;return n.eat(",")&&(n.next!="}"?r=KO(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function fre(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function pre(n){if(n.eat("(")){let e=v7(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=fre(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mre(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=t())}else if(o.type=="star"){let l=t();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=t();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=t();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=t();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function y7(n,e){return e-n}function VO(n,e){let t=[];return r(e),t.sort(y7);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&t.indexOf(l)==-1&&r(l)}}}function gre(n){let e=Object.create(null);return t(VO(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);VO(n,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Xv(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(y7);s.next.push({type:i[o][0],next:e[a.join(",")]||t(a)})}return s}}function vre(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function b7(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function w7(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function x7(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function C7(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new bre(n,r,e[r]);return t}let GO=class S7{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=C7(e,r.attrs),this.defaultAttrs=b7(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xv.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:w7(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ym(this,this.computeAttrs(e),Ot.from(t),ns.setFrom(r))}createChecked(e=null,t,r){return t=Ot.from(t),this.checkContent(t),new Ym(this,this.computeAttrs(e),t,ns.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=Ot.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(Ot.empty,!0);return s?new Ym(this,e,t.append(s),ns.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){x7(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:ns.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new S7(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function yre(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class bre{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?yre(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class gN{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=C7(e,i.attrs),this.excluded=null;let s=b7(this.attrs);this.instance=s?new ns(this,s):null}create(e=null){return!e&&this.instance?this.instance:new ns(this,w7(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new gN(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){x7(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class B7{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=ba.from(e.nodes),t.marks=ba.from(e.marks||{}),this.nodes=GO.compile(this.spec.nodes,this),this.marks=gN.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Xv.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?WO(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:WO(this,o.split(" "))}this.nodeFromJSON=i=>Ym.fromJSON(this,i),this.markFromJSON=i=>ns.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof GO){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new hF(r,r.defaultAttrs,e,ns.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function WO(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function wre(n){return n.tag!=null}function xre(n){return n.style!=null}class Zm{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(wre(i))this.tags.push(i);else if(xre(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new XO(this,t,!1);return r.addAll(e,ns.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new XO(this,t,!0);return r.addAll(e,ns.none,t.from,t.to),xn.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Bre(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=YO(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=YO(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Zm(e,Zm.schemaRules(e)))}}const E7={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Cre={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},F7={ol:!0,ul:!0},O2=1,NL=2,c2=4;function qO(n,e,t){return e!=null?(e?O2:0)|(e==="full"?NL:0):n&&n.whitespace=="pre"?O2|NL:t&~c2}class YB{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=ns.none,this.match=s||(o&c2?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Ot.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&O2)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=Ot.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Ot.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!E7.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class XO{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=qO(null,t.preserveWhitespace,0)|(r?c2:0);i?s=new YB(i.type,i.attrs,ns.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new YB(null,null,ns.none,!0,null,o):s=new YB(e.schema.topNodeType,null,ns.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&NL?"full":this.localPreserveWS||(i.options&O2)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),t,!0),a[l]&&this.insertNode(o.text(a[l]),t,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;F7.hasOwnProperty(o)&&this.parser.normalizeLists&&Sre(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Cre.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(E7.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let A=l&&l.skip?t:this.readStyles(e,t);A&&this.addAll(e,A),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,t.attrs||null,r,t.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=ns.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):ZO(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=qO(e,s,o.options);o.options&c2&&o.content.length==0&&(a|=c2);let l=ns.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):ZO(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new YB(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=O2)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Sre(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&F7.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Bre(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function YO(n){let e={};for(let t in n)e[t]=n[t];return e}function ZO(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class ly{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=NP(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,t);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=sE(NP(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&sE(NP(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return sE(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ly(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=JO(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return JO(e.marks)}}function JO(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function NP(n){return n.document||window.document}const $O=new WeakMap;function Ere(n){let e=$O.get(n);return e===void 0&&$O.set(n,e=Fre(n)),e}function Fre(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function sE(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Ere(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let A in c)if(c[A]!=null){let h=A.indexOf(" ");h>0?l.setAttributeNS(A.slice(0,h),A.slice(h+1),c[A]):A=="style"&&l.style?l.style.cssText=c[A]:l.setAttribute(A,c[A])}}for(let A=u;A<e.length;A++){let h=e[A];if(h===0){if(A<e.length-1||A>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:v}=sE(n,h,t,r);if(l.appendChild(f),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}const T7=65535,N7=Math.pow(2,16);function Tre(n,e){return n+e*N7}function eU(n){return n&T7}function Nre(n){return(n-(n&T7))/N7}const k7=1,P7=2,oE=4,L7=8;class kL{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&L7)>0}get deletedBefore(){return(this.delInfo&(k7|oE))>0}get deletedAfter(){return(this.delInfo&(P7|oE))>0}get deletedAcross(){return(this.delInfo&oE)>0}}class zc{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&zc.empty)return zc.empty}recover(e){let t=0,r=eU(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+Nre(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],A=l+c;if(e<=A){let h=c?e==l?-1:e==A?1:t:t,f=l+i+(h<0?0:u);if(r)return f;let v=e==(t<0?l:A)?null:Tre(a/3,e-l),g=e==l?P7:e==A?k7:oE;return(t<0?e!=l:e!=A)&&(g|=L7),new kL(f,g,v)}i+=u-c}return r?e+i:new kL(e+i,0,null)}touches(e,t){let r=0,i=eU(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+t],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new zc(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zc.empty:new zc(e<0?[0,-e,0]:[0,0,e])}}zc.empty=new zc([]);class U2{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new U2(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new U2;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new kL(e,i,null)}}const kP=Object.create(null);class nl{getMap(){return zc.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=kP[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in kP)throw new RangeError("Duplicate use of step JSON ID "+e);return kP[e]=t,t.prototype.jsonID=e,t}}class go{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new go(e,null)}static fail(e){return new go(null,e)}static fromReplace(e,t,r,i){try{return go.ok(e.replace(t,r,i))}catch(s){if(s instanceof uF)return go.fail(s.message);throw s}}}function GM(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(GM(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return Ot.fromArray(r)}class Hm extends nl{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new xn(GM(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return go.fromReplace(e,this.from,this.to,s)}invert(){return new VA(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Hm(t.pos,r.pos,this.mark)}merge(e){return e instanceof Hm&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hm(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hm(t.from,t.to,e.markFromJSON(t.mark))}}nl.jsonID("addMark",Hm);class VA extends nl{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new xn(GM(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return go.fromReplace(e,this.from,this.to,r)}invert(){return new Hm(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new VA(t.pos,r.pos,this.mark)}merge(e){return e instanceof VA&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new VA(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new VA(t.from,t.to,e.markFromJSON(t.mark))}}nl.jsonID("removeMark",VA);class jm extends nl{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return go.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return go.fromReplace(e,this.pos,this.pos+1,new xn(Ot.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new jm(this.pos,t.marks[i]);return new jm(this.pos,this.mark)}}return new Yv(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new jm(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new jm(t.pos,e.markFromJSON(t.mark))}}nl.jsonID("addNodeMark",jm);class Yv extends nl{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return go.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return go.fromReplace(e,this.pos,this.pos+1,new xn(Ot.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new jm(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Yv(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Yv(t.pos,e.markFromJSON(t.mark))}}nl.jsonID("removeNodeMark",Yv);class ea extends nl{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&PL(e,this.from,this.to)?go.fail("Structure replace would overwrite content"):go.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zc([this.from,this.to-this.from,this.slice.size])}invert(e){return new ea(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new ea(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ea)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?xn.empty:new xn(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ea(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?xn.empty:new xn(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ea(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ea(t.from,t.to,xn.fromJSON(e,t.slice),!!t.structure)}}nl.jsonID("replace",ea);class na extends nl{constructor(e,t,r,i,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(PL(e,this.from,this.gapFrom)||PL(e,this.gapTo,this.to)))return go.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return go.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?go.fromReplace(e,this.from,this.to,r):go.fail("Content does not fit in gap")}getMap(){return new zc([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new na(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new na(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new na(t.from,t.to,t.gapFrom,t.gapTo,xn.fromJSON(e,t.slice),t.insert,!!t.structure)}}nl.jsonID("replaceAround",na);function PL(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function kre(n,e,t,r){let i=[],s=[],o,a;n.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let A=l.marks;if(!r.isInSet(A)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),f=Math.min(c+l.nodeSize,t),v=r.addToSet(A);for(let g=0;g<A.length;g++)A[g].isInSet(v)||(o&&o.to==h&&o.mark.eq(A[g])?o.to=f:i.push(o=new VA(h,f,A[g])));a&&a.to==h?a.to=f:s.push(a=new Hm(h,f,r))}}),i.forEach(l=>n.step(l)),s.forEach(l=>n.step(l))}function Pre(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof gN){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let u=0;u<l.length;u++){let A=l[u],h;for(let f=0;f<i.length;f++){let v=i[f];v.step==s-1&&A.eq(i[f].style)&&(h=v)}h?(h.to=c,h.step=s):i.push({style:A,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>n.step(new VA(o.from,o.to,o.style)))}function WM(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,A=r.matchType(c.type);if(!A)o.push(new ea(a,u,xn.empty));else{r=A;for(let h=0;h<c.marks.length;h++)t.allowsMarkType(c.marks[h].type)||n.step(new VA(a,u,c.marks[h]));if(i&&c.isText&&t.whitespace!="pre"){let h,f=/\r?\n|\r/g,v;for(;h=f.exec(c.text);)v||(v=new xn(Ot.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new ea(a+h.index,a+h.index+h[0].length,v))}}a=u}if(!r.validEnd){let l=r.fillBefore(Ot.empty,!0);n.replace(a,a,new xn(l,0,0))}for(let l=o.length-1;l>=0;l--)n.step(o[l])}function Lre(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function kw(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!Lre(i,s,o))break}return null}function Ire(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=Ot.empty,A=0;for(let v=s,g=!1;v>t;v--)g||r.index(v)>0?(g=!0,u=Ot.from(r.node(v).copy(u)),A++):l--;let h=Ot.empty,f=0;for(let v=s,g=!1;v>t;v--)g||i.after(v+1)<i.end(v)?(g=!0,h=Ot.from(i.node(v).copy(h)),f++):c++;n.step(new na(l,c,o,a,new xn(u.append(h),A,f),u.size-A,!0))}function qM(n,e,t=null,r=n){let i=Mre(n,e),s=i&&Rre(r,e);return s?i.map(tU).concat({type:e,attrs:t}).concat(s.map(tU)):null}function tU(n){return{type:n,attrs:null}}function Mre(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function Rre(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function Dre(n,e,t){let r=Ot.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let a=t[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ot.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new na(i,s,i,s,new xn(r,0,0),t.length,!0))}function _re(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&Ore(n.doc,n.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!v?c=!1:!f&&v&&(c=!0)}c===!1&&M7(n,o,a,s),WM(n,n.mapping.slice(s).map(a,1),r,void 0,c===null);let u=n.mapping.slice(s),A=u.map(a,1),h=u.map(a+o.nodeSize,1);return n.step(new na(A,h,A+1,h-1,new xn(Ot.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&I7(n,o,a,s),!1}})}function I7(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function M7(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Ore(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Ure(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new na(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new xn(Ot.from(o),0,0),1,!0))}function kf(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=t-2;c>s;c--,u--){let A=i.node(c),h=i.index(c);if(A.type.spec.isolating)return!1;let f=A.content.cutByIndex(h,A.childCount),v=r&&r[u+1];v&&(f=f.replaceChild(0,v.type.create(v.attrs)));let g=r&&r[u]||A;if(!A.canReplace(h+1,A.childCount)||!g.type.validContent(f))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Hre(n,e,t=1,r){let i=n.doc.resolve(e),s=Ot.empty,o=Ot.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){s=Ot.from(i.node(a).copy(s));let u=r&&r[c];o=Ot.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}n.step(new ea(e,e,new xn(s.append(o),t,t),!0))}function Cg(n,e){let t=n.resolve(e),r=t.index();return R7(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function jre(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function R7(n,e){return!!(n&&e&&!n.isLeaf&&jre(n,e))}function vN(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&R7(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Qre(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",A=!!o.contentMatch.matchType(i);u&&!A?r=!1:!u&&A&&(r=!0)}let a=n.steps.length;if(r===!1){let u=n.doc.resolve(e+t);M7(n,u.node(),u.before(),a)}o.inlineContent&&WM(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new ea(c,l.map(e+t,-1),xn.empty,!0)),r===!0){let u=n.doc.resolve(c);I7(n,u.node(),u.before(),n.steps.length)}return n}function zre(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function D7(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let A=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=A&&c.canReplaceWith(l,l,A[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function yN(n,e,t=e,r=xn.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return _7(i,s,r)?new ea(e,t,r):new Kre(i,s,r).fit()}function _7(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Kre{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=Ot.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ot.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new xn(s,o,a);return e>-1?new na(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new ea(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=PP(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,A=null;if(t==1&&(o?c.matchType(o.type)||(A=c.fillBefore(Ot.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:A};if(t==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=PP(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new xn(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=PP(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new xn(xx(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new xn(xx(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:A,type:h}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));A=A.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),x=A.matchType(g.type);if(!x)break;c++,(c>1||l==0||g.content.size)&&(A=x,u.push(O7(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let v=c==a.childCount;v||(f=-1),this.placed=Cx(this.placed,t,Ot.from(u)),this.frontier[t].match=A,v&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,x=a;g<f;g++){let b=x.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),x=b.content}this.unplaced=v?e==0?xn.empty:new xn(xx(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new xn(xx(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!LP(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=LP(e,t,i,r,s);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=LP(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Cx(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Cx(this.placed,this.depth,Ot.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Ot.empty,!0);t.childCount&&(this.placed=Cx(this.placed,this.frontier.length,t))}}function xx(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(xx(n.firstChild.content,e-1,t)))}function Cx(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Cx(n.lastChild.content,e-1,t)))}function PP(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function O7(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,O7(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(Ot.empty,!0)))),n.copy(r)}function LP(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Vre(t,s.content,o)?a:null}function Vre(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function Gre(n){return n.spec.defining||n.spec.definingForContent}function Wre(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(_7(i,s,r))return n.step(new ea(e,t,r));let o=H7(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let v=i.node(h).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==f&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,f=0;;f++){let v=h.firstChild;if(c.push(v),f==r.openStart)break;h=v.content}for(let h=u-1;h>=0;h--){let f=c[h],v=Gre(f.type);if(v&&!f.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(v||!f.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+u+1)%(r.openStart+1),v=c[f];if(v)for(let g=0;g<o.length;g++){let x=o[(g+l)%o.length],b=!0;x<0&&(b=!1,x=-x);let S=i.node(x-1),E=i.index(x-1);if(S.canReplaceWith(E,E,v.type,v.marks))return n.replace(i.before(x),b?s.after(x):t,new xn(U7(r.content,0,r.openStart,f),f,r.openEnd))}}let A=n.steps.length;for(let h=o.length-1;h>=0&&(n.replace(e,t,r),!(n.steps.length>A));h--){let f=o[h];f<0||(e=i.before(f),t=s.after(f))}}function U7(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(U7(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(Ot.empty,!0))}return n}function qre(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=zre(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new xn(Ot.from(r),0,0))}function Xre(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=H7(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function H7(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class I1 extends nl{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return go.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return go.fromReplace(e,this.pos,this.pos+1,new xn(Ot.from(i),0,t.isLeaf?0:1))}getMap(){return zc.empty}invert(e){return new I1(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new I1(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new I1(t.pos,t.attr,t.value)}}nl.jsonID("attr",I1);class H2 extends nl{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return go.ok(r)}getMap(){return zc.empty}invert(e){return new H2(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new H2(t.attr,t.value)}}nl.jsonID("docAttr",H2);let Aw=class extends Error{};Aw=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Aw.prototype=Object.create(Error.prototype);Aw.prototype.constructor=Aw;Aw.prototype.name="TransformError";class j7{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new U2}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Aw(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=xn.empty){let i=yN(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new xn(Ot.from(r),0,0))}delete(e,t){return this.replace(e,t,xn.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Wre(this,e,t,r),this}replaceRangeWith(e,t,r){return qre(this,e,t,r),this}deleteRange(e,t){return Xre(this,e,t),this}lift(e,t){return Ire(this,e,t),this}join(e,t=1){return Qre(this,e,t),this}wrap(e,t){return Dre(this,e,t),this}setBlockType(e,t=e,r,i=null){return _re(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Ure(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new I1(e,t,r)),this}setDocAttribute(e,t){return this.step(new H2(e,t)),this}addNodeMark(e,t){return this.step(new jm(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof ns)t.isInSet(r.marks)&&this.step(new Yv(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new Yv(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,r){return Hre(this,e,t,r),this}addMark(e,t,r){return kre(this,e,t,r),this}removeMark(e,t,r){return Pre(this,e,t,r),this}clearIncompatible(e,t,r){return WM(this,e,t,r),this}}const IP=Object.create(null);class Kr{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new Yre(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=xn.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?xn.empty:t),a==0&&iU(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),iU(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Sr(e):s1(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?s1(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):s1(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new qc(e.node(0))}static atStart(e){return s1(e,e,0,0,1)||new qc(e)}static atEnd(e){return s1(e,e,e.content.size,e.childCount,-1)||new qc(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=IP[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in IP)throw new RangeError("Duplicate use of selection JSON ID "+e);return IP[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Sr.between(this.$anchor,this.$head).getBookmark()}}Kr.prototype.visible=!0;class Yre{constructor(e,t){this.$from=e,this.$to=t}}let nU=!1;function rU(n){!nU&&!n.parent.inlineContent&&(nU=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Sr extends Kr{constructor(e,t=e){rU(e),rU(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Kr.near(r);let i=e.resolve(t.map(this.anchor));return new Sr(i.parent.inlineContent?i:r,r)}replace(e,t=xn.empty){if(super.replace(e,t),t==xn.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Sr&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new bN(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Sr(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=Kr.findFrom(t,r,!0)||Kr.findFrom(t,-r,!0);if(s)t=s.$head;else return Kr.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Kr.findFrom(e,-r,!0)||Kr.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Sr(e,t)}}Kr.jsonID("text",Sr);class bN{constructor(e,t){this.anchor=e,this.head=t}map(e){return new bN(e.map(this.anchor),e.map(this.head))}resolve(e){return Sr.between(e.resolve(this.anchor),e.resolve(this.head))}}class Jn extends Kr{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?Kr.near(s):new Jn(s)}content(){return new xn(Ot.from(this.node),0,0)}eq(e){return e instanceof Jn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new XM(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Jn(e.resolve(t.anchor))}static create(e,t){return new Jn(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Jn.prototype.visible=!1;Kr.jsonID("node",Jn);class XM{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new bN(r,r):new XM(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Jn.isSelectable(r)?new Jn(t):Kr.near(t)}}class qc extends Kr{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=xn.empty){if(t==xn.empty){e.delete(0,e.doc.content.size);let r=Kr.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new qc(e)}map(e){return new qc(e)}eq(e){return e instanceof qc}getBookmark(){return Zre}}Kr.jsonID("all",qc);const Zre={map(){return this},resolve(n){return new qc(n)}};function s1(n,e,t,r,i,s=!1){if(e.inlineContent)return Sr.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Jn.isSelectable(a))return Jn.create(n,t-(i<0?a.nodeSize:0))}else{let l=s1(n,a,t+i,i<0?a.childCount:0,i,s);if(l)return l}t+=a.nodeSize*i}return null}function iU(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof ea||i instanceof na))return;let s=n.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),n.setSelection(Kr.near(n.doc.resolve(o),t))}const sU=1,ZB=2,oU=4;class Jre extends j7{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|sU)&~ZB,this.storedMarks=null,this}get selectionSet(){return(this.updated&sU)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ZB,this}ensureMarks(e){return ns.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ZB)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~ZB,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ns.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(Kr.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=oU,this}get scrolledIntoView(){return(this.updated&oU)>0}}function aU(n,e){return!e||!n?n:n.bind(e)}class Sx{constructor(e,t,r){this.name=e,this.init=aU(t.init,r),this.apply=aU(t.apply,r)}}const $re=[new Sx("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Sx("selection",{init(n,e){return n.selection||Kr.atStart(e.doc)},apply(n){return n.selection}}),new Sx("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Sx("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class MP{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=$re.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sx(r.key,r.spec.state,r))})}}class C1{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let A=0;A<this.config.plugins.length;A++)i.push(A<o?{state:r,n:t.length}:{state:this,n:0})}t.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new C1(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new Jre(this)}static create(e){let t=new MP(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new C1(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new MP(this.schema,e.plugins),r=t.fields,i=new C1(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new MP(e.schema,e.plugins),s=new C1(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Ym.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=Kr.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=c.fromJSON.call(l,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function Q7(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Q7(i,e,{})),t[r]=i}return t}class Ws{constructor(e){this.spec=e,this.props={},e.props&&Q7(e.props,this,this.props),this.key=e.key?e.key.key:z7("plugin")}getState(e){return e[this.key]}}const RP=Object.create(null);function z7(n){return n in RP?n+"$"+ ++RP[n]:(RP[n]=0,n+"$")}class ia{constructor(e="key"){this.key=z7(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const YM=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function K7(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const V7=(n,e,t)=>{let r=K7(n,t);if(!r)return!1;let i=ZM(r);if(!i){let o=r.blockRange(),a=o&&kw(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(ez(n,i,e,-1))return!0;if(r.parent.content.size==0&&(dw(s,"end")||Jn.isSelectable(s)))for(let o=r.depth;;o--){let a=yN(n.doc,r.before(o),r.after(o),xn.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(dw(s,"end")?Kr.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Jn.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},eie=(n,e,t)=>{let r=K7(n,t);if(!r)return!1;let i=ZM(r);return i?G7(n,i,e):!1},tie=(n,e,t)=>{let r=q7(n,t);if(!r)return!1;let i=JM(r);return i?G7(n,i,e):!1};function G7(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=yN(n.doc,s,l,xn.empty);if(!c||c.from!=s||c instanceof ea&&c.slice.size>=l-s)return!1;if(t){let u=n.tr.step(c);u.setSelection(Sr.create(u.doc,s)),t(u.scrollIntoView())}return!0}function dw(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const W7=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=ZM(r)}let o=s&&s.nodeBefore;return!o||!Jn.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Jn.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function ZM(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function q7(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const X7=(n,e,t)=>{let r=q7(n,t);if(!r)return!1;let i=JM(r);if(!i)return!1;let s=i.nodeAfter;if(ez(n,i,e,1))return!0;if(r.parent.content.size==0&&(dw(s,"start")||Jn.isSelectable(s))){let o=yN(n.doc,r.before(),r.after(),xn.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(dw(s,"start")?Kr.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Jn.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},Y7=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=JM(r)}let o=s&&s.nodeAfter;return!o||!Jn.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Jn.create(n.doc,s.pos)).scrollIntoView()),!0)};function JM(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const nie=(n,e)=>{let t=n.selection,r=t instanceof Jn,i;if(r){if(t.node.isTextblock||!Cg(n.doc,t.from))return!1;i=t.from}else if(i=vN(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Jn.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},rie=(n,e)=>{let t=n.selection,r;if(t instanceof Jn){if(t.node.isTextblock||!Cg(n.doc,t.to))return!1;r=t.to}else if(r=vN(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},iie=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&kw(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},Z7=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function $M(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const sie=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=$M(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Kr.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},J7=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof qc||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=$M(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(Sr.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},$7=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(kf(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&kw(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function oie(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Jn&&e.selection.node.isBlock)return!r.parentOffset||!kf(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let f=r.depth;;f--)if(r.node(f).isBlock){l=r.end(f)==r.pos+(r.depth-f),c=r.start(f)==r.pos-(r.depth-f),a=$M(r.node(f-1).contentMatchAt(r.indexAfter(f-1))),s.unshift(l&&a?{type:a}:null),o=f;break}else{if(f==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof Sr||e.selection instanceof qc)&&u.deleteSelection();let A=u.mapping.map(r.pos),h=kf(u.doc,A,s.length,s);if(h||(s[0]=a?{type:a}:null,h=kf(u.doc,A,s.length,s)),!h)return!1;if(u.split(A,s.length,s),!l&&c&&r.node(o).type!=a){let f=u.mapping.map(r.before(o)),v=u.doc.resolve(f);a&&r.node(o-1).canReplaceWith(v.index(),v.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(o)),a)}return t&&t(u.scrollIntoView()),!0}}const aie=oie(),lie=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Jn.create(n.doc,i))),!0)};function cie(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Cg(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function ez(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&cie(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let f=e.pos+s.nodeSize,v=Ot.empty;for(let b=o.length-1;b>=0;b--)v=Ot.from(o[b].create(null,v));v=Ot.from(i.copy(v));let g=n.tr.step(new na(e.pos-1,f,e.pos,f,new xn(v,1,0),o.length,!0)),x=g.doc.resolve(f+2*o.length);x.nodeAfter&&x.nodeAfter.type==i.type&&Cg(g.doc,x.pos)&&g.join(x.pos),t(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:Kr.findFrom(e,1),A=u&&u.$from.blockRange(u.$to),h=A&&kw(A);if(h!=null&&h>=e.depth)return t&&t(n.tr.lift(A,h).scrollIntoView()),!0;if(c&&dw(s,"start",!0)&&dw(i,"end")){let f=i,v=[];for(;v.push(f),!f.isTextblock;)f=f.lastChild;let g=s,x=1;for(;!g.isTextblock;g=g.firstChild)x++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(t){let b=Ot.empty;for(let E=v.length-1;E>=0;E--)b=Ot.from(v[E].copy(b));let S=n.tr.step(new na(e.pos-v.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new xn(b,v.length,0),0,!0));t(S.scrollIntoView())}return!0}}return!1}function tz(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(Sr.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const uie=tz(-1),Aie=tz(1);function die(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),a=o&&qM(o,n,e);return a?(r&&r(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function lU(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let u=t.doc.resolve(c),A=u.index();i=u.parent.canReplaceWith(A,A+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];s.setBlockType(a,l,n,e)}r(s.scrollIntoView())}return!0}}function eR(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}eR(YM,V7,W7);eR(YM,X7,Y7);eR(Z7,J7,$7,aie);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function hie(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let a=r?t.tr:null;return fie(a,o,n,e)?(r&&r(a.scrollIntoView()),!0):!1}}function fie(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new dF(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new dF(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=qM(s,t,r,e);return a?(n&&pie(n,e,a,i,t),!0):!1}function pie(n,e,t,r,i){let s=Ot.empty;for(let u=t.length-1;u>=0;u--)s=Ot.from(t[u].type.create(t[u].attrs,s));n.step(new na(e.start-(r?2:0),e.end,e.start,e.end,new xn(s,0,0),t.length,!0));let o=0;for(let u=0;u<t.length;u++)t[u].type==i&&(o=u+1);let a=t.length-o,l=e.start+t.length-(r?2:0),c=e.parent;for(let u=e.startIndex,A=e.endIndex,h=!0;u<A;u++,h=!1)!h&&kf(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}function mie(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?gie(e,t,n,s):vie(e,t,s):!0:!1}}function gie(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new na(s-1,o,s,o,new xn(Ot.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new dF(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=kw(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Cg(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function vie(n,e,t){let r=n.tr,i=t.parent;for(let f=t.end,v=t.endIndex-1,g=t.startIndex;v>g;v--)f-=i.child(v).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?Ot.empty:Ot.from(i))))return!1;let A=s.pos,h=A+o.nodeSize;return r.step(new na(A-(a?1:0),h+(l?1:0),A+1,h-1,new xn((a?Ot.empty:Ot.from(i.copy(Ot.empty))).append(l?Ot.empty:Ot.from(i.copy(Ot.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function yie(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=Ot.from(c?n.create():null),A=new xn(Ot.from(n.create(null,Ot.from(a.type.create(null,u)))),c?3:1,0),h=s.start,f=s.end;t(e.tr.step(new na(h-(c?3:1),f,h,f,A,1,!0)).scrollIntoView())}return!0}}const Sa=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},hw=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let LL=null;const zh=function(n,e,t){let r=LL||(LL=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},bie=function(){LL=null},Zv=function(n,e,t,r){return t&&(cU(n,e,t,r,-1)||cU(n,e,t,r,1))},wie=/^(img|br|input|textarea|hr)$/i;function cU(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ru(n))){let o=n.parentNode;if(!o||o.nodeType!=1||zS(n)||wie.test(n.nodeName)||n.contentEditable=="false")return!1;e=Sa(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?Ru(n):0}else return!1}}function Ru(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function xie(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ru(n)}else if(n.parentNode&&!zS(n))e=Sa(n),n=n.parentNode;else return null}}function Cie(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!zS(n))e=Sa(n)+1,n=n.parentNode;else return null}}function Sie(n,e,t){for(let r=e==0,i=e==Ru(n);r||i;){if(n==t)return!0;let s=Sa(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Ru(n)}}function zS(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const wN=function(n){return n.focusNode&&Zv(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function f0(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Bie(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Eie(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Ru(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Ru(r.startContainer),r.startOffset)}}}const $d=typeof navigator<"u"?navigator:null,uU=typeof document<"u"?document:null,Sg=$d&&$d.userAgent||"",IL=/Edge\/(\d+)/.exec(Sg),nz=/MSIE \d/.exec(Sg),ML=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sg),Ac=!!(nz||ML||IL),Jm=nz?document.documentMode:ML?+ML[1]:IL?+IL[1]:0,ju=!Ac&&/gecko\/(\d+)/i.test(Sg);ju&&+(/Firefox\/(\d+)/.exec(Sg)||[0,0])[1];const RL=!Ac&&/Chrome\/(\d+)/.exec(Sg),el=!!RL,rz=RL?+RL[1]:0,Il=!Ac&&!!$d&&/Apple Computer/.test($d.vendor),fw=Il&&(/Mobile\/\w+/.test(Sg)||!!$d&&$d.maxTouchPoints>2),Pu=fw||($d?/Mac/.test($d.platform):!1),Fie=$d?/Win/.test($d.platform):!1,Nf=/Android \d/.test(Sg),KS=!!uU&&"webkitFontSmoothing"in uU.documentElement.style,Tie=KS?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Nie(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Lh(n,e){return typeof n=="number"?n:n[e]}function kie(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function AU(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=hw(o);continue}let a=o,l=a==s.body,c=l?Nie(s):kie(a),u=0,A=0;if(e.top<c.top+Lh(r,"top")?A=-(c.top-e.top+Lh(i,"top")):e.bottom>c.bottom-Lh(r,"bottom")&&(A=e.bottom-e.top>c.bottom-c.top?e.top+Lh(i,"top")-c.top:e.bottom-c.bottom+Lh(i,"bottom")),e.left<c.left+Lh(r,"left")?u=-(c.left-e.left+Lh(i,"left")):e.right>c.right-Lh(r,"right")&&(u=e.right-c.right+Lh(i,"right")),u||A)if(l)s.defaultView.scrollBy(u,A);else{let f=a.scrollLeft,v=a.scrollTop;A&&(a.scrollTop+=A),u&&(a.scrollLeft+=u);let g=a.scrollLeft-f,x=a.scrollTop-v;e={left:e.left-g,top:e.top-x,right:e.right-g,bottom:e.bottom-x}}let h=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(h))break;o=h=="absolute"?o.offsetParent:hw(o)}}function Pie(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:iz(n.dom)}}function iz(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=hw(r));return e}function Lie({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;sz(t,r==0?0:r-e)}function sz(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let _y=null;function Iie(n){if(n.setActive)return n.setActive();if(_y)return n.focus(_y);let e=iz(n);n.focus(_y==null?{get preventScroll(){return _y={preventScroll:!0},!0}}:void 0),_y||(_y=!1,sz(e,0))}function oz(n,e){let t,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=n.firstChild,A=0;u;u=u.nextSibling,A++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=zh(u).getClientRects();else continue;for(let f=0;f<h.length;f++){let v=h[f];if(v.top<=o&&v.bottom>=a){o=Math.max(v.bottom,o),a=Math.min(v.top,a);let g=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(g<r){t=u,r=g,i=g&&t.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,u.nodeType==1&&g&&(s=A+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!l&&v.left<=e.left&&v.right>=e.left&&(l=u,c={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!t&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(s=A+1)}}return!t&&l&&(t=l,i=c,r=0),t&&t.nodeType==3?Mie(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:oz(t,i)}function Mie(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Ip(r,1);if(s.top!=s.bottom&&tR(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function tR(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Rie(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Die(n,e,t){let{node:r,offset:i}=oz(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function _ie(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let a=n.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function az(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(tR(e,c))return az(o,e,c)}}if((s=(s+1)%r)==i)break}return n}function Oie(n,e){let t=n.dom.ownerDocument,r,i=0,s=Eie(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=n.dom.getBoundingClientRect();if(!tR(e,c)||(o=az(n.dom,e,c),!o))return null}if(Il)for(let c=o;r&&c;c=hw(c))c.draggable&&(r=void 0);if(o=Rie(o,e),r){if(ju&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],A;u.nodeName=="IMG"&&(A=u.getBoundingClientRect()).right<=e.left&&A.bottom>e.top&&i++}let c;KS&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=_ie(n,r,i,e))}a==null&&(a=Die(n,o,e));let l=n.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function dU(n){return n.top<n.bottom||n.left<n.right}function Ip(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(dU(r))return r}return Array.prototype.find.call(t,dU)||n.getBoundingClientRect()}const Uie=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function lz(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=KS||ju;if(r.nodeType==3)if(o&&(Uie.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=Ip(zh(r,i,i),t);if(ju&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Ip(zh(r,i-1,i-1),-1);if(c.top==l.top){let u=Ip(zh(r,i,i+1),-1);if(u.top!=l.top)return rx(u,u.left<c.left)}}return l}else{let l=i,c=i,u=t<0?1:-1;return t<0&&!i?(c++,u=-1):t>=0&&i==r.nodeValue.length?(l--,u=1):t<0?l--:c++,rx(Ip(zh(r,l,c),u),u<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Ru(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return DP(l.getBoundingClientRect(),!1)}if(s==null&&i<Ru(r)){let l=r.childNodes[i];if(l.nodeType==1)return DP(l.getBoundingClientRect(),!0)}return DP(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Ru(r))){let l=r.childNodes[i-1],c=l.nodeType==3?zh(l,Ru(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return rx(Ip(c,1),!1)}if(s==null&&i<Ru(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?zh(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return rx(Ip(c,-1),!0)}return rx(Ip(r.nodeType==3?zh(r):r,-t),t>=0)}function rx(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function DP(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function cz(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Hie(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return cz(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=lz(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=zh(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const jie=/[\u0590-\u08ac]/;function Qie(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return a?!jie.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:cz(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:A}=n.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",t,"character");let f=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:v,focusOffset:g}=n.domSelectionRange(),x=v&&!f.contains(v.nodeType==1?v:v.parentNode)||l==v&&c==g;try{a.collapse(u,A),l&&(l!=u||c!=A)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),x}):r.pos==r.start()||r.pos==r.end()}let hU=null,fU=null,pU=!1;function zie(n,e,t){return hU==e&&fU==t?pU:(hU=e,fU=t,pU=t=="up"||t=="down"?Hie(n,e,t):Qie(n,e,t))}const Qu=0,mU=1,w0=2,eh=3;class VS{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Qu,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Sa(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof Az){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof uz&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Sa(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Sa(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=o;for(let A=a;A>0;A--){let h=this.children[A-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Sa(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let A=this.children[u];if(A.size&&A.dom.parentNode==this.contentDOM&&!A.emptyChildAt(-1)){s=Sa(A.dom);break}t+=A.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let f=0,v=0;f<this.children.length;f++){let g=this.children[f],x=v+g.size;if(s>v&&o<x)return g.setSelection(e-v-g.border,t-v-g.border,r,i);v=x}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),A=!1;if((ju||Il)&&e==t){let{node:f,offset:v}=a;if(f.nodeType==3){if(A=!!(v&&f.nodeValue[v-1]==`
`),A&&v==f.nodeValue.length)for(let g=f,x;g;g=g.parentNode){if(x=g.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:Sa(x)+1});break}let b=g.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let g=f.childNodes[v-1];A=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(ju&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||A&&Il)&&Zv(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Zv(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||e==t)&&!(A&&ju)){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>t){let v=a;a=l,l=v}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let a=r+s.border,l=o-s.border;if(e>=a&&t<=l){this.dirty=e==r||t==o?w0:mU,e==a&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=eh:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?w0:eh}r=o}this.dirty=w0}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?w0:mU;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class uz extends VS{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Qu&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Kie extends VS{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Jv extends VS{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=ly.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Jv(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&eh||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=eh&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Qu){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Qu}}slice(e,t,r){let i=Jv.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=_L(s,t,o,r)),e>0&&(s=_L(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class $m extends VS{constructor(e,t,r,i,s,o,a,l,c){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,s,o){let a=s.nodeViews[t.type.name],l,c=a&&a(t,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,A=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:A}=ly.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!A&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let h=u;return u=fz(u,r,t),c?l=new Vie(e,t,r,i,u,A||null,h,c,s,o+1):t.isText?new xN(e,t,r,i,u,h,s):new $m(e,t,r,i,u,A||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ot.empty)}return e}matchesNode(e,t,r){return this.dirty==Qu&&e.eq(this.node)&&fF(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new Wie(this,o&&o.node,e);Yie(this.node,this.innerDeco,(c,u,A)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!A&&l.syncToMarks(u==this.node.childCount?ns.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,A,h)=>{l.syncToMarks(c.marks,r,e);let f;l.findNodeMatch(c,u,A,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,A,f,e)||l.updateNextNode(c,u,A,e,h,i)||l.addNode(c,u,A,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==w0)&&(o&&this.protectLocalComposition(e,o),dz(this.contentDOM,this.children,e),fw&&Zie(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Sr)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Jie(this.node.content,o,r-t,i-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Kie(this,s,t,i);e.input.compositionNodes.push(o),this.children=_L(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==eh||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Qu}updateOuterDeco(e){if(fF(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=hz(this.dom,this.nodeDOM,DL(this.outerDeco,this.node,t),DL(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function gU(n,e,t,r,i){fz(r,e,n);let s=new $m(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class xN extends $m{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==eh||this.dirty!=Qu&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Qu||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Qu,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new xN(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=eh)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Az extends VS{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Qu&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Vie extends $m{constructor(e,t,r,i,s,o,a,l,c,u){super(e,t,r,i,s,o,a,c,u),this.spec=l}update(e,t,r,i){if(this.dirty==eh)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function dz(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=vU(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof Jv){let l=r?r.previousSibling:n.lastChild;dz(o.contentDOM,o.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=vU(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const u2=function(n){n&&(this.nodeName=n)};u2.prototype=Object.create(null);const x0=[new u2];function DL(n,e,t){if(n.length==0)return x0;let r=t?x0[0]:new u2,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new u2(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&i.length==1&&i.push(r=new u2(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function hz(n,e,t,r){if(t==x0&&r==x0)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=x0[0]),i=l}Gie(i,a||x0[0],o)}return i}function Gie(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function fz(n,e,t){return hz(n,n,x0,DL(e,t,n.nodeType!=1))}function fF(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function vU(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Wie{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=qie(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Qu,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Jv.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==eh&&o.dom==o.contentDOM&&(o.dirty=w0),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof $m){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,A,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=eh&&fF(t,l.outerDeco));if(!h&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(A=this.recreateWrapper(l,e,t,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=A,A.contentDOM&&(A.dirty=w0,A.updateChildren(i,o+1),A.dirty=Qu),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!fF(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=$m.create(this.top,t,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,s){let o=$m.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new uz(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Jv;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof xN)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Il||el)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Az(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function qie(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=t.children[r-1];if(c instanceof Jv)t=c,r=c.children.length;else{a=c,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Xie(n,e){return n.type.side-e.type.side}function Yie(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let u=n.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,A;for(;o<i.length&&i[o].to==s;){let x=i[o++];x.widget&&(u?(A||(A=[u])).push(x):u=x)}if(u)if(A){A.sort(Xie);for(let x=0;x<A.length;x++)t(A[x],c,!!l)}else t(u,c,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(c<n.childCount)f=c,h=n.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=s&&a.splice(x--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let v=s+h.nodeSize;if(h.isText){let x=v;o<i.length&&i[o].from<x&&(x=i[o].from);for(let b=0;b<a.length;b++)a[b].to<x&&(x=a[b].to);x<v&&(l=h.cut(x-s),h=h.cut(0,x-s),v=x,f=-1)}else for(;o<i.length&&i[o].to<v;)o++;let g=h.isInline&&!h.isLeaf?a.filter(x=>!x.inline):a.slice();r(h,g,e.forChild(s,h),f),s=v}}function Zie(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Jie(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<n.childCount;){let c=n.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=t){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function _L(n,e,t,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],c=a,u=a+=l.size;c>=t||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>t&&s.push(l.slice(t-c,l.size,r)))}return s}function nR(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(wN(t)){for(l=o;i&&!i.node;)i=i.parent;let A=i.node;if(i&&A.isAtom&&Jn.isSelectable(A)&&i.parent&&!(A.isInline&&Sie(t.focusNode,t.focusOffset,i.dom))){let h=i.posBefore;c=new Jn(o==h?a:r.resolve(h))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let A=o,h=o;for(let f=0;f<t.rangeCount;f++){let v=t.getRangeAt(f);A=Math.min(A,n.docView.posFromDOM(v.startContainer,v.startOffset,1)),h=Math.max(h,n.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(A<0)return null;[l,o]=h==n.state.selection.anchor?[h,A]:[A,h],a=r.resolve(o)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let A=e=="pointer"||n.state.selection.head<a.pos&&!s?1:-1;c=rR(n,u,a,A)}return c}function pz(n){return n.editable?n.hasFocus():gz(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Pf(n,e=!1){let t=n.state.selection;if(mz(n,t),!!pz(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&el){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Zv(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)ese(n);else{let{anchor:r,head:i}=t,s,o;yU&&!(t instanceof Sr)&&(t.$from.parent.inlineContent||(s=bU(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=bU(n,t.to))),n.docView.setSelection(r,i,n,e),yU&&(s&&wU(s),o&&wU(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$ie(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const yU=Il||el&&rz<63;function bU(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(Il&&i&&i.contentEditable=="false")return _P(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return _P(i);if(s)return _P(s)}}function _P(n){return n.contentEditable="true",Il&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function wU(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function $ie(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!pz(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function ese(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,Sa(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&Ac&&Jm<=11&&(t.disabled=!0,t.disabled=!1)}function mz(n,e){if(e instanceof Jn){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(xU(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else xU(n)}function xU(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function rR(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Sr.between(e,t,r)}function CU(n){return n.editable&&!n.hasFocus()?!1:gz(n)}function gz(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function tse(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Zv(e.node,e.offset,t.anchorNode,t.anchorOffset)}function OL(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Kr.findFrom(s,e)}function Op(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function SU(n,e,t){let r=n.state.selection;if(r instanceof Sr)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Op(n,new Sr(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=OL(n.state,e);return i&&i instanceof Jn?Op(n,i):!1}else if(!(Pu&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?Jn.isSelectable(s)?Op(n,new Jn(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):KS?Op(n,new Sr(n.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Jn&&r.node.isInline)return Op(n,new Sr(e>0?r.$to:r.$from));{let i=OL(n.state,e);return i?Op(n,i):!1}}}function pF(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function A2(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Oy(n,e){return e<0?nse(n):rse(n)}function nse(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(ju&&t.nodeType==1&&r<pF(t)&&A2(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(A2(a,-1))i=t,s=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(vz(t))break;{let a=t.previousSibling;for(;a&&A2(a,-1);)i=t.parentNode,s=Sa(a),a=a.previousSibling;if(a)t=a,r=pF(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?UL(n,t,r):i&&UL(n,i,s)}function rse(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=pF(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(A2(a,1))s=t,o=++r;else break}else{if(vz(t))break;{let a=t.nextSibling;for(;a&&A2(a,1);)s=a.parentNode,o=Sa(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=pF(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&UL(n,s,o)}function vz(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function ise(n,e){for(;n&&e==n.childNodes.length&&!zS(n);)e=Sa(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function sse(n,e){for(;n&&!e&&!zS(n);)e=Sa(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function UL(n,e,t){if(e.nodeType!=3){let s,o;(o=ise(e,t))?(e=o,t=0):(s=sse(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(wN(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Pf(n)},50)}function BU(n,e){let t=n.state.doc.resolve(e);if(!(el||Fie)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function EU(n,e,t){let r=n.state.selection;if(r instanceof Sr&&!r.empty||t.indexOf("s")>-1||Pu&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=OL(n.state,e);if(o&&o instanceof Jn)return Op(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof qc?Kr.near(o,e):Kr.findFrom(o,e);return a?Op(n,a):!1}return!1}function FU(n,e){if(!(n.state.selection instanceof Sr))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function TU(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function ose(n){if(!Il||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;TU(n,r,"true"),setTimeout(()=>TU(n,r,"false"),20)}return!1}function ase(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function lse(n,e){let t=e.keyCode,r=ase(e);if(t==8||Pu&&t==72&&r=="c")return FU(n,-1)||Oy(n,-1);if(t==46&&!e.shiftKey||Pu&&t==68&&r=="c")return FU(n,1)||Oy(n,1);if(t==13||t==27)return!0;if(t==37||Pu&&t==66&&r=="c"){let i=t==37?BU(n,n.state.selection.from)=="ltr"?-1:1:-1;return SU(n,i,r)||Oy(n,i)}else if(t==39||Pu&&t==70&&r=="c"){let i=t==39?BU(n,n.state.selection.from)=="ltr"?1:-1:1;return SU(n,i,r)||Oy(n,i)}else{if(t==38||Pu&&t==80&&r=="c")return EU(n,-1,r)||Oy(n,-1);if(t==40||Pu&&t==78&&r=="c")return ose(n)||EU(n,1,r)||Oy(n,1);if(r==(Pu?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function iR(n,e){n.someProp("transformCopied",f=>{e=f(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;t.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let o=n.someProp("clipboardSerializer")||ly.fromSchema(n.state.schema),a=Sz(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,A=0;for(;c&&c.nodeType==1&&(u=Cz[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let v=a.createElement(u[f]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),A++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${A?` -${A}`:""} ${JSON.stringify(t)}`);let h=n.someProp("clipboardTextSerializer",f=>f(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function yz(n,e,t,r,i){let s=i.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=!!e&&(r||s||!t);if(l){if(n.someProp("transformPastedText",h=>{e=h(e,s||r,n)}),s)return a=new xn(Ot.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",h=>{a=h(a,n,!0)}),a;let A=n.someProp("clipboardTextParser",h=>h(e,i,r,n));if(A)a=A;else{let h=i.marks(),{schema:f}=n.state,v=ly.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let x=o.appendChild(document.createElement("p"));g&&x.appendChild(v.serializeNode(f.text(g,h)))})}}else n.someProp("transformPastedHTML",A=>{t=A(t,n)}),o=dse(t),KS&&hse(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let A=+u[3];A>0;A--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Zm.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!cse.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=fse(NU(a,+u[1],+u[2]),u[4]);else if(a=xn.maxOpen(use(a.content,i),!0),a.openStart||a.openEnd){let A=0,h=0;for(let f=a.content.firstChild;A<a.openStart&&!f.type.spec.isolating;A++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=NU(a,A,h)}return n.someProp("transformPasted",A=>{a=A(a,n,l)}),a}const cse=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function use(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&wz(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=xz(o[o.length-1],s.length));let u=bz(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return Ot.from(o)}return n}function bz(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,Ot.from(n));return n}function wz(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=wz(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(Ot.from(bz(t,n,i+1))))}}function xz(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,xz(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(Ot.empty,!0);return n.copy(t.append(r))}function HL(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(s=0),i<r-1&&(a=HL(a,e,t,r,i+1,s)),i>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Ot.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function NU(n,e,t){return e<n.openStart&&(n=new xn(HL(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new xn(HL(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Cz={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let kU=null;function Sz(){return kU||(kU=document.implementation.createHTMLDocument("title"))}let OP=null;function Ase(n){let e=window.trustedTypes;return e?(OP||(OP=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),OP.createHTML(n)):n}function dse(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Sz().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&Cz[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=Ase(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function hse(n){let e=n.querySelectorAll(el?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function fse(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Ot.from(l.create(r[a+1],i)),s++,o++}return new xn(i,s,o)}const Ml={},Rl={},pse={touchstart:!0,touchmove:!0};class mse{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function gse(n){for(let e in Ml){let t=Ml[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{yse(n,r)&&!sR(n,r)&&(n.editable||!(r.type in Rl))&&t(n,r)},pse[e]?{passive:!0}:void 0)}Il&&n.dom.addEventListener("input",()=>null),jL(n)}function Qm(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function vse(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function jL(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>sR(n,r))})}function sR(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function yse(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function bse(n,e){!sR(n,e)&&Ml[e.type]&&(n.editable||!(e.type in Rl))&&Ml[e.type](n,e)}Rl.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Ez(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Nf&&el&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),fw&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,f0(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||lse(n,t)?t.preventDefault():Qm(n,"key")};Rl.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Rl.keypress=(n,e)=>{let t=e;if(Ez(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Pu&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Sr)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function CN(n){return{left:n.clientX,top:n.clientY}}function wse(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function oR(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,a=>o>s.depth?a(n,t,s.nodeAfter,s.before(o),i,!0):a(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function M1(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function xse(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Jn.isSelectable(r)?(M1(n,new Jn(t)),!0):!1}function Cse(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Jn&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Jn.isSelectable(a)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(M1(n,Jn.create(n.state.doc,i)),!0):!1}function Sse(n,e,t,r,i){return oR(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?Cse(n,t):xse(n,t))}function Bse(n,e,t,r){return oR(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function Ese(n,e,t,r){return oR(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||Fse(n,t,r)}function Fse(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(M1(n,Sr.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)M1(n,Sr.create(r,a+1,a+1+o.content.size));else if(Jn.isSelectable(o))M1(n,Jn.create(r,a));else continue;return!0}}function aR(n){return mF(n)}const Bz=Pu?"metaKey":"ctrlKey";Ml.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=aR(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&wse(t,n.input.lastClick)&&!t[Bz]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(CN(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Tse(n,o,t,!!r)):(s=="doubleClick"?Bse:Ese)(n,o.pos,o.inside,t)?t.preventDefault():Qm(n,"pointer"))};class Tse{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Bz],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Jn&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ju&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qm(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pf(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(CN(e))),this.updateAllowDefault(e),this.allowDefault||!t?Qm(this.view,"pointer"):Sse(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Il&&this.mightDrag&&!this.mightDrag.node.isAtom||el&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(M1(this.view,Kr.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Qm(this.view,"pointer")}move(e){this.updateAllowDefault(e),Qm(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ml.touchstart=n=>{n.input.lastTouch=Date.now(),aR(n),Qm(n,"pointer")};Ml.touchmove=n=>{n.input.lastTouch=Date.now(),Qm(n,"pointer")};Ml.contextmenu=n=>aR(n);function Ez(n,e){return n.composing?!0:Il&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Nse=Nf?5e3:-1;Rl.compositionstart=Rl.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Sr&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),mF(n,!0),n.markCursor=null;else if(mF(n,!e.selection.empty),ju&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}Fz(n,Nse)};Rl.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Fz(n,20))};function Fz(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>mF(n),e))}function Tz(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Pse());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function kse(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=xie(e.focusNode,e.focusOffset),r=Cie(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function Pse(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function mF(n,e=!1){if(!(Nf&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Tz(n),e||n.docView&&n.docView.dirty){let t=nR(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Lse(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const j2=Ac&&Jm<15||fw&&Tie<604;Ml.copy=Rl.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=j2?null:t.clipboardData,o=r.content(),{dom:a,text:l}=iR(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Lse(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Ise(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Mse(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Q2(n,r.value,null,i,e):Q2(n,r.textContent,r.innerHTML,i,e)},50)}function Q2(n,e,t,r,i){let s=yz(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,s||xn.empty)))return!0;if(!s)return!1;let o=Ise(s),a=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Nz(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Rl.paste=(n,e)=>{let t=e;if(n.composing&&!Nf)return;let r=j2?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Q2(n,Nz(r),r.getData("text/html"),i,t)?t.preventDefault():Mse(n,t)};class kz{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Rse=Pu?"altKey":"ctrlKey";function Pz(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Rse]}Ml.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(CN(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Jn?i.to-1:i.to))){if(r&&r.mightDrag)o=Jn.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let A=n.docView.nearestDesc(t.target,!0);A&&A.node.type.spec.draggable&&A!=n.docView&&(o=Jn.create(n.state.doc,A.posBefore))}}let a=(o||n.state.selection).content(),{dom:l,text:c,slice:u}=iR(n,a);(!t.dataTransfer.files.length||!el||rz>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(j2?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",j2||t.dataTransfer.setData("text/plain",c),n.dragging=new kz(u,Pz(n,t),o)};Ml.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Rl.dragover=Rl.dragenter=(n,e)=>e.preventDefault();Rl.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(CN(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",v=>{o=v(o,n,!1)}):o=yz(n,Nz(t.dataTransfer),j2?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&Pz(n,t));if(n.someProp("handleDrop",v=>v(n,t,o||xn.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?D7(n.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=n.state.tr;if(a){let{node:v}=r;v?v.replace(c):c.deleteSelection()}let u=c.mapping.map(l),A=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(A?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let f=c.doc.resolve(u);if(A&&Jn.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Jn(f));else{let v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,x,b,S)=>v=S),c.setSelection(rR(n,f,c.doc.resolve(v)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};Ml.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Pf(n)},20))};Ml.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Ml.beforeinput=(n,e)=>{if(el&&Nf&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,f0(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Rl)Ml[n]=Rl[n];function z2(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class gF{constructor(e,t){this.toDOM=e,this.spec=t||jv,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new El(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof gF&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&z2(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class eg{constructor(e,t){this.attrs=e,this.spec=t||jv}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new El(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof eg&&z2(this.attrs,e.attrs)&&z2(this.spec,e.spec)}static is(e){return e.type instanceof eg}destroy(){}}class lR{constructor(e,t){this.attrs=e,this.spec=t||jv}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new El(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof lR&&z2(this.attrs,e.attrs)&&z2(this.spec,e.spec)}destroy(){}}class El{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new El(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new El(e,e,new gF(t,r))}static inline(e,t,r,i){return new El(e,t,new eg(r,i))}static node(e,t,r,i){return new El(e,t,new lR(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof eg}get widget(){return this.type instanceof gF}}const o1=[],jv={};class Ds{constructor(e,t){this.local=e.length?e:o1,this.children=t.length?t:o1}static create(e,t){return t.length?vF(t,e,0,jv):Za}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,r,i+a,s)}}map(e,t,r){return this==Za||e.maps.length==0?this:this.mapInner(e,t,0,0,r||jv)}mapInner(e,t,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Dse(this.children,o||[],e,t,r,i,s):o?new Ds(o.sort(Qv),o1):Za}add(e,t){return t.length?this==Za?Ds.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=Iz(t,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,vF(u,a,c+1,jv)),s+=3}});let o=Lz(s?Mz(t):t,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Ds(o.length?this.local.concat(o).sort(Qv):this.local,i||this.children)}remove(e){return e.length==0||this==Za?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+t,l=r[s+1]+t;for(let u=0,A;u<e.length;u++)(A=e[u])&&A.from>a&&A.to<l&&(e[u]=null,(o||(o=[])).push(A));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Za?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ds(i,r):Za}forChild(e,t){if(this==Za)return this;if(t.isLeaf)return Ds.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof eg){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Ds(i.sort(Qv),o1);return r?new zp([a,r]):a}return r||Za}eq(e){if(this==e)return!0;if(!(e instanceof Ds)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return cR(this.localsInner(e))}localsInner(e){if(this==Za)return o1;if(e.inlineContent||!this.local.some(eg.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof eg||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Ds.empty=new Ds([],[]);Ds.removeOverlap=cR;const Za=Ds.empty;class zp{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,jv));return zp.from(r)}forChild(e,t){if(t.isLeaf)return Ds.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=Za&&(s instanceof zp?r=r.concat(s.members):r.push(s))}return zp.from(r)}eq(e){if(!(e instanceof zp)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?cR(r?t:t.sort(Qv)):o1}static from(e){switch(e.length){case 0:return Za;case 1:return e[0];default:return new zp(e.every(t=>t instanceof Ds)?e:e.reduce((t,r)=>t.concat(r instanceof Ds?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Dse(n,e,t,r,i,s,o){let a=n.slice();for(let c=0,u=s;c<t.maps.length;c++){let A=0;t.maps[c].forEach((h,f,v,g)=>{let x=g-v-(f-h);for(let b=0;b<a.length;b+=3){let S=a[b+1];if(S<0||h>S+u-A)continue;let E=a[b]+u-A;f>=E?a[b+1]=h<=E?-2:-1:h>=u&&x&&(a[b]+=x,a[b+1]+=x)}A+=x}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(n[c]+s),A=u-i;if(A<0||A>=r.content.size){l=!0;continue}let h=t.map(n[c+1]+s,-1),f=h-i,{index:v,offset:g}=r.content.findIndex(A),x=r.maybeChild(v);if(x&&g==A&&g+x.nodeSize==f){let b=a[c+2].mapInner(t,x,u+1,n[c]+s+1,o);b!=Za?(a[c]=A,a[c+1]=f,a[c+2]=b):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=_se(a,n,e,t,i,s,o),u=vF(c,r,0,o);e=u.local;for(let A=0;A<a.length;A+=3)a[A+1]<0&&(a.splice(A,3),A-=3);for(let A=0,h=0;A<u.children.length;A+=3){let f=u.children[A];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,u.children[A],u.children[A+1],u.children[A+2])}}return new Ds(e.sort(Qv),a)}function Lz(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new El(i.from+e,i.to+e,i.type))}return t}function _se(n,e,t,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let A=l.local[u].map(r,i,c);A?t.push(A):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+s+1);return t}function Iz(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function Mz(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function vF(n,e,t,r){let i=[],s=!1;e.forEach((a,l)=>{let c=Iz(n,a,l+t);if(c){s=!0;let u=vF(c,a,t+l+1,r);u!=Za&&i.push(l,l+a.nodeSize,u)}});let o=Lz(s?Mz(n):n,-t).sort(Qv);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Ds(o,i):Za}function Qv(n,e){return n.from-e.from||n.to-e.to}function cR(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),PU(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),PU(e,i,r.copy(s.from,r.to)));break}}}return e}function PU(n,e,t){for(;e<n.length&&Qv(t,n[e])>0;)e++;n.splice(e,0,t)}function UP(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Za&&e.push(r)}),n.cursorWrapper&&e.push(Ds.create(n.state.doc,[n.cursorWrapper.deco])),zp.from(e)}const Ose={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Use=Ac&&Jm<=11;class Hse{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class jse{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Hse,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ac&&Jm<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Use&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ose)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(CU(this.view)){if(this.suppressingSelectionUpdates)return Pf(this.view);if(Ac&&Jm<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zv(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=hw(s))t.add(s);for(let s=e.anchorNode;s;s=hw(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&CU(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let A=this.registerMutation(t[u],l);A&&(s=s<0?A.from:Math.min(A.from,s),o=o<0?A.to:Math.max(A.to,o),A.typeOver&&(a=!0))}if(ju&&l.length){let u=l.filter(A=>A.nodeName=="BR");if(u.length==2){let[A,h]=u;A.parentNode&&A.parentNode.parentNode==h.parentNode?h.remove():A.remove()}else{let{focusNode:A}=this.currentSelection;for(let h of u){let f=h.parentNode;f&&f.nodeName=="LI"&&(!A||Kse(e,A)!=f)&&h.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&wN(r)&&(c=nR(e))&&c.eq(Kr.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Pf(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),Qse(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Pf(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let A=e.addedNodes[u];t.push(A),A.nodeType==3&&(this.lastChangedTextNode=A)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ac&&Jm<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:A,nextSibling:h}=e.addedNodes[u];(!A||Array.prototype.indexOf.call(e.addedNodes,A)<0)&&(i=A),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?Sa(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Sa(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let LU=new WeakMap,IU=!1;function Qse(n){if(!LU.has(n)&&(LU.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=ju,IU)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),IU=!0}}function MU(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Zv(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function zse(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return MU(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?MU(n,t):null}function Kse(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function Vse(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,u=l.anchorNode;if(u&&n.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],wN(l)||c.push({node:l.focusNode,offset:l.focusOffset})),el&&n.input.lastKeyCode===8)for(let x=s;x>i;x--){let b=r.childNodes[x-1],S=b.pmViewDesc;if(b.nodeName=="BR"&&!S){s=x;break}if(!S||S.size)break}let A=n.state.doc,h=n.someProp("domParser")||Zm.fromSchema(n.state.schema),f=A.resolve(o),v=null,g=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Gse,context:f});if(c&&c[0].pos!=null){let x=c[0].pos,b=c[1]&&c[1].pos;b==null&&(b=x),v={anchor:x+o,head:b+o}}return{doc:g,sel:v,from:o,to:a}}function Gse(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Il&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Il&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Wse=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function qse(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let I=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,U=nR(n,I);if(U&&!n.state.selection.eq(U)){if(el&&Nf&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",W=>W(n,f0(13,"Enter"))))return;let V=n.state.tr.setSelection(U);I=="pointer"?V.setMeta("pointer",!0):I=="key"&&V.scrollIntoView(),s&&V.setMeta("composition",s),n.dispatch(V)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=Vse(n,e,t),u=n.state.doc,A=u.slice(c.from,c.to),h,f;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(h=n.state.selection.to,f="end"):(h=n.state.selection.from,f="start"),n.input.lastKeyCode=null;let v=Zse(A.content,c.doc.content,c.from,h,f);if(v&&n.input.domChangeCount++,(fw&&n.input.lastIOSEnter>Date.now()-225||Nf)&&i.some(I=>I.nodeType==1&&!Wse.test(I.nodeName))&&(!v||v.endA>=v.endB)&&n.someProp("handleKeyDown",I=>I(n,f0(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!v)if(r&&l instanceof Sr&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let I=RU(n,n.state.doc,c.sel);if(I&&!I.eq(n.state.selection)){let U=n.state.tr.setSelection(I);s&&U.setMeta("composition",s),n.dispatch(U)}}return}n.state.selection.from<n.state.selection.to&&v.start==v.endB&&n.state.selection instanceof Sr&&(v.start>n.state.selection.from&&v.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?v.start=n.state.selection.from:v.endA<n.state.selection.to&&v.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(v.endB+=n.state.selection.to-v.endA,v.endA=n.state.selection.to)),Ac&&Jm<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>c.from&&c.doc.textBetween(v.start-c.from-1,v.start-c.from+1)==" "&&(v.start--,v.endA--,v.endB--);let g=c.doc.resolveNoCache(v.start-c.from),x=c.doc.resolveNoCache(v.endB-c.from),b=u.resolve(v.start),S=g.sameParent(x)&&g.parent.inlineContent&&b.end()>=v.endA;if((fw&&n.input.lastIOSEnter>Date.now()-225&&(!S||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!S&&g.pos<c.doc.content.size&&(!g.sameParent(x)||!g.parent.inlineContent)&&g.pos<x.pos&&!/\S/.test(c.doc.textBetween(g.pos,x.pos,"","")))&&n.someProp("handleKeyDown",I=>I(n,f0(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>v.start&&Yse(u,v.start,v.endA,g,x)&&n.someProp("handleKeyDown",I=>I(n,f0(8,"Backspace")))){Nf&&el&&n.domObserver.suppressSelectionUpdates();return}el&&v.endB==v.start&&(n.input.lastChromeDelete=Date.now()),Nf&&!S&&g.start()!=x.start()&&x.parentOffset==0&&g.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==v.endA&&(v.endB-=2,x=c.doc.resolveNoCache(v.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(I){return I(n,f0(13,"Enter"))})},20));let E=v.start,k=v.endA,P=I=>{let U=I||n.state.tr.replace(E,k,c.doc.slice(v.start-c.from,v.endB-c.from));if(c.sel){let V=RU(n,U.doc,c.sel);V&&!(el&&n.composing&&V.empty&&(v.start!=v.endB||n.input.lastChromeDelete<Date.now()-100)&&(V.head==E||V.head==U.mapping.map(k)-1)||Ac&&V.empty&&V.head==E)&&U.setSelection(V)}return s&&U.setMeta("composition",s),U.scrollIntoView()},N;if(S)if(g.pos==x.pos){Ac&&Jm<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pf(n),20));let I=P(n.state.tr.delete(E,k)),U=u.resolve(v.start).marksAcross(u.resolve(v.endA));U&&I.ensureMarks(U),n.dispatch(I)}else if(v.endA==v.endB&&(N=Xse(g.parent.content.cut(g.parentOffset,x.parentOffset),b.parent.content.cut(b.parentOffset,v.endA-b.start())))){let I=P(n.state.tr);N.type=="add"?I.addMark(E,k,N.mark):I.removeMark(E,k,N.mark),n.dispatch(I)}else if(g.parent.child(g.index()).isText&&g.index()==x.index()-(x.textOffset?0:1)){let I=g.parent.textBetween(g.parentOffset,x.parentOffset),U=()=>P(n.state.tr.insertText(I,E,k));n.someProp("handleTextInput",V=>V(n,E,k,I,U))||n.dispatch(U())}else n.dispatch(P());else n.dispatch(P())}function RU(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:rR(n,e.resolve(t.anchor),e.resolve(t.head))}function Xse(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<t.length;u++)s=t[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(Ot.from(c).eq(n))return{mark:a,type:o}}function Yse(n,e,t,r,i){if(t-e<=i.pos-r.pos||HP(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(HP(s,!0,!0));return!o.parent.isTextblock||o.pos>t||HP(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function HP(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Zse(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&n.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&DU(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<n.size&&DU(n.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function DU(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Rz{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new mse,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(jU),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=UU(this),OU(this),this.nodeViews=HU(this),this.docView=gU(this.state.doc,_U(this),UP(this),this.dom,this),this.domObserver=new jse(this,(r,i,s,o)=>qse(this,r,i,s,o)),this.domObserver.start(),gse(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&jL(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(jU),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(Tz(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let f=HU(this);$se(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&jL(this),this.editable=UU(this),OU(this);let l=UP(this),c=_U(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",A=s||!this.docView.matchesNode(e.doc,c,l);(A||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Pie(this);if(o){this.domObserver.stop();let f=A&&(Ac||el)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Jse(i.selection,e.selection);if(A){let v=el?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=kse(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=gU(e.doc,c,l,this.dom,this)),v&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&tse(this))?Pf(this,f):(mz(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&Lie(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Jn){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&AU(this,t.getBoundingClientRect(),e)}else AU(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new kz(e.slice,e.move,i<0?void 0:Jn.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(Ac){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Iie(this.dom),Pf(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Oie(this,e)}coordsAtPos(e,t=1){return lz(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return zie(this,t||this.state,e)}pasteHTML(e,t){return Q2(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Q2(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return iR(this,e)}destroy(){this.docView&&(vse(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],UP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,bie())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return bse(this,e)}domSelectionRange(){let e=this.domSelection();return e?Il&&this.root.nodeType===11&&Bie(this.dom.ownerDocument)==this.dom&&zse(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Rz.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function _U(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[El.node(0,n.state.doc.content.size,e)]}function OU(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:El.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function UU(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Jse(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function HU(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function $se(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function jU(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var lg={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},yF={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},eoe=typeof navigator<"u"&&/Mac/.test(navigator.platform),toe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ba=0;Ba<10;Ba++)lg[48+Ba]=lg[96+Ba]=String(Ba);for(var Ba=1;Ba<=24;Ba++)lg[Ba+111]="F"+Ba;for(var Ba=65;Ba<=90;Ba++)lg[Ba]=String.fromCharCode(Ba+32),yF[Ba]=String.fromCharCode(Ba);for(var jP in lg)yF.hasOwnProperty(jP)||(yF[jP]=lg[jP]);function noe(n){var e=eoe&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||toe&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?yF:lg)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const roe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ioe=typeof navigator<"u"&&/Win/.test(navigator.platform);function soe(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))roe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function ooe(n){let e=Object.create(null);for(let t in n)e[soe(t)]=n[t];return e}function QP(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function aoe(n){return new Ws({props:{handleKeyDown:Dz(n)}})}function Dz(n){let e=ooe(n);return function(t,r){let i=noe(r),s,o=e[QP(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[QP(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(ioe&&r.ctrlKey&&r.altKey)&&(s=lg[r.keyCode])&&s!=i){let a=e[QP(s,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}var loe=Object.defineProperty,uR=(n,e)=>{for(var t in e)loe(n,t,{get:e[t],enumerable:!0})};function SN(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}var BN=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const A=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),A}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),A={...Object.fromEntries(Object.entries(r).map(([h,f])=>[h,(...g)=>{const x=this.buildProps(c,t),b=f(...g)(x);return a.push(b),A}])),run:u};return A}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:SN({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}},_z={};uR(_z,{blur:()=>coe,clearContent:()=>uoe,clearNodes:()=>Aoe,command:()=>doe,createParagraphNear:()=>hoe,cut:()=>foe,deleteCurrentNode:()=>poe,deleteNode:()=>moe,deleteRange:()=>goe,deleteSelection:()=>voe,enter:()=>yoe,exitCode:()=>boe,extendMarkRange:()=>woe,first:()=>xoe,focus:()=>Soe,forEach:()=>Boe,insertContent:()=>Eoe,insertContentAt:()=>Noe,joinBackward:()=>Loe,joinDown:()=>Poe,joinForward:()=>Ioe,joinItemBackward:()=>Moe,joinItemForward:()=>Roe,joinTextblockBackward:()=>Doe,joinTextblockForward:()=>_oe,joinUp:()=>koe,keyboardShortcut:()=>Uoe,lift:()=>Hoe,liftEmptyBlock:()=>joe,liftListItem:()=>Qoe,newlineInCode:()=>zoe,resetAttributes:()=>Koe,scrollIntoView:()=>Voe,selectAll:()=>Goe,selectNodeBackward:()=>Woe,selectNodeForward:()=>qoe,selectParentNode:()=>Xoe,selectTextblockEnd:()=>Yoe,selectTextblockStart:()=>Zoe,setContent:()=>Joe,setMark:()=>mae,setMeta:()=>gae,setNode:()=>vae,setNodeSelection:()=>yae,setTextSelection:()=>bae,sinkListItem:()=>wae,splitBlock:()=>xae,splitListItem:()=>Cae,toggleList:()=>Sae,toggleMark:()=>Bae,toggleNode:()=>Eae,toggleWrap:()=>Fae,undoInputRule:()=>Tae,unsetAllMarks:()=>Nae,unsetMark:()=>kae,updateAttributes:()=>Pae,wrapIn:()=>Lae,wrapInList:()=>Iae});var coe=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())==null||t.removeAllRanges())}),!0),uoe=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),Aoe=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,A=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),f=A.blockRange(h);if(!f)return;const v=kw(f);if(a.type.isTextblock){const{defaultType:g}=A.parent.contentMatchAt(A.index());e.setNodeMarkup(f.start,g)}(v||v===0)&&e.lift(f,v)})}),!0},doe=n=>e=>n(e),hoe=()=>({state:n,dispatch:e})=>J7(n,e),foe=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new Sr(r.doc.resolve(Math.max(o-1,0)))),!0},poe=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);n.delete(a,l).scrollIntoView()}return!0}return!1};function bo(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}var moe=n=>({tr:e,state:t,dispatch:r})=>{const i=bo(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},goe=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},voe=()=>({state:n,dispatch:e})=>YM(n,e),yoe=()=>({commands:n})=>n.keyboardShortcut("Enter"),boe=()=>({state:n,dispatch:e})=>sie(n,e);function AR(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function bF(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:AR(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function Oz(n,e,t={}){return n.find(r=>r.type===e&&bF(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function QU(n,e,t={}){return!!Oz(n,e,t)}function dR(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(t=t||((r=i.node.marks[0])==null?void 0:r.attrs),!Oz([...i.node.marks],e,t)))return;let o=i.index,a=n.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&QU([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;l<n.parent.childCount&&QU([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Kf(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}var woe=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=Kf(n,r.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:u}=a;if(i){const A=dR(l,s,e);if(A&&A.from<=c&&A.to>=u){const h=Sr.create(o,A.from,A.to);t.setSelection(h)}}return!0},xoe=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Uz(n){return n instanceof Sr}function C0(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Hz(n,e=null){if(!e)return null;const t=Kr.atStart(n),r=Kr.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?Sr.create(n,C0(0,i,s),C0(n.content.size,i,s)):Sr.create(n,C0(e,i,s),C0(e,i,s))}function Coe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function hR(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Soe=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(hR()||Coe())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!Uz(t.state.selection))return o(),!0;const a=Hz(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Boe=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),Eoe=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),jz=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&jz(r)}return n};function JB(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return jz(t)}function K2(n,e,t){if(n instanceof Ym||n instanceof Ot)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return Ot.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),K2("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,a="";const l=new B7({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?Zm.fromSchema(l).parseSlice(JB(n),t.parseOptions):Zm.fromSchema(l).parse(JB(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Zm.fromSchema(e);return t.slice?s.parseSlice(JB(n),t.parseOptions).content:s.parse(JB(n),t.parseOptions)}return K2("",e,t)}function Foe(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof ea||i instanceof na))return;const s=n.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),n.setSelection(Kr.near(n.doc.resolve(o),t))}var Toe=n=>!("type"in n),Noe=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;const l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{K2(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(x){l(x)}try{a=K2(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=t.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:u,to:A}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},h=!0,f=!0;if((Toe(a)?a:[a]).forEach(x=>{x.check(),h=h?x.isText&&x.marks.length===0:!1,f=f?x.isBlock:!1}),u===A&&f){const{parent:x}=r.doc.resolve(u);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(u-=1,A+=1)}let g;if(h){if(Array.isArray(e))g=e.map(x=>x.text||"").join("");else if(e instanceof Ot){let x="";e.forEach(b=>{b.text&&(x+=b.text)}),g=x}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,u,A)}else{g=a;const x=r.doc.resolve(u),b=x.node(),S=x.parentOffset===0,E=b.isText||b.isTextblock,k=b.content.size>0;S&&E&&k&&(u=Math.max(0,u-1)),r.replaceWith(u,A,g)}t.updateSelection&&Foe(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},koe=()=>({state:n,dispatch:e})=>nie(n,e),Poe=()=>({state:n,dispatch:e})=>rie(n,e),Loe=()=>({state:n,dispatch:e})=>V7(n,e),Ioe=()=>({state:n,dispatch:e})=>X7(n,e),Moe=()=>({state:n,dispatch:e,tr:t})=>{try{const r=vN(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Roe=()=>({state:n,dispatch:e,tr:t})=>{try{const r=vN(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Doe=()=>({state:n,dispatch:e})=>eie(n,e),_oe=()=>({state:n,dispatch:e})=>tie(n,e);function Qz(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Ooe(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))hR()||Qz()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}var Uoe=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=Ooe(n).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function cg(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?bo(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(A,h)=>{if(A.isText)return;const f=Math.max(r,h),v=Math.min(i,h+A.nodeSize);a.push({node:A,from:f,to:v})});const l=i-r,c=a.filter(A=>o?o.name===A.node.type.name:!0).filter(A=>bF(A.node.attrs,t,{strict:!1}));return s?!!c.length:c.reduce((A,h)=>A+h.to-h.from,0)>=l}var Hoe=(n,e={})=>({state:t,dispatch:r})=>{const i=bo(n,t.schema);return cg(t,i,e)?iie(t,r):!1},joe=()=>({state:n,dispatch:e})=>$7(n,e),Qoe=n=>({state:e,dispatch:t})=>{const r=bo(n,e.schema);return mie(r)(e,t)},zoe=()=>({state:n,dispatch:e})=>Z7(n,e);function EN(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function zU(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}var Koe=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=EN(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=bo(n,r.schema)),a==="mark"&&(o=Kf(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&t.setNodeMarkup(u,void 0,zU(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(A=>{o===A.type&&t.addMark(u,u+c.nodeSize,o.create(zU(A.attrs,e)))})})}),!0):!1},Voe=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),Goe=()=>({tr:n,dispatch:e})=>{if(e){const t=new qc(n.doc);n.setSelection(t)}return!0},Woe=()=>({state:n,dispatch:e})=>W7(n,e),qoe=()=>({state:n,dispatch:e})=>Y7(n,e),Xoe=()=>({state:n,dispatch:e})=>lie(n,e),Yoe=()=>({state:n,dispatch:e})=>Aie(n,e),Zoe=()=>({state:n,dispatch:e})=>uie(n,e);function QL(n,e,t={},r={}){return K2(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}var Joe=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=QL(n,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!t),!0}return o&&s.setMeta("preventUpdate",!t),a.insertContentAt({from:0,to:l.content.size},n,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function zz(n,e){const t=Kf(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function Kz(n,e){const t=new j7(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function $oe(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function eae(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function tae(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function FN(n){return e=>tae(e.$from,n)}function Zn(n,e,t){return n.config[e]===void 0&&n.parent?Zn(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Zn(n.parent,e,t):null}):n.config[e]}function fR(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=Zn(e,"addExtensions",t);return r?[e,...fR(r())]:e}).flat(10)}function pR(n,e){const t=ly.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function Vz(n){return typeof n=="function"}function ji(n,e=void 0,...t){return Vz(n)?e?n.bind(e)(...t):n(...t):n}function nae(n={}){return Object.keys(n).length===0&&n.constructor===Object}function V2(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Gz(n){const e=[],{nodeExtensions:t,markExtensions:r}=V2(n),i=[...t,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=Zn(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(A=>{Object.entries(u.attributes).forEach(([h,f])=>{e.push({type:A,name:h,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Zn(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,A])=>{const h={...s,...A};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function oo(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[A,h]=u.split(":").map(f=>f.trim());c.set(A,h)}),a.forEach(u=>{const[A,h]=u.split(":").map(f=>f.trim());c.set(A,h)}),r[i]=Array.from(c.entries()).map(([u,A])=>`${u}: ${A}`).join("; ")}else r[i]=s}),r},{})}function wF(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>oo(t,r),{})}function rae(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function KU(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):rae(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function VU(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&nae(t)?!1:t!=null))}function iae(n,e){var t;const r=Gz(n),{nodeExtensions:i,markExtensions:s}=V2(n),o=(t=i.find(c=>Zn(c,"topNode")))==null?void 0:t.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(b=>b.type===c.name),A={name:c.name,options:c.options,storage:c.storage,editor:e},h=n.reduce((b,S)=>{const E=Zn(S,"extendNodeSchema",A);return{...b,...E?E(c):{}}},{}),f=VU({...h,content:ji(Zn(c,"content",A)),marks:ji(Zn(c,"marks",A)),group:ji(Zn(c,"group",A)),inline:ji(Zn(c,"inline",A)),atom:ji(Zn(c,"atom",A)),selectable:ji(Zn(c,"selectable",A)),draggable:ji(Zn(c,"draggable",A)),code:ji(Zn(c,"code",A)),whitespace:ji(Zn(c,"whitespace",A)),linebreakReplacement:ji(Zn(c,"linebreakReplacement",A)),defining:ji(Zn(c,"defining",A)),isolating:ji(Zn(c,"isolating",A)),attrs:Object.fromEntries(u.map(b=>{var S,E;return[b.name,{default:(S=b==null?void 0:b.attribute)==null?void 0:S.default,validate:(E=b==null?void 0:b.attribute)==null?void 0:E.validate}]}))}),v=ji(Zn(c,"parseHTML",A));v&&(f.parseDOM=v.map(b=>KU(b,u)));const g=Zn(c,"renderHTML",A);g&&(f.toDOM=b=>g({node:b,HTMLAttributes:wF(b,u)}));const x=Zn(c,"renderText",A);return x&&(f.toText=x),[c.name,f]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(x=>x.type===c.name),A={name:c.name,options:c.options,storage:c.storage,editor:e},h=n.reduce((x,b)=>{const S=Zn(b,"extendMarkSchema",A);return{...x,...S?S(c):{}}},{}),f=VU({...h,inclusive:ji(Zn(c,"inclusive",A)),excludes:ji(Zn(c,"excludes",A)),group:ji(Zn(c,"group",A)),spanning:ji(Zn(c,"spanning",A)),code:ji(Zn(c,"code",A)),attrs:Object.fromEntries(u.map(x=>{var b,S;return[x.name,{default:(b=x==null?void 0:x.attribute)==null?void 0:b.default,validate:(S=x==null?void 0:x.attribute)==null?void 0:S.validate}]}))}),v=ji(Zn(c,"parseHTML",A));v&&(f.parseDOM=v.map(x=>KU(x,u)));const g=Zn(c,"renderHTML",A);return g&&(f.toDOM=x=>g({mark:x,HTMLAttributes:wF(x,u)})),[c.name,f]}));return new B7({topNode:o,nodes:a,marks:l})}function sae(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function mR(n){return n.sort((t,r)=>{const i=Zn(t,"priority")||100,s=Zn(r,"priority")||100;return i>s?-1:i<s?1:0})}function Wz(n){const e=mR(fR(n)),t=sae(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function qz(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(r,i,(l,c,u,A)=>{var h;l.isBlock&&c>r&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:A,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)==null?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function oae(n,e){const t={from:0,to:n.content.size};return qz(n,t,e)}function Xz(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function aae(n,e){const t=bo(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function Yz(n,e){const t=EN(typeof e=="string"?e:e.name,n.schema);return t==="node"?aae(n,e):t==="mark"?zz(n,e):{}}function lae(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function cae(n){const e=lae(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,o)=>o!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function Zz(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),A=e.invert().map(c,-1),h=e.invert().map(u);r.push({oldRange:{from:A,to:h},newRange:{from:c,to:u}})})}),cae(r)}function gR(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=dR(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var uae=(n,e,t,r=20)=>{const i=n.doc.resolve(t);let s=r,o=null;for(;s>0&&o===null;){const a=i.node(s);(a==null?void 0:a.type.name)===e?o=a:s-=1}return[o,s]};function zP(n,e){return e.nodes[n]||e.marks[n]||null}function aE(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var Aae=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),t};function zL(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?Kf(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(A=>s?s.name===A.type.name:!0).find(A=>bF(A.attrs,t,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:A,$to:h})=>{const f=A.pos,v=h.pos;n.doc.nodesBetween(f,v,(g,x)=>{if(!g.isText&&!g.marks.length)return;const b=Math.max(f,x),S=Math.min(v,x+g.nodeSize),E=S-b;o+=E,a.push(...g.marks.map(k=>({mark:k,from:b,to:S})))})}),o===0)return!1;const l=a.filter(A=>s?s.name===A.mark.type.name:!0).filter(A=>bF(A.mark.attrs,t,{strict:!1})).reduce((A,h)=>A+h.to-h.from,0),c=a.filter(A=>s?A.mark.type!==s&&A.mark.type.excludes(s):!0).reduce((A,h)=>A+h.to-h.from,0);return(l>0?l+c:l)>=o}function dae(n,e,t={}){if(!e)return cg(n,null,t)||zL(n,null,t);const r=EN(e,n.schema);return r==="node"?cg(n,e,t):r==="mark"?zL(n,e,t):!1}var hae=(n,e)=>{const{$from:t,$to:r,$anchor:i}=n.selection;if(e){const s=FN(a=>a.type.name===e)(n.selection);if(!s)return!1;const o=n.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},fae=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function GU(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function WU(n,e){const{nodeExtensions:t}=V2(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=ji(Zn(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function TN(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(TN(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function Jz(n){return n instanceof Jn}function pae(n,e,t){var r;const{selection:i}=e;let s=null;if(Uz(i)&&(s=i.$cursor),s){const a=(r=n.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(t)&&(!!t.isInSet(a)||!a.some(c=>c.type.excludes(t)))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(u,A,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(t),v=!!t.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(t));c=f&&v}return!c}),c})}var mae=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:a}=s,l=Kf(n,r.schema);if(i)if(o){const c=zz(r,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,A=c.$to.pos;r.doc.nodesBetween(u,A,(h,f)=>{const v=Math.max(f,u),g=Math.min(f+h.nodeSize,A);h.marks.find(b=>b.type===l)?h.marks.forEach(b=>{l===b.type&&t.addMark(v,g,l.create({...b.attrs,...e}))}):t.addMark(v,g,l.create(e))})});return pae(r,t,l)},gae=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),vae=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=bo(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>lU(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>lU(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},yae=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=C0(n,0,r.content.size),s=Jn.create(r,i);e.setSelection(s)}return!0},bae=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=Sr.atStart(r).from,a=Sr.atEnd(r).to,l=C0(i,o,a),c=C0(s,o,a),u=Sr.create(r,l,c);e.setSelection(u)}return!0},wae=n=>({state:e,dispatch:t})=>{const r=bo(n,e.schema);return yie(r)(e,t)};function qU(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}var xae=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=aE(c,a.node().type.name,a.node().attrs);if(s instanceof Jn&&s.node.isBlock)return!a.parentOffset||!kf(o,a.pos)?!1:(r&&(n&&qU(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const A=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:$oe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=A&&h?[{type:h,attrs:u}]:void 0,v=kf(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!v&&kf(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(v=!0,f=h?[{type:h,attrs:u}]:void 0),r){if(v&&(s instanceof Sr&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),h&&!A&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),x=e.doc.resolve(g);a.node(-1).canReplaceWith(x.index(),x.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}n&&qU(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return v},Cae=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const a=bo(n,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const A=l.node(-1);if(A.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let b=Ot.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let U=l.depth-S;U>=l.depth-3;U-=1)b=Ot.from(l.node(U).copy(b));const E=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...aE(h,l.node().type.name,l.node().attrs),...e},P=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(k))||void 0;b=b.append(Ot.from(a.createAndFill(null,P)||void 0));const N=l.before(l.depth-(S-1));t.replace(N,l.after(-E),new xn(b,4-S,0));let I=-1;t.doc.nodesBetween(N,t.doc.content.size,(U,V)=>{if(I>-1)return!1;U.isTextblock&&U.content.size===0&&(I=V+1)}),I>-1&&t.setSelection(Sr.near(t.doc.resolve(I))),t.scrollIntoView()}return!0}const f=c.pos===l.end()?A.contentMatchAt(0).defaultType:null,v={...aE(h,A.type.name,A.attrs),...e},g={...aE(h,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const x=f?[{type:a,attrs:v},{type:f,attrs:g}]:[{type:a,attrs:v}];if(!kf(t.doc,l.pos,2))return!1;if(i){const{selection:b,storedMarks:S}=r,{splittableMarks:E}=s.extensionManager,k=S||b.$to.parentOffset&&b.$from.marks();if(t.split(l.pos,2,x).scrollIntoView(),!k||!i)return!0;const P=k.filter(N=>E.includes(N.type.name));t.ensureMarks(P)}return!0},KP=(n,e)=>{const t=FN(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Cg(n.doc,t.pos)&&n.join(t.pos),!0},VP=(n,e)=>{const t=FN(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Cg(n.doc,r)&&n.join(r),!0},Sae=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:A,splittableMarks:h}=i.extensionManager,f=bo(n,o.schema),v=bo(e,o.schema),{selection:g,storedMarks:x}=o,{$from:b,$to:S}=g,E=b.blockRange(S),k=x||g.$to.parentOffset&&g.$from.marks();if(!E)return!1;const P=FN(N=>WU(N.type.name,A))(g);if(E.depth>=1&&P&&E.depth-P.depth<=1){if(P.node.type===f)return c.liftListItem(v);if(WU(P.node.type.name,A)&&f.validContent(P.node.content)&&a)return l().command(()=>(s.setNodeMarkup(P.pos,f),!0)).command(()=>KP(s,f)).command(()=>VP(s,f)).run()}return!t||!k||!a?l().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>KP(s,f)).command(()=>VP(s,f)).run():l().command(()=>{const N=u().wrapInList(f,r),I=k.filter(U=>h.includes(U.type.name));return s.ensureMarks(I),N?!0:c.clearNodes()}).wrapInList(f,r).command(()=>KP(s,f)).command(()=>VP(s,f)).run()},Bae=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=Kf(n,r.schema);return zL(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},Eae=(n,e,t={})=>({state:r,commands:i})=>{const s=bo(n,r.schema),o=bo(e,r.schema),a=cg(r,s,t);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...t})},Fae=(n,e={})=>({state:t,commands:r})=>{const i=bo(n,t.schema);return cg(t,i,e)?r.lift(i):r.wrapIn(i,e)},Tae=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},Nae=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},kae=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=Kf(n,r.schema),{$from:c,empty:u,ranges:A}=a;if(!i)return!0;if(u&&o){let{from:h,to:f}=a;const v=(s=c.marks().find(x=>x.type===l))==null?void 0:s.attrs,g=dR(c,l,v);g&&(h=g.from,f=g.to),t.removeMark(h,f,l)}else A.forEach(h=>{t.removeMark(h.$from.pos,h.$to.pos,l)});return t.removeStoredMark(l),!0},Pae=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=EN(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=bo(n,r.schema)),a==="mark"&&(o=Kf(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let A,h,f,v;t.selection.empty?r.doc.nodesBetween(c,u,(g,x)=>{s&&s===g.type&&(f=Math.max(x,c),v=Math.min(x+g.nodeSize,u),A=x,h=g)}):r.doc.nodesBetween(c,u,(g,x)=>{x<c&&s&&s===g.type&&(f=Math.max(x,c),v=Math.min(x+g.nodeSize,u),A=x,h=g),x>=c&&x<=u&&(s&&s===g.type&&t.setNodeMarkup(x,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(b=>{if(o===b.type){const S=Math.max(x,c),E=Math.min(x+g.nodeSize,u);t.addMark(S,E,o.create({...b.attrs,...e}))}}))}),h&&(A!==void 0&&t.setNodeMarkup(A,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(g=>{o===g.type&&t.addMark(f,v,o.create({...g.attrs,...e}))}))}),!0):!1},Lae=(n,e={})=>({state:t,dispatch:r})=>{const i=bo(n,t.schema);return die(i,e)(t,r)},Iae=(n,e={})=>({state:t,dispatch:r})=>{const i=bo(n,t.schema);return hie(i,e)(t,r)},Mae=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}},NN=class{constructor(n){var e;this.find=n.find,this.handler=n.handler,this.undoable=(e=n.undoable)!=null?e:!0}},Rae=(n,e)=>{if(AR(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function $B(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const A=Aae(c)+s;return o.forEach(h=>{if(u)return;const f=Rae(A,h.find);if(!f)return;const v=l.state.tr,g=SN({state:l.state,transaction:v}),x={from:r-(f[0].length-s.length),to:i},{commands:b,chain:S,can:E}=new BN({editor:t,state:g});h.handler({state:g,range:x,match:f,commands:b,chain:S,can:E})===null||!v.steps.length||(h.undoable&&v.setMeta(a,{transform:v,from:r,to:i,text:s}),l.dispatch(v),u=!0)}),u}function Dae(n){const{editor:e,rules:t}=n,r=new Ws({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=pR(Ot.from(u),o.schema);const{from:A}=l,h=A+u.length;$B({editor:e,from:A,to:h,text:u,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return $B({editor:e,from:s,to:o,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&$B({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?$B({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function _ae(n){return Object.prototype.toString.call(n).slice(8,-1)}function e5(n){return _ae(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function $z(n,e){const t={...n};return e5(n)&&e5(e)&&Object.keys(e).forEach(r=>{e5(e[r])&&e5(n[r])?t[r]=$z(n[r],e[r]):t[r]=e[r]}),t}var vR=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...ji(Zn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ji(Zn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>$z(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},Bg=class e9 extends vR{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new e9(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function Oae(n){return typeof n=="number"}var Uae=class{constructor(n){this.find=n.find,this.handler=n.handler}},Hae=(n,e,t)=>{if(AR(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function jae(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=n,{commands:l,chain:c,can:u}=new BN({editor:e,state:t}),A=[];return t.doc.nodesBetween(r,i,(f,v)=>{var g,x,b,S,E;if((x=(g=f.type)==null?void 0:g.spec)!=null&&x.code||!(f.isText||f.isTextblock||f.isInline))return;const k=(E=(S=(b=f.content)==null?void 0:b.size)!=null?S:f.nodeSize)!=null?E:0,P=Math.max(r,v),N=Math.min(i,v+k);if(P>=N)return;const I=f.isText?f.text||"":f.textBetween(P-v,N-v,void 0,"");Hae(I,s.find,o).forEach(V=>{if(V.index===void 0)return;const W=P+V.index+1,L=W+V[0].length,D={from:t.tr.mapping.map(W),to:t.tr.mapping.map(L)},z=s.handler({state:t,range:D,match:V,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});A.push(z)})}),A.every(f=>f!==null)}var t5=null,Qae=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function zae(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:A,to:h,rule:f,pasteEvt:v})=>{const g=u.tr,x=SN({state:u,transaction:g});if(!(!jae({editor:e,state:x,from:Math.max(A-1,0),to:h.b-1,rule:f,pasteEvent:v,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return t.map(u=>new Ws({view(A){const h=v=>{var g;r=(g=A.dom.parentElement)!=null&&g.contains(v.target)?A.dom.parentElement:null,r&&(t5=e)},f=()=>{t5&&(t5=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(A,h)=>{if(s=r===A.dom.parentElement,a=h,!s){const f=t5;f!=null&&f.isEditable&&setTimeout(()=>{const v=f.state.selection;v&&f.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(A,h)=>{var f;const v=(f=h.clipboardData)==null?void 0:f.getData("text/html");return o=h,i=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(A,h,f)=>{const v=A[0],g=v.getMeta("uiEvent")==="paste"&&!i,x=v.getMeta("uiEvent")==="drop"&&!s,b=v.getMeta("applyPasteRules"),S=!!b;if(!g&&!x&&!S)return;if(S){let{text:P}=b;typeof P=="string"?P=P:P=pR(Ot.from(P),f.schema);const{from:N}=b,I=N+P.length,U=Qae(P);return l({rule:u,state:f,from:N,to:{b:I},pasteEvt:U})}const E=h.doc.content.findDiffStart(f.doc.content),k=h.doc.content.findDiffEnd(f.doc.content);if(!(!Oae(E)||!k||E===k.b))return l({rule:u,state:f,from:E,to:k,pasteEvt:o})}}))}var kN=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=n,this.extensions=Wz(n),this.schema=iae(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:zP(e.name,this.schema)},r=Zn(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this;return mR([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:n,type:zP(r.name,this.schema)},s=[],o=Zn(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&Zn(r,"exitable",i)&&(a.ArrowRight=()=>Bg.handleExit({editor:n,mark:r})),o){const h=Object.fromEntries(Object.entries(o()).map(([f,v])=>[f,()=>v({editor:n})]));a={...a,...h}}const l=aoe(a);s.push(l);const c=Zn(r,"addInputRules",i);if(GU(r,n.options.enableInputRules)&&c){const h=c();if(h&&h.length){const f=Dae({editor:n,rules:h}),v=Array.isArray(f)?f:[f];s.push(...v)}}const u=Zn(r,"addPasteRules",i);if(GU(r,n.options.enablePasteRules)&&u){const h=u();if(h&&h.length){const f=zae({editor:n,rules:h});s.push(...f)}}const A=Zn(r,"addProseMirrorPlugins",i);if(A){const h=A();s.push(...h)}return s})}get attributes(){return Gz(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=V2(this.extensions);return Object.fromEntries(e.filter(t=>!!Zn(t,"addNodeView")).map(t=>{const r=this.attributes.filter(l=>l.type===t.name),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:bo(t.name,this.schema)},s=Zn(t,"addNodeView",i);if(!s)return[];const o=s();if(!o)return[];const a=(l,c,u,A,h)=>{const f=wF(l,r);return o({node:l,view:c,getPos:u,decorations:A,innerDecorations:h,editor:n,extension:t,HTMLAttributes:f})};return[t.name,a]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=V2(this.extensions);return Object.fromEntries(e.filter(t=>!!Zn(t,"addMarkView")).map(t=>{const r=this.attributes.filter(a=>a.type===t.name),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:Kf(t.name,this.schema)},s=Zn(t,"addMarkView",i);if(!s)return[];const o=(a,l,c)=>{const u=wF(a,r);return s()({mark:a,view:l,inline:c,editor:n,extension:t,HTMLAttributes:u,updateAttributes:A=>{rle(a,n,A)}})};return[t.name,o]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:zP(e.name,this.schema)};e.type==="mark"&&((t=ji(Zn(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const i=Zn(e,"onBeforeCreate",r),s=Zn(e,"onCreate",r),o=Zn(e,"onUpdate",r),a=Zn(e,"onSelectionUpdate",r),l=Zn(e,"onTransaction",r),c=Zn(e,"onFocus",r),u=Zn(e,"onBlur",r),A=Zn(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),A&&this.editor.on("destroy",A)})}};kN.resolve=Wz;kN.sort=mR;kN.flatten=fR;var Kae={};uR(Kae,{ClipboardTextSerializer:()=>n9,Commands:()=>r9,Delete:()=>i9,Drop:()=>s9,Editable:()=>o9,FocusEvents:()=>l9,Keymap:()=>c9,Paste:()=>u9,Tabindex:()=>A9,focusEventsPluginKey:()=>a9});var cs=class t9 extends vR{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new t9(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},n9=cs.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ws({key:new ia("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=Xz(t);return qz(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),r9=cs.create({name:"commands",addCommands(){return{..._z}}}),i9=cs.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,i;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,n))!=null?c:n.getMeta("y-sync$"))return;const u=Kz(n.before,[n,...e]);Zz(u).forEach(f=>{u.mapping.mapResult(f.oldRange.from).deletedAfter&&u.mapping.mapResult(f.oldRange.to).deletedBefore&&u.before.nodesBetween(f.oldRange.from,f.oldRange.to,(v,g)=>{const x=g+v.nodeSize-2,b=f.oldRange.from<=g&&x<=f.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:g,to:x,newFrom:u.mapping.map(g),newTo:u.mapping.map(x),deletedRange:f.oldRange,newRange:f.newRange,partial:!b,editor:this.editor,transaction:n,combinedTransform:u})})});const h=u.mapping;u.steps.forEach((f,v)=>{var g,x;if(f instanceof VA){const b=h.slice(v).map(f.from,-1),S=h.slice(v).map(f.to),E=h.invert().map(b,-1),k=h.invert().map(S),P=(g=u.doc.nodeAt(b-1))==null?void 0:g.marks.some(I=>I.eq(f.mark)),N=(x=u.doc.nodeAt(S))==null?void 0:x.marks.some(I=>I.eq(f.mark));this.editor.emit("delete",{type:"mark",mark:f.mark,from:f.from,to:f.to,deletedRange:{from:E,to:k},newRange:{from:b,to:S},partial:!!(N||P),editor:this.editor,transaction:n,combinedTransform:u})}})};(i=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),s9=cs.create({name:"drop",addProseMirrorPlugins(){return[new Ws({key:new ia("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),o9=cs.create({name:"editable",addProseMirrorPlugins(){return[new Ws({key:new ia("editable"),props:{editable:()=>this.editor.options.editable}})]}}),a9=new ia("focusEvents"),l9=cs.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Ws({key:a9,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),c9=cs.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:A}=l,{pos:h,parent:f}=A,v=A.parent.isTextblock&&h>0?a.doc.resolve(h-1):A,g=v.parent.type.spec.isolating,x=A.pos-A.parentOffset,b=g&&v.parent.childCount===1?x===A.pos:Kr.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!b||b&&A.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return hR()||Qz()?s:i},addProseMirrorPlugins(){return[new Ws({key:new ia("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(g=>g.getMeta("composition")))return;const r=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),i=n.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=Kr.atStart(e.doc).from,c=Kr.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!TN(t.doc))return;const h=t.tr,f=SN({state:t,transaction:h}),{commands:v}=new BN({editor:this.editor,state:f});if(v.clearNodes(),!!h.steps.length)return h}})]}}),u9=cs.create({name:"paste",addProseMirrorPlugins(){return[new Ws({key:new ia("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),A9=cs.create({name:"tabindex",addProseMirrorPlugins(){return[new Ws({key:new ia("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Vae=class a1{constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new a1(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new a1(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new a1(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new a1(a,this.editor,i,i?t:null);i&&(l.actualDepth=this.depth+1),e.push(new a1(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==t[l])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>t[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},Gae=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Wae(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}var qae=class extends Mae{constructor(n={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=Hz(e,this.options.autofocus);this.editorState=C1.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n!=null&&n.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Wae(Gae,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.dispatchTransaction(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=Vz(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;t=t.filter(o=>!o.key.startsWith(s))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[o9,n9.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),r9,l9,c9,A9,s9,u9,i9].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new kN(r,this)}createCommandManager(){this.commandManager=new BN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=QL(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=QL(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new Rz(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),i=t.includes(n),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const o=t.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o==null?void 0:o.getMeta("focus"),l=o==null?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(n.getMeta("preventUpdate")||!t.some(c=>c.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return Yz(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return dae(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return pR(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return oae(this.state.doc,{blockSeparator:e,textSerializers:{...Xz(this.schema),...t}})}get isEmpty(){return TN(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new Vae(e,this)}get $doc(){return this.$pos(0)}};function pw(n){return new NN({find:n.find,handler:({state:e,range:t,match:r})=>{const i=ji(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),u=c+o.length;if(gR(t.from,t.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===n.type&&g!==f.mark.type)).filter(f=>f.to>c).length)return null;u<t.to&&s.delete(u,t.to),c>t.from&&s.delete(t.from+l,c);const h=t.from+l+o.length;s.addMark(t.from+l,h,n.type.create(i||{})),s.removeStoredMark(n.type)}},undoable:n.undoable})}function Xae(n){return new NN({find:n.find,handler:({state:e,range:t,match:r})=>{const i=ji(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let a=t.to;const l=n.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const A=r[0][r[0].length-1];s.insertText(A,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=n.type.isInline?o:o-1;s.insert(c,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()},undoable:n.undoable})}function KL(n){return new NN({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=ji(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)},undoable:n.undoable})}function mw(n){return new NN({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=ji(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&qM(l,n.type,s);if(!c)return null;if(o.wrap(l,c),n.keepMarks&&n.editor){const{selection:A,storedMarks:h}=e,{splittableMarks:f}=n.editor.extensionManager,v=h||A.$to.parentOffset&&A.$from.marks();if(v){const g=v.filter(x=>f.includes(x.type.name));o.ensureMarks(g)}}if(n.keepAttributes){const A=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(A,s).run()}const u=o.doc.resolve(t.from-1).nodeBefore;u&&u.type===n.type&&Cg(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,u))&&o.join(t.from-1)},undoable:n.undoable})}function Yae(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof Jn){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var Zae={};uR(Zae,{createAtomBlockMarkdownSpec:()=>Jae,createBlockMarkdownSpec:()=>$ae,createInlineMarkdownSpec:()=>nle,parseAttributes:()=>yR,parseIndentedBlocks:()=>VL,renderNestedMarkdownContent:()=>wR,serializeAttributes:()=>bR});function yR(n){if(!(n!=null&&n.trim()))return{};const e={},t=[],r=n.replace(/["']([^"']*)["']/g,c=>(t.push(c),`__QUOTED_${t.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));e.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,c,u])=>{var A;const h=parseInt(((A=u.match(/__QUOTED_(\d+)__/))==null?void 0:A[1])||"0",10),f=t[h];f&&(e[c]=f.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(e[u]=!0)}),e}function bR(n){if(!n||Object.keys(n).length===0)return"";const e=[];return n.class&&String(n.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),n.id&&e.push(`#${n.id}`),Object.entries(n).forEach(([t,r])=>{t==="class"||t==="id"||(r===!0?e.push(t):r!==!1&&r!=null&&e.push(`${t}="${String(r)}"`))}),e.join(" ")}function Jae(n){const{nodeName:e,name:t,parseAttributes:r=yR,serializeAttributes:i=bR,defaultAttributes:s={},requiredAttributes:o=[],allowedAttributes:a}=n,l=t||e,c=u=>{if(!a)return u;const A={};return a.forEach(h=>{h in u&&(A[h]=u[h])}),A};return{parseMarkdown:(u,A)=>{const h={...s,...u.attributes};return A.createNode(e,h,[])},markdownTokenizer:{name:e,level:"block",start(u){var A;const h=new RegExp(`^:::${l}(?:\\s|$)`,"m"),f=(A=u.match(h))==null?void 0:A.index;return f!==void 0?f:-1},tokenize(u,A,h){const f=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=u.match(f);if(!v)return;const g=v[1]||"",x=r(g);if(!o.find(S=>!(S in x)))return{type:e,raw:v[0],attributes:x}}},renderMarkdown:u=>{const A=c(u.attrs||{}),h=i(A),f=h?` {${h}}`:"";return`:::${l}${f} :::`}}}function $ae(n){const{nodeName:e,name:t,getContent:r,parseAttributes:i=yR,serializeAttributes:s=bR,defaultAttributes:o={},content:a="block",allowedAttributes:l}=n,c=t||e,u=A=>{if(!l)return A;const h={};return l.forEach(f=>{f in A&&(h[f]=A[f])}),h};return{parseMarkdown:(A,h)=>{let f;if(r){const g=r(A);f=typeof g=="string"?[{type:"text",text:g}]:g}else a==="block"?f=h.parseChildren(A.tokens||[]):f=h.parseInline(A.tokens||[]);const v={...o,...A.attributes};return h.createNode(e,v,f)},markdownTokenizer:{name:e,level:"block",start(A){var h;const f=new RegExp(`^:::${c}`,"m"),v=(h=A.match(f))==null?void 0:h.index;return v!==void 0?v:-1},tokenize(A,h,f){var v;const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=A.match(g);if(!x)return;const[b,S=""]=x,E=i(S);let k=1;const P=b.length;let N="";const I=/^:::([\w-]*)(\s.*)?/gm,U=A.slice(P);for(I.lastIndex=0;;){const V=I.exec(U);if(V===null)break;const W=V.index,L=V[1];if(!((v=V[2])!=null&&v.endsWith(":::"))){if(L)k+=1;else if(k-=1,k===0){const D=U.slice(0,W);N=D.trim();const z=A.slice(0,P+W+V[0].length);let G=[];if(N)if(a==="block")for(G=f.blockTokens(D),G.forEach(ve=>{ve.text&&(!ve.tokens||ve.tokens.length===0)&&(ve.tokens=f.inlineTokens(ve.text))});G.length>0;){const ve=G[G.length-1];if(ve.type==="paragraph"&&(!ve.text||ve.text.trim()===""))G.pop();else break}else G=f.inlineTokens(N);return{type:e,raw:z,attributes:E,content:N,tokens:G}}}}}},renderMarkdown:(A,h)=>{const f=u(A.attrs||{}),v=s(f),g=v?` {${v}}`:"",x=h.renderChildren(A.content||[],`

`);return`:::${c}${g}

${x}

:::`}}}function ele(n){if(!n.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=t.exec(n);for(;r!==null;){const[,i,s,o]=r;e[i]=s||o,r=t.exec(n)}return e}function tle(n){return Object.entries(n).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function nle(n){const{nodeName:e,name:t,getContent:r,parseAttributes:i=ele,serializeAttributes:s=tle,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=n,c=t||e,u=h=>{if(!l)return h;const f={};return l.forEach(v=>{v in h&&(f[v]=h[v])}),f},A=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(h,f)=>{const v={...o,...h.attributes};if(a)return f.createNode(e,v);const g=r?r(h):h.content||"";return g?f.createNode(e,v,[f.createTextNode(g)]):f.createNode(e,v,[])},markdownTokenizer:{name:e,level:"inline",start(h){const f=a?new RegExp(`\\[${A}\\s*[^\\]]*\\]`):new RegExp(`\\[${A}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${A}\\]`),v=h.match(f),g=v==null?void 0:v.index;return g!==void 0?g:-1},tokenize(h,f,v){const g=a?new RegExp(`^\\[${A}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${A}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${A}\\]`),x=h.match(g);if(!x)return;let b="",S="";if(a){const[,k]=x;S=k}else{const[,k,P]=x;S=k,b=P||""}const E=i(S.trim());return{type:e,raw:x[0],content:b.trim(),attributes:E}}},renderMarkdown:h=>{let f="";r?f=r(h):h.content&&h.content.length>0&&(f=h.content.filter(b=>b.type==="text").map(b=>b.text).join(""));const v=u(h.attrs||{}),g=s(v),x=g?` ${g}`:"";return a?`[${c}${x}]`:`[${c}${x}]${f}[/${c}]`}}}function VL(n,e,t){var r,i,s,o;const a=n.split(`
`),l=[];let c="",u=0;const A=e.baseIndentSize||2;for(;u<a.length;){const h=a[u],f=h.match(e.itemPattern);if(!f){if(l.length>0)break;if(h.trim()===""){u+=1;continue}else return}const v=e.extractItemData(f),{indentLevel:g,mainContent:x}=v;c=`${c}${h}
`;const b=[x];for(u+=1;u<a.length;){const P=a[u];if(P.trim()===""){const I=a.slice(u+1).findIndex(W=>W.trim()!=="");if(I===-1)break;if((((i=(r=a[u+1+I].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>g){b.push(P),c=`${c}${P}
`,u+=1;continue}else break}if((((o=(s=P.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>g)b.push(P),c=`${c}${P}
`,u+=1;else break}let S;const E=b.slice(1);if(E.length>0){const P=E.map(N=>N.slice(g+A)).join(`
`);P.trim()&&(e.customNestedParser?S=e.customNestedParser(P):S=t.blockTokens(P))}const k=e.createToken(v,S);l.push(k)}if(l.length!==0)return{items:l,raw:c.trim()}}function wR(n,e,t,r){if(!n||!Array.isArray(n.content))return"";const i=typeof t=="function"?t(r):t,[s,...o]=n.content,a=e.renderChildren([s]),l=[`${i}${a}`];return o&&o.length>0&&o.forEach(c=>{const u=e.renderChildren([c]);if(u){const A=u.split(`
`).map(h=>h?e.indent(h):"").join(`
`);l.push(A)}}),l.join(`
`)}function rle(n,e,t={}){const{state:r}=e,{doc:i,tr:s}=r,o=n;i.descendants((a,l)=>{const c=s.mapping.map(l),u=s.mapping.map(l)+a.nodeSize;let A=null;if(a.marks.forEach(f=>{if(f!==o)return!1;A=f}),!A)return;let h=!1;if(Object.keys(t).forEach(f=>{t[f]!==A.attrs[f]&&(h=!0)}),h){const f=n.type.create({...n.attrs,...t});s.removeMark(c,u,n.type),s.addMark(c,u,f)}}),s.docChanged&&e.view.dispatch(s)}var Jc=class d9 extends vR{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new d9(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function $v(n){return new Uae({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=ji(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=t.to;if(a){const u=l.search(/\S/),A=t.from+l.indexOf(a),h=A+a.length;if(gR(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(x=>x===n.type&&x!==v.mark.type)).filter(v=>v.to>A).length)return null;h<t.to&&o.delete(h,t.to),A>t.from&&o.delete(t.from+u,A),c=t.from+u+a.length,o.addMark(t.from+u,c,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}var GP,XU;function ile(){return XU||(XU=1,GP=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),GP}var sle=ile();const ole=iN(sle);var WP={exports:{}},qP={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YU;function ale(){if(YU)return qP;YU=1;var n=_S(),e=l7();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,a=n.useMemo,l=n.useDebugValue;return qP.useSyncExternalStoreWithSelector=function(c,u,A,h,f){var v=s(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=a(function(){function b(N){if(!S){if(S=!0,E=N,N=h(N),f!==void 0&&g.hasValue){var I=g.value;if(f(I,N))return k=I}return k=N}if(I=k,r(E,N))return I;var U=h(N);return f!==void 0&&f(I,U)?(E=N,I):(E=N,k=U)}var S=!1,E,k,P=A===void 0?null:A;return[function(){return b(u())},P===null?void 0:function(){return b(P())}]},[u,A,h,f]);var x=i(c,v[0],v[1]);return o(function(){g.hasValue=!0,g.value=x},[x]),l(x),x},qP}var ZU;function lle(){return ZU||(ZU=1,WP.exports=ale()),WP.exports}var cle=lle(),ule=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},Ale=({contentComponent:n})=>{const e=c7.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return y.jsx(y.Fragment,{children:Object.values(e)})};function dle(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:xM.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}var hle=class extends kt.Component{constructor(n){var e;super(n),this.editorContentRef=kt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const n=this.props.editor;if(n&&!n.isDestroyed&&n.options.element){if(n.contentComponent)return;const e=this.editorContentRef.current;e.append(n.view.dom),n.setOptions({element:e}),n.contentComponent=dle(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=n.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),n.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((n=e.view.dom)!=null&&n.firstChild))return;const t=document.createElement("div");t.append(e.view.dom),e.setOptions({element:t})}catch{}}}render(){const{editor:n,innerRef:e,...t}=this.props;return y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:ule(e,this.editorContentRef),...t}),(n==null?void 0:n.contentComponent)&&y.jsx(Ale,{contentComponent:n.contentComponent})]})}},fle=_.forwardRef((n,e)=>{const t=kt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return kt.createElement(hle,{key:t,innerRef:e,...n})}),ple=kt.memo(fle),mle=typeof window<"u"?_.useLayoutEffect:_.useEffect,gle=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function vle(n){var e;const[t]=_.useState(()=>new gle(n.editor)),r=cle.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:ole);return mle(()=>t.watch(n.editor),[n.editor,t]),_.useDebugValue(r),r}var yle=!1,GL=typeof window>"u",ble=GL||!!(typeof window<"u"&&window.next),wle=class h9{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?GL||ble?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new qae(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=t.extensions)==null?void 0:o[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?h9.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function xle(n={},e=[]){const t=_.useRef(n);t.current=n;const[r]=_.useState(()=>new wle(t)),i=c7.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return _.useDebugValue(i),_.useEffect(r.onRender(e)),vle({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&s===0?0:s+1}),i}var Cle=_.createContext({editor:null});Cle.Consumer;var Sle=_.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Ble=()=>_.useContext(Sle);kt.forwardRef((n,e)=>{const{onDragStart:t}=Ble(),r=n.as||"div";return y.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});kt.createContext({markViewContentRef:()=>{}});var xF=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},Ele=/^\s*>\s$/,Fle=Jc.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return xF("blockquote",{...oo(this.options.HTMLAttributes,n),children:xF("slot",{})})},parseMarkdown:(n,e)=>e.createNode("blockquote",void 0,e.parseChildren(n.tokens||[])),renderMarkdown:(n,e)=>{if(!n.content)return"";const t=[];return n.content.forEach(i=>{const o=e.renderChildren(i).split(`
`).map(a=>`> ${a}`).join(`
`);t.push(o)}),t.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[mw({find:Ele,type:this.type})]}}),Tle=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Nle=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,kle=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Ple=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Lle=Bg.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return xF("strong",{...oo(this.options.HTMLAttributes,n),children:xF("slot",{})})},markdownTokenName:"strong",parseMarkdown:(n,e)=>e.applyMark("bold",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`**${e.renderChildren(n)}**`,addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[pw({find:Tle,type:this.type}),pw({find:kle,type:this.type})]},addPasteRules(){return[$v({find:Nle,type:this.type}),$v({find:Ple,type:this.type})]}}),Ile=/(^|[^`])`([^`]+)`(?!`)$/,Mle=/(^|[^`])`([^`]+)`(?!`)/g,Rle=Bg.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",oo(this.options.HTMLAttributes,n),0]},markdownTokenName:"codespan",parseMarkdown:(n,e)=>e.applyMark("code",[{type:"text",text:n.text||""}]),renderMarkdown:(n,e)=>n.content?`\`${e.renderChildren(n.content)}\``:"",addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[pw({find:Ile,type:this.type})]},addPasteRules(){return[$v({find:Mle,type:this.type})]}}),XP=4,Dle=/^```([a-z]+)?[\s\n]$/,_le=/^~~~([a-z]+)?[\s\n]$/,Ole=Jc.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:XP,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const s=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",oo(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(n,e)=>{var t;return((t=n.raw)==null?void 0:t.startsWith("```"))===!1&&n.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:n.lang||null},n.text?[e.createTextNode(n.text)]:[])},renderMarkdown:(n,e)=>{var t;let r="";const i=((t=n.attrs)==null?void 0:t.language)||"";return n.content?r=[`\`\`\`${i}`,e.renderChildren(n.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:XP,{state:r}=n,{selection:i}=r,{$from:s,empty:o}=i;if(s.parent.type!==this.type)return!1;const a=" ".repeat(t);return o?n.commands.insertContent(a):n.commands.command(({tr:l})=>{const{from:c,to:u}=i,f=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(v=>a+v).join(`
`);return l.replaceWith(c,u,r.schema.text(f)),!0})},"Shift-Tab":({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:XP,{state:r}=n,{selection:i}=r,{$from:s,empty:o}=i;return s.parent.type!==this.type?!1:o?n.commands.command(({tr:a})=>{var l;const{pos:c}=s,u=s.start(),A=s.end(),f=r.doc.textBetween(u,A,`
`,`
`).split(`
`);let v=0,g=0;const x=c-u;for(let N=0;N<f.length;N+=1){if(g+f[N].length>=x){v=N;break}g+=f[N].length+1}const S=((l=f[v].match(/^ */))==null?void 0:l[0])||"",E=Math.min(S.length,t);if(E===0)return!0;let k=u;for(let N=0;N<v;N+=1)k+=f[N].length+1;return a.delete(k,k+E),c-k<=E&&a.setSelection(Sr.create(a.doc,k)),!0}):n.commands.command(({tr:a})=>{const{from:l,to:c}=i,h=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(f=>{var v;const g=((v=f.match(/^ */))==null?void 0:v[0])||"",x=Math.min(g.length,t);return f.slice(x)}).join(`
`);return a.replaceWith(l,c,r.schema.text(h)),!0})},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(Kr.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[KL({find:Dle,type:this.type,getAttributes:n=>({language:n[1]})}),KL({find:_le,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Ws({key:new ia("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:o,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Sr.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),Ule=Jc.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`

`):""}),Hle=Jc.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",oo(this.options.HTMLAttributes,n)]},renderText(){return`
`},renderMarkdown:(n,e)=>e.indent(`
`),parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const A=l.filter(h=>a.includes(h.type.name));c.ensureMarks(A)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),jle=Jc.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,oo(this.options.HTMLAttributes,e),0]},parseMarkdown:(n,e)=>e.createNode("heading",{level:n.depth||1},e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>{var t;const r=(t=n.attrs)!=null&&t.level?parseInt(n.attrs.level,10):1,i="#".repeat(r);return n.content?`${i} ${e.renderChildren(n.content)}`:""},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>KL({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),Qle=Jc.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",oo(this.options.HTMLAttributes,n)]},markdownTokenName:"hr",parseMarkdown:(n,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!Yae(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,i=n();return Jz(t)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:o,dispatch:a})=>{if(a){const{$to:l}=o.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(Sr.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(Jn.create(o.doc,l.pos)):o.setSelection(Sr.create(o.doc,l.pos));else{const u=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,A=u==null?void 0:u.create();A&&(o.insert(c,A),o.setSelection(Sr.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Xae({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),zle=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Kle=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Vle=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Gle=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Wle=Bg.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",oo(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(n,e)=>e.applyMark("italic",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`*${e.renderChildren(n)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[pw({find:zle,type:this.type}),pw({find:Vle,type:this.type})]},addPasteRules(){return[$v({find:Kle,type:this.type}),$v({find:Gle,type:this.type})]}});const qle="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Xle="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",WL="numeric",qL="ascii",XL="alpha",d2="asciinumeric",Bx="alphanumeric",YL="domain",f9="emoji",Yle="scheme",Zle="slashscheme",YP="whitespace";function Jle(n,e){return n in e||(e[n]=[]),e[n]}function S0(n,e,t){e[WL]&&(e[d2]=!0,e[Bx]=!0),e[qL]&&(e[d2]=!0,e[XL]=!0),e[d2]&&(e[Bx]=!0),e[XL]&&(e[Bx]=!0),e[Bx]&&(e[YL]=!0),e[f9]&&(e[YL]=!0);for(const r in e){const i=Jle(r,t);i.indexOf(n)<0&&i.push(n)}}function $le(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function uc(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}uc.groups={};uc.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||uc.groups;let i;return e&&e.j?i=e:(i=new uc(e),t&&r&&S0(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const s=n.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(n[o]);return i.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||uc.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const s=e;let o,a=i.go(n);if(a?(o=new uc,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new uc,s){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign($le(o.t,r),t);S0(s,l,r)}else t&&S0(s,t,r);o.t=s}return i.j[n]=o,o}};const Qr=(n,e,t,r,i)=>n.ta(e,t,r,i),Qs=(n,e,t,r,i)=>n.tr(e,t,r,i),JU=(n,e,t,r,i)=>n.ts(e,t,r,i),Vt=(n,e,t,r,i)=>n.tt(e,t,r,i),Uh="WORD",ZL="UWORD",p9="ASCIINUMERICAL",m9="ALPHANUMERICAL",G2="LOCALHOST",JL="TLD",$L="UTLD",lE="SCHEME",l1="SLASH_SCHEME",xR="NUM",eI="WS",CR="NL",h2="OPENBRACE",f2="CLOSEBRACE",CF="OPENBRACKET",SF="CLOSEBRACKET",BF="OPENPAREN",EF="CLOSEPAREN",FF="OPENANGLEBRACKET",TF="CLOSEANGLEBRACKET",NF="FULLWIDTHLEFTPAREN",kF="FULLWIDTHRIGHTPAREN",PF="LEFTCORNERBRACKET",LF="RIGHTCORNERBRACKET",IF="LEFTWHITECORNERBRACKET",MF="RIGHTWHITECORNERBRACKET",RF="FULLWIDTHLESSTHAN",DF="FULLWIDTHGREATERTHAN",_F="AMPERSAND",OF="APOSTROPHE",UF="ASTERISK",Up="AT",HF="BACKSLASH",jF="BACKTICK",QF="CARET",Kp="COLON",SR="COMMA",zF="DOLLAR",xd="DOT",KF="EQUALS",BR="EXCLAMATION",bu="HYPHEN",p2="PERCENT",VF="PIPE",GF="PLUS",WF="POUND",m2="QUERY",ER="QUOTE",g9="FULLWIDTHMIDDLEDOT",FR="SEMI",Cd="SLASH",g2="TILDE",qF="UNDERSCORE",v9="EMOJI",XF="SYM";var y9=Object.freeze({__proto__:null,ALPHANUMERICAL:m9,AMPERSAND:_F,APOSTROPHE:OF,ASCIINUMERICAL:p9,ASTERISK:UF,AT:Up,BACKSLASH:HF,BACKTICK:jF,CARET:QF,CLOSEANGLEBRACKET:TF,CLOSEBRACE:f2,CLOSEBRACKET:SF,CLOSEPAREN:EF,COLON:Kp,COMMA:SR,DOLLAR:zF,DOT:xd,EMOJI:v9,EQUALS:KF,EXCLAMATION:BR,FULLWIDTHGREATERTHAN:DF,FULLWIDTHLEFTPAREN:NF,FULLWIDTHLESSTHAN:RF,FULLWIDTHMIDDLEDOT:g9,FULLWIDTHRIGHTPAREN:kF,HYPHEN:bu,LEFTCORNERBRACKET:PF,LEFTWHITECORNERBRACKET:IF,LOCALHOST:G2,NL:CR,NUM:xR,OPENANGLEBRACKET:FF,OPENBRACE:h2,OPENBRACKET:CF,OPENPAREN:BF,PERCENT:p2,PIPE:VF,PLUS:GF,POUND:WF,QUERY:m2,QUOTE:ER,RIGHTCORNERBRACKET:LF,RIGHTWHITECORNERBRACKET:MF,SCHEME:lE,SEMI:FR,SLASH:Cd,SLASH_SCHEME:l1,SYM:XF,TILDE:g2,TLD:JL,UNDERSCORE:qF,UTLD:$L,UWORD:ZL,WORD:Uh,WS:eI});const Ih=/[a-z]/,ix=new RegExp("\\p{L}","u"),ZP=new RegExp("\\p{Emoji}","u"),Mh=/\d/,JP=/\s/,$U="\r",$P=`
`,ece="",tce="",e4="";let n5=null,r5=null;function nce(n=[]){const e={};uc.groups=e;const t=new uc;n5==null&&(n5=e8(qle)),r5==null&&(r5=e8(Xle)),Vt(t,"'",OF),Vt(t,"{",h2),Vt(t,"}",f2),Vt(t,"[",CF),Vt(t,"]",SF),Vt(t,"(",BF),Vt(t,")",EF),Vt(t,"<",FF),Vt(t,">",TF),Vt(t,"",NF),Vt(t,"",kF),Vt(t,"",PF),Vt(t,"",LF),Vt(t,"",IF),Vt(t,"",MF),Vt(t,"",RF),Vt(t,"",DF),Vt(t,"&",_F),Vt(t,"*",UF),Vt(t,"@",Up),Vt(t,"`",jF),Vt(t,"^",QF),Vt(t,":",Kp),Vt(t,",",SR),Vt(t,"$",zF),Vt(t,".",xd),Vt(t,"=",KF),Vt(t,"!",BR),Vt(t,"-",bu),Vt(t,"%",p2),Vt(t,"|",VF),Vt(t,"+",GF),Vt(t,"#",WF),Vt(t,"?",m2),Vt(t,'"',ER),Vt(t,"/",Cd),Vt(t,";",FR),Vt(t,"~",g2),Vt(t,"_",qF),Vt(t,"\\",HF),Vt(t,"",g9);const r=Qs(t,Mh,xR,{[WL]:!0});Qs(r,Mh,r);const i=Qs(r,Ih,p9,{[d2]:!0}),s=Qs(r,ix,m9,{[Bx]:!0}),o=Qs(t,Ih,Uh,{[qL]:!0});Qs(o,Mh,i),Qs(o,Ih,o),Qs(i,Mh,i),Qs(i,Ih,i);const a=Qs(t,ix,ZL,{[XL]:!0});Qs(a,Ih),Qs(a,Mh,s),Qs(a,ix,a),Qs(s,Mh,s),Qs(s,Ih),Qs(s,ix,s);const l=Vt(t,$P,CR,{[YP]:!0}),c=Vt(t,$U,eI,{[YP]:!0}),u=Qs(t,JP,eI,{[YP]:!0});Vt(t,e4,u),Vt(c,$P,l),Vt(c,e4,u),Qs(c,JP,u),Vt(u,$U),Vt(u,$P),Qs(u,JP,u),Vt(u,e4,u);const A=Qs(t,ZP,v9,{[f9]:!0});Vt(A,"#"),Qs(A,ZP,A),Vt(A,ece,A);const h=Vt(A,tce);Vt(h,"#"),Qs(h,ZP,A);const f=[[Ih,o],[Mh,i]],v=[[Ih,null],[ix,a],[Mh,s]];for(let g=0;g<n5.length;g++)Ep(t,n5[g],JL,Uh,f);for(let g=0;g<r5.length;g++)Ep(t,r5[g],$L,ZL,v);S0(JL,{tld:!0,ascii:!0},e),S0($L,{utld:!0,alpha:!0},e),Ep(t,"file",lE,Uh,f),Ep(t,"mailto",lE,Uh,f),Ep(t,"http",l1,Uh,f),Ep(t,"https",l1,Uh,f),Ep(t,"ftp",l1,Uh,f),Ep(t,"ftps",l1,Uh,f),S0(lE,{scheme:!0,ascii:!0},e),S0(l1,{slashscheme:!0,ascii:!0},e),n=n.sort((g,x)=>g[0]>x[0]?1:-1);for(let g=0;g<n.length;g++){const x=n[g][0],S=n[g][1]?{[Yle]:!0}:{[Zle]:!0};x.indexOf("-")>=0?S[YL]=!0:Ih.test(x)?Mh.test(x)?S[d2]=!0:S[qL]=!0:S[WL]=!0,JU(t,x,x,S)}return JU(t,"localhost",G2,{ascii:!0}),t.jd=new uc(XF),{start:t,tokens:Object.assign({groups:e},y9)}}function b9(n,e){const t=rce(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=t.length,i=[];let s=0,o=0;for(;o<r;){let a=n,l=null,c=0,u=null,A=-1,h=-1;for(;o<r&&(l=a.go(t[o]));)a=l,a.accepts()?(A=0,h=0,u=a):A>=0&&(A+=t[o].length,h++),c+=t[o].length,s+=t[o].length,o++;s-=A,o-=h,c-=A,i.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function rce(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),s,o=i<55296||i>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(o),r+=o.length}return e}function Ep(n,e,t,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];n.j[l]?s=n.j[l]:(s=new uc(r),s.jr=i.slice(),n.j[l]=s),n=s}return s=new uc(t),s.jr=i.slice(),n.j[e[o-1]]=s,s}function e8(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let s=0;for(;i.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(n.substring(r,r+s),10);o>0;o--)t.pop();r+=s}else t.push(n[r]),r++}return e}const W2={defaultProtocol:"http",events:null,format:t8,formatHref:t8,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function TR(n,e=null){let t=Object.assign({},W2);n&&(t=Object.assign(t,n instanceof TR?n.o:n));const r=t.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}TR.prototype={o:W2,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:W2[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function t8(n){return n}function w9(n,e){this.t="token",this.v=n,this.tk=e}w9.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=W2.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),s=this.toFormattedString(n),o={},a=n.get("className",t,e),l=n.get("target",t,e),c=n.get("rel",t,e),u=n.getObj("attributes",t,e),A=n.getObj("events",t,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Object.assign(o,u),{tagName:i,attributes:o,content:s,eventListeners:A}}};function PN(n,e){class t extends w9{constructor(i,s){super(i,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const n8=PN("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),r8=PN("text"),ice=PN("nl"),i5=PN("url",{isLink:!0,toHref(n=W2.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==G2&&n[1].t===Kp}}),mu=n=>new uc(n);function sce({groups:n}){const e=n.domain.concat([_F,UF,Up,HF,jF,QF,zF,KF,bu,xR,p2,VF,GF,WF,Cd,XF,g2,qF]),t=[OF,Kp,SR,xd,BR,p2,m2,ER,FR,FF,TF,h2,f2,SF,CF,BF,EF,NF,kF,PF,LF,IF,MF,RF,DF],r=[_F,OF,UF,HF,jF,QF,zF,KF,bu,h2,f2,p2,VF,GF,WF,m2,Cd,XF,g2,qF],i=mu(),s=Vt(i,g2);Qr(s,r,s),Qr(s,n.domain,s);const o=mu(),a=mu(),l=mu();Qr(i,n.domain,o),Qr(i,n.scheme,a),Qr(i,n.slashscheme,l),Qr(o,r,s),Qr(o,n.domain,o);const c=Vt(o,Up);Vt(s,Up,c),Vt(a,Up,c),Vt(l,Up,c);const u=Vt(s,xd);Qr(u,r,s),Qr(u,n.domain,s);const A=mu();Qr(c,n.domain,A),Qr(A,n.domain,A);const h=Vt(A,xd);Qr(h,n.domain,A);const f=mu(n8);Qr(h,n.tld,f),Qr(h,n.utld,f),Vt(c,G2,f);const v=Vt(A,bu);Vt(v,bu,v),Qr(v,n.domain,A),Qr(f,n.domain,A),Vt(f,xd,h),Vt(f,bu,v);const g=Vt(f,Kp);Qr(g,n.numeric,n8);const x=Vt(o,bu),b=Vt(o,xd);Vt(x,bu,x),Qr(x,n.domain,o),Qr(b,r,s),Qr(b,n.domain,o);const S=mu(i5);Qr(b,n.tld,S),Qr(b,n.utld,S),Qr(S,n.domain,o),Qr(S,r,s),Vt(S,xd,b),Vt(S,bu,x),Vt(S,Up,c);const E=Vt(S,Kp),k=mu(i5);Qr(E,n.numeric,k);const P=mu(i5),N=mu();Qr(P,e,P),Qr(P,t,N),Qr(N,e,P),Qr(N,t,N),Vt(S,Cd,P),Vt(k,Cd,P);const I=Vt(a,Kp),U=Vt(l,Kp),V=Vt(U,Cd),W=Vt(V,Cd);Qr(a,n.domain,o),Vt(a,xd,b),Vt(a,bu,x),Qr(l,n.domain,o),Vt(l,xd,b),Vt(l,bu,x),Qr(I,n.domain,P),Vt(I,Cd,P),Vt(I,m2,P),Qr(W,n.domain,P),Qr(W,e,P),Vt(W,Cd,P);const L=[[h2,f2],[CF,SF],[BF,EF],[FF,TF],[NF,kF],[PF,LF],[IF,MF],[RF,DF]];for(let D=0;D<L.length;D++){const[z,G]=L[D],ve=Vt(P,z);Vt(N,z,ve),Vt(ve,G,P);const J=mu(i5);Qr(ve,e,J);const $=mu();Qr(ve,t),Qr(J,e,J),Qr(J,t,$),Qr($,e,J),Qr($,t,$),Vt(J,G,P),Vt($,G,P)}return Vt(i,G2,S),Vt(i,CR,ice),{start:i,tokens:y9}}function oce(n,e,t){let r=t.length,i=0,s=[],o=[];for(;i<r;){let a=n,l=null,c=null,u=0,A=null,h=-1;for(;i<r&&!(l=a.go(t[i].t));)o.push(t[i++]);for(;i<r&&(c=l||a.go(t[i].t));)l=null,a=c,a.accepts()?(h=0,A=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<r&&(o.push(t[i]),i++);else{o.length>0&&(s.push(t4(r8,e,o)),o=[]),i-=h,u-=h;const f=A.t,v=t.slice(i-u,i);s.push(t4(f,e,v))}}return o.length>0&&s.push(t4(r8,e,o)),s}function t4(n,e,t){const r=t[0].s,i=t[t.length-1].e,s=e.slice(r,i);return new n(s,t)}const ace=typeof console<"u"&&console&&console.warn||(()=>{}),lce="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ms={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cce(){return uc.groups={},ms.scanner=null,ms.parser=null,ms.tokenQueue=[],ms.pluginQueue=[],ms.customSchemes=[],ms.initialized=!1,ms}function i8(n,e=!1){if(ms.initialized&&ace(`linkifyjs: already initialized - will not register custom scheme "${n}" ${lce}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ms.customSchemes.push([n,e])}function uce(){ms.scanner=nce(ms.customSchemes);for(let n=0;n<ms.tokenQueue.length;n++)ms.tokenQueue[n][1]({scanner:ms.scanner});ms.parser=sce(ms.scanner.tokens);for(let n=0;n<ms.pluginQueue.length;n++)ms.pluginQueue[n][1]({scanner:ms.scanner,parser:ms.parser});return ms.initialized=!0,ms}function NR(n){return ms.initialized||uce(),oce(ms.parser.start,n,b9(ms.scanner.start,n))}NR.scan=b9;function x9(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new TR(t),i=NR(n),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}var kR="[\0- -\u2029]",Ace=new RegExp(kR),dce=new RegExp(`${kR}$`),hce=new RegExp(kR,"g");function fce(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function pce(n){return new Ws({key:new ia("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(c=>c.docChanged)&&!t.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=Kz(t.doc,[...e]);if(Zz(a).forEach(({newRange:c})=>{const u=eae(r.doc,c,f=>f.isTextblock);let A,h;if(u.length>1)A=u[0],h=r.doc.textBetween(A.pos,A.pos+A.node.nodeSize,void 0," ");else if(u.length){const f=r.doc.textBetween(c.from,c.to," "," ");if(!dce.test(f))return;A=u[0],h=r.doc.textBetween(A.pos,c.to,void 0," ")}if(A&&h){const f=h.split(Ace).filter(Boolean);if(f.length<=0)return!1;const v=f[f.length-1],g=A.pos+h.lastIndexOf(v);if(!v)return!1;const x=NR(v).map(b=>b.toObject(n.defaultProtocol));if(!fce(x))return!1;x.filter(b=>b.isLink).map(b=>({...b,from:g+b.start+1,to:g+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>n.validate(b.value)).filter(b=>n.shouldAutoLink(b.value)).forEach(b=>{gR(b.from,b.to,r.doc).some(S=>S.mark.type===n.type)||o.addMark(b.from,b.to,n.type.create({href:b.href}))})}}),!!o.steps.length)return o}})}function mce(n){return new Ws({key:new ia("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let u=r.target;const A=[];for(;u.nodeName!=="DIV";)A.push(u),u=u.parentNode;o=A.find(h=>h.nodeName==="A")}if(!o)return!1;const a=Yz(e.state,n.type.name),l=(i=o==null?void 0:o.href)!=null?i:a.href,c=(s=o==null?void 0:o.target)!=null?s:a.target;return n.enableClickSelection&&n.editor.commands.extendMarkRange(n.type.name),o&&l?(window.open(l,c),!0):!1}}})}function gce(n){return new Ws({key:new ia("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{shouldAutoLink:i}=n,{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=x9(l,{defaultProtocol:n.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:n.editor.commands.setMark(n.type,{href:c.href})}}})}function Jg(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(hce,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var C9=Bg.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){i8(n);return}i8(n.scheme,n.optionalSlashes)})},onDestroy(){cce()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Jg(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Jg(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Jg(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",oo(this.options.HTMLAttributes,n),0]:["a",oo(this.options.HTMLAttributes,{...n,href:""}),0]},markdownTokenName:"link",parseMarkdown:(n,e)=>e.applyMark("link",e.parseInline(n.tokens||[]),{href:n.href,title:n.title||null}),renderMarkdown:(n,e)=>{var t;const r=((t=n.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(n)}](${r})`},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Jg(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!Jg(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[$v({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=x9(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Jg(o,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(pce({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Jg(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(mce({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(gce({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),n}}),vce=C9,yce=Object.defineProperty,bce=(n,e)=>{for(var t in e)yce(n,t,{get:e[t],enumerable:!0})},wce="listItem",s8="textStyle",o8=/^\s*([-+*])\s$/,S9=Jc.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",oo(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>n.type!=="list"||n.ordered?[]:{type:"bulletList",content:n.items?e.parseChildren(n.items):[]},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(wce,this.editor.getAttributes(s8)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=mw({find:o8,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=mw({find:o8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(s8),editor:this.editor})),[n]}}),B9=Jc.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",oo(this.options.HTMLAttributes,n),0]},markdownTokenName:"list_item",parseMarkdown:(n,e)=>{if(n.type!=="list_item")return[];let t=[];if(n.tokens&&n.tokens.length>0)if(n.tokens.some(i=>i.type==="paragraph"))t=e.parseChildren(n.tokens);else{const i=n.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(i.tokens)}],n.tokens.length>1){const o=n.tokens.slice(1),a=e.parseChildren(o);t.push(...a)}}else t=e.parseChildren(n.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(n,e,t)=>wR(n,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),xce={};bce(xce,{findListItemPos:()=>GS,getNextListDepth:()=>PR,handleBackspace:()=>tI,handleDelete:()=>nI,hasListBefore:()=>E9,hasListItemAfter:()=>Cce,hasListItemBefore:()=>F9,listItemHasSubList:()=>T9,nextListIsDeeper:()=>N9,nextListIsHigher:()=>k9});var GS=(n,e)=>{const{$from:t}=e.selection,r=bo(n,e.schema);let i=null,s=t.depth,o=t.pos,a=null;for(;s>0&&a===null;)i=t.node(s),i.type===r?a=s:(s-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},PR=(n,e)=>{const t=GS(n,e);if(!t)return!1;const[,r]=uae(e,n,t.$pos.pos+4);return r},E9=(n,e,t)=>{const{$anchor:r}=n.selection,i=Math.max(0,r.pos-2),s=n.doc.resolve(i).node();return!(!s||!t.includes(s.type.name))},F9=(n,e)=>{var t;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((t=i.nodeBefore)==null?void 0:t.type.name)!==n)},T9=(n,e,t)=>{if(!t)return!1;const r=bo(n,e.schema);let i=!1;return t.descendants(s=>{s.type===r&&(i=!0)}),i},tI=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!cg(n.state,e)&&E9(n.state,e,t)){const{$anchor:a}=n.state.selection,l=n.state.doc.resolve(a.before()-1),c=[];l.node().descendants((h,f)=>{h.type.name===e&&c.push({node:h,pos:f})});const u=c.at(-1);if(!u)return!1;const A=n.state.doc.resolve(l.start()+u.pos+1);return n.chain().cut({from:a.start()-1,to:a.end()+1},A.end()).joinForward().run()}if(!cg(n.state,e)||!fae(n.state))return!1;const r=GS(e,n.state);if(!r)return!1;const s=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=T9(e,n.state,s);return F9(e,n.state)&&!o?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},N9=(n,e)=>{const t=PR(n,e),r=GS(n,e);return!r||!t?!1:t>r.depth},k9=(n,e)=>{const t=PR(n,e),r=GS(n,e);return!r||!t?!1:t<r.depth},nI=(n,e)=>{if(!cg(n.state,e)||!hae(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:i}=t;return!t.empty&&r.sameParent(i)?!1:N9(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():k9(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},Cce=(n,e)=>{var t;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((t=i.nodeAfter)==null?void 0:t.type.name)!==n)},P9=cs.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&nI(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&nI(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&tI(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&tI(n,t,r)&&(e=!0)}),e}}}}),a8=/^(\s*)(\d+)\.\s+(.*)$/,Sce=/^\s/;function Bce(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t],s=i.match(a8);if(!s)break;const[,o,a,l]=s,c=o.length;let u=l,A=t+1;const h=[i];for(;A<n.length;){const f=n[A];if(f.match(a8))break;if(f.trim()==="")h.push(f),u+=`
`,A+=1;else if(f.match(Sce))h.push(f),u+=`
${f.slice(c+2)}`,A+=1;else break}e.push({indent:c,number:parseInt(a,10),content:u.trim(),raw:h.join(`
`)}),r=A,t=A}return[e,r]}function L9(n,e,t){var r;const i=[];let s=0;for(;s<n.length;){const o=n[s];if(o.indent===e){const a=o.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:t.inlineTokens(l)});const u=a.slice(1).join(`
`).trim();if(u){const f=t.blockTokens(u);c.push(...f)}let A=s+1;const h=[];for(;A<n.length&&n[A].indent>e;)h.push(n[A]),A+=1;if(h.length>0){const f=Math.min(...h.map(g=>g.indent)),v=L9(h,f,t);c.push({type:"list",ordered:!0,start:h[0].number,items:v,raw:h.map(g=>g.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:c}),s=A}else s+=1}return i}function Ece(n,e){return n.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const r=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var Fce="listItem",l8="textStyle",c8=/^(\d+)\.\s$/,I9=Jc.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",oo(this.options.HTMLAttributes,t),0]:["ol",oo(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>{if(n.type!=="list"||!n.ordered)return[];const t=n.start||1,r=n.items?Ece(n.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:r}:{type:"orderedList",content:r}},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:n=>{const e=n.match(/^(\s*)(\d+)\.\s+/),t=e==null?void 0:e.index;return t!==void 0?t:-1},tokenize:(n,e,t)=>{var r;const i=n.split(`
`),[s,o]=Bce(i);if(s.length===0)return;const a=L9(s,0,t);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Fce,this.editor.getAttributes(l8)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=mw({find:c8,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=mw({find:c8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(l8)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),Tce=/^\s*(\[([( |x])?\])\s$/,Nce=Jc.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",oo(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(n,e)=>{const t=[];if(n.tokens&&n.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(n.tokens))):n.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:n.text})])):t.push(e.createNode("paragraph",{},[])),n.nestedTokens&&n.nestedTokens.length>0){const r=e.parseChildren(n.nestedTokens);t.push(...r)}return e.createNode("taskItem",{checked:n.checked||!1},t)},renderMarkdown:(n,e)=>{var t;const i=`- [${(t=n.attrs)!=null&&t.checked?"x":" "}] `;return wR(n,e,i)},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var A,h;a.ariaLabel=((h=(A=this.options.a11y)==null?void 0:A.checkboxLabel)==null?void 0:h.call(A,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(n),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:A}=u.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const f=t();if(typeof f!="number")return!1;const v=h.doc.nodeAt(f);return h.setNodeMarkup(f,void 0,{...v==null?void 0:v.attrs,checked:A}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,A)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,A])=>{i.setAttribute(u,A)}),i.dataset.checked=n.attrs.checked,a.checked=n.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(e).forEach(([u,A])=>{i.setAttribute(u,A)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[mw({find:Tce,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),kce=Jc.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",oo(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},parseMarkdown:(n,e)=>e.createNode("taskList",{},e.parseChildren(n.items||[])),renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(n){var e;const t=(e=n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(n,e,t){const r=s=>{const o=VL(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:t.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},t);return o?[{type:"taskList",raw:o.raw,items:o.items}]:t.blockTokens(s)},i=VL(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,o)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:t.inlineTokens(s.mainContent),nestedTokens:o}),customNestedParser:r},t);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});cs.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(S9.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(B9.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(P9.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(I9.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(Nce.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(kce.configure(this.options.taskList)),n}});var Pce=Jc.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",oo(this.options.HTMLAttributes,n),0]},parseMarkdown:(n,e)=>{const t=n.tokens||[];return t.length===1&&t[0].type==="image"?e.parseChildren([t[0]]):e.createNode("paragraph",void 0,e.parseInline(t))},renderMarkdown:(n,e)=>!n||!Array.isArray(n.content)?"":e.renderChildren(n.content),addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Lce=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Ice=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Mce=Bg.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",oo(this.options.HTMLAttributes,n),0]},markdownTokenName:"del",parseMarkdown:(n,e)=>e.applyMark("strike",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`~~${e.renderChildren(n)}~~`,addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[pw({find:Lce,type:this.type})]},addPasteRules(){return[$v({find:Ice,type:this.type})]}}),Rce=Jc.create({name:"text",group:"inline",parseMarkdown:n=>({type:"text",text:n.text||""}),renderMarkdown:n=>n.text||""}),Dce=Bg.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",oo(this.options.HTMLAttributes,n),0]},parseMarkdown(n,e){return e.applyMark(this.name||"underline",e.parseInline(n.tokens||[]))},renderMarkdown(n,e){return`++${e.renderChildren(n)}++`},markdownTokenizer:{name:"underline",level:"inline",start(n){return n.indexOf("++")},tokenize(n,e,t){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(n);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:t.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function _ce(n={}){return new Ws({view(e){return new Oce(e,n)}})}class Oce{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(t){let A=e.nodeBefore,h=e.nodeAfter;if(A||h){let f=this.editorView.nodeDOM(this.cursorPos-(A?A.nodeSize:0));if(f){let v=f.getBoundingClientRect(),g=A?v.bottom:v.top;A&&h&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;r={left:v.left,right:v.right,top:g-x,bottom:g+x}}}}if(!r){let A=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*o;r={left:A.left-h,right:A.left+h,top:A.top,bottom:A.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let A=l.getBoundingClientRect(),h=A.width/l.offsetWidth,f=A.height/l.offsetHeight;c=A.left-l.scrollLeft*h,u=A.top-l.scrollTop*f}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=D7(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Gs extends Kr{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Gs.valid(r)?new Gs(r):Kr.near(r)}content(){return xn.empty}eq(e){return e instanceof Gs&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Gs(e.resolve(t.pos))}getBookmark(){return new LR(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Uce(e)||!Hce(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Gs.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let l=e.doc.resolve(i);if(Gs.valid(l))return l}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Jn.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let a=e.doc.resolve(i);if(Gs.valid(a))return a}return null}}}Gs.prototype.visible=!1;Gs.findFrom=Gs.findGapCursorFrom;Kr.jsonID("gapcursor",Gs);class LR{constructor(e){this.pos=e}map(e){return new LR(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Gs.valid(t)?new Gs(t):Kr.near(t)}}function M9(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function Uce(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||M9(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Hce(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||M9(i.type))return!0;if(i.inlineContent)return!1}}return!0}function jce(){return new Ws({props:{decorations:Vce,createSelectionBetween(n,e,t){return e.pos==t.pos&&Gs.valid(t)?new Gs(t):null},handleClick:zce,handleKeyDown:Qce,handleDOMEvents:{beforeinput:Kce}}})}const Qce=Dz({ArrowLeft:s5("horiz",-1),ArrowRight:s5("horiz",1),ArrowUp:s5("vert",-1),ArrowDown:s5("vert",1)});function s5(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Sr){if(!s.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Gs.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Gs(c))),!0):!1}}function zce(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Gs.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Jn.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Gs(r))),!0)}function Kce(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Gs))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=Ot.empty;for(let o=r.length-1;o>=0;o--)i=Ot.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new xn(i,0,0));return s.setSelection(Sr.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function Vce(n){if(!(n.selection instanceof Gs))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ds.create(n.doc,[El.widget(n.selection.head,e,{key:"gapcursor"})])}var YF=200,ra=function(){};ra.prototype.append=function(e){return e.length?(e=ra.from(e),!this.length&&e||e.length<YF&&this.leafAppend(e)||this.length<YF&&e.leafPrepend(this)||this.appendInner(e)):this};ra.prototype.prepend=function(e){return e.length?ra.from(e).append(this):this};ra.prototype.appendInner=function(e){return new Gce(this,e)};ra.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?ra.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};ra.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ra.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};ra.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};ra.from=function(e){return e instanceof ra?e:e&&e.length?new R9(e):ra.empty};var R9=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=YF)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=YF)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(ra);ra.empty=new R9([]);var Gce=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ra);const Wce=500;class zA{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((A,h)=>{if(!A.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,u.push(A);return}if(i){u.push(new Fp(A.map));let f=A.step.map(i.slice(s)),v;f&&o.maybeStep(f).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],c.push(new Fp(v,void 0,void 0,c.length+u.length))),s--,v&&i.appendMap(v,s)}else o.maybeStep(A.step);if(A.selection)return a=i?A.selection.map(i.slice(s)):A.selection,l=new zA(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let A=e.steps[u].invert(e.docs[u]),h=new Fp(e.mapping.maps[u],A,t),f;(f=l&&l.merge(h))&&(h=f,u?s.pop():a=a.slice(0,a.length-1)),s.push(h),t&&(o++,t=void 0),i||(l=h)}let c=o-r.depth;return c>Xce&&(a=qce(a,c),o-=c),new zA(a.append(s),o)}remapping(e,t){let r=new U2;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new zA(this.items.append(e.map(t=>new Fp(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=t;this.items.forEach(h=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let v=s.maps[f];if(h.step){let g=e.steps[f].invert(e.docs[f]),x=h.selection&&h.selection.map(s.slice(l+1,f));x&&a++,r.push(new Fp(v,g,x))}else r.push(new Fp(v))},i);let c=[];for(let h=t;h<o;h++)c.push(new Fp(s.maps[h]));let u=this.items.slice(0,i).append(c).append(r),A=new zA(u,a);return A.emptyItemCount()>Wce&&(A=A.compress(this.items.length-r.length)),A}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(t.slice(r)),c=l&&l.getMap();if(r--,c&&t.appendMap(c,r),l){let u=o.selection&&o.selection.map(t.slice(r));u&&s++;let A=new Fp(c.invert(),l,u),h,f=i.length-1;(h=i.length&&i[f].merge(A))?i[f]=h:i.push(A)}}else o.map&&r--},this.items.length,0),new zA(ra.from(i.reverse()),s)}}zA.empty=new zA(ra.empty,0);function qce(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}let Fp=class D9{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new D9(t.getMap().invert(),t,this.selection)}}};class Hp{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Xce=20;function Yce(n,e,t,r){let i=t.getMeta(zv),s;if(i)return i.historyState;t.getMeta($ce)&&(n=new Hp(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(zv))return o.getMeta(zv).redo?new Hp(n.done.addTransform(t,void 0,r,cE(e)),n.undone,u8(t.mapping.maps),n.prevTime,n.prevComposition):new Hp(n.done,n.undone.addTransform(t,void 0,r,cE(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!Zce(t,n.prevRanges)),c=o?n4(n.prevRanges,t.mapping):u8(t.mapping.maps);return new Hp(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,cE(e)),zA.empty,c,t.time,a??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Hp(n.done.rebased(t,s),n.undone.rebased(t,s),n4(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Hp(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),n4(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function Zce(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function u8(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function n4(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function Jce(n,e,t){let r=cE(e),i=zv.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new Hp(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(zv,{redo:t,historyState:l})}let r4=!1,A8=null;function cE(n){let e=n.plugins;if(A8!=e){r4=!1,A8=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){r4=!0;break}}return r4}const zv=new ia("history"),$ce=new ia("closeHistory");function eue(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ws({key:zv,state:{init(){return new Hp(zA.empty,zA.empty,null,0,-1)},apply(e,t,r){return Yce(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?O9:r=="historyRedo"?U9:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function _9(n,e){return(t,r)=>{let i=zv.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=Jce(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const O9=_9(!1,!0),U9=_9(!0,!0);cs.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=(n==null?void 0:n.node)||this.editor.state.doc;if(((n==null?void 0:n.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=(n==null?void 0:n.node)||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new Ws({key:new ia("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const i=this.options.limit;if(i==null||i===0){n=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const o=s-i,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return n=!0,c}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:t.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=s-r,c=a-l,u=a;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>r)}})]}});var tue=cs.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[_ce(this.options)]}});cs.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ws({key:new ia("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!t||!r)return Ds.create(n,[]);let o=0;this.options.mode==="deepest"&&n.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;o+=1});let a=0;return n.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(El.node(c,c+l.nodeSize,{class:this.options.className}))}),Ds.create(n,s)}}})]}});var nue=cs.create({name:"gapCursor",addProseMirrorPlugins(){return[jce()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=ji(Zn(n,"allowGapCursor",t)))!=null?e:null}}}),rue=cs.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ws({key:new ia("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&TN(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const A=El.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(A)}return this.options.includeChildren}),Ds.create(n,i)}}})]}});cs.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new Ws({key:new ia("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||Jz(t.selection)||n.view.dragging?null:Ds.create(t.doc,[El.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function d8({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||(e==null?void 0:e.type)===n}var iue=cs.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var n;const e=new ia(this.name),t=((n=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:n.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(t).includes(i.name));return[new Ws({key:e,appendTransaction:(i,s,o)=>{const{doc:a,tr:l,schema:c}=o,u=e.getState(o),A=a.content.size,h=c.nodes[t];if(u)return l.insert(A,h.create())},state:{init:(i,s)=>{const o=s.tr.doc.lastChild;return!d8({node:o,types:r})},apply:(i,s)=>{if(!i.docChanged)return s;const o=i.doc.lastChild;return!d8({node:o,types:r})}}})]}}),sue=cs.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>O9(n,e),redo:()=>({state:n,dispatch:e})=>U9(n,e)}},addProseMirrorPlugins(){return[eue(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),oue=cs.create({name:"starterKit",addExtensions(){var n,e,t,r;const i=[];return this.options.bold!==!1&&i.push(Lle.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Fle.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(S9.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Rle.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Ole.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(Ule.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(tue.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(nue.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(Hle.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(jle.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(sue.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Qle.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Wle.configure(this.options.italic)),this.options.listItem!==!1&&i.push(B9.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(P9.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&i.push(C9.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(I9.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(Pce.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Mce.configure(this.options.strike)),this.options.text!==!1&&i.push(Rce.configure(this.options.text)),this.options.underline!==!1&&i.push(Dce.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&i.push(iue.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),aue=oue,lue=rue,cue=20,H9=(n,e=0)=>{const t=[];return!n.children.length||e>cue||Array.from(n.children).forEach(r=>{r.tagName==="SPAN"?t.push(r):r.children.length&&t.push(...H9(r,e+1))}),t},uue=n=>{if(!n.children.length)return;const e=H9(n);e&&e.forEach(t=>{var r,i;const s=t.getAttribute("style"),o=(i=(r=t.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");t.setAttribute("style",`${o};${s}`)})},j9=Bg.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&uue(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",oo(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleTextStyle:n=>({commands:e})=>e.toggleMark(this.name,n),removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),Aue=cs.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:n=>{var e;const t=n.getAttribute("style");if(t){const r=t.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(o==="background-color")return a.replace(/['"]+/g,"")}}}return(e=n.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.backgroundColor?{style:`background-color: ${n.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:n=>({chain:e})=>e().setMark("textStyle",{backgroundColor:n}).run(),unsetBackgroundColor:()=>({chain:n})=>n().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Q9=cs.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;const t=n.getAttribute("style");if(t){const r=t.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(o==="color")return a.replace(/['"]+/g,"")}}}return(e=n.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),due=cs.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:n=>n.style.fontFamily,renderHTML:n=>n.fontFamily?{style:`font-family: ${n.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:n=>({chain:e})=>e().setMark("textStyle",{fontFamily:n}).run(),unsetFontFamily:()=>({chain:n})=>n().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),hue=cs.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:n=>n.style.fontSize,renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:n=>({chain:e})=>e().setMark("textStyle",{fontSize:n}).run(),unsetFontSize:()=>({chain:n})=>n().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),fue=cs.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:n=>n.style.lineHeight,renderHTML:n=>n.lineHeight?{style:`line-height: ${n.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:n=>({chain:e})=>e().setMark("textStyle",{lineHeight:n}).run(),unsetLineHeight:()=>({chain:n})=>n().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});cs.create({name:"textStyleKit",addExtensions(){const n=[];return this.options.backgroundColor!==!1&&n.push(Aue.configure(this.options.backgroundColor)),this.options.color!==!1&&n.push(Q9.configure(this.options.color)),this.options.fontFamily!==!1&&n.push(due.configure(this.options.fontFamily)),this.options.fontSize!==!1&&n.push(hue.configure(this.options.fontSize)),this.options.lineHeight!==!1&&n.push(fue.configure(this.options.lineHeight)),this.options.textStyle!==!1&&n.push(j9.configure(this.options.textStyle)),n}});var pue=Q9,i4=0;function IR(){_.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??h8()),document.body.insertAdjacentElement("beforeend",n[1]??h8()),i4++,()=>{i4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),i4--}},[])}function h8(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var s4="focusScope.autoFocusOnMount",o4="focusScope.autoFocusOnUnmount",f8={bubbles:!1,cancelable:!0},mue="FocusScope",LN=_.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=_.useState(null),c=WA(i),u=WA(s),A=_.useRef(null),h=zi(e,g=>l(g)),f=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let g=function(E){if(f.paused||!a)return;const k=E.target;a.contains(k)?A.current=k:Mp(A.current,{select:!0})},x=function(E){if(f.paused||!a)return;const k=E.relatedTarget;k!==null&&(a.contains(k)||Mp(A.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&Mp(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const S=new MutationObserver(b);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),S.disconnect()}}},[r,a,f.paused]),_.useEffect(()=>{if(a){m8.add(f);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(s4,f8);a.addEventListener(s4,c),a.dispatchEvent(b),b.defaultPrevented||(gue(xue(z9(a)),{select:!0}),document.activeElement===g&&Mp(a))}return()=>{a.removeEventListener(s4,c),setTimeout(()=>{const b=new CustomEvent(o4,f8);a.addEventListener(o4,u),a.dispatchEvent(b),b.defaultPrevented||Mp(g??document.body,{select:!0}),a.removeEventListener(o4,u),m8.remove(f)},0)}}},[a,c,u,f]);const v=_.useCallback(g=>{if(!t&&!r||f.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(x&&b){const S=g.currentTarget,[E,k]=vue(S);E&&k?!g.shiftKey&&b===k?(g.preventDefault(),t&&Mp(E,{select:!0})):g.shiftKey&&b===E&&(g.preventDefault(),t&&Mp(k,{select:!0})):b===S&&g.preventDefault()}},[t,r,f.paused]);return y.jsx(Ur.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});LN.displayName=mue;function gue(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Mp(r,{select:e}),document.activeElement!==t)return}function vue(n){const e=z9(n),t=p8(e,n),r=p8(e.reverse(),n);return[t,r]}function z9(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function p8(n,e){for(const t of n)if(!yue(t,{upTo:e}))return t}function yue(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function bue(n){return n instanceof HTMLInputElement&&"select"in n}function Mp(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&bue(n)&&e&&n.select()}}var m8=wue();function wue(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=g8(n,e),n.unshift(e)},remove(e){var t;n=g8(n,e),(t=n[0])==null||t.resume()}}}function g8(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function xue(n){return n.filter(e=>e.tagName!=="A")}var Cue=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Uy=new WeakMap,o5=new WeakMap,a5={},a4=0,K9=function(n){return n&&(n.host||K9(n.parentNode))},Sue=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=K9(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Bue=function(n,e,t,r){var i=Sue(e,Array.isArray(n)?n:[n]);a5[t]||(a5[t]=new WeakMap);var s=a5[t],o=[],a=new Set,l=new Set(i),c=function(A){!A||a.has(A)||(a.add(A),c(A.parentNode))};i.forEach(c);var u=function(A){!A||l.has(A)||Array.prototype.forEach.call(A.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),v=f!==null&&f!=="false",g=(Uy.get(h)||0)+1,x=(s.get(h)||0)+1;Uy.set(h,g),s.set(h,x),o.push(h),g===1&&v&&o5.set(h,!0),x===1&&h.setAttribute(t,"true"),v||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(e),a.clear(),a4++,function(){o.forEach(function(A){var h=Uy.get(A)-1,f=s.get(A)-1;Uy.set(A,h),s.set(A,f),h||(o5.has(A)||A.removeAttribute(r),o5.delete(A)),f||A.removeAttribute(t)}),a4--,a4||(Uy=new WeakMap,Uy=new WeakMap,o5=new WeakMap,a5={})}},MR=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=Cue(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Bue(r,i,t,"aria-hidden")):function(){return null}},Wd=function(){return Wd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Wd.apply(this,arguments)};function V9(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Eue(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var uE="right-scroll-bar-position",AE="width-before-scroll-bar",Fue="with-scroll-bars-hidden",Tue="--removed-body-scroll-bar-size";function l4(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Nue(n,e){var t=_.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var kue=typeof window<"u"?_.useLayoutEffect:_.useEffect,v8=new WeakMap;function Pue(n,e){var t=Nue(null,function(r){return n.forEach(function(i){return l4(i,r)})});return kue(function(){var r=v8.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||l4(a,null)}),s.forEach(function(a){i.has(a)||l4(a,o)})}v8.set(t,n)},[n]),t}function Lue(n){return n}function Iue(n,e){e===void 0&&(e=Lue);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function Mue(n){n===void 0&&(n={});var e=Iue(null);return e.options=Wd({async:!0,ssr:!1},n),e}var G9=function(n){var e=n.sideCar,t=V9(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Wd({},t))};G9.isSideCarExport=!0;function Rue(n,e){return n.useMedium(e),G9}var W9=Mue(),c4=function(){},IN=_.forwardRef(function(n,e){var t=_.useRef(null),r=_.useState({onScrollCapture:c4,onWheelCapture:c4,onTouchMoveCapture:c4}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,A=n.shards,h=n.sideCar,f=n.noRelative,v=n.noIsolation,g=n.inert,x=n.allowPinchZoom,b=n.as,S=b===void 0?"div":b,E=n.gapMode,k=V9(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=h,N=Pue([t,e]),I=Wd(Wd({},k),i);return _.createElement(_.Fragment,null,u&&_.createElement(P,{sideCar:W9,removeScrollBar:c,shards:A,noRelative:f,noIsolation:v,inert:g,setCallbacks:s,allowPinchZoom:!!x,lockRef:t,gapMode:E}),o?_.cloneElement(_.Children.only(a),Wd(Wd({},I),{ref:N})):_.createElement(S,Wd({},I,{className:l,ref:N}),a))});IN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};IN.classNames={fullWidth:AE,zeroRight:uE};var Due=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _ue(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Due();return e&&n.setAttribute("nonce",e),n}function Oue(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Uue(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Hue=function(){var n=0,e=null;return{add:function(t){n==0&&(e=_ue())&&(Oue(e,t),Uue(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jue=function(){var n=Hue();return function(e,t){_.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},q9=function(){var n=jue(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Que={left:0,top:0,right:0,gap:0},u4=function(n){return parseInt(n||"",10)||0},zue=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[u4(t),u4(r),u4(i)]},Kue=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Que;var e=zue(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Vue=q9(),R1="data-scroll-locked",Gue=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Fue,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(R1,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uE,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(AE,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uE," .").concat(uE,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(AE," .").concat(AE,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(R1,`] {
    `).concat(Tue,": ").concat(a,`px;
  }
`)},y8=function(){var n=parseInt(document.body.getAttribute(R1)||"0",10);return isFinite(n)?n:0},Wue=function(){_.useEffect(function(){return document.body.setAttribute(R1,(y8()+1).toString()),function(){var n=y8()-1;n<=0?document.body.removeAttribute(R1):document.body.setAttribute(R1,n.toString())}},[])},que=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Wue();var s=_.useMemo(function(){return Kue(i)},[i]);return _.createElement(Vue,{styles:Gue(s,!e,i,t?"":"!important")})},rI=!1;if(typeof window<"u")try{var l5=Object.defineProperty({},"passive",{get:function(){return rI=!0,!0}});window.addEventListener("test",l5,l5),window.removeEventListener("test",l5,l5)}catch{rI=!1}var Hy=rI?{passive:!1}:!1,Xue=function(n){return n.tagName==="TEXTAREA"},X9=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Xue(n)&&t[e]==="visible")},Yue=function(n){return X9(n,"overflowY")},Zue=function(n){return X9(n,"overflowX")},b8=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Y9(n,r);if(i){var s=Z9(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Jue=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},$ue=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Y9=function(n,e){return n==="v"?Yue(e):Zue(e)},Z9=function(n,e){return n==="v"?Jue(e):$ue(e)},eAe=function(n,e){return n==="h"&&e==="rtl"?-1:1},tAe=function(n,e,t,r,i){var s=eAe(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,A=0,h=0;do{if(!a)break;var f=Z9(n,a),v=f[0],g=f[1],x=f[2],b=g-x-s*v;(v||b)&&Y9(n,a)&&(A+=b,h+=v);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(A)<1||!u&&Math.abs(h)<1)&&(c=!0),c},c5=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},w8=function(n){return[n.deltaX,n.deltaY]},x8=function(n){return n&&"current"in n?n.current:n},nAe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},rAe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},iAe=0,jy=[];function sAe(n){var e=_.useRef([]),t=_.useRef([0,0]),r=_.useRef(),i=_.useState(iAe++)[0],s=_.useState(q9)[0],o=_.useRef(n);_.useEffect(function(){o.current=n},[n]),_.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Eue([n.lockRef.current],(n.shards||[]).map(x8),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=_.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=c5(g),S=t.current,E="deltaX"in g?g.deltaX:S[0]-b[0],k="deltaY"in g?g.deltaY:S[1]-b[1],P,N=g.target,I=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in g&&I==="h"&&N.type==="range")return!1;var U=b8(I,N);if(!U)return!0;if(U?P=I:(P=I==="v"?"h":"v",U=b8(I,N)),!U)return!1;if(!r.current&&"changedTouches"in g&&(E||k)&&(r.current=P),!P)return!0;var V=r.current||P;return tAe(V,x,g,V==="h"?E:k)},[]),l=_.useCallback(function(g){var x=g;if(!(!jy.length||jy[jy.length-1]!==s)){var b="deltaY"in x?w8(x):c5(x),S=e.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&nAe(P.delta,b)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var E=(o.current.shards||[]).map(x8).filter(Boolean).filter(function(P){return P.contains(x.target)}),k=E.length>0?a(x,E[0]):!o.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),c=_.useCallback(function(g,x,b,S){var E={name:g,delta:x,target:b,should:S,shadowParent:oAe(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),u=_.useCallback(function(g){t.current=c5(g),r.current=void 0},[]),A=_.useCallback(function(g){c(g.type,w8(g),g.target,a(g,n.lockRef.current))},[]),h=_.useCallback(function(g){c(g.type,c5(g),g.target,a(g,n.lockRef.current))},[]);_.useEffect(function(){return jy.push(s),n.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Hy),document.addEventListener("touchmove",l,Hy),document.addEventListener("touchstart",u,Hy),function(){jy=jy.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Hy),document.removeEventListener("touchmove",l,Hy),document.removeEventListener("touchstart",u,Hy)}},[]);var f=n.removeScrollBar,v=n.inert;return _.createElement(_.Fragment,null,v?_.createElement(s,{styles:rAe(i)}):null,f?_.createElement(que,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function oAe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const aAe=Rue(W9,sAe);var MN=_.forwardRef(function(n,e){return _.createElement(IN,Wd({},n,{ref:e,sideCar:aAe}))});MN.classNames=IN.classNames;var RN="Popover",[J9,l2e]=Qf(RN,[Tw]),WS=Tw(),[lAe,Eg]=J9(RN),$9=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=n,a=WS(e),l=_.useRef(null),[c,u]=_.useState(!1),[A,h]=lw({prop:r,defaultProp:i??!1,onChange:s,caller:RN});return y.jsx(LQ,{...a,children:y.jsx(lAe,{scope:e,contentId:Ov(),triggerRef:l,open:A,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:c,onCustomAnchorAdd:_.useCallback(()=>u(!0),[]),onCustomAnchorRemove:_.useCallback(()=>u(!1),[]),modal:o,children:t})})};$9.displayName=RN;var eK="PopoverAnchor",cAe=_.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Eg(eK,t),s=WS(t),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return _.useEffect(()=>(o(),()=>a()),[o,a]),y.jsx(AN,{...s,...r,ref:e})});cAe.displayName=eK;var tK="PopoverTrigger",nK=_.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Eg(tK,t),s=WS(t),o=zi(e,i.triggerRef),a=y.jsx(Ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":aK(i.open),...r,ref:o,onClick:mr(n.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:y.jsx(AN,{asChild:!0,...s,children:a})});nK.displayName=tK;var RR="PopoverPortal",[uAe,AAe]=J9(RR,{forceMount:void 0}),rK=n=>{const{__scopePopover:e,forceMount:t,children:r,container:i}=n,s=Eg(RR,e);return y.jsx(uAe,{scope:e,forceMount:t,children:y.jsx(zf,{present:t||s.open,children:y.jsx(OS,{asChild:!0,container:i,children:r})})})};rK.displayName=RR;var gw="PopoverContent",iK=_.forwardRef((n,e)=>{const t=AAe(gw,n.__scopePopover),{forceMount:r=t.forceMount,...i}=n,s=Eg(gw,n.__scopePopover);return y.jsx(zf,{present:r||s.open,children:s.modal?y.jsx(hAe,{...i,ref:e}):y.jsx(fAe,{...i,ref:e})})});iK.displayName=gw;var dAe=Wv("PopoverContent.RemoveScroll"),hAe=_.forwardRef((n,e)=>{const t=Eg(gw,n.__scopePopover),r=_.useRef(null),i=zi(e,r),s=_.useRef(!1);return _.useEffect(()=>{const o=r.current;if(o)return MR(o)},[]),y.jsx(MN,{as:dAe,allowPinchZoom:!0,children:y.jsx(sK,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mr(n.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:mr(n.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:mr(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),fAe=_.forwardRef((n,e)=>{const t=Eg(gw,n.__scopePopover),r=_.useRef(!1),i=_.useRef(!1);return y.jsx(sK,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),sK=_.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...A}=n,h=Eg(gw,t),f=WS(t);return IR(),y.jsx(LN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:y.jsx(Cw,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:y.jsx(_M,{"data-state":aK(h.open),role:"dialog",id:h.contentId,...f,...A,ref:e,style:{...A.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oK="PopoverClose",pAe=_.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Eg(oK,t);return y.jsx(Ur.button,{type:"button",...r,ref:e,onClick:mr(n.onClick,()=>i.onOpenChange(!1))})});pAe.displayName=oK;var mAe="PopoverArrow",gAe=_.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=WS(t);return y.jsx(OM,{...i,...r,ref:e})});gAe.displayName=mAe;function aK(n){return n?"open":"closed"}var vAe=$9,yAe=nK,bAe=rK,lK=iK;const DR=vAe,_R=yAe,DN=_.forwardRef(({className:n,align:e="center",sideOffset:t=4,...r},i)=>y.jsx(bAe,{children:y.jsx(lK,{ref:i,align:e,sideOffset:t,className:ir("z-50 w-72 rounded-md border border-border/40 bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",n),...r})}));DN.displayName=lK.displayName;const cK=_.forwardRef(({value:n,onChange:e,className:t,placeholder:r="Start typing...",...i},s)=>{const o=xle({extensions:[aue,j9,pue,vce.configure({openOnClick:!1,HTMLAttributes:{class:"text-[#8cb43a] hover:underline cursor-pointer"}}),lue.configure({placeholder:r})],content:n||"",onUpdate:({editor:a})=>{e(a.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[100px] px-3 py-2 relative"}}});return _.useEffect(()=>{o&&n!==o.getHTML()&&o.commands.setContent(n||"",{emitUpdate:!1})},[n,o]),o?y.jsxs("div",{ref:s,className:ir("flex flex-col rounded-md border border-input bg-background ring-offset-background focus-within:ring-1 focus-within:ring-primary focus-within:border-primary/50 transition-colors overflow-hidden",t),...i,children:[y.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-input bg-muted/50 rounded-t-md",children:[y.jsx(xr,{type:"button",variant:"ghost",size:"sm",onClick:()=>o.chain().focus().toggleBold().run(),disabled:!o.can().chain().focus().toggleBold().run(),className:ir("h-8 w-8 p-0",o.isActive("bold")&&"bg-background"),children:y.jsx(pJ,{className:"h-4 w-4"})}),y.jsx(xr,{type:"button",variant:"ghost",size:"sm",onClick:()=>o.chain().focus().toggleItalic().run(),disabled:!o.can().chain().focus().toggleItalic().run(),className:ir("h-8 w-8 p-0",o.isActive("italic")&&"bg-background"),children:y.jsx(bJ,{className:"h-4 w-4"})}),y.jsx(xr,{type:"button",variant:"ghost",size:"sm",onClick:()=>o.chain().focus().toggleBulletList().run(),className:ir("h-8 w-8 p-0",o.isActive("bulletList")&&"bg-background"),children:y.jsx(CJ,{className:"h-4 w-4"})}),y.jsx(xr,{type:"button",variant:"ghost",size:"sm",onClick:()=>o.chain().focus().toggleOrderedList().run(),className:ir("h-8 w-8 p-0",o.isActive("orderedList")&&"bg-background"),children:y.jsx(xJ,{className:"h-4 w-4"})}),y.jsx("div",{className:"w-px h-6 bg-border mx-1"}),y.jsxs(DR,{children:[y.jsx(_R,{asChild:!0,children:y.jsxs(xr,{type:"button",variant:"ghost",size:"sm",className:ir("h-8 w-8 p-0 relative",o.isActive("textStyle")&&o.getAttributes("textStyle").color&&"bg-background"),title:"Text Color",children:[y.jsx(SJ,{className:"h-4 w-4"}),o.getAttributes("textStyle").color&&y.jsx("div",{className:"absolute bottom-0.5 right-0.5 w-2 h-2 rounded-full border border-white",style:{backgroundColor:o.getAttributes("textStyle").color}})]})}),y.jsx(DN,{className:"w-64 p-3",align:"start",children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"text-sm font-semibold",children:"Text Color"}),o.getAttributes("textStyle").color&&y.jsxs("div",{className:"text-xs text-muted-foreground",children:["Current: ",y.jsx("span",{className:"font-mono",children:o.getAttributes("textStyle").color})]})]}),y.jsx("div",{className:"grid grid-cols-6 gap-2",children:["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#FFC0CB","#A52A2A","#808080","#000080","#008000","#800000","#008080","#8cb43a"].map(a=>{const l=o.getAttributes("textStyle").color===a;return y.jsx("button",{type:"button",onClick:()=>{o.chain().focus().setColor(a).run()},className:ir("w-8 h-8 rounded border-2 transition-all hover:scale-110",l&&"border-primary ring-2 ring-primary ring-offset-1"),style:{backgroundColor:a},title:a},a)})}),y.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[y.jsx("input",{type:"color",value:o.getAttributes("textStyle").color||"#000000",onChange:a=>{o.chain().focus().setColor(a.target.value).run()},className:"w-full h-8 rounded border cursor-pointer",title:"Custom Color"}),y.jsx(xr,{type:"button",variant:"outline",size:"sm",onClick:()=>{o.chain().focus().unsetColor().run()},className:"text-xs whitespace-nowrap",children:"Reset"})]})]})})]}),y.jsx("div",{className:"w-px h-6 bg-border mx-1"}),y.jsx(xr,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const a=window.prompt("Enter URL:");a&&o.chain().focus().setLink({href:a}).run()},className:ir("h-8 w-8 p-0",o.isActive("link")&&"bg-background"),children:y.jsx(wJ,{className:"h-4 w-4"})})]}),y.jsxs("div",{className:"bg-white rounded-b-md relative",children:[y.jsx(ple,{editor:o}),y.jsx("style",{children:`
            .ProseMirror p.is-editor-empty:first-child::before {
              content: attr(data-placeholder);
              float: left;
              color: hsl(var(--muted-foreground) / 0.6);
              pointer-events: none;
              height: 0;
            }
            .ProseMirror a {
              color: #8cb43a;
              text-decoration: none;
            }
            .ProseMirror a:hover {
              text-decoration: underline;
            }
            .ProseMirror ul,
            .ProseMirror ol {
              padding-left: 1.5rem;
              margin: 0.5rem 0;
            }
            .ProseMirror ul {
              list-style-type: disc;
            }
            .ProseMirror ol {
              list-style-type: decimal;
            }
            .ProseMirror p {
              margin: 0.5rem 0;
            }
            .ProseMirror p:first-child {
              margin-top: 0;
            }
            .ProseMirror p:last-child {
              margin-bottom: 0;
            }
          `})]})]}):null});cK.displayName="RichTextEditor";const uK={Nitrogen:["Potassium","Copper","Boron"],Phosphorus:["Zinc","Iron","Copper","Potassium","Calcium"],Potassium:["Magnesium","Calcium","Boron","Nitrogen","Phosphorus"],Calcium:["Magnesium","Potassium","Iron","Manganese","Zinc","Boron","Phosphorus","Sulphur"],Magnesium:["Calcium","Potassium"],Zinc:["Iron","Copper","Phosphorus"],Copper:["Nitrogen","Phosphorus","Manganese","Iron","Sulphur"],Iron:["Manganese","Zinc","Copper","Phosphorus","Calcium"],Manganese:["Iron","Copper","Calcium"],Boron:["Nitrogen","Potassium","Calcium"],Sulphur:["Copper","Molybdenum","Calcium"],Molybdenum:["Sulphur"]};function vw(n){return{Nitrogen:"N",Phosphorus:"P",Potassium:"K",Calcium:"Ca",Magnesium:"Mg",Sulphur:"S",Copper:"Cu",Zinc:"Zn",Iron:"Fe",Manganese:"Mn",Boron:"B",Molybdenum:"Mo"}[n]||n}function wAe(n){const e=[],t=[];return n.forEach(r=>{if(r.status==="high"){const i=r.name.split(" - ")[1]||r.name,s=uK[i];if(s){e.push(i);const o=s.map(a=>`**${a} (${vw(a)})**`);t.push(`${i} (${vw(i)}) can shut down ${o.join(", ")}`)}}}),{excessiveNutrients:e,antagonismDetails:t}}function xAe(n){const e=[],t=[];return n.forEach(r=>{const i=uK[r];if(i){e.push(r);const s=i.map(o=>`**${o} (${vw(o)})**`);t.push(`${r} (${vw(r)}) can shut down ${s.join(", ")}`)}}),{excessiveNutrients:e,antagonismDetails:t}}const CAe=({nutrients:n,somCecText:e,setSomCecText:t,baseSaturationText:r,setBaseSaturationText:i,phText:s,setPhText:o,availableNutrientsText:a,setAvailableNutrientsText:l,soilReservesText:c,setSoilReservesText:u,lamotteReamsText:A,setLamotteReamsText:h,taeText:f,setTaeText:v,reportRefId:g,currentPaddockKey:x,closest_key:b,setClosestKey:S})=>{const{ntsGeneralCommentsHtml:E,setNtsGeneralCommentsHtml:k}=KM(),[P,N]=_.useState(!1),[I,U]=_.useState(null),[V,W]=_.useState(""),L=z=>{if(!z)return"";const G=pe=>pe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ve=pe=>{const te=/\s*([^(]+)\s*\(((https?:\/\/[^)]+))\)/g;return pe.replace(te,(H,q,re)=>{const he=q.trim();return`<a href="${re}" target="_blank" style="text-decoration: none; color: #8cb43a;"> ${G(he)}</a>`})},J=String(z).split(/\r?\n/);let $="",X=!1,ie=0;for(;ie<J.length;){const te=J[ie].trim(),H=/^\s+/.test(te);if(/Your nutrient antagonism is summarized as following:/i.test(te)){X&&($+="</ul>",X=!1),$+=`<p>${G(te)}</p>`;let re=ie+1,he=!1;for(;re<J.length&&/can shut down/i.test(J[re]);){X||($+="<ul>",X=!0),he=!0;const ge=J[re].replace(/^\s+/,"").trim().replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>");$+=`<li>${ge}</li>`,re++}X&&he&&($+="</ul>",X=!1),ie=re;continue}if(H){X||($+="<ul>",X=!0);let re=te.replace(/^\s+/,"");re=ve(re);const he=re.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>");$+=`<li>${he}</li>`,ie++;continue}else X&&($+="</ul>",X=!1);if(te.length===0)$+="";else{let re=G(te);re=ve(re);const he=re.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>");$+=`<p>${he}</p>`}ie++}return X&&($+="</ul>"),$};_.useEffect(()=>{W(e);try{window.__ntsGeneralCommentsHtml={currentPaddockKey:e,...window.__ntsGeneralCommentsHtml},k({...E,[x]:e})}catch{}},[e]);async function D(){var $;N(!0),U(null);debugger;console.log("handleGenerateAI",g);const z=n.filter(X=>X.range&&/[\d.]+\s*-\s*[\d.]+/.test(X.range)).map(X=>{let ie="optimal";const pe=X.range.match(/([\d.]+)\s*-\s*([\d.]+)/);if(pe){const te=parseFloat(pe[1]),H=parseFloat(pe[2]);X.current<te?ie="low":X.current>H&&(ie="high")}return{...X,status:ie}}),G=z.filter(X=>X.status==="low").map(X=>X.name),ve=z.filter(X=>X.status==="optimal").map(X=>X.name),J=z.filter(X=>X.status==="high").map(X=>X.name);try{let X=!1,ie=null;if(g){const pe={method:"GET"};debugger;let te=await fetch(`/api/proxy/get-ai-comments/${g}?key=${encodeURIComponent(x)}`,pe);console.log("get_ai_comments",te),te.status==200&&(ie=await te.json(),console.log("get_ai_comments",ie),ie.summary=ie.ai_comments.combined_nutrients_explanation,X=!0,"closest_key"in ie&&S(ie.closest_key))}if(X||(ie=await(await fetch("/generate-comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deficient:G,optimal:ve,excess:J})})).json()),ie.summary){if(X){const qe='We have found that it is remarkably productive to try to maintain "luxury levels" of 4 minerals on a leaf test (The Big four). "Luxury", refers to the top end of the acceptable range. The Big Four include **Calcium (Ca)**, **Magnesium (Mg)**, **Phosphorus (P)**, and **Boron (B)**.';let Cn=ie.form_data,zt=Cn.nutrient_deficient,vn=Cn.nutrient_excess;zt=zt.split(","),vn=vn.split(",");const ln=["Ca - Calcium","Mg - Magnesium","P - Phosphorus","B - Boron"].filter(ae=>zt.some(Ee=>Ee.includes(ae.split(" - ")[1]))),Fn=ln.length,se=ln.map(ae=>{const Ee=ae.split(" - ")[1],Pe=ae.split(" - ")[0];return`**${Ee} (${Pe})**`}),ut=Fn===0?"You do not have any deficiency in any of the nutrients of the big four.":`Here, you are deficient in ${Fn} of the nutrients of the big four. In this case, ${se.length===1?`${se[0]} should be foliar sprayed`:`${se.slice(0,-1).join(", ")} and ${se[se.length-1]} need to be foliar sprayed`} to bypass issues in the soil.`,At=xAe(vn);let Pt="";if(At.excessiveNutrients.length>0){const ae=At.excessiveNutrients.map(Pe=>`**${Pe} (${vw(Pe)})**`).join(", "),Ee=At.antagonismDetails.join(`
`);Pt=`Your excess of ${ae} can shut down several nutrients.
Your nutrient antagonism is summarized as following:
${Ee}`}const Le=String(ie.summary||"").trim();let We="",oe="";const st=(ie==null?void 0:ie.products_recommendation)||(($=ie==null?void 0:ie.ai_comments)==null?void 0:$.products_recommendation);if(st&&st.deficient&&typeof st.deficient=="object"){const ae={"0.05 kg Cobalt Sulfate":"Source locally","0.1 kg Cobalt Sulfate":" Source locally ","0.1 kg Sodium Molybdate":" Source locally ","0.2 kg Sodium Molybdate":" Source locally ","0.3 kg Fulvic Acid Powder":" https://nutri-tech.com.au/collections/humates/products/fulvic-acid-powder ","0.3 kg Fulvx":" https://nutri-tech.com.au/collections/humates/products/nts-fulvx-powder ","0.5 L Bio-Plex":" https://nutri-tech.com.au/collections/microbes/products/bio-plex ","0.5 L Micro Amino Drive (MAD)":" https://nutri-tech.com.au/collections/nslpgp/products/micro-amino-drive-mad ","0.5 kg Copper Sulfate":" Source locally ","0.5 kg Fulvic Acid Powder":" https://nutri-tech.com.au/collections/humates/products/fulvic-acid-powder ","0.5 kg Fulvx":" https://nutri-tech.com.au/collections/humates/products/nts-fulvx-powder ","0.5 kg Sodium Molybdate":" Source locally ","0.7 L Photo-Finish":" https://nutri-tech.com.au/collections/premium-liquids/products/photo-finish ","0.7 L Potassium Silicate":" https://nutri-tech.com.au/collections/premium-liquids/products/potassium-silicate ","1 L Bio-N":" https://nutri-tech.com.au/collections/microbes/products/bio-n ","1 L Bio-P":" https://nutri-tech.com.au/collections/microbes/products/bio-p ","1 L Bio-Plex":" https://nutri-tech.com.au/collections/microbes/products/bio-plex ","1 L Micro Amino Drive (MAD)":" https://nutri-tech.com.au/collections/nslpgp/products/micro-amino-drive-mad ","1 kg Fulvx":" https://nutri-tech.com.au/collections/humates/products/nts-fulvx-powder ","1 kg Iron Sulfate":" Source locally ","1 kg Manganese Sulfate":"https://nutri-tech.com.au/collections/micronised-minerals/products/manganese-sulfate-1kg","1 kg Sodium Borate":" Source locally ","1 kg Zinc Sulfate":" Source locally ","10 L DIY Humic Acid":" https://nutri-tech.com.au/products/soluble-humate-granules ","10 L Dia-Life":" https://nutri-tech.com.au/collections/mms/products/dia-life-organic ","10 L Lime-Life":" https://nutri-tech.com.au/collections/mms/products/lime-life-organic ","10 kg Calcium Nitrate":" Source locally ","12 kg Urea":"https://nutri-tech.com.au/collections/dry-mineral-fertilisers/products/urea-12kg","15 kg Micronised Guano":" https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-phos-super-active ","15 kg Urea":" Source locally ","2 L Lime-Life":" https://nutri-tech.com.au/collections/mms/products/lime-life-organic ","2 L Micro Amino Drive (MAD)":" https://nutri-tech.com.au/collections/nslpgp/products/micro-amino-drive-mad ","2 L Photo-Finish":" https://nutri-tech.com.au/collections/premium-liquids/products/photo-finish ","2 L Potassium Silicate":" https://nutri-tech.com.au/collections/premium-liquids/products/potassium-silicate ","2 L Triple Ten":" https://nutri-tech.com.au/collections/premium-liquids/products/triple-ten ","2 kg Calcium Nitrate":" Source locally ","2 kg Copper Sulfate":" Source locally ","2 kg Fulvx":" https://nutri-tech.com.au/collections/humates/products/nts-fulvx-powder ","2 kg Magnesium Sulfate":" Source locally ","2 kg Micronised Guano":" https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-phos-super-active ","2 kg Sodium Borate":" Source locally ","20 L Nutri-Sea Liquid Fish":" https://nutri-tech.com.au/collections/nslpgp/products/nutri-sea-liquid-fish ","20 kg Magnesium Sulfate":" Source locally ","20 kg Potassium Sulfate":" Source locally ","20 kg Tech Grade MAP":" Source locally ","20 kg Urea":" Source locally ","3 L Copper Essentials":" https://nutri-tech.com.au/collections/farm-essentials/products/copper-essentials ","3 L Copper Shuttle":" https://nutri-tech.com.au/collections/shuttle/products/copper-shuttle ","3 L Phos-Force":" https://nutri-tech.com.au/collections/premium-liquids/products/phos-force ","3 kg MKP":" Source locally ","3 kg Magnesium Sulfate":" Source locally ","3 kg Zinc Sulfate":" Source locally ","30 ml Triacontanol":" https://nutri-tech.com.au/collections/nslpgp/products/nutri-stim-triacontanol ","4 L Copper Essentials":" https://nutri-tech.com.au/collections/farm-essentials/products/copper-essentials ","4 L Copper Shuttle":" https://nutri-tech.com.au/collections/shuttle/products/copper-shuttle ","4 L Iron Essentials":" https://nutri-tech.com.au/collections/farm-essentials/products/iron-essentials ","4 L Manganese Essentials":" https://nutri-tech.com.au/collections/farm-essentials/products/manganese-essentials ","4 L Photo-Finish":" https://nutri-tech.com.au/collections/premium-liquids/products/photo-finish ","4 L Potassium Silicate":" https://nutri-tech.com.au/collections/premium-liquids/products/potassium-silicate ","4 L Zinc Essentials":" https://nutri-tech.com.au/collections/farm-essentials/products/zinc-essentials ","4 L Zinc Shuttle":" https://nutri-tech.com.au/collections/shuttle/products/zinc-shuttle ","5 L Amino Max":" https://nutri-tech.com.au/collections/nslpgp/products/amino-max ","5 L Calcium Fulvate":" https://nutri-tech.com.au/collections/premium-liquids/products/farm-saver-calcium-fulvate ","5 L Iron Essentials":" https://nutri-tech.com.au/collections/farm-essentials/products/iron-essentials ","5 L K-Rich":" https://nutri-tech.com.au/collections/premium-liquids/products/k-rich ","5 L Lime-Life":" https://nutri-tech.com.au/collections/mms/products/lime-life-organic ","5 L Manganese Essentials":" https://nutri-tech.com.au/collections/farm-essentials/products/manganese-essentials ","5 L Phos-Force":" https://nutri-tech.com.au/collections/premium-liquids/products/phos-force ","5 L Trio (CMB)":" https://nutri-tech.com.au/collections/premium-liquids/products/trio-cmb ","5 L Triple Ten":" https://nutri-tech.com.au/collections/premium-liquids/products/triple-ten ","5 L Zinc Essentials":" https://nutri-tech.com.au/collections/farm-essentials/products/zinc-essentials ","5 L Zinc Shuttle":" https://nutri-tech.com.au/collections/shuttle/products/zinc-shuttle ","5 kg Iron Sulfate":" Source locally ","5 kg Magnesium Sulfate":" Source locally ","5 kg Manganese Sulfate":" Source locally ","5 kg Micronised Guano":" https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-phos-super-active ","5 kg Potassium Sulfate":" Source locally ","50 ml Triacontanol":" https://nutri-tech.com.au/collections/nslpgp/products/nutri-stim-triacontanol ","7 kg Magnesium Sulfate":" Source locally ","8 L Nutri-Sea Liquid Fish":" https://nutri-tech.com.au/collections/nslpgp/products/nutri-sea-liquid-fish ","8 kg Potassium Sulfate":" Source locally "},Ee=[],Pe=[];Object.keys(st.deficient).forEach(Ft=>{const vt=st.deficient[Ft];if(!vt)return;const Lt=vt.nutrient||Ft,Ze=Array.isArray(vt.recommended_products)?vt.recommended_products:[];if(Ze.length>0){const Oe=Ze.map(Ke=>{const lt=ae[Ke];return lt&&lt.trim()!==""&&lt.trim()!=="Source locally"&&lt.trim().startsWith("http")?` ${Ke} (${lt})`:` ${Ke}`}).join(", ");Ee.push(` ${Lt}: ${Oe}`);const St=Ze.map(Ke=>{const lt=ae[Ke];return lt&&lt.trim()!==""&&lt.trim()!=="Source locally"&&lt.trim().startsWith("http")?`<a href="${lt}" target="_blank" style="text-decoration: none; color: #8cb43a;"> ${Ke}</a>`:` ${Ke}`}).join(", ");Pe.push(`<li><strong>${Lt}</strong>: ${St}</li>`)}}),Ee.length>0&&(We=`Recommended Products:
`+Ee.join(`
`),oe=`<p style="color: #8cb43a; font-weight: bold; margin-bottom: 8px;">Recommended Products:</p><ul style="margin-top: 0; margin-bottom: 0;">${Pe.join("")}</ul>`)}const sn=[];Le&&sn.push(Le),sn.push(qe),sn.push(ut),Pt&&sn.push(Pt);const O=sn.join(`

`),Ye=L(O);t(Ye),W(Ye);try{window.__ntsGeneralCommentsHtml={...window.__ntsGeneralCommentsHtml,[x]:Ye},k({...E,[x]:Ye})}catch{}}else{const qe=["Ca - Calcium","Mg - Magnesium","P - Phosphorus","B - Boron"],Cn=qe.filter(Le=>z.some(We=>We.name.includes(Le.split(" - ")[1])&&We.status==="low")),zt=qe.filter(Le=>z.some(We=>We.name.includes(Le.split(" - ")[1])&&We.status==="low")).length,vn=wAe(z);let mn="";vn.excessiveNutrients.length>0&&(mn=`Your excess of ${vn.excessiveNutrients.map(We=>`**${We} (${vw(We)})**`).join(", ")} can shut down several nutrients.
Your nutrient antagonism is summarized as following:
${vn.antagonismDetails.join(`
`)}`);const ln=Cn.map(Le=>{const We=Le.split(" - ")[1],oe=Le.split(" - ")[0];return`**${We} (${oe})**`}),Fn=ln.length===1?`${ln[0]} should be foliar sprayed`:`${ln.slice(0,-1).join(", ")} and ${ln[ln.length-1]} need to be foliar sprayed`,se=`

We have found that it is remarkably productive to try to maintain "luxury levels" of 4 minerals on a leaf test (The Big four). "Luxury", refers to the top end of the acceptable range. The Big Four include **Calcium (Ca)**, **Magnesium (Mg)**, **Phosphorus (P)**, and **Boron (B)**. Here, you are deficient in ${zt} of the nutrients of the big four. ${zt>0?`In this case, ${Fn} to bypass issues in the soil.`:""}${mn}`,At=ie.summary+se+`

Balanced nutrition is key to optimal plant healthaddressing these nutrient imbalances will help your crop reach its full potential.`,Pt=L(At);t(Pt),W(Pt);try{window.__ntsGeneralCommentsHtml={...window.__ntsGeneralCommentsHtml,[x]:Pt},k({...E,[x]:Pt})}catch{}}const pe=z.filter(qe=>qe.name.toLowerCase().includes("base saturation")||qe.name.toLowerCase().includes("calcium")||qe.name.toLowerCase().includes("magnesium")||qe.name.toLowerCase().includes("potassium")||qe.name.toLowerCase().includes("sodium")),te=pe.filter(qe=>qe.status==="low"),H=pe.filter(qe=>qe.status==="high");let q="Base saturation analysis reveals cation balance in the soil. ";te.length>0&&(q+=`Deficiencies detected in ${te.map(qe=>qe.name).join(", ")}. `),H.length>0&&(q+=`Excessive levels found in ${H.map(qe=>qe.name).join(", ")}. `),q+="These values indicate the current cation exchange capacity and nutrient availability for plant uptake.",i(q);const re=z.filter(qe=>qe.name.toLowerCase().includes("ph")||qe.name.toLowerCase().includes("hydrogen")),he=re.filter(qe=>qe.status==="low"),Ae=re.filter(qe=>qe.status==="high");let ge="Soil pH analysis indicates the acidity or alkalinity of the soil. ";he.length>0&&(ge+=`Low pH detected in ${he.map(qe=>qe.name).join(", ")}. `),Ae.length>0&&(ge+=`High pH detected in ${Ae.map(qe=>qe.name).join(", ")}. `),ge+="This affects nutrient availability and microbial activity in the soil.",o(ge);const we=z.filter(qe=>qe.name.toLowerCase().includes("nitrogen")||qe.name.toLowerCase().includes("phosphorus")||qe.name.toLowerCase().includes("potassium")||qe.name.toLowerCase().includes("sulfur")||qe.name.toLowerCase().includes("zinc")||qe.name.toLowerCase().includes("iron")||qe.name.toLowerCase().includes("manganese")||qe.name.toLowerCase().includes("copper")||qe.name.toLowerCase().includes("boron")),ke=we.filter(qe=>qe.status==="low"),ze=we.filter(qe=>qe.status==="high");let Ve="Available nutrient analysis shows the current plant-available nutrient levels. ";ke.length>0&&(Ve+=`Deficiencies detected in ${ke.map(qe=>qe.name).join(", ")}. `),ze.length>0&&(Ve+=`Excessive levels found in ${ze.map(qe=>qe.name).join(", ")}. `),Ve+="These concentrations reflect the current soil fertility status and plant-available nutrient pool.",l(Ve);const Ue=z.filter(qe=>qe.name.toLowerCase().includes("reserve")||qe.name.toLowerCase().includes("total")||qe.name.toLowerCase().includes("organic")),ft=Ue.filter(qe=>qe.status==="low"),Kt=Ue.filter(qe=>qe.status==="high");let Ge="Total soil reserves indicate the long-term nutrient supply capacity. ";ft.length>0&&(Ge+=`Low reserves detected in ${ft.map(qe=>qe.name).join(", ")}. `),Kt.length>0&&(Ge+=`High reserves found in ${Kt.map(qe=>qe.name).join(", ")}. `),Ge+="The clay fraction shows good mineral diversity, while organic reserves contribute to long-term nutrient cycling.",u(Ge);const Se=z.filter(qe=>qe.name.toLowerCase().includes("lamotte")||qe.name.toLowerCase().includes("calcium")||qe.name.toLowerCase().includes("magnesium")||qe.name.toLowerCase().includes("phosphorus")||qe.name.toLowerCase().includes("potassium")),Nt=Se.filter(qe=>qe.status==="low"),xt=Se.filter(qe=>qe.status==="high");let at="LaMotte/Reams analysis provides detailed insights into soil nutrient availability. ";Nt.length>0&&(at+=`Deficiencies detected in ${Nt.map(qe=>qe.name).join(", ")}. `),xt.length>0&&(at+=`Excessive levels found in ${xt.map(qe=>qe.name).join(", ")}. `),at+="These values indicate the current availability of essential nutrients in the soil solution and their potential for plant uptake.",h(at);const Ct=z.filter(qe=>!qe.name.toLowerCase().includes("lamotte")&&(qe.name.toLowerCase().includes("trace")||qe.name.toLowerCase().includes("micronutrient")||qe.name.toLowerCase().includes("zinc")||qe.name.toLowerCase().includes("iron")||qe.name.toLowerCase().includes("manganese")||qe.name.toLowerCase().includes("copper")||qe.name.toLowerCase().includes("boron"))),Et=Ct.filter(qe=>qe.status==="low"),mt=Ct.filter(qe=>qe.status==="high");let Ut="Total Available Elements (TAE) analysis reveals the complete mineral profile including trace elements. ";Et.length>0&&(Ut+=`Trace element deficiencies detected in ${Et.map(qe=>qe.name).join(", ")}. `),mt.length>0&&(Ut+=`Excessive trace elements found in ${mt.map(qe=>qe.name).join(", ")}. `),Ut+="This analysis provides a comprehensive view of all plant-available nutrients and their interactions.",v(Ut)}else U(ie.error||"Failed to generate summary.")}catch{U("Error contacting AI service.")}finally{N(!1)}}return y.jsx(Rs,{title:"General Comments",children:y.jsx("div",{className:"space-y-4",children:y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black flex items-center gap-4",children:"Enter the general comments here"})}),y.jsxs(Ar,{children:[y.jsx(cK,{value:e,onChange:z=>{t(z),W(z);try{window.__ntsGeneralCommentsHtml={...window.__ntsGeneralCommentsHtml,[x]:z},k({...E,[x]:z})}catch{}},className:"min-h-[100px]",placeholder:"Enter general comments here..."}),y.jsxs("div",{className:"mt-4 flex gap-2 items-center",children:[y.jsx(xr,{onClick:D,disabled:P,type:"button",children:P?"Generating...":"Generate with AI"}),I&&y.jsx("span",{className:"text-red-600 text-sm",children:I})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("div",{className:"text-black font-semibold mb-2",children:"Preview"}),y.jsx("div",{className:"prose prose-sm max-w-none text-black",style:{wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:V}}),y.jsx("style",{children:`
                .prose a {
                  color: #8cb43a !important;
                  text-decoration: none !important;
                  cursor: pointer;
                }
                .prose a:hover {
                  text-decoration: underline !important;
                }
                .prose ul {
                  list-style-type: none;
                  padding-left: 0;
                }
                .prose li {
                  margin: 0.5rem 0;
                }
              `})]})]})]})})})};function C8(n,[e,t]){return Math.min(t,Math.max(e,n))}var SAe=_.createContext(void 0);function BAe(n){const e=_.useContext(SAe);return n||e||"ltr"}function AK(n){const e=_.useRef({value:n,previous:n});return _.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var EAe=[" ","Enter","ArrowUp","ArrowDown"],FAe=[" ","Enter"],ey="Select",[_N,ON,TAe]=xj(ey),[Pw,c2e]=Qf(ey,[TAe,Tw]),UN=Tw(),[NAe,Fg]=Pw(ey),[kAe,PAe]=Pw(ey),dK=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:A,disabled:h,required:f,form:v}=n,g=UN(e),[x,b]=_.useState(null),[S,E]=_.useState(null),[k,P]=_.useState(!1),N=BAe(c),[I,U]=lw({prop:r,defaultProp:i??!1,onChange:s,caller:ey}),[V,W]=lw({prop:o,defaultProp:a,onChange:l,caller:ey}),L=_.useRef(null),D=x?v||!!x.closest("form"):!0,[z,G]=_.useState(new Set),ve=Array.from(z).map(J=>J.props.value).join(";");return y.jsx(LQ,{...g,children:y.jsxs(NAe,{required:f,scope:e,trigger:x,onTriggerChange:b,valueNode:S,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:P,contentId:Ov(),value:V,onValueChange:W,open:I,onOpenChange:U,dir:N,triggerPointerDownPosRef:L,disabled:h,children:[y.jsx(_N.Provider,{scope:e,children:y.jsx(kAe,{scope:n.__scopeSelect,onNativeOptionAdd:_.useCallback(J=>{G($=>new Set($).add(J))},[]),onNativeOptionRemove:_.useCallback(J=>{G($=>{const X=new Set($);return X.delete(J),X})},[]),children:t})}),D?y.jsxs(DK,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:A,value:V,onChange:J=>W(J.target.value),disabled:h,form:v,children:[V===void 0?y.jsx("option",{value:""}):null,Array.from(z)]},ve):null]})})};dK.displayName=ey;var hK="SelectTrigger",fK=_.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=UN(t),o=Fg(hK,t),a=o.disabled||r,l=zi(e,o.onTriggerChange),c=ON(t),u=_.useRef("touch"),[A,h,f]=OK(g=>{const x=c().filter(E=>!E.disabled),b=x.find(E=>E.value===o.value),S=UK(x,g,b);S!==void 0&&o.onValueChange(S.value)}),v=g=>{a||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return y.jsx(AN,{asChild:!0,...s,children:y.jsx(Ur.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_K(o.value)?"":void 0,...i,ref:l,onClick:mr(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:mr(i.onPointerDown,g=>{u.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:mr(i.onKeyDown,g=>{const x=A.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&EAe.includes(g.key)&&(v(),g.preventDefault())})})})});fK.displayName=hK;var pK="SelectValue",mK=_.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=Fg(pK,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,A=zi(e,l.onValueNodeChange);return Pa(()=>{c(u)},[c,u]),y.jsx(Ur.span,{...a,ref:A,style:{pointerEvents:"none"},children:_K(l.value)?y.jsx(y.Fragment,{children:o}):s})});mK.displayName=pK;var LAe="SelectIcon",gK=_.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return y.jsx(Ur.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});gK.displayName=LAe;var IAe="SelectPortal",vK=n=>y.jsx(OS,{asChild:!0,...n});vK.displayName=IAe;var ty="SelectContent",yK=_.forwardRef((n,e)=>{const t=Fg(ty,n.__scopeSelect),[r,i]=_.useState();if(Pa(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?xw.createPortal(y.jsx(bK,{scope:n.__scopeSelect,children:y.jsx(_N.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),s):null}return y.jsx(wK,{...n,ref:e})});yK.displayName=ty;var SA=10,[bK,Tg]=Pw(ty),MAe="SelectContentImpl",RAe=Wv("SelectContent.RemoveScroll"),wK=_.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:A,collisionBoundary:h,collisionPadding:f,sticky:v,hideWhenDetached:g,avoidCollisions:x,...b}=n,S=Fg(ty,t),[E,k]=_.useState(null),[P,N]=_.useState(null),I=zi(e,ge=>k(ge)),[U,V]=_.useState(null),[W,L]=_.useState(null),D=ON(t),[z,G]=_.useState(!1),ve=_.useRef(!1);_.useEffect(()=>{if(E)return MR(E)},[E]),IR();const J=_.useCallback(ge=>{const[we,...ke]=D().map(Ue=>Ue.ref.current),[ze]=ke.slice(-1),Ve=document.activeElement;for(const Ue of ge)if(Ue===Ve||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===we&&P&&(P.scrollTop=0),Ue===ze&&P&&(P.scrollTop=P.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Ve))return},[D,P]),$=_.useCallback(()=>J([U,E]),[J,U,E]);_.useEffect(()=>{z&&$()},[z,$]);const{onOpenChange:X,triggerPointerDownPosRef:ie}=S;_.useEffect(()=>{if(E){let ge={x:0,y:0};const we=ze=>{var Ve,Ue;ge={x:Math.abs(Math.round(ze.pageX)-(((Ve=ie.current)==null?void 0:Ve.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((Ue=ie.current)==null?void 0:Ue.y)??0))}},ke=ze=>{ge.x<=10&&ge.y<=10?ze.preventDefault():E.contains(ze.target)||X(!1),document.removeEventListener("pointermove",we),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",ke,{capture:!0})}}},[E,X,ie]),_.useEffect(()=>{const ge=()=>X(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[X]);const[pe,te]=OK(ge=>{const we=D().filter(Ve=>!Ve.disabled),ke=we.find(Ve=>Ve.ref.current===document.activeElement),ze=UK(we,ge,ke);ze&&setTimeout(()=>ze.ref.current.focus())}),H=_.useCallback((ge,we,ke)=>{const ze=!ve.current&&!ke;(S.value!==void 0&&S.value===we||ze)&&(V(ge),ze&&(ve.current=!0))},[S.value]),q=_.useCallback(()=>E==null?void 0:E.focus(),[E]),re=_.useCallback((ge,we,ke)=>{const ze=!ve.current&&!ke;(S.value!==void 0&&S.value===we||ze)&&L(ge)},[S.value]),he=r==="popper"?iI:xK,Ae=he===iI?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:A,collisionBoundary:h,collisionPadding:f,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return y.jsx(bK,{scope:t,content:E,viewport:P,onViewportChange:N,itemRefCallback:H,selectedItem:U,onItemLeave:q,itemTextRefCallback:re,focusSelectedItem:$,selectedItemText:W,position:r,isPositioned:z,searchRef:pe,children:y.jsx(MN,{as:RAe,allowPinchZoom:!0,children:y.jsx(LN,{asChild:!0,trapped:S.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:mr(i,ge=>{var we;(we=S.trigger)==null||we.focus({preventScroll:!0}),ge.preventDefault()}),children:y.jsx(Cw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:y.jsx(he,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ge=>ge.preventDefault(),...b,...Ae,onPlaced:()=>G(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:mr(b.onKeyDown,ge=>{const we=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!we&&ge.key.length===1&&te(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let ze=D().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Ve=ge.target,Ue=ze.indexOf(Ve);ze=ze.slice(Ue+1)}setTimeout(()=>J(ze)),ge.preventDefault()}})})})})})})});wK.displayName=MAe;var DAe="SelectItemAlignedPosition",xK=_.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Fg(ty,t),o=Tg(ty,t),[a,l]=_.useState(null),[c,u]=_.useState(null),A=zi(e,I=>u(I)),h=ON(t),f=_.useRef(!1),v=_.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:b,focusSelectedItem:S}=o,E=_.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&x&&b){const I=s.trigger.getBoundingClientRect(),U=c.getBoundingClientRect(),V=s.valueNode.getBoundingClientRect(),W=b.getBoundingClientRect();if(s.dir!=="rtl"){const Ve=W.left-U.left,Ue=V.left-Ve,ft=I.left-Ue,Kt=I.width+ft,Ge=Math.max(Kt,U.width),Se=window.innerWidth-SA,Nt=C8(Ue,[SA,Math.max(SA,Se-Ge)]);a.style.minWidth=Kt+"px",a.style.left=Nt+"px"}else{const Ve=U.right-W.right,Ue=window.innerWidth-V.right-Ve,ft=window.innerWidth-I.right-Ue,Kt=I.width+ft,Ge=Math.max(Kt,U.width),Se=window.innerWidth-SA,Nt=C8(Ue,[SA,Math.max(SA,Se-Ge)]);a.style.minWidth=Kt+"px",a.style.right=Nt+"px"}const L=h(),D=window.innerHeight-SA*2,z=g.scrollHeight,G=window.getComputedStyle(c),ve=parseInt(G.borderTopWidth,10),J=parseInt(G.paddingTop,10),$=parseInt(G.borderBottomWidth,10),X=parseInt(G.paddingBottom,10),ie=ve+J+z+X+$,pe=Math.min(x.offsetHeight*5,ie),te=window.getComputedStyle(g),H=parseInt(te.paddingTop,10),q=parseInt(te.paddingBottom,10),re=I.top+I.height/2-SA,he=D-re,Ae=x.offsetHeight/2,ge=x.offsetTop+Ae,we=ve+J+ge,ke=ie-we;if(we<=re){const Ve=L.length>0&&x===L[L.length-1].ref.current;a.style.bottom="0px";const Ue=c.clientHeight-g.offsetTop-g.offsetHeight,ft=Math.max(he,Ae+(Ve?q:0)+Ue+$),Kt=we+ft;a.style.height=Kt+"px"}else{const Ve=L.length>0&&x===L[0].ref.current;a.style.top="0px";const ft=Math.max(re,ve+g.offsetTop+(Ve?H:0)+Ae)+ke;a.style.height=ft+"px",g.scrollTop=we-re+g.offsetTop}a.style.margin=`${SA}px 0`,a.style.minHeight=pe+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,a,c,g,x,b,s.dir,r]);Pa(()=>E(),[E]);const[k,P]=_.useState();Pa(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const N=_.useCallback(I=>{I&&v.current===!0&&(E(),S==null||S(),v.current=!1)},[E,S]);return y.jsx(OAe,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:N,children:y.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:y.jsx(Ur.div,{...i,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});xK.displayName=DAe;var _Ae="SelectPopperPosition",iI=_.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=SA,...s}=n,o=UN(t);return y.jsx(_M,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iI.displayName=_Ae;var[OAe,OR]=Pw(ty,{}),sI="SelectViewport",CK=_.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Tg(sI,t),o=OR(sI,t),a=zi(e,s.onViewportChange),l=_.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(_N.Slot,{scope:t,children:y.jsx(Ur.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:mr(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&A){const f=Math.abs(l.current-u.scrollTop);if(f>0){const v=window.innerHeight-SA*2,g=parseFloat(A.style.minHeight),x=parseFloat(A.style.height),b=Math.max(g,x);if(b<v){const S=b+f,E=Math.min(v,S),k=S-E;A.style.height=E+"px",A.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,A.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});CK.displayName=sI;var SK="SelectGroup",[UAe,HAe]=Pw(SK),jAe=_.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Ov();return y.jsx(UAe,{scope:t,id:i,children:y.jsx(Ur.div,{role:"group","aria-labelledby":i,...r,ref:e})})});jAe.displayName=SK;var BK="SelectLabel",EK=_.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=HAe(BK,t);return y.jsx(Ur.div,{id:i.id,...r,ref:e})});EK.displayName=BK;var ZF="SelectItem",[QAe,FK]=Pw(ZF),TK=_.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=Fg(ZF,t),l=Tg(ZF,t),c=a.value===r,[u,A]=_.useState(s??""),[h,f]=_.useState(!1),v=zi(e,S=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,S,r,i)}),g=Ov(),x=_.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(QAe,{scope:t,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:_.useCallback(S=>{A(E=>E||((S==null?void 0:S.textContent)??"").trim())},[]),children:y.jsx(_N.ItemSlot,{scope:t,value:r,disabled:i,textValue:u,children:y.jsx(Ur.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:mr(o.onFocus,()=>f(!0)),onBlur:mr(o.onBlur,()=>f(!1)),onClick:mr(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:mr(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:mr(o.onPointerDown,S=>{x.current=S.pointerType}),onPointerMove:mr(o.onPointerMove,S=>{var E;x.current=S.pointerType,i?(E=l.onItemLeave)==null||E.call(l):x.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mr(o.onPointerLeave,S=>{var E;S.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:mr(o.onKeyDown,S=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&S.key===" "||(FAe.includes(S.key)&&b(),S.key===" "&&S.preventDefault())})})})})});TK.displayName=ZF;var Ex="SelectItemText",NK=_.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=Fg(Ex,t),a=Tg(Ex,t),l=FK(Ex,t),c=PAe(Ex,t),[u,A]=_.useState(null),h=zi(e,b=>A(b),l.onItemTextChange,b=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,b,l.value,l.disabled)}),f=u==null?void 0:u.textContent,v=_.useMemo(()=>y.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return Pa(()=>(g(v),()=>x(v)),[g,x,v]),y.jsxs(y.Fragment,{children:[y.jsx(Ur.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xw.createPortal(s.children,o.valueNode):null]})});NK.displayName=Ex;var kK="SelectItemIndicator",PK=_.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return FK(kK,t).isSelected?y.jsx(Ur.span,{"aria-hidden":!0,...r,ref:e}):null});PK.displayName=kK;var oI="SelectScrollUpButton",LK=_.forwardRef((n,e)=>{const t=Tg(oI,n.__scopeSelect),r=OR(oI,n.__scopeSelect),[i,s]=_.useState(!1),o=zi(e,r.onScrollButtonChange);return Pa(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?y.jsx(MK,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});LK.displayName=oI;var aI="SelectScrollDownButton",IK=_.forwardRef((n,e)=>{const t=Tg(aI,n.__scopeSelect),r=OR(aI,n.__scopeSelect),[i,s]=_.useState(!1),o=zi(e,r.onScrollButtonChange);return Pa(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?y.jsx(MK,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});IK.displayName=aI;var MK=_.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Tg("SelectScrollButton",t),o=_.useRef(null),a=ON(t),l=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),Pa(()=>{var u;const c=a().find(A=>A.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),y.jsx(Ur.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:mr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:mr(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:mr(i.onPointerLeave,()=>{l()})})}),zAe="SelectSeparator",RK=_.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return y.jsx(Ur.div,{"aria-hidden":!0,...r,ref:e})});RK.displayName=zAe;var lI="SelectArrow",KAe=_.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=UN(t),s=Fg(lI,t),o=Tg(lI,t);return s.open&&o.position==="popper"?y.jsx(OM,{...i,...r,ref:e}):null});KAe.displayName=lI;var VAe="SelectBubbleInput",DK=_.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=_.useRef(null),s=zi(r,i),o=AK(e);return _.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const A=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(A)}},[o,e]),y.jsx(Ur.select,{...t,style:{...Fj,...t.style},ref:s,defaultValue:e})});DK.displayName=VAe;function _K(n){return n===""||n===void 0}function OK(n){const e=WA(n),t=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=_.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function UK(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=GAe(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function GAe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var WAe=dK,HK=fK,qAe=mK,XAe=gK,YAe=vK,jK=yK,ZAe=CK,QK=EK,zK=TK,JAe=NK,$Ae=PK,KK=LK,VK=IK,GK=RK;const th=WAe,nh=qAe,YA=_.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(HK,{ref:r,className:ir("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",n),...t,children:[e,y.jsx(XAe,{asChild:!0,children:y.jsx(Zj,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));YA.displayName=HK.displayName;const WK=_.forwardRef(({className:n,...e},t)=>y.jsx(KK,{ref:t,className:ir("flex cursor-default items-center justify-center py-1 text-muted-foreground",n),...e,children:y.jsx(mJ,{className:"h-4 w-4"})}));WK.displayName=KK.displayName;const qK=_.forwardRef(({className:n,...e},t)=>y.jsx(VK,{ref:t,className:ir("flex cursor-default items-center justify-center py-1 text-muted-foreground",n),...e,children:y.jsx(Zj,{className:"h-4 w-4"})}));qK.displayName=VK.displayName;const ZA=_.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>y.jsx(YAe,{children:y.jsxs(jK,{ref:i,className:ir("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[y.jsx(WK,{}),y.jsx(ZAe,{className:ir("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(qK,{})]})}));ZA.displayName=jK.displayName;const ede=_.forwardRef(({className:n,...e},t)=>y.jsx(QK,{ref:t,className:ir("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",n),...e}));ede.displayName=QK.displayName;const JA=_.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(zK,{ref:r,className:ir("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",n),...t,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx($Ae,{children:y.jsx(Yj,{className:"h-4 w-4 text-primary"})})}),y.jsx(JAe,{children:e})]}));JA.displayName=zK.displayName;const tde=_.forwardRef(({className:n,...e},t)=>y.jsx(GK,{ref:t,className:ir("-mx-1 my-1 h-px bg-muted",n),...e}));tde.displayName=GK.displayName;var nde="Label",XK=_.forwardRef((n,e)=>y.jsx(Ur.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));XK.displayName=nde;var YK=XK;const rde=aN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),Nl=_.forwardRef(({className:n,variant:e,size:t,...r},i)=>y.jsx(YK,{ref:i,className:ir(rde({variant:e,size:t}),n),...r}));Nl.displayName=YK.displayName;const ide=[{value:"root-shoot",label:"Root & Shoot",defaultRate:"3-4",defaultUnit:"L/tonne of seed",contains:["N","P","K","Trace Elements"],nutrientPercents:["N 10%","P 5%","K 8%","Trace Elements 2%"]},{value:"nutri-bam",label:"Nutri-Life BAM",defaultRate:"5",defaultUnit:"L/tonne of seed",contains:["Beneficial Microbes"],nutrientPercents:["Beneficial Microbes"]},{value:"nutri-platform",label:"Nutri-Life Platform",defaultRate:"1.3",defaultUnit:"kg/tonne of seed",contains:["Beneficial Microbes"],nutrientPercents:["Beneficial Microbes"]},{value:"mycorrhizal",label:"Mycorrhizal Inoculant",defaultRate:"10",defaultUnit:"g/ha",contains:["Mycorrhizae"],nutrientPercents:["Mycorrhizae"]},{value:"rhizobium",label:"Rhizobium Bacteria",defaultRate:"5",defaultUnit:"g/ha",contains:["Rhizobium"],nutrientPercents:["Rhizobium"]},{value:"biochar",label:"Biochar Coating",defaultRate:"2",defaultUnit:"kg/ha",contains:["Biochar"],nutrientPercents:["Biochar"]},{value:"trichoderma",label:"Trichoderma Fungi",defaultRate:"8",defaultUnit:"g/ha",contains:["Trichoderma"],nutrientPercents:["Trichoderma"]},{value:"bacillus-subtilis",label:"Bacillus subtilis",defaultRate:"5",defaultUnit:"g/ha",contains:["Bacillus subtilis"],nutrientPercents:["Bacillus subtilis"]},{value:"pseudomonas-fluorescens",label:"Pseudomonas fluorescens",defaultRate:"5",defaultUnit:"g/ha",contains:["Pseudomonas fluorescens"],nutrientPercents:["Pseudomonas fluorescens"]},{value:"azospirillum",label:"Azospirillum",defaultRate:"5",defaultUnit:"g/ha",contains:["Azospirillum"],nutrientPercents:["Azospirillum"]},{value:"azotobacter",label:"Azotobacter",defaultRate:"5",defaultUnit:"g/ha",contains:["Azotobacter"],nutrientPercents:["Azotobacter"]},{value:"phosphobacteria",label:"Phosphobacteria",defaultRate:"5",defaultUnit:"g/ha",contains:["Phosphobacteria"],nutrientPercents:["Phosphobacteria"]},{value:"actinomycetes",label:"Actinomycetes",defaultRate:"5",defaultUnit:"g/ha",contains:["Actinomycetes"],nutrientPercents:["Actinomycetes"]},{value:"streptomyces",label:"Streptomyces",defaultRate:"5",defaultUnit:"g/ha",contains:["Streptomyces"],nutrientPercents:["Streptomyces"]},{value:"frankia",label:"Frankia",defaultRate:"5",defaultUnit:"g/ha",contains:["Frankia"],nutrientPercents:["Frankia"]},{value:"penicillium",label:"Penicillium",defaultRate:"5",defaultUnit:"g/ha",contains:["Penicillium"],nutrientPercents:["Penicillium"]},{value:"aspergillus",label:"Aspergillus",defaultRate:"5",defaultUnit:"g/ha",contains:["Aspergillus"],nutrientPercents:["Aspergillus"]},{value:"phosphate-solubilizing-bacteria",label:"Phosphate Solubilizing Bacteria",defaultRate:"5",defaultUnit:"g/ha",contains:["Phosphate Solubilizing Bacteria"],nutrientPercents:["Phosphate Solubilizing Bacteria"]},{value:"potassium-solubilizing-bacteria",label:"Potassium Solubilizing Bacteria",defaultRate:"5",defaultUnit:"g/ha",contains:["Potassium Solubilizing Bacteria"],nutrientPercents:["Potassium Solubilizing Bacteria"]},{value:"silicate-solubilizing-bacteria",label:"Silicate Solubilizing Bacteria",defaultRate:"5",defaultUnit:"g/ha",contains:["Silicate Solubilizing Bacteria"],nutrientPercents:["Silicate Solubilizing Bacteria"]}],sc=[{label:"K-Rich",nutrientContent:{Potassium:33.29},description:"A pH-buffered liquid potassium citrate designed for foliar application during fruit/seed fill. Its citrate form enhances potassium uptake and rapidly corrects deficiencies."},{label:"Cal-Tech",nutrientContent:{Nitrogen:11.71,Boron:.43,Calcium:13.36},description:"An amino-chelated liquid calcium product with added boron, nitrogen, trace elements, and vitamin B12. Enhances cell wall strength, fruit quality, and disease resistance."},{label:"Calcium Fulvate",nutrientContent:{Nitrogen:6.78,Sulphur:.54,Boron:.0207,Calcium:8.93,Copper:.0785,Zinc:.0807,Iron:.17,Potassium:1.32,Manganese:.21,Molybdenum:.0102},description:"Chelated calcium with fulvic acid, enriched with a broad spectrum of trace minerals to improve nutrient uptake."},{label:"Citrus-Tech Triple Ten",nutrientContent:{Nitrogen:10.48,Sulphur:.22,Boron:.0347,Calcium:.0558,Copper:.0197,Phosphorus:10.23,Zinc:.0743,Iron:.1459,Potassium:10.69,Manganese:.0607,Molybdenum:.0039,Selenium:.0198},description:"A full-spectrum NPK foliar formula (10-10-10) enriched with chelated trace elements, seaweed extract, fulvic acid, and vitamins."},{label:"Cloak Spray Oil",nutrientContent:{},description:"A premium spreader/sticker blend of cold-pressed canola oil and omega-3 fish oil, which enhances foliar nutrient absorption and spray efficiency."},{label:"Nutri-Carb-N",nutrientContent:{Ammonium:15.18,Potassium:1.1},description:"A humic-acid-stabilised nitrogen solution that improves nitrogen use efficiency, reduces leaching and volatilisation, and promotes sustained crop growth and productivity."},{label:"Phos-Force",nutrientContent:{Nitrogen:4.2,Calcium:4.3,Phosphorus:14.3,Iron:3.5},description:"An advanced phosphate fertiliser delivering phosphate, calcium, and iron in a plant-available liquid."},{label:"Photo-Finish",nutrientContent:{Potassium:10.6,Silicon:10.38},description:"A silica-rich foliar containing potassium, humates, and kelp to improve cell wall strength, pest resilience, photosynthesis, and overall plant health during the finishing phase."},{label:"Potassium Silicate",nutrientContent:{Potassium:15.3,Silicon:17.3},description:"A soluble source of potassium and silicon designed to enhance plant structure, disease resistance, and tolerance to environmental stress."},{label:"Seed-Start",nutrientContent:{},description:"A specialised liquid for seedling establishment, containing growth promoters, minerals, enzymes, and natural biostimulants to support early root development and plant vigor."},{label:"Trio (CMB)",nutrientContent:{Nitrogen:13.73,Boron:.26,Magnesium:2.38,Calcium:15.3,Zinc:.006,Iron:.1},description:"A balanced liquid formula containing calcium, magnesium, and boron, plus trace minerals and kelp. Supports plant strength, flowering, fruit set, and disease resilience."},{label:"Triple Ten",nutrientContent:{Nitrogen:10.48,Sulphur:.22,Boron:.0347,Calcium:.0558,Copper:.0197,Phosphorus:10.23,Zinc:.0743,Iron:.1459,Potassium:10.69,Manganese:.0607,Molybdenum:.0039,Selenium:.0198},description:"A stateoftheart 101010 liquid fertiliser combining hotmix NPK with chelated trace elements, fulvic acid, seaweed, vitamins, amino acids, saponins and triacontanol."},{label:"Tsunami Super Spreader",nutrientContent:{},description:"A patented siliconbased nonionic wetter/spreader that dramatically improves spray coverage and uptake, especially on hardtowet leaf surfaces."},{label:"Activated Char Condensate (ACC)",nutrientContent:{},description:"A breakthrough woodvinegar (smoke condensate from biochar) using LipoZoom liposomal technology."},{label:"Aloe-Tech",nutrientContent:{},description:"A natural aloebased plant and microbial promotant, designed to enhance soil biology, stress resilience and plant vigour."},{label:"Amino-Max",nutrientContent:{Ammonium:5.78,Nitrate:5.78,"Amino Acids":40},description:"A highamino acid concentrate. Ideal for supporting plant metabolism, stress recovery and microbial stimulation."},{label:"Brix-Fix",nutrientContent:{},description:"A liquid concentrate of seven plant growth promotants designed to increase Brix (sugar) levels in crops."},{label:"Nutri-Kelp",nutrientContent:{},description:"A premium seaweedderived plant growth promoter, rich in natural biostimulants."},{label:"Nutri-Sea Liquid Fish",nutrientContent:{},description:"A liquid fishbased fertiliser and microbial stimulant, included in the Natural SoilLife & Plant Growth Promoters."},{label:"Nutri-Stim Saponins",nutrientContent:{},description:"A saponinrich biostimulant formulation designed to stimulate soil microbes and enhance plant root activity."},{label:"Nutri-Stim Triacontanol",nutrientContent:{},description:"A natural plant growth promoter based on triacontanol, included in the soillife promoter range to enhance growth and yield."},{label:"Nutri-Tech Black Gold",nutrientContent:{},description:"A liquid soillife and plant growth promoter designed to build Brix, improve stress and frost resistance."},{label:"Root & Shoot",nutrientContent:{},description:"A biological seed treatment containing beneficial microbes and biostimulants to enhance root development, early vigor, and plant resilience."},{label:"SeaChange KFF",nutrientContent:{},description:"A kelp-based liquid fertiliser (SeaChange range) enriched with kelp biostimulants to boost plant health, stress resilience, and crop performance."},{label:"SeaChange Liquid Kelp",nutrientContent:{},description:"Premium liquid seaweed extract providing natural growth regulators and micronutrients to enhance soil biology, drought resistance, and overall plant vigor."},{label:"Tri-Kelp",nutrientContent:{},description:"A soluble kelp powder seed treatment featuring three types of kelp to improve germination, root and shoot growth, and stimulate beneficial soil microbes."},{label:"Nutri-Key Boron Shuttle",nutrientContent:{Nitrogen:.29,Sulphur:.53,Boron:3.61,Magnesium:.0938,Copper:.049,Zinc:.19,Iron:.31,Potassium:.51,Manganese:.15,Molybdenum:.0098,Carbon:3.38},description:"A foliar chelated boron formulation containing 3.6% B, supported by a full background of synergistic nutrition."},{label:"Nutri-Key Calcium Shuttle",nutrientContent:{Nitrogen:7.25,Sulphur:.26,Boron:.0433,Magnesium:.0363,Calcium:9.81,Copper:.0245,Zinc:.093,Iron:.15,Potassium:.23,Manganese:.0757,Molybdenum:.0049,Silicon:.0217,Carbon:5.27},description:"A chelated calcium foliar using Shuttle technology."},{label:"Nutri-Key Cobalt Shuttle",nutrientContent:{Cobalt:3.1,Zinc:2.8},description:"A foliar chelated cobalt formulation with 3.1% Co and 2.8% Zn, designed to address cobalt deficiencies important for nitrogen-fixing legumes and seed formation."},{label:"Nutri-Key Copper Shuttle",nutrientContent:{Nitrogen:.52,Sulphur:4.29,Boron:.0866,Magnesium:.0675,Copper:7.64,Zinc:.19,Iron:.31,Potassium:.27,Manganese:.15,Molybdenum:.0098,Carbon:4.62},description:"A foliar copper formulation with 7.6% Cu and support nutrients. Chelated to reduce antagonism, improve uptake, and strengthen cell walls and seed health."},{label:"Nutri-Key Hydro-Shuttle",nutrientContent:{Nitrogen:2.14,Carbon:21.15},description:"A carbohydrate-rich chelator (Hydro-Shuttle) delivering ~21% C with moderate Nused to support foliar nutrient uptake and microbial life on leaf surfaces."},{label:"Nutri-Key Iron Shuttle",nutrientContent:{Nitrogen:.52,Sulphur:4.41,Boron:.0866,Magnesium:.0678,Copper:.049,Zinc:.19,Iron:7.21,Potassium:.34,Manganese:.15,Molybdenum:.0098,Carbon:4.38},description:"A chelated iron foliar (~7.2% Fe) supported by background nutrients to boost chlorophyll production and rapidly correct iron deficiency."},{label:"Nutri-Key Magnesium Shuttle",nutrientContent:{Nitrogen:.45,Sulphur:6.24,Boron:.0866,Magnesium:4.44,Copper:.049,Zinc:.19,Iron:.31,Potassium:.31,Manganese:.15,Molybdenum:.0098,Carbon:3.9},description:"A foliar Mg application (~4.4% Mg) with supporting macro and micro nutrients."},{label:"Nutri-Key Manganese Shuttle",nutrientContent:{Nitrogen:.53,Sulphur:8.15,Boron:.0866,Magnesium:.0675,Copper:.049,Zinc:.19,Iron:.31,Potassium:.27,Manganese:13.19,Molybdenum:.0098,Carbon:4.7},description:"A high-analysis foliar Mn formulation (~13.2% Mn) featuring advanced chelation for improved uptake."},{label:"Nutri-Key Moly Shuttle",nutrientContent:{Nitrogen:.18,Molybdenum:4.76,Carbon:1.6},description:"A foliar Mo product (~4.8% Mo) using Shuttle chelation. Enhances enzyme systems and nitrogen metabolism, especially for legumes."},{label:"Nutri-Key Shuttle Seven",nutrientContent:{Nitrogen:.43,Sulphur:4.72,Boron:.87,Magnesium:.67,Cobalt:34e-6,Copper:.49,Zinc:1.86,Iron:3.06,Potassium:2.63,Manganese:1.51,Molybdenum:975e-6,Selenium:.43,Carbon:3.04},description:"Seven-nutrient foliar complex combining B, Cu, Fe, Mn, Mo, Se, Zn using Shuttle chelation."},{label:"Nutri-Key Zinc Shuttle",nutrientContent:{Nitrogen:.73,Sulphur:4.35,Boron:.0866,Magnesium:.0675,Copper:.049,Zinc:8.17,Iron:.31,Potassium:.27,Manganese:.15,Molybdenum:.0098,Carbon:6.54},description:"A foliar Zn product (~8.2% Zn) with supporting nutrition for optimal uptake and correction of zinc deficiencies."},{label:"Boron Essentials",nutrientContent:{Nitrogen:.05,Boron:3.09,Zinc:.04},description:"A foliar boron spray (~3% B) with minimal N and Zn. Designed for precise B correction during flowering and fruit-set."},{label:"Copper Essentials",nutrientContent:{Nitrogen:.12,Sulphur:2.55,Magnesium:.0352,Calcium:.0247,Copper:4.9,Potassium:.14},description:"A foliar copper spray (~4.9% Cu) with support nutrients. Targets copper deficiencies affecting disease resistance and quality."},{label:"Iron Essentials",nutrientContent:{Nitrogen:.12,Sulphur:3.49,Magnesium:.0351,Calcium:.0247,Iron:6,Potassium:.14},description:"A pure iron foliar (~6% Fe) with minimal support nutrients to quickly correct chlorosis and boost photosynthesis."},{label:"Manganese Essentials",nutrientContent:{Nitrogen:.12,Sulphur:6.52,Magnesium:.0352,Calcium:.0247,Manganese:.13,Silicon:10.96},description:"A foliar manganese spray (~0.13% Mn) with silicon booster. Ideal for seed/grain crops prone to Mn deficiency."},{label:"Multi-Boost",nutrientContent:{Nitrogen:2.29,Sulphur:6.2,Boron:.033,Magnesium:.64,Calcium:5.96,Copper:.0245,Phosphorus:.29,Zinc:.0536,Iron:.0708,Potassium:.66,Manganese:.0483,Molybdenum:.013},description:"A multi-nutrient foliar blend with balanced macro and micro elements to deliver broad corrective nutrition."},{label:"Multi-Min",nutrientContent:{Nitrogen:4.24,Sulphur:4.12,Boron:.2,Magnesium:1.49,Calcium:.0186,Copper:.78,Phosphorus:.17,Zinc:.81,Iron:1.44,Potassium:2.45,Manganese:2.05,Molybdenum:.1},description:"A comprehensive foliar multi-mineral spray for crop conditions requiring mid-level correction across many nutrients."},{label:"Multi-Plex",nutrientContent:{Nitrogen:10.22,Sulphur:.23,Boron:.0347,Copper:.0198,Phosphorus:10.09,Zinc:.0743,Iron:.14,Potassium:10.04,Manganese:.0607,Molybdenum:.0039},description:"A powerful corrective spray (1010 NPK plus micro-trace) for comprehensive foliar nutrition in high-yield crops."},{label:"Zinc Essentials",nutrientContent:{Nitrogen:.12,Sulphur:3.95,Magnesium:.0351,Calcium:.0247,Zinc:7.95,Iron:.14},description:"A herbaceous foliar zinc spray (~8% Zn) with supporting nutrients, tailored to correct zinc deficiencies."},{label:"CalMag-Life Organic",nutrientContent:{Magnesium:9.68,Calcium:20.26},description:"An organic CaMg blend derived from natural minerals to improve soil structure and correct acidic soil deficiencies."},{label:"Dia-Life Organic",nutrientContent:{Boron:.68,Magnesium:.0277,Calcium:.16,Iron:.32,Silicon:12.51},description:"A diatomaceous earth-based mineral blend providing bioavailable silica plus trace nutrients to boost plant and soil resilience."},{label:"Gyp-Life Organic",nutrientContent:{Sulphur:15.31,Calcium:19.55},description:"A soluble gypsum product delivering sulfur and calcium to improve soil structure, correct subsoil acidity and enhance root development."},{label:"Lime-Life Organic",nutrientContent:{Magnesium:1.05,Calcium:39.37},description:"A finely ground organic lime that corrects soil pH while supplying calcium and magnesium for improved fertility."},{label:"Mag-Life Organic",nutrientContent:{Magnesium:21.33},description:"A high-magnesium organic mineral to correct soil Mg deficiencies and support chlorophyll formation."},{label:"Phos-Life Organic",nutrientContent:{Magnesium:.34,Calcium:24.56,Copper:.0162,Phosphorus:10.71,Zinc:.14,Iron:.86,Potassium:.15,Manganese:1.66,Silicon:10.73},description:"A mineral phosphate product rich in phosphorus, calcium and silicadesigned to boost root growth and soil fertility."},{label:"Sili-Cal (B)",nutrientContent:{Sulphur:.13,Boron:.51,Magnesium:.64,Calcium:21.59,Iron:.0861,Potassium:.23,Silicon:3.34},description:"A calciumsilicateboron blend supplying cell wall strength, stress resistance and support for crop quality."},{label:"Worm Juice",nutrientContent:{},description:"A concentrated, biologically active worm-cast extract designed to prime and enhance soil vitality."},{label:"Compost Tea Extract",nutrientContent:{},description:"A living liquid extract derived from high-quality compost, rich in beneficial bacteria, fungi, and bio-stimulatory metabolites."},{label:"Urea",nutrientContent:{Ammonium:46},description:"A highly concentrated nitrogen fertilizer that promotes vigorous vegetative growth and rapid green-up in crops."},{label:"Calcium Nitrate",nutrientContent:{Calcium:17,Nitrate:12},phLogic:{min_pH:null,max_pH:7.5},releaseType:"fast"},{label:"Potassium Nitrate",nutrientContent:{Potassium:39,Nitrate:14},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Sodium Nitrate (Chile Nitrate)",nutrientContent:{Sodium:26,Nitrate:16},phLogic:{min_pH:null,max_pH:8},releaseType:"fast"},{label:"Zinc Nitrate",nutrientContent:{Zinc:12,Nitrate:8},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Iron Nitrate",nutrientContent:{Iron:6,Nitrate:10},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Copper Nitrate",nutrientContent:{Copper:8,Nitrate:12},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Ammonium Nitrate",nutrientContent:{Ammonium:17,Nitrate:17},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"UAN Solution (Urea Ammonium Nitrate)",nutrientContent:{Urea:18,Ammonium:9,Nitrate:9},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Calcium Ammonium Nitrate (CAN)",nutrientContent:{Calcium:8,Magnesium:2,Ammonium:13,Nitrate:13},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Ammonium Polyphosphate (APP)",nutrientContent:{Phosphorus:10,Ammonium:11},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Ammonium Chloride",nutrientContent:{Ammonium:25},phLogic:{min_pH:5,max_pH:7},releaseType:"fast"},{label:"Ammonium Acetate",nutrientContent:{Ammonium:12},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Triple Superphosphate (TSP)",nutrientContent:{Phosphorus:45,Calcium:19},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Monoammonium Phosphate (MAP)",nutrientContent:{Phosphorus:21.9,Ammonium:10},phLogic:{min_pH:6.5,max_pH:8.5},releaseType:"fast"},{label:"Diammonium Phosphate (DAP)",nutrientContent:{Phosphorus:20,Ammonium:18},phLogic:{min_pH:5,max_pH:6.8},releaseType:"fast"},{label:"Rock Phosphate",nutrientContent:{Phosphorus:25,Calcium:30},phLogic:{min_pH:null,max_pH:6},releaseType:"very slow"},{label:"Agricultural Limestone (CaCO)",nutrientContent:{Calcium:40},phLogic:{min_pH:null,max_pH:6.5},releaseType:"slow"},{label:"Bone Meal",nutrientContent:{Calcium:26,Phosphorus:14},phLogic:{min_pH:null,max_pH:7},releaseType:"slow"},{label:"Fish Bone Meal",nutrientContent:{Calcium:20,Phosphorus:10,Ammonium:5},phLogic:{min_pH:5,max_pH:7.5},releaseType:"slow"},{label:"Calcium Chloride",nutrientContent:{Calcium:27},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Muriate of Potash (Potassium Chloride)",nutrientContent:{Potassium:60},phLogic:{min_pH:5.5,max_pH:8.5},releaseType:"fast"},{label:"Langbeinite",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22},phLogic:{min_pH:5.5,max_pH:8},releaseType:"moderate"},{label:"Potassium Magnesium Sulfate",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22},phLogic:{min_pH:5.5,max_pH:8},releaseType:"moderate"},{label:"Potassium Thiosulfate",nutrientContent:{Potassium:25,Sulphur:17},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Potassium Carbonate",nutrientContent:{Potassium:55},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Potassium Acetate",nutrientContent:{Potassium:25},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Wood Ash",nutrientContent:{Potassium:5,Calcium:10,Magnesium:2,Phosphorus:1},phLogic:{min_pH:5,max_pH:7},releaseType:"slow"},{label:"Dolomitic Lime",nutrientContent:{Calcium:20,Magnesium:10},phLogic:{min_pH:null,max_pH:6.5},releaseType:"slow"},{label:"Kieserite (Magnesium Sulfate Monohydrate)",nutrientContent:{Magnesium:16,Sulphur:22},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Epsom Salt (Magnesium Sulfate Heptahydrate)",nutrientContent:{Magnesium:9.9,Sulphur:13},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Thermophosphate",nutrientContent:{Calcium:20,Magnesium:2,Phosphorus:18},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"slow"},{label:"Magnesium Nitrate",nutrientContent:{Magnesium:10.5,Nitrate:11},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Magnesium Chloride",nutrientContent:{Magnesium:12},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Sulfur-Rich Compost",nutrientContent:{Sulphur:2,Calcium:3,Magnesium:2,Potassium:2,Phosphorus:1,Ammonium:2},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"Elemental Sulfur",nutrientContent:{Sulphur:90},phLogic:{min_pH:null,max_pH:null},releaseType:"very slow"},{label:"Ammonium Sulfate",nutrientContent:{Ammonium:21,Sulphur:24},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Potassium Sulfate (Sulfate of Potash)",nutrientContent:{Potassium:42.5,Sulphur:18.4},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Ammonium Thiosulfate",nutrientContent:{Sulphur:26,Ammonium:12},phLogic:{min_pH:5,max_pH:8.5},releaseType:"moderate"},{label:"Sulfur-Coated Urea",nutrientContent:{Sulphur:15,Ammonium:35},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"Chicken Manure",nutrientContent:{Phosphorus:2.5,Ammonium:3,Potassium:2,Calcium:3,Magnesium:1,Sulphur:.5},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"NTS Fast Fulvic",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"An 8 % fulvic acid liquid possessing a myriad of yield-enhancing qualities."},{label:"NTS Fulvic Acid Powder",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Fulvic acid in a concentrated, soluble powder  the most versatile and productive input in agriculture, in freight-friendly form."},{label:"NTS FulvX Powder",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Concentrated soluble fulvic & humic acid."},{label:"NTS Liquid Humus",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"A liquid humic acid suspension derived from premium humates, designed to improve soil structure, nutrient retention, and biological activity."},{label:"NTS Soluble Humate Granules",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"High-purity, fully soluble humate granules for use in liquid formulations or direct soil application to enhance CEC, nutrient chelation, and microbial health."},{label:"NTS Super Soluble Humates",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Highly refined, super-soluble humic acid powder for preparing DIY liquid humus, boosting nutrient efficiency, and stimulating beneficial soil microbes."},{label:"Life Force Carbon",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"slow"},{label:"Life Force Gold",nutrientContent:{Calcium:9.8,Potassium:2.4,Ammonium:2,Phosphorus:1.55,Sulphur:4},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"NTS Soft Rock",nutrientContent:{Calcium:20,Phosphorus:9},phLogic:{min_pH:null,max_pH:null},releaseType:"slow",url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nts-soft-rock"},{label:"Nutri-Gyp Natural Gypsum",nutrientContent:{Calcium:19,Sulphur:15},phLogic:{min_pH:4.5,max_pH:8.4},releaseType:"moderate"},{label:"Nutri-Cal",nutrientContent:{Potassium:2.5,Magnesium:3.26,Sulphur:4.63},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Nutri-Phos Super Active",nutrientContent:{Calcium:28.9,Phosphorus:12.6},phLogic:{min_pH:6,max_pH:7},releaseType:"slow"},{label:"Soluble Boron",nutrientContent:{Boron:22},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Boric Acid",nutrientContent:{Boron:17.5},phLogic:{min_pH:5.5,max_pH:8.5},releaseType:"moderate"},{label:"Biomin Calcium",nutrientContent:{Calcium:15,Nitrogen:3.6},phLogic:{min_pH:4,max_pH:8},releaseType:"fast"},{label:"Nutri-Life B.Sub",nutrientContent:{Bacillus_subtilis:"2  10^8 cfu/mL"},description:"A concentrated inoculum of Bacillus subtilis to support plant growth, improve rhizosphere balance and enhance natural defence responses."},{label:"Nutri-Life Bio-N",nutrientContent:{Azotobacter_vinelandii:"free-living nitrogen fixer"},description:"Contains Azotobacter vinelandii, a free-living nitrogen fixer that boosts nitrogen availability, root growth and soil moisture efficiency."},{label:"Nutri-Life Bio-Plex",nutrientContent:{Azotobacter_species:"present",Bacillus_subtilis:"present"},description:"A foliar inoculum with Azotobacter spp. and Bacillus subtilis to fix nitrogen, release growth promotants and support leaf-surface microbial balance."},{label:"Nutri-Life Bio-P",nutrientContent:{Bacillus_polymyxa:"present",Bacillus_megaterium:"present"},description:"A phosphorus-mobilising blend of Bacillus polymyxa and Bacillus megaterium that improves P availability, root growth and crop quality."},{label:"Nutri-Life Micro-Force",nutrientContent:{beneficial_microbes:"proprietary blend of soil & plant bacteria"},description:"A microbial blend designed to create a strong bacterial-dominant brew that improves nutrient release, nitrogen fixation and crop resilience."},{label:"Nutri-Life Root-Guard",nutrientContent:{Trichoderma_harzianum:"present"},description:"A talc-based Trichoderma inoculant that boosts root health, strengthens the rhizosphere and supports plant resilience."},{label:"Nutri-Life Platform",nutrientContent:{Glomus_intraradices:"present",Glomus_clarum:"present",Glomus_aggregatum:"present",Glomus_deserticola:"present",Glomus_macrocarpum:"present",Glomus_caledonium:"present",Glomus_mosseae:"present",Gigaspora_rosea:"present",Gigaspora_margarita:"present",Scutelospora_heterogama:"present",Azospirillum_brasilense:"present",Azotobacter_chroococcum:"present",Gluconacetobacter_diazotrophicus:"present",Bacillus_megaterium:"present",Pseudomonas_fluorescens:"present"},description:"A comprehensive AMF and bacterial inoculant that enhances root development, nutrient uptake and soil bio-balance."},{label:"Nutri-Life Sudo-Shield",nutrientContent:{Pseudomonas_fluorescens:"present"},description:"A Pseudomonas fluorescens inoculant that supports plant defence, recovery from stress and root-zone microbial balance."},{label:"Nutri-Life Tricho-Shield",nutrientContent:{Trichoderma_harzianum:"present",Trichoderma_lignorum:"present",Trichoderma_koningii:"present"},description:"A blend of Trichoderma species that strengthens root health, improves bio-balance and supports crop resilience."},{label:"Nutri-Life BAM",nutrientContent:{},description:"A source of beneficial anaerobic (facultative) microbes that can increase organic matter decomposition levels and nutrient cycling, also helping enhance plant resilience."},{label:"Borax",nutrientContent:{Boron:14},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Cobalt Sulfate Heptahydrate",nutrientContent:{Cobalt:21},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Copper Sulfate",nutrientContent:{Copper:25},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Dolomite",nutrientContent:{Calcium:20,Magnesium:10},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Gran Am",nutrientContent:{Ammonium:20,Sulphur:24},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Granulated Boric Acid",nutrientContent:{Boron:17.5},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Granulated Copper Sulfate",nutrientContent:{Copper:25},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Granulated Zinc Mono",nutrientContent:{Zinc:35},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Guano",nutrientContent:{Calcium:30,Phosphorus:13},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Iron Sulfate",nutrientContent:{Iron:18},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Magnesite",nutrientContent:{Magnesium:27},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Magnesium Oxide",nutrientContent:{Magnesium:53},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Magnesium Sulfate",nutrientContent:{Magnesium:9.9,Sulphur:13},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Manganese Sulfate",nutrientContent:{Manganese:31},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Mono Potassium Phosphate (MKP)",nutrientContent:{Potassium:28,Phosphorus:22},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Natural Gypsum",nutrientContent:{Calcium:20,Sulphur:15},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"NTS Stabilised Boron Granules",nutrientContent:{Boron:3.3},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Sodium Molybdate",nutrientContent:{Molybdenum:39},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Super Fine Ag Lime",nutrientContent:{Calcium:40},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Zinc Sulfate Heptahydrate",nutrientContent:{Zinc:22,Sulphur:11},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Zinc Sulfate Monohydrate",nutrientContent:{Zinc:34,Sulphur:15},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"}];function ZK(n){return n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function JK(n){return!n||Object.keys(n).length===0?"":Object.entries(n).map(([e,t])=>`${e}: ${t}%`).join(", ")}const B0=sc.map(n=>({...n,value:ZK(n.label),defaultRate:"1",defaultUnit:"L/ha",contains:[],nutrientPercents:[],nutrientBreakdown:JK(n.nutrientContent)})),Fx=sc.map(n=>({...n,value:ZK(n.label),defaultRate:"1",defaultUnit:"L/ha",contains:[],nutrientPercents:[],nutrientBreakdown:JK(n.nutrientContent)})),JF=({selectedProducts:n,setSelectedProducts:e,deficientNutrients:t,title:r="Biological Fertigation Program",description:i="Biological fertigation programs deliver nutrients and beneficial compounds directly to the root zone, improving nutrient uptake and soil biology activation.",placeholder:s="Choose biological fertigation"})=>{const[o,a]=_.useState(""),[l,c]=_.useState(""),[u,A]=_.useState(""),[h,f]=_.useState(""),v=B0.filter(E=>E.label.toLowerCase().includes(h.toLowerCase())),g=["g/ha","ml/ha","kg/ha","L/ha","mL/100L Water","L/100L Water","g/100L Water","kg/100L Water"],x=()=>{if(o&&l&&u){const E=B0.find(k=>k.value===o);if(E){const k={id:Date.now().toString(),product:E.label,rate:l,unit:u,nutrientContent:E.nutrientContent||{}};e([...n,k]),a(""),c(""),A("")}}},b=E=>{e(n.filter(k=>k.id!==E))},S=E=>{a(E);const k=B0.find(P=>P.value===E);k&&(c(k.defaultRate),A(k.defaultUnit))};return y.jsx(Rs,{title:r,children:y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{children:y.jsxs("div",{className:"space-y-4 mt-6",children:[y.jsx("p",{className:"text-gray-700 mb-4",children:i}),y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{className:"pt-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx(Nl,{children:"Select Product"}),y.jsxs(th,{value:o,onValueChange:S,children:[y.jsx(YA,{children:y.jsx(nh,{placeholder:s})}),y.jsxs(ZA,{children:[y.jsx("input",{type:"text",placeholder:"Search product...",value:h,onChange:E=>f(E.target.value),className:"w-full px-2 py-1 mb-2 border rounded text-sm"}),v.map(E=>{const k=Object.entries(E.nutrientContent||{}).filter(([P,N])=>typeof N=="number"&&N>0).map(([P,N])=>`${P}: ${N}%`).join(", ");return y.jsx(JA,{value:E.value,children:y.jsxs("div",{className:"flex flex-col min-w-0",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"font-semibold block text-base break-words text-black",style:{wordBreak:"break-word",whiteSpace:"normal"},children:E.label}),y.jsx("a",{href:`https://www.nutri-tech.com.au/products/${E.value}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:underline",onClick:P=>P.stopPropagation(),title:"View product page",children:y.jsx(Jj,{className:"w-4 h-4 inline"})})]}),y.jsx("span",{className:"text-xs text-gray-500 block mt-1 break-words",style:{wordBreak:"break-word",whiteSpace:"normal",maxWidth:"260px"},children:k||"(No nutrients)"})]})},E.value)})]})]})]}),y.jsxs("div",{children:[y.jsx(Nl,{children:"Application Rate"}),y.jsx(xg,{type:"number",value:l,onChange:E=>c(E.target.value),placeholder:"Enter rate"})]}),y.jsxs("div",{children:[y.jsx(Nl,{children:"Unit"}),y.jsxs(th,{value:u,onValueChange:A,children:[y.jsx(YA,{children:y.jsx(nh,{placeholder:"Select unit"})}),y.jsx(ZA,{children:g.map(E=>y.jsx(JA,{value:E,children:E},E))})]})]}),y.jsx("div",{className:"flex items-end",children:y.jsx(xr,{onClick:x,disabled:!o||!l||!u,className:"bg-[#8cb43a] hover:bg-[#7ca32e] text-white w-full",children:"Add Product"})})]})})}),n.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"font-medium text-black",children:"Selected Products:"}),n.map(E=>{const k=B0.find(P=>P.label===E.product);return y.jsx(rr,{className:"bg-blue-100 border-l-4 border-l-blue-500",children:y.jsx(Ar,{className:"pt-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(gJ,{className:"h-5 w-5 text-blue-600"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h5",{className:"font-medium text-black",children:E.product}),k&&y.jsx("p",{className:"text-xs text-gray-500",children:Object.entries(k.nutrientContent||{}).filter(([P,N])=>typeof N=="number"&&N>0).map(([P,N])=>`${P}: ${N}%`).join(", ")||"(No nutrients)"}),y.jsxs("p",{className:"text-sm text-blue-700",children:["Rate: ",E.rate," ",E.unit]})]})]}),y.jsx(xr,{variant:"ghost",size:"sm",onClick:()=>b(E.id),className:"text-red-600 hover:text-red-800",children:y.jsx(Sw,{className:"h-4 w-4"})})]})})},E.id)})]})]})})})})},zm=({selectedProducts:n,setSelectedProducts:e,deficientNutrients:t,cardColor:r="green"})=>{const[i,s]=_.useState(""),[o,a]=_.useState(""),[l,c]=_.useState(""),[u,A]=_.useState(""),h=["g/ha","ml/ha","kg/ha","L/ha","mL/100L Water","L/100L Water","g/100L Water","kg/100L Water"],f=Fx.filter(b=>b.label.toLowerCase().includes(u.toLowerCase())),v=()=>{if(i&&o&&l){const b=Fx.find(S=>S.value===i);if(b){const S={id:Date.now().toString(),product:b.label,rate:o,unit:l,nutrientContent:b.nutrientContent||{}};e([...n,S]),s(""),a(""),c("")}}},g=b=>{e(n.filter(S=>S.id!==b))},x=b=>{s(b);const S=Fx.find(E=>E.value===b);S&&(a(S.defaultRate),c(S.defaultUnit))};return _.useEffect(()=>{},[n]),y.jsx(Rs,{title:"Foliar Spray",children:y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{children:y.jsxs("div",{className:"space-y-4 mt-6",children:[y.jsx("p",{className:"text-gray-700 mb-4",children:"Foliar applications provide rapid nutrient uptake through leaf surfaces, addressing immediate deficiencies and supporting plant metabolism."}),y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{className:"pt-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx(Nl,{children:"Select Product"}),y.jsxs(th,{value:i,onValueChange:x,children:[y.jsx(YA,{children:y.jsx(nh,{placeholder:"Choose foliar spray"})}),y.jsxs(ZA,{children:[y.jsx("input",{type:"text",placeholder:"Search product...",value:u,onChange:b=>A(b.target.value),className:"w-full px-2 py-1 mb-2 border rounded text-sm"}),f.map(b=>{const S=Object.entries(b.nutrientContent||{}).filter(([E,k])=>typeof k=="number"&&k>0).map(([E,k])=>`${E}: ${k}%`).join(", ");return y.jsx(JA,{value:b.value,children:y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"font-semibold block text-base break-words text-black",style:{wordBreak:"break-word",whiteSpace:"normal"},children:b.label}),y.jsx("a",{href:`https://www.nutri-tech.com.au/products/${b.value}`,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:underline",onClick:E=>E.stopPropagation(),title:"View product page",children:y.jsx(Jj,{className:"w-4 h-4 inline"})})]}),y.jsx("span",{className:"text-xs text-gray-500",children:S||"(No nutrients)"})]})},b.value)})]})]})]}),y.jsxs("div",{children:[y.jsx(Nl,{children:"Application Rate"}),y.jsx(xg,{type:"number",value:o,onChange:b=>a(b.target.value),placeholder:"Enter rate"})]}),y.jsxs("div",{children:[y.jsx(Nl,{children:"Unit"}),y.jsxs(th,{value:l,onValueChange:c,children:[y.jsx(YA,{children:y.jsx(nh,{placeholder:"Select unit"})}),y.jsx(ZA,{children:h.map(b=>y.jsx(JA,{value:b,children:b},b))})]})]}),y.jsx("div",{className:"flex items-end",children:y.jsx(xr,{onClick:v,disabled:!i||!o||!l,className:"bg-[#8cb43a] hover:bg-[#7ca32e] text-white w-full",children:"Add Product"})})]})})}),n.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"font-medium text-black",children:"Selected Products:"}),n.map(b=>{const S=Fx.find(P=>P.label===b.product),E=r==="orange"?"bg-orange-100 border-l-4 border-orange-500":"bg-green-100 border-l-4 border-green-600",k=r==="orange"?"text-orange-700":"text-green-700";return y.jsx(rr,{className:E,children:y.jsx(Ar,{className:"pt-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-start space-x-3",children:y.jsxs("div",{className:"flex-1",children:[y.jsx("h5",{className:"font-medium text-black",children:b.product}),S&&y.jsx("p",{className:"text-xs text-gray-500",children:Object.entries(S.nutrientContent||{}).filter(([P,N])=>typeof N=="number"&&N>0).map(([P,N])=>`${P}: ${N}%`).join(", ")||"(No nutrients)"}),y.jsxs("p",{className:`text-sm ${k}`,children:["Rate: ",b.rate," ",b.unit]})]})}),y.jsx(xr,{variant:"ghost",size:"sm",onClick:()=>g(b.id),className:"text-red-600 hover:text-red-800",children:y.jsx(Sw,{className:"h-4 w-4"})})]})})},b.id)})]})]})})})})},$K=_.forwardRef(({className:n,...e},t)=>y.jsx("div",{className:"relative w-full overflow-auto",children:y.jsx("table",{ref:t,className:ir("w-full caption-bottom text-sm",n),...e})}));$K.displayName="Table";const eV=_.forwardRef(({className:n,...e},t)=>y.jsx("thead",{ref:t,className:ir("[&_tr]:border-b",n),...e}));eV.displayName="TableHeader";const tV=_.forwardRef(({className:n,...e},t)=>y.jsx("tbody",{ref:t,className:ir("[&_tr:last-child]:border-0",n),...e}));tV.displayName="TableBody";const sde=_.forwardRef(({className:n,...e},t)=>y.jsx("tfoot",{ref:t,className:ir("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));sde.displayName="TableFooter";const cI=_.forwardRef(({className:n,...e},t)=>y.jsx("tr",{ref:t,className:ir("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));cI.displayName="TableRow";const c1=_.forwardRef(({className:n,...e},t)=>y.jsx("th",{ref:t,className:ir("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));c1.displayName="TableHead";const u1=_.forwardRef(({className:n,...e},t)=>y.jsx("td",{ref:t,className:ir("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));u1.displayName="TableCell";const ode=_.forwardRef(({className:n,...e},t)=>y.jsx("caption",{ref:t,className:ir("mt-4 text-sm text-muted-foreground",n),...e}));ode.displayName="TableCaption";var HN="Checkbox",[ade,u2e]=Qf(HN),[lde,UR]=ade(HN);function cde(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:A}=n,[h,f]=lw({prop:t,defaultProp:i??!1,onChange:l,caller:HN}),[v,g]=_.useState(null),[x,b]=_.useState(null),S=_.useRef(!1),E=v?!!o||!!v.closest("form"):!0,k={checked:h,disabled:s,setChecked:f,control:v,setControl:g,name:a,form:o,value:u,hasConsumerStoppedPropagationRef:S,required:c,defaultChecked:tg(i)?!1:i,isFormControl:E,bubbleInput:x,setBubbleInput:b};return y.jsx(lde,{scope:e,...k,children:ude(A)?A(k):r})}var nV="CheckboxTrigger",rV=_.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:c,setControl:u,setChecked:A,hasConsumerStoppedPropagationRef:h,isFormControl:f,bubbleInput:v}=UR(nV,n),g=zi(i,u),x=_.useRef(l);return _.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const S=()=>A(x.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[s,A]),y.jsx(Ur.button,{type:"button",role:"checkbox","aria-checked":tg(l)?"mixed":l,"aria-required":c,"data-state":lV(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:g,onKeyDown:mr(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:mr(t,b=>{A(S=>tg(S)?!0:!S),v&&f&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});rV.displayName=nV;var HR=_.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:c,form:u,...A}=n;return y.jsx(cde,{__scopeCheckbox:t,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>y.jsxs(y.Fragment,{children:[y.jsx(rV,{...A,ref:e,__scopeCheckbox:t}),h&&y.jsx(aV,{__scopeCheckbox:t})]})})});HR.displayName=HN;var iV="CheckboxIndicator",sV=_.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=UR(iV,t);return y.jsx(zf,{present:r||tg(s.checked)||s.checked===!0,children:y.jsx(Ur.span,{"data-state":lV(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});sV.displayName=iV;var oV="CheckboxBubbleInput",aV=_.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:c,value:u,form:A,bubbleInput:h,setBubbleInput:f}=UR(oV,n),v=zi(t,f),g=AK(s),x=xQ(r);_.useEffect(()=>{const S=h;if(!S)return;const E=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(E,"checked").set,N=!i.current;if(g!==s&&P){const I=new Event("click",{bubbles:N});S.indeterminate=tg(s),P.call(S,tg(s)?!1:s),S.dispatchEvent(I)}},[h,g,s,i]);const b=_.useRef(tg(s)?!1:s);return y.jsx(Ur.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:a,disabled:l,name:c,value:u,form:A,...e,tabIndex:-1,ref:v,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});aV.displayName=oV;function ude(n){return typeof n=="function"}function tg(n){return n==="indeterminate"}function lV(n){return tg(n)?"indeterminate":n?"checked":"unchecked"}const $F=_.forwardRef(({className:n,...e},t)=>y.jsx(HR,{ref:t,className:ir("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",n),...e,children:y.jsx(sV,{className:ir("flex items-center justify-center text-current"),children:y.jsx(Yj,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));$F.displayName=HR.displayName;const S8=["More soluble Solids","Liquid Solutions","MMS (Micronized Mineral Solutions)","Spray Oil","Microbial Products"],Ade=["May require several minutes of good agitation","Make sure previous inputs are fully dissolved before adding.","Pre-mix well before adding slowly to the tank under constant agitation. Maintain constant agitation to prevent settling.","Spreader/sticker/penetrant. Essential for success of foliar sprays.","Always add microbes to the spray tank last after the other ingredients have been diluted."],cV=({selectedProducts:n,mixingItems:e,setMixingItems:t,onSummaryChange:r})=>{const[i,s]=_.useState(()=>Array.isArray(e)?e:[]),o=n&&n.length>0?n:[],a=()=>{const A={id:Date.now().toString(),sequence:i.length+1,productDescription:"",products:[],notes:""},h=[...i,A];s(h),t(h)},l=A=>{const h=i.filter(f=>f.id!==A);h.forEach((f,v)=>{f.sequence=v+1}),s(h),t(h)},c=(A,h)=>{const f=i.findIndex(v=>v.id===A);if(h==="up"&&f>0||h==="down"&&f<i.length-1){const v=[...i],g=h==="up"?f-1:f+1;[v[f],v[g]]=[v[g],v[f]],v.forEach((x,b)=>{x.sequence=b+1}),s(v),t(v)}},u=(A,h,f)=>{const v=i.map(g=>{if(g.id===A){const x={...g,[h]:f};if(h==="productDescription"){const b=S8.indexOf(f);b!==-1&&(x.notes=Ade[b])}return x}return g});s(v),t(v)};return _.useEffect(()=>{r&&r(i)},[i,r]),y.jsx(Rs,{title:"General Tank Mixing Sequence",children:y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{children:y.jsxs("div",{className:"space-y-4 mt-6",children:[y.jsx("p",{className:"text-gray-700 mb-4",children:"Proper tank mixing sequence prevents chemical incompatibilities and ensures optimal product efficacy. Select from foliar spray products and arrange in proper mixing order."}),y.jsx(rr,{className:"bg-white",children:y.jsxs(Ar,{className:"pt-4",children:[y.jsxs($K,{children:[y.jsx(eV,{children:y.jsxs(cI,{children:[y.jsx(c1,{className:"w-20",children:"Order"}),y.jsx(c1,{children:"Product Description"}),y.jsx(c1,{children:"Product"}),y.jsx(c1,{children:"Notes"}),y.jsx(c1,{className:"w-32",children:"Actions"})]})}),y.jsx(tV,{children:i.map(A=>y.jsxs(cI,{children:[y.jsx(u1,{className:"font-medium",children:A.sequence}),y.jsx(u1,{children:y.jsxs(th,{value:A.productDescription,onValueChange:h=>{u(A.id,"productDescription",h)},children:[y.jsx(YA,{className:"bg-white",children:y.jsx(nh,{placeholder:"Select description"})}),y.jsx(ZA,{children:S8.map(h=>y.jsx(JA,{value:h,children:h},h))})]})}),y.jsx(u1,{children:y.jsxs(DR,{children:[y.jsx(_R,{asChild:!0,children:y.jsx(xr,{variant:"outline",className:"w-full justify-start",children:A.products&&A.products.length>0?A.products.join(", "):"Select product(s)"})}),y.jsx(DN,{className:"w-64",children:y.jsx("div",{className:"flex flex-col gap-2",children:o.map(h=>{const f=i.some(v=>v.id!==A.id&&v.products.includes(h));return y.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${f?"opacity-50 pointer-events-none":""}`,children:[y.jsx($F,{checked:A.products.includes(h),onCheckedChange:v=>{if(f)return;const g=v?[...A.products,h]:A.products.filter(x=>x!==h);u(A.id,"products",g)},disabled:f}),y.jsx("span",{children:h})]},h)})})})]})}),y.jsx(u1,{children:y.jsx("textarea",{className:"text-sm p-2 bg-gray-50 rounded min-h-[60px] w-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary",value:A.notes,onChange:h=>u(A.id,"notes",h.target.value),rows:2})}),y.jsx(u1,{children:y.jsxs("div",{className:"flex gap-1",children:[y.jsx(xr,{variant:"outline",size:"sm",onClick:()=>c(A.id,"up"),disabled:A.sequence===1,children:y.jsx(fJ,{className:"h-3 w-3"})}),y.jsx(xr,{variant:"outline",size:"sm",onClick:()=>c(A.id,"down"),disabled:A.sequence===i.length,children:y.jsx(hJ,{className:"h-3 w-3"})}),y.jsx(xr,{variant:"outline",size:"sm",onClick:()=>l(A.id),children:y.jsx(EJ,{className:"h-3 w-3"})})]})})]},A.id))})]}),i.length===0&&y.jsx("div",{className:"text-center py-8 text-gray-500",children:'No products added yet. Click "Add Product" to start building your mixing sequence.'}),y.jsx("div",{className:"mt-4",children:y.jsxs(xr,{onClick:a,className:"w-full",children:[y.jsx(BJ,{className:"h-4 w-4 mr-2"}),"Add Product"]})})]})})]})})})})},uV=({frontAttachments:n,setFrontAttachments:e,backAttachments:t,setBackAttachments:r,onSummaryChange:i})=>{const s=[{id:"plant-therapy-cover",label:"Plant Therapy Cover"},{id:"soil-therapy-cover",label:"Soil Therapy Cover"}],o=[{id:"soil-therapy-general-guidelines",label:"Soil Therapy General Guidelines"},{id:"seed-treatment-instructions",label:"Seed Treatment Instructions"},{id:"micro-force-brewing-recipe",label:"Micro-Force Brewing Recipe"},{id:"bam-brewing-recipe",label:"BAM Brewing Recipe"}],a=(c,u)=>{e(u?[...n,c]:n.filter(A=>A!==c))},l=(c,u)=>{r(u?[...t,c]:t.filter(A=>A!==c))};return _.useEffect(()=>{if(i){const c=s.filter(A=>n.includes(A.id)).map(A=>A.label),u=o.filter(A=>t.includes(A.id)).map(A=>A.label);i([...c,...u])}},[JSON.stringify(n),JSON.stringify(t)]),y.jsx(Rs,{title:"",children:y.jsxs("div",{className:"space-y-6",children:[y.jsx("p",{className:"text-gray-700 mb-4",children:"Select additional documents to include with your plant report for comprehensive guidance and reference materials."}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsxs(xi,{className:"text-black flex items-center gap-2",children:[y.jsx(fL,{className:"h-5 w-5"}),"Front Attachments"]})}),y.jsx(Ar,{children:y.jsx("div",{className:"space-y-3",children:s.map(c=>y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx($F,{id:`front-${c.id}`,checked:n.includes(c.id),onCheckedChange:u=>a(c.id,u)}),y.jsx(Nl,{htmlFor:`front-${c.id}`,className:"text-sm font-medium",children:c.label})]},c.id))})})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsxs(xi,{className:"text-black flex items-center gap-2",children:[y.jsx(fL,{className:"h-5 w-5"}),"Back Attachments"]})}),y.jsx(Ar,{children:y.jsx("div",{className:"space-y-3",children:o.map(c=>y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx($F,{id:`back-${c.id}`,checked:t.includes(c.id),onCheckedChange:u=>l(c.id,u)}),y.jsx(Nl,{htmlFor:`back-${c.id}`,className:"text-sm font-medium",children:c.label})]},c.id))})})]})]}),(n.length>0||t.length>0)&&y.jsx(rr,{className:"bg-green-50 border-green-200",children:y.jsxs(Ar,{className:"pt-4",children:[y.jsx("h4",{className:"font-medium text-black mb-2",children:"Selected Attachments:"}),y.jsxs("div",{className:"text-sm text-green-700",children:[n.length>0&&y.jsxs("p",{children:["Front: ",s.filter(c=>n.includes(c.id)).map(c=>c.label).join(", ")]}),t.length>0&&y.jsxs("p",{children:["Back: ",o.filter(c=>t.includes(c.id)).map(c=>c.label).join(", ")]})]})]})})]})})},dde="modulepreload",hde=function(n){return"/"+n},B8={},uI=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(c=>{if(c=hde(c),c in B8)return;B8[c]=!0;const u=c.endsWith(".css"),A=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${A}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":dde,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Qi(n){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(n)}var $a=Uint8Array,Kc=Uint16Array,jR=Int32Array,jN=new $a([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),QN=new $a([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),AI=new $a([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AV=function(n,e){for(var t=new Kc(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new jR(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},dV=AV(jN,2),hV=dV.b,dI=dV.r;hV[28]=258,dI[258]=28;var fV=AV(QN,0),fde=fV.b,E8=fV.r,hI=new Kc(32768);for(var gs=0;gs<32768;++gs){var Tp=(gs&43690)>>1|(gs&21845)<<1;Tp=(Tp&52428)>>2|(Tp&13107)<<2,Tp=(Tp&61680)>>4|(Tp&3855)<<4,hI[gs]=((Tp&65280)>>8|(Tp&255)<<8)>>1}var Zd=function(n,e,t){for(var r=n.length,i=0,s=new Kc(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new Kc(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new Kc(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],A=o[n[i]-1]++<<u,h=A|(1<<u)-1;A<=h;++A)a[hI[A]>>l]=c}else for(a=new Kc(r),i=0;i<r;++i)n[i]&&(a[i]=hI[o[n[i]-1]++]>>15-n[i]);return a},ug=new $a(288);for(var gs=0;gs<144;++gs)ug[gs]=8;for(var gs=144;gs<256;++gs)ug[gs]=9;for(var gs=256;gs<280;++gs)ug[gs]=7;for(var gs=280;gs<288;++gs)ug[gs]=8;var q2=new $a(32);for(var gs=0;gs<32;++gs)q2[gs]=5;var pde=Zd(ug,9,0),mde=Zd(ug,9,1),gde=Zd(q2,5,0),vde=Zd(q2,5,1),A4=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},yA=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},d4=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},QR=function(n){return(n+7)/8|0},pV=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new $a(n.subarray(e,t))},yde=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],TA=function(n,e,t){var r=new Error(e||yde[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,TA),!t)throw r;return r},bde=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new $a(0);var o=!t,a=o||e.i!=2,l=e.i;o&&(t=new $a(i*3));var c=function(Ve){var Ue=t.length;if(Ve>Ue){var ft=new $a(Math.max(Ue*2,Ve));ft.set(t),t=ft}},u=e.f||0,A=e.p||0,h=e.b||0,f=e.l,v=e.d,g=e.m,x=e.n,b=i*8;do{if(!f){u=yA(n,A,1);var S=yA(n,A+1,3);if(A+=3,S)if(S==1)f=mde,v=vde,g=9,x=5;else if(S==2){var N=yA(n,A,31)+257,I=yA(n,A+10,15)+4,U=N+yA(n,A+5,31)+1;A+=14;for(var V=new $a(U),W=new $a(19),L=0;L<I;++L)W[AI[L]]=yA(n,A+L*3,7);A+=I*3;for(var D=A4(W),z=(1<<D)-1,G=Zd(W,D,1),L=0;L<U;){var ve=G[yA(n,A,z)];A+=ve&15;var E=ve>>4;if(E<16)V[L++]=E;else{var J=0,$=0;for(E==16?($=3+yA(n,A,3),A+=2,J=V[L-1]):E==17?($=3+yA(n,A,7),A+=3):E==18&&($=11+yA(n,A,127),A+=7);$--;)V[L++]=J}}var X=V.subarray(0,N),ie=V.subarray(N);g=A4(X),x=A4(ie),f=Zd(X,g,1),v=Zd(ie,x,1)}else TA(1);else{var E=QR(A)+4,k=n[E-4]|n[E-3]<<8,P=E+k;if(P>i){l&&TA(0);break}a&&c(h+k),t.set(n.subarray(E,P),h),e.b=h+=k,e.p=A=P*8,e.f=u;continue}if(A>b){l&&TA(0);break}}a&&c(h+131072);for(var pe=(1<<g)-1,te=(1<<x)-1,H=A;;H=A){var J=f[d4(n,A)&pe],q=J>>4;if(A+=J&15,A>b){l&&TA(0);break}if(J||TA(2),q<256)t[h++]=q;else if(q==256){H=A,f=null;break}else{var re=q-254;if(q>264){var L=q-257,he=jN[L];re=yA(n,A,(1<<he)-1)+hV[L],A+=he}var Ae=v[d4(n,A)&te],ge=Ae>>4;Ae||TA(3),A+=Ae&15;var ie=fde[ge];if(ge>3){var he=QN[ge];ie+=d4(n,A)&(1<<he)-1,A+=he}if(A>b){l&&TA(0);break}a&&c(h+131072);var we=h+re;if(h<ie){var ke=s-ie,ze=Math.min(ie,we);for(ke+h<0&&TA(3);h<ze;++h)t[h]=r[ke+h]}for(;h<we;++h)t[h]=t[h-ie]}}e.l=f,e.p=H,e.b=h,e.f=u,f&&(u=1,e.m=g,e.d=v,e.n=x)}while(!u);return h!=t.length&&o?pV(t,0,h):t.subarray(0,h)},Rh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},sx=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},h4=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:gV,l:0};if(i==1){var o=new $a(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(P,N){return P.f-N.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,A=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[A].f?c++:A++],l=t[c!=u&&t[c].f<t[A].f?c++:A++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new Kc(h+1),v=fI(t[u-1],f,0);if(v>e){var r=0,g=0,x=v-e,b=1<<x;for(s.sort(function(N,I){return f[I.s]-f[N.s]||N.f-I.f});r<i;++r){var S=s[r].s;if(f[S]>e)g+=b-(1<<v-f[S]),f[S]=e;else break}for(g>>=x;g>0;){var E=s[r].s;f[E]<e?g-=1<<e-f[E]++-1:++r}for(;r>=0&&g;--r){var k=s[r].s;f[k]==e&&(--f[k],++g)}v=e}return{t:new $a(f),l:v}},fI=function(n,e,t){return n.s==-1?Math.max(fI(n.l,e,t+1),fI(n.r,e,t+1)):e[n.s]=t},F8=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Kc(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},ox=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},mV=function(n,e,t){var r=t.length,i=QR(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},T8=function(n,e,t,r,i,s,o,a,l,c,u){Rh(e,u++,t),++i[256];for(var A=h4(i,15),h=A.t,f=A.l,v=h4(s,15),g=v.t,x=v.l,b=F8(h),S=b.c,E=b.n,k=F8(g),P=k.c,N=k.n,I=new Kc(19),U=0;U<S.length;++U)++I[S[U]&31];for(var U=0;U<P.length;++U)++I[P[U]&31];for(var V=h4(I,7),W=V.t,L=V.l,D=19;D>4&&!W[AI[D-1]];--D);var z=c+5<<3,G=ox(i,ug)+ox(s,q2)+o,ve=ox(i,h)+ox(s,g)+o+14+3*D+ox(I,W)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&z<=G&&z<=ve)return mV(e,u,n.subarray(l,l+c));var J,$,X,ie;if(Rh(e,u,1+(ve<G)),u+=2,ve<G){J=Zd(h,f,0),$=h,X=Zd(g,x,0),ie=g;var pe=Zd(W,L,0);Rh(e,u,E-257),Rh(e,u+5,N-1),Rh(e,u+10,D-4),u+=14;for(var U=0;U<D;++U)Rh(e,u+3*U,W[AI[U]]);u+=3*D;for(var te=[S,P],H=0;H<2;++H)for(var q=te[H],U=0;U<q.length;++U){var re=q[U]&31;Rh(e,u,pe[re]),u+=W[re],re>15&&(Rh(e,u,q[U]>>5&127),u+=q[U]>>12)}}else J=pde,$=ug,X=gde,ie=q2;for(var U=0;U<a;++U){var he=r[U];if(he>255){var re=he>>18&31;sx(e,u,J[re+257]),u+=$[re+257],re>7&&(Rh(e,u,he>>23&31),u+=jN[re]);var Ae=he&31;sx(e,u,X[Ae]),u+=ie[Ae],Ae>3&&(sx(e,u,he>>5&8191),u+=QN[Ae])}else sx(e,u,J[he]),u+=$[he]}return sx(e,u,J[256]),u+$[256]},wde=new jR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gV=new $a(0),xde=function(n,e,t,r,i,s){var o=s.z||n.length,a=new $a(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var A=wde[e-1],h=A>>13,f=A&8191,v=(1<<t)-1,g=s.p||new Kc(32768),x=s.h||new Kc(v+1),b=Math.ceil(t/3),S=2*b,E=function(Kt){return(n[Kt]^n[Kt+1]<<b^n[Kt+2]<<S)&v},k=new jR(25e3),P=new Kc(288),N=new Kc(32),I=0,U=0,V=s.i||0,W=0,L=s.w||0,D=0;V+2<o;++V){var z=E(V),G=V&32767,ve=x[z];if(g[G]=ve,x[z]=G,L<=V){var J=o-V;if((I>7e3||W>24576)&&(J>423||!c)){u=T8(n,l,0,k,P,N,U,W,D,V-D,u),W=I=U=0,D=V;for(var $=0;$<286;++$)P[$]=0;for(var $=0;$<30;++$)N[$]=0}var X=2,ie=0,pe=f,te=G-ve&32767;if(J>2&&z==E(V-te))for(var H=Math.min(h,J)-1,q=Math.min(32767,V),re=Math.min(258,J);te<=q&&--pe&&G!=ve;){if(n[V+X]==n[V+X-te]){for(var he=0;he<re&&n[V+he]==n[V+he-te];++he);if(he>X){if(X=he,ie=te,he>H)break;for(var Ae=Math.min(te,he-2),ge=0,$=0;$<Ae;++$){var we=V-te+$&32767,ke=g[we],ze=we-ke&32767;ze>ge&&(ge=ze,ve=we)}}}G=ve,ve=g[G],te+=G-ve&32767}if(ie){k[W++]=268435456|dI[X]<<18|E8[ie];var Ve=dI[X]&31,Ue=E8[ie]&31;U+=jN[Ve]+QN[Ue],++P[257+Ve],++N[Ue],L=V+X,++I}else k[W++]=n[V],++P[n[V]]}}for(V=Math.max(V,L);V<o;++V)k[W++]=n[V],++P[n[V]];u=T8(n,l,c,k,P,N,U,W,D,V-D,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=x,s.p=g,s.i=V,s.w=L)}else{for(var V=s.w||0;V<o+c;V+=65535){var ft=V+65535;ft>=o&&(l[u/8|0]=c,ft=o),u=mV(l,u+1,n.subarray(V,ft))}s.i=o}return pV(a,0,r+QR(u)+i)},vV=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Cde=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new $a(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return xde(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},yV=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Sde=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=vV();i.p(e.dictionary),yV(n,2,i.d())}},Bde=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&TA(6,"invalid zlib data"),(n[1]>>5&1)==1&&TA(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function pI(n,e){e||(e={});var t=vV();t.p(n);var r=Cde(n,e,e.dictionary?6:2,4);return Sde(r,e),yV(r,r.length-4,t.d()),r}function Ede(n,e){return bde(n.subarray(Bde(n),-4),{i:2},e,e)}var Fde=typeof TextDecoder<"u"&&new TextDecoder,Tde=0;try{Fde.decode(gV,{stream:!0}),Tde=1}catch{}var ur=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function f4(){ur.console&&typeof ur.console.log=="function"&&ur.console.log.apply(ur.console,arguments)}var ts={log:f4,warn:function(n){ur.console&&(typeof ur.console.warn=="function"?ur.console.warn.apply(ur.console,arguments):f4.call(null,arguments))},error:function(n){ur.console&&(typeof ur.console.error=="function"?ur.console.error.apply(ur.console,arguments):f4(n))}};function p4(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){u0(r.response,e,t)},r.onerror=function(){ts.error("could not download file")},r.send()}function N8(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function u5(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var v2,mI,u0=ur.saveAs||((typeof window>"u"?"undefined":Qi(window))!=="object"||window!==ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=ur.URL||ur.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?N8(i.href)?p4(n,e,t):u5(i,i.target="_blank"):u5(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){u5(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(N8(n))p4(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){u5(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Qi(s)!=="object"&&(ts.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return p4(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(ur.HTMLElement)||ur.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Qi(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=ur.URL||ur.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bV(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function m4(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Ha(t,r,i,s,e[0],7,-680876936),s=Ha(s,t,r,i,e[1],12,-389564586),i=Ha(i,s,t,r,e[2],17,606105819),r=Ha(r,i,s,t,e[3],22,-1044525330),t=Ha(t,r,i,s,e[4],7,-176418897),s=Ha(s,t,r,i,e[5],12,1200080426),i=Ha(i,s,t,r,e[6],17,-1473231341),r=Ha(r,i,s,t,e[7],22,-45705983),t=Ha(t,r,i,s,e[8],7,1770035416),s=Ha(s,t,r,i,e[9],12,-1958414417),i=Ha(i,s,t,r,e[10],17,-42063),r=Ha(r,i,s,t,e[11],22,-1990404162),t=Ha(t,r,i,s,e[12],7,1804603682),s=Ha(s,t,r,i,e[13],12,-40341101),i=Ha(i,s,t,r,e[14],17,-1502002290),t=ja(t,r=Ha(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ja(s,t,r,i,e[6],9,-1069501632),i=ja(i,s,t,r,e[11],14,643717713),r=ja(r,i,s,t,e[0],20,-373897302),t=ja(t,r,i,s,e[5],5,-701558691),s=ja(s,t,r,i,e[10],9,38016083),i=ja(i,s,t,r,e[15],14,-660478335),r=ja(r,i,s,t,e[4],20,-405537848),t=ja(t,r,i,s,e[9],5,568446438),s=ja(s,t,r,i,e[14],9,-1019803690),i=ja(i,s,t,r,e[3],14,-187363961),r=ja(r,i,s,t,e[8],20,1163531501),t=ja(t,r,i,s,e[13],5,-1444681467),s=ja(s,t,r,i,e[2],9,-51403784),i=ja(i,s,t,r,e[7],14,1735328473),t=Qa(t,r=ja(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Qa(s,t,r,i,e[8],11,-2022574463),i=Qa(i,s,t,r,e[11],16,1839030562),r=Qa(r,i,s,t,e[14],23,-35309556),t=Qa(t,r,i,s,e[1],4,-1530992060),s=Qa(s,t,r,i,e[4],11,1272893353),i=Qa(i,s,t,r,e[7],16,-155497632),r=Qa(r,i,s,t,e[10],23,-1094730640),t=Qa(t,r,i,s,e[13],4,681279174),s=Qa(s,t,r,i,e[0],11,-358537222),i=Qa(i,s,t,r,e[3],16,-722521979),r=Qa(r,i,s,t,e[6],23,76029189),t=Qa(t,r,i,s,e[9],4,-640364487),s=Qa(s,t,r,i,e[12],11,-421815835),i=Qa(i,s,t,r,e[15],16,530742520),t=za(t,r=Qa(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=za(s,t,r,i,e[7],10,1126891415),i=za(i,s,t,r,e[14],15,-1416354905),r=za(r,i,s,t,e[5],21,-57434055),t=za(t,r,i,s,e[12],6,1700485571),s=za(s,t,r,i,e[3],10,-1894986606),i=za(i,s,t,r,e[10],15,-1051523),r=za(r,i,s,t,e[1],21,-2054922799),t=za(t,r,i,s,e[8],6,1873313359),s=za(s,t,r,i,e[15],10,-30611744),i=za(i,s,t,r,e[6],15,-1560198380),r=za(r,i,s,t,e[13],21,1309151649),t=za(t,r,i,s,e[4],6,-145523070),s=za(s,t,r,i,e[11],10,-1120210379),i=za(i,s,t,r,e[2],15,718787259),r=za(r,i,s,t,e[9],21,-343485551),n[0]=Km(t,n[0]),n[1]=Km(r,n[1]),n[2]=Km(i,n[2]),n[3]=Km(s,n[3])}function zN(n,e,t,r,i,s){return e=Km(Km(e,n),Km(r,s)),Km(e<<i|e>>>32-i,t)}function Ha(n,e,t,r,i,s,o){return zN(e&t|~e&r,n,e,i,s,o)}function ja(n,e,t,r,i,s,o){return zN(e&r|t&~r,n,e,i,s,o)}function Qa(n,e,t,r,i,s,o){return zN(e^t^r,n,e,i,s,o)}function za(n,e,t,r,i,s,o){return zN(t^(e|~r),n,e,i,s,o)}function wV(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)m4(r,Nde(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(m4(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,m4(r,i),r}function Nde(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}v2=ur.atob.bind(ur),mI=ur.btoa.bind(ur);var k8="0123456789abcdef".split("");function kde(n){for(var e="",t=0;t<4;t++)e+=k8[n>>8*t+4&15]+k8[n>>8*t&15];return e}function Pde(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function gI(n){return wV(n).map(Pde).join("")}var Lde=function(n){for(var e=0;e<n.length;e++)n[e]=kde(n[e]);return n.join("")}(wV("hello"))!="5d41402abc4b2a76b9719d911017c592";function Km(n,e){if(Lde){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function vI(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var A=e.length,h=0,f=0,v="";for(l=0;l<A;l++)f=(f+(u=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=u,o=a[(a[h]+a[f])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var P8={print:4,modify:8,copy:16,"annot-forms":32};function A1(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(P8.perm!==void 0)throw new Error("Invalid permission: "+a);i+=P8[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=gI(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=vI(this.encryptionKey,this.padding)}function d1(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function L8(n){if(Qi(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){ur.console&&ts.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function eT(n){if(!(this instanceof eT))return new eT(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function xV(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function p0(n,e,t,r,i){if(!(this instanceof p0))return new p0(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,xV.call(this,r,i)}function S1(n,e,t,r,i){if(!(this instanceof S1))return new S1(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,xV.call(this,r,i)}function cr(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;Qi(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=L8;var v="1.3",g=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(T){v=T};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var b=f.__private__.getPageFormat=function(T){return x[T]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},E=S.COMPAT;function k(){this.saveGraphicsState(),Se(new Oe(se,0,0,-se,0,Dt()*se).toString()+" cm"),this.setFontSize(this.getFontSize()/se),c="n",E=S.ADVANCED}function P(){this.restoreGraphicsState(),c="S",E=S.COMPAT}var N=f.__private__.combineFontStyleAndFontWeight=function(T,Y){if(T=="bold"&&Y=="normal"||T=="bold"&&Y==400||T=="normal"&&Y=="italic"||T=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(T=Y==400||Y==="normal"?T==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||T!=="normal"?(Y==700?"bold":Y)+""+T:"bold"),T};f.advancedAPI=function(T){var Y=E===S.COMPAT;return Y&&k.call(this),typeof T!="function"||(T(this),Y&&P.call(this)),this},f.compatAPI=function(T){var Y=E===S.ADVANCED;return Y&&P.call(this),typeof T!="function"||(T(this),Y&&k.call(this)),this},f.isAdvancedAPI=function(){return E===S.ADVANCED};var I,U=function(T){if(E!==S.ADVANCED)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=f.roundToPrecision=f.__private__.roundToPrecision=function(T,Y){var le=e||Y;if(isNaN(T)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(le).replace(/0+$/,"")};I=f.hpf=f.__private__.hpf=typeof l=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return V(T,l)}:l==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return V(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return V(T,16)};var W=f.f2=f.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return V(T,2)},L=f.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return V(T,3)},D=f.scale=f.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return E===S.COMPAT?T*se:E===S.ADVANCED?T:void 0},z=function(T){return E===S.COMPAT?Dt()-T:E===S.ADVANCED?T:void 0},G=function(T){return D(z(T))};f.__private__.setPrecision=f.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var ve,J="00000000000000000000000000000000",$=f.__private__.getFileId=function(){return J},X=f.__private__.setFileId=function(T){return J=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ki=new A1(u.userPermissions,u.userPassword,u.ownerPassword,J)),J};f.setFileId=function(T){return X(T),this},f.getFileId=function(){return $()};var ie=f.__private__.convertDateToPDFDate=function(T){var Y=T.getTimezoneOffset(),le=Y<0?"+":"-",xe=Math.floor(Math.abs(Y/60)),Ie=Math.abs(Y%60),je=[le,re(xe),"'",re(Ie),"'"].join("");return["D:",T.getFullYear(),re(T.getMonth()+1),re(T.getDate()),re(T.getHours()),re(T.getMinutes()),re(T.getSeconds()),je].join("")},pe=f.__private__.convertPDFDateToDate=function(T){var Y=parseInt(T.substr(2,4),10),le=parseInt(T.substr(6,2),10)-1,xe=parseInt(T.substr(8,2),10),Ie=parseInt(T.substr(10,2),10),je=parseInt(T.substr(12,2),10),ot=parseInt(T.substr(14,2),10);return new Date(Y,le,xe,Ie,je,ot,0)},te=f.__private__.setCreationDate=function(T){var Y;if(T===void 0&&(T=new Date),T instanceof Date)Y=ie(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=T}return ve=Y},H=f.__private__.getCreationDate=function(T){var Y=ve;return T==="jsDate"&&(Y=pe(ve)),Y};f.setCreationDate=function(T){return te(T),this},f.getCreationDate=function(T){return H(T)};var q,re=f.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},he=f.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},Ae=0,ge=[],we=[],ke=0,ze=[],Ve=[],Ue=!1,ft=we,Kt=function(){Ae=0,ke=0,we=[],ge=[],ze=[],en=qt(),Tt=qt()};f.__private__.setCustomOutputDestination=function(T){Ue=!0,ft=T};var Ge=function(T){Ue||(ft=T)};f.__private__.resetCustomOutputDestination=function(){Ue=!1,ft=we};var Se=f.__private__.out=function(T){return T=T.toString(),ke+=T.length+1,ft.push(T),ft},Nt=f.__private__.write=function(T){return Se(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},xt=f.__private__.getArrayBuffer=function(T){for(var Y=T.length,le=new ArrayBuffer(Y),xe=new Uint8Array(le);Y--;)xe[Y]=T.charCodeAt(Y);return le},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return at};var Ct=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(T){return Ct=E===S.ADVANCED?T/se:T,this};var Et,mt=f.__private__.getFontSize=f.getFontSize=function(){return E===S.COMPAT?Ct:Ct*se},Ut=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(T){return Ut=T,this},f.__private__.getR2L=f.getR2L=function(){return Ut};var qe,Cn=f.__private__.setZoomMode=function(T){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))Et=T;else if(isNaN(T)){if(Y.indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');Et=T}else Et=parseInt(T,10)};f.__private__.getZoomMode=function(){return Et};var zt,vn=f.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');qe=T};f.__private__.getPageMode=function(){return qe};var mn=f.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');zt=T};f.__private__.getLayoutMode=function(){return zt},f.__private__.setDisplayMode=f.setDisplayMode=function(T,Y,le){return Cn(T),mn(Y),vn(le),this};var ln={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(T){if(Object.keys(ln).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ln[T]},f.__private__.getDocumentProperties=function(){return ln},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(T){for(var Y in ln)ln.hasOwnProperty(Y)&&T[Y]&&(ln[Y]=T[Y]);return this},f.__private__.setDocumentProperty=function(T,Y){if(Object.keys(ln).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ln[T]=Y};var Fn,se,ut,At,Pt,Le={},We={},oe=[],st={},sn={},O={},Xe={},Ye=null,ae=0,Ee=[],Pe=new L8(f),Ft=n.hotfixes||[],vt={},Lt={},Ze=[],Oe=function T(Y,le,xe,Ie,je,ot){if(!(this instanceof T))return new T(Y,le,xe,Ie,je,ot);isNaN(Y)&&(Y=1),isNaN(le)&&(le=0),isNaN(xe)&&(xe=0),isNaN(Ie)&&(Ie=1),isNaN(je)&&(je=0),isNaN(ot)&&(ot=0),this._matrix=[Y,le,xe,Ie,je,ot]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Oe.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(T)},Oe.prototype.multiply=function(T){var Y=T.sx*this.sx+T.shy*this.shx,le=T.sx*this.shy+T.shy*this.sy,xe=T.shx*this.sx+T.sy*this.shx,Ie=T.shx*this.shy+T.sy*this.sy,je=T.tx*this.sx+T.ty*this.shx+this.tx,ot=T.tx*this.shy+T.ty*this.sy+this.ty;return new Oe(Y,le,xe,Ie,je,ot)},Oe.prototype.decompose=function(){var T=this.sx,Y=this.shy,le=this.shx,xe=this.sy,Ie=this.tx,je=this.ty,ot=Math.sqrt(T*T+Y*Y),Ht=(T/=ot)*le+(Y/=ot)*xe;le-=T*Ht,xe-=Y*Ht;var Ln=Math.sqrt(le*le+xe*xe);return Ht/=Ln,T*(xe/=Ln)<Y*(le/=Ln)&&(T=-T,Y=-Y,Ht=-Ht,ot=-ot),{scale:new Oe(ot,0,0,Ln,0,0),translate:new Oe(1,0,0,1,Ie,je),rotate:new Oe(T,Y,-Y,T,0,0),skew:new Oe(1,0,Ht,1,0,0)}},Oe.prototype.toString=function(T){return this.join(" ")},Oe.prototype.inversed=function(){var T=this.sx,Y=this.shy,le=this.shx,xe=this.sy,Ie=this.tx,je=this.ty,ot=1/(T*xe-Y*le),Ht=xe*ot,Ln=-Y*ot,fn=-le*ot,Hn=T*ot;return new Oe(Ht,Ln,fn,Hn,-Ht*Ie-fn*je,-Ln*Ie-Hn*je)},Oe.prototype.applyToPoint=function(T){var Y=T.x*this.sx+T.y*this.shx+this.tx,le=T.x*this.shy+T.y*this.sy+this.ty;return new gt(Y,le)},Oe.prototype.applyToRectangle=function(T){var Y=this.applyToPoint(T),le=this.applyToPoint(new gt(T.x+T.w,T.y+T.h));return new tt(Y.x,Y.y,le.x-Y.x,le.y-Y.y)},Oe.prototype.clone=function(){var T=this.sx,Y=this.shy,le=this.shx,xe=this.sy,Ie=this.tx,je=this.ty;return new Oe(T,Y,le,xe,Ie,je)},f.Matrix=Oe;var St=f.matrixMult=function(T,Y){return Y.multiply(T)},Ke=new Oe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ke;var lt=function(T,Y){if(!sn[T]){var le=(Y instanceof p0?"Sh":"P")+(Object.keys(st).length+1).toString(10);Y.id=le,sn[T]=le,st[le]=Y,Pe.publish("addPattern",Y)}};f.ShadingPattern=p0,f.TilingPattern=S1,f.addShadingPattern=function(T,Y){return U("addShadingPattern()"),lt(T,Y),this},f.beginTilingPattern=function(T){U("beginTilingPattern()"),Jt(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},f.endTilingPattern=function(T,Y){U("endTilingPattern()"),Y.stream=Ve[q].join(`
`),lt(T,Y),Pe.publish("endTilingPattern",Y),Ze.pop().restore()};var pt=f.__private__.newObject=function(){var T=qt();return on(T,!0),T},qt=f.__private__.newObjectDeferred=function(){return Ae++,ge[Ae]=function(){return ke},Ae},on=function(T,Y){return Y=typeof Y=="boolean"&&Y,ge[T]=ke,Y&&Se(T+" 0 obj"),T},Gt=f.__private__.newAdditionalObject=function(){var T={objId:qt(),content:""};return ze.push(T),T},en=qt(),Tt=qt(),tn=f.__private__.decodeColorString=function(T){var Y=T.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var le=parseFloat(Y[0]);Y=[le,le,le,"r"]}for(var xe="#",Ie=0;Ie<3;Ie++)xe+=("0"+Math.floor(255*parseFloat(Y[Ie])).toString(16)).slice(-2);return xe},yn=f.__private__.encodeColorString=function(T){var Y;typeof T=="string"&&(T={ch1:T});var le=T.ch1,xe=T.ch2,Ie=T.ch3,je=T.ch4,ot=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var Ht=new bV(le);if(Ht.ok)le=Ht.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var Ln=parseInt(le.substr(1),16);le=Ln>>16&255,xe=Ln>>8&255,Ie=255&Ln}if(xe===void 0||je===void 0&&le===xe&&xe===Ie)if(typeof le=="string")Y=le+" "+ot[0];else switch(T.precision){case 2:Y=W(le/255)+" "+ot[0];break;case 3:default:Y=L(le/255)+" "+ot[0]}else if(je===void 0||Qi(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return Y=["1.","1.","1.",ot[1]].join(" ");if(typeof le=="string")Y=[le,xe,Ie,ot[1]].join(" ");else switch(T.precision){case 2:Y=[W(le/255),W(xe/255),W(Ie/255),ot[1]].join(" ");break;default:case 3:Y=[L(le/255),L(xe/255),L(Ie/255),ot[1]].join(" ")}}else if(typeof le=="string")Y=[le,xe,Ie,je,ot[2]].join(" ");else switch(T.precision){case 2:Y=[W(le),W(xe),W(Ie),W(je),ot[2]].join(" ");break;case 3:default:Y=[L(le),L(xe),L(Ie),L(je),ot[2]].join(" ")}return Y},Yt=f.__private__.getFilters=function(){return o},cn=f.__private__.putStream=function(T){var Y=(T=T||{}).data||"",le=T.filters||Yt(),xe=T.alreadyAppliedFilters||[],Ie=T.addLength1||!1,je=Y.length,ot=T.objectId,Ht=function(Gi){return Gi};if(u!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ht=Ki.encryptor(ot,0));var Ln={};le===!0&&(le=["FlateEncode"]);var fn=T.additionalKeyValues||[],Hn=(Ln=cr.API.processDataByFilters!==void 0?cr.API.processDataByFilters(Y,le):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Ln.data.length!==0&&(fn.push({key:"Length",value:Ln.data.length}),Ie===!0&&fn.push({key:"Length1",value:je})),Hn.length!=0)if(Hn.split("/").length-1==1)fn.push({key:"Filter",value:Hn});else{fn.push({key:"Filter",value:"["+Hn+"]"});for(var Lr=0;Lr<fn.length;Lr+=1)if(fn[Lr].key==="DecodeParms"){for(var _i=[],Vn=0;Vn<Ln.reverseChain.split("/").length-1;Vn+=1)_i.push("null");_i.push(fn[Lr].value),fn[Lr].value="["+_i.join(" ")+"]"}}Se("<<");for(var si=0;si<fn.length;si++)Se("/"+fn[si].key+" "+fn[si].value);Se(">>"),Ln.data.length!==0&&(Se("stream"),Se(Ht(Ln.data)),Se("endstream"))},bn=f.__private__.putPage=function(T){var Y=T.number,le=T.data,xe=T.objId,Ie=T.contentsObjId;on(xe,!0),Se("<</Type /Page"),Se("/Parent "+T.rootDictionaryObjId+" 0 R"),Se("/Resources "+T.resourceDictionaryObjId+" 0 R"),Se("/MediaBox ["+parseFloat(I(T.mediaBox.bottomLeftX))+" "+parseFloat(I(T.mediaBox.bottomLeftY))+" "+I(T.mediaBox.topRightX)+" "+I(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&Se("/CropBox ["+I(T.cropBox.bottomLeftX)+" "+I(T.cropBox.bottomLeftY)+" "+I(T.cropBox.topRightX)+" "+I(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&Se("/BleedBox ["+I(T.bleedBox.bottomLeftX)+" "+I(T.bleedBox.bottomLeftY)+" "+I(T.bleedBox.topRightX)+" "+I(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&Se("/TrimBox ["+I(T.trimBox.bottomLeftX)+" "+I(T.trimBox.bottomLeftY)+" "+I(T.trimBox.topRightX)+" "+I(T.trimBox.topRightY)+"]"),T.artBox!==null&&Se("/ArtBox ["+I(T.artBox.bottomLeftX)+" "+I(T.artBox.bottomLeftY)+" "+I(T.artBox.topRightX)+" "+I(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&Se("/UserUnit "+T.userUnit),Pe.publish("putPage",{objId:xe,pageContext:Ee[Y],pageNumber:Y,page:le}),Se("/Contents "+Ie+" 0 R"),Se(">>"),Se("endobj");var je=le.join(`
`);return E===S.ADVANCED&&(je+=`
Q`),on(Ie,!0),cn({data:je,filters:Yt(),objectId:Ie}),Se("endobj"),xe},yr=f.__private__.putPages=function(){var T,Y,le=[];for(T=1;T<=ae;T++)Ee[T].objId=qt(),Ee[T].contentsObjId=qt();for(T=1;T<=ae;T++)le.push(bn({number:T,data:Ve[T],objId:Ee[T].objId,contentsObjId:Ee[T].contentsObjId,mediaBox:Ee[T].mediaBox,cropBox:Ee[T].cropBox,bleedBox:Ee[T].bleedBox,trimBox:Ee[T].trimBox,artBox:Ee[T].artBox,userUnit:Ee[T].userUnit,rootDictionaryObjId:en,resourceDictionaryObjId:Tt}));on(en,!0),Se("<</Type /Pages");var xe="/Kids [";for(Y=0;Y<ae;Y++)xe+=le[Y]+" 0 R ";Se(xe+"]"),Se("/Count "+ae),Se(">>"),Se("endobj"),Pe.publish("postPutPages")},On=function(T){Pe.publish("putFont",{font:T,out:Se,newObject:pt,putStream:cn}),T.isAlreadyPutted!==!0&&(T.objectNumber=pt(),Se("<<"),Se("/Type /Font"),Se("/BaseFont /"+d1(T.postScriptName)),Se("/Subtype /Type1"),typeof T.encoding=="string"&&Se("/Encoding /"+T.encoding),Se("/FirstChar 32"),Se("/LastChar 255"),Se(">>"),Se("endobj"))},hr=function(){for(var T in Le)Le.hasOwnProperty(T)&&(A===!1||A===!0&&h.hasOwnProperty(T))&&On(Le[T])},Pn=function(T){T.objectNumber=pt();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[I(T.x),I(T.y),I(T.x+T.width),I(T.y+T.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var le=T.pages[1].join(`
`);cn({data:le,additionalKeyValues:Y,objectId:T.objectNumber}),Se("endobj")},Si=function(){for(var T in vt)vt.hasOwnProperty(T)&&Pn(vt[T])},$c=function(T,Y){var le,xe=[],Ie=1/(Y-1);for(le=0;le<1;le+=Ie)xe.push(le);if(xe.push(1),T[0].offset!=0){var je={offset:0,color:T[0].color};T.unshift(je)}if(T[T.length-1].offset!=1){var ot={offset:1,color:T[T.length-1].color};T.push(ot)}for(var Ht="",Ln=0,fn=0;fn<xe.length;fn++){for(le=xe[fn];le>T[Ln+1].offset;)Ln++;var Hn=T[Ln].offset,Lr=(le-Hn)/(T[Ln+1].offset-Hn),_i=T[Ln].color,Vn=T[Ln+1].color;Ht+=he(Math.round((1-Lr)*_i[0]+Lr*Vn[0]).toString(16))+he(Math.round((1-Lr)*_i[1]+Lr*Vn[1]).toString(16))+he(Math.round((1-Lr)*_i[2]+Lr*Vn[2]).toString(16))}return Ht.trim()},di=function(T,Y){Y||(Y=21);var le=pt(),xe=$c(T.colors,Y),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+Y+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cn({data:xe,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),Se("endobj"),T.objectNumber=pt(),Se("<< /ShadingType "+T.type),Se("/ColorSpace /DeviceRGB");var je="/Coords ["+I(parseFloat(T.coords[0]))+" "+I(parseFloat(T.coords[1]))+" ";T.type===2?je+=I(parseFloat(T.coords[2]))+" "+I(parseFloat(T.coords[3])):je+=I(parseFloat(T.coords[2]))+" "+I(parseFloat(T.coords[3]))+" "+I(parseFloat(T.coords[4]))+" "+I(parseFloat(T.coords[5])),Se(je+="]"),T.matrix&&Se("/Matrix ["+T.matrix.toString()+"]"),Se("/Function "+le+" 0 R"),Se("/Extend [true true]"),Se(">>"),Se("endobj")},us=function(T,Y){var le=qt(),xe=pt();Y.push({resourcesOid:le,objectOid:xe}),T.objectNumber=xe;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+T.boundingBox.map(I).join(" ")+"]"}),Ie.push({key:"XStep",value:I(T.xStep)}),Ie.push({key:"YStep",value:I(T.yStep)}),Ie.push({key:"Resources",value:le+" 0 R"}),T.matrix&&Ie.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),cn({data:T.stream,additionalKeyValues:Ie,objectId:T.objectNumber}),Se("endobj")},qs=function(T){var Y;for(Y in st)st.hasOwnProperty(Y)&&(st[Y]instanceof p0?di(st[Y]):st[Y]instanceof S1&&us(st[Y],T))},qu=function(T){for(var Y in T.objectNumber=pt(),Se("<<"),T)switch(Y){case"opacity":Se("/ca "+W(T[Y]));break;case"stroke-opacity":Se("/CA "+W(T[Y]))}Se(">>"),Se("endobj")},Xu=function(){var T;for(T in O)O.hasOwnProperty(T)&&qu(O[T])},Yu=function(){for(var T in Se("/XObject <<"),vt)vt.hasOwnProperty(T)&&vt[T].objectNumber>=0&&Se("/"+T+" "+vt[T].objectNumber+" 0 R");Pe.publish("putXobjectDict"),Se(">>")},uh=function(){Ki.oid=pt(),Se("<<"),Se("/Filter /Standard"),Se("/V "+Ki.v),Se("/R "+Ki.r),Se("/U <"+Ki.toHexString(Ki.U)+">"),Se("/O <"+Ki.toHexString(Ki.O)+">"),Se("/P "+Ki.P),Se(">>"),Se("endobj")},Dl=function(){for(var T in Se("/Font <<"),Le)Le.hasOwnProperty(T)&&(A===!1||A===!0&&h.hasOwnProperty(T))&&Se("/"+T+" "+Le[T].objectNumber+" 0 R");Se(">>")},Hr=function(){if(Object.keys(st).length>0){for(var T in Se("/Shading <<"),st)st.hasOwnProperty(T)&&st[T]instanceof p0&&st[T].objectNumber>=0&&Se("/"+T+" "+st[T].objectNumber+" 0 R");Pe.publish("putShadingPatternDict"),Se(">>")}},rl=function(T){if(Object.keys(st).length>0){for(var Y in Se("/Pattern <<"),st)st.hasOwnProperty(Y)&&st[Y]instanceof f.TilingPattern&&st[Y].objectNumber>=0&&st[Y].objectNumber<T&&Se("/"+Y+" "+st[Y].objectNumber+" 0 R");Pe.publish("putTilingPatternDict"),Se(">>")}},_s=function(){if(Object.keys(O).length>0){var T;for(T in Se("/ExtGState <<"),O)O.hasOwnProperty(T)&&O[T].objectNumber>=0&&Se("/"+T+" "+O[T].objectNumber+" 0 R");Pe.publish("putGStateDict"),Se(">>")}},ri=function(T){on(T.resourcesOid,!0),Se("<<"),Se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Dl(),Hr(),rl(T.objectOid),_s(),Yu(),Se(">>"),Se("endobj")},Zu=function(){var T=[];hr(),Xu(),Si(),qs(T),Pe.publish("putResources"),T.forEach(ri),ri({resourcesOid:Tt,objectOid:Number.MAX_SAFE_INTEGER}),Pe.publish("postPutResources")},Ah=function(){Pe.publish("putAdditionalObjects");for(var T=0;T<ze.length;T++){var Y=ze[T];on(Y.objId,!0),Se(Y.content),Se("endobj")}Pe.publish("postPutAdditionalObjects")},eu=function(T){We[T.fontName]=We[T.fontName]||{},We[T.fontName][T.fontStyle]=T.id},_l=function(T,Y,le,xe,Ie){var je={id:"F"+(Object.keys(Le).length+1).toString(10),postScriptName:T,fontName:Y,fontStyle:le,encoding:xe,isStandardFont:Ie||!1,metadata:{}};return Pe.publish("addFont",{font:je,instance:this}),Le[je.id]=je,eu(je),je.id},vs=function(T){for(var Y=0,le=at.length;Y<le;Y++){var xe=_l.call(this,T[Y][0],T[Y][1],T[Y][2],at[Y][3],!0);A===!1&&(h[xe]=!0);var Ie=T[Y][0].split("-");eu({id:xe,fontName:Ie[0],fontStyle:Ie[1]||""})}Pe.publish("addFonts",{fonts:Le,dictionary:We})},ys=function(T){return T.foo=function(){try{return T.apply(this,arguments)}catch(xe){var Y=xe.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var le="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+xe.message;if(!ur.console)throw new Error(le);ur.console.error(le,xe),ur.alert&&alert(le)}},T.foo.bar=T,T.foo},ci=function(T,Y){var le,xe,Ie,je,ot,Ht,Ln,fn,Hn;if(Ie=(Y=Y||{}).sourceEncoding||"Unicode",ot=Y.outputEncoding,(Y.autoencode||ot)&&Le[Fn].metadata&&Le[Fn].metadata[Ie]&&Le[Fn].metadata[Ie].encoding&&(je=Le[Fn].metadata[Ie].encoding,!ot&&Le[Fn].encoding&&(ot=Le[Fn].encoding),!ot&&je.codePages&&(ot=je.codePages[0]),typeof ot=="string"&&(ot=je[ot]),ot)){for(Ln=!1,Ht=[],le=0,xe=T.length;le<xe;le++)(fn=ot[T.charCodeAt(le)])?Ht.push(String.fromCharCode(fn)):Ht.push(T[le]),Ht[le].charCodeAt(0)>>8&&(Ln=!0);T=Ht.join("")}for(le=T.length;Ln===void 0&&le!==0;)T.charCodeAt(le-1)>>8&&(Ln=!0),le--;if(!Ln)return T;for(Ht=Y.noBOM?[]:[254,255],le=0,xe=T.length;le<xe;le++){if((Hn=(fn=T.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+T+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ht.push(Hn),Ht.push(fn-(Hn<<8))}return String.fromCharCode.apply(void 0,Ht)},lo=f.__private__.pdfEscape=f.pdfEscape=function(T,Y){return ci(T,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ol=f.__private__.beginPage=function(T){Ve[++ae]=[],Ee[ae]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},Do(ae),Ge(Ve[q])},As=function(T,Y){var le,xe,Ie;switch(t=Y||t,typeof T=="string"&&(le=b(T.toLowerCase()),Array.isArray(le)&&(xe=le[0],Ie=le[1])),Array.isArray(T)&&(xe=T[0]*se,Ie=T[1]*se),isNaN(xe)&&(xe=i[0],Ie=i[1]),(xe>14400||Ie>14400)&&(ts.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ie=Math.min(14400,Ie)),i=[xe,Ie],t.substr(0,1)){case"l":Ie>xe&&(i=[Ie,xe]);break;case"p":xe>Ie&&(i=[Ie,xe])}Ol(i),gi(jr),Se(bs),rt!==0&&Se(rt+" J"),Ne!==0&&Se(Ne+" j"),Pe.publish("addPage",{pageNumber:ae})},tu=function(T){T>0&&T<=ae&&(Ve.splice(T,1),Ee.splice(T,1),ae--,q>ae&&(q=ae),this.setPage(q))},Do=function(T){T>0&&T<=ae&&(q=T)},Wf=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ve.length-1},nu=function(T,Y,le){var xe,Ie=void 0;return le=le||{},T=T!==void 0?T:Le[Fn].fontName,Y=Y!==void 0?Y:Le[Fn].fontStyle,xe=T.toLowerCase(),We[xe]!==void 0&&We[xe][Y]!==void 0?Ie=We[xe][Y]:We[T]!==void 0&&We[T][Y]!==void 0?Ie=We[T][Y]:le.disableWarning===!1&&ts.warn("Unable to look up font label for font '"+T+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ie||le.noFallback||(Ie=We.times[Y])==null&&(Ie=We.times.normal),Ie},Wr=f.__private__.putInfo=function(){var T=pt(),Y=function(xe){return xe};for(var le in u!==null&&(Y=Ki.encryptor(T,0)),Se("<<"),Se("/Producer ("+lo(Y("jsPDF "+cr.version))+")"),ln)ln.hasOwnProperty(le)&&ln[le]&&Se("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+lo(Y(ln[le]))+")");Se("/CreationDate ("+lo(Y(ve))+")"),Se(">>"),Se("endobj")},Ul=f.__private__.putCatalog=function(T){var Y=(T=T||{}).rootDictionaryObjId||en;switch(pt(),Se("<<"),Se("/Type /Catalog"),Se("/Pages "+Y+" 0 R"),Et||(Et="fullwidth"),Et){case"fullwidth":Se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Se("/OpenAction [3 0 R /Fit]");break;case"original":Se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+Et;le.substr(le.length-1)==="%"&&(Et=parseInt(Et)/100),typeof Et=="number"&&Se("/OpenAction [3 0 R /XYZ null null "+W(Et)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":Se("/PageLayout /OneColumn");break;case"single":Se("/PageLayout /SinglePage");break;case"two":case"twoleft":Se("/PageLayout /TwoColumnLeft");break;case"tworight":Se("/PageLayout /TwoColumnRight")}qe&&Se("/PageMode /"+qe),Pe.publish("putCatalog"),Se(">>"),Se("endobj")},Ju=f.__private__.putTrailer=function(){Se("trailer"),Se("<<"),Se("/Size "+(Ae+1)),Se("/Root "+Ae+" 0 R"),Se("/Info "+(Ae-1)+" 0 R"),u!==null&&Se("/Encrypt "+Ki.oid+" 0 R"),Se("/ID [ <"+J+"> <"+J+"> ]"),Se(">>")},hc=f.__private__.putHeader=function(){Se("%PDF-"+v),Se("%")},id=f.__private__.putXRef=function(){var T="0000000000";Se("xref"),Se("0 "+(Ae+1)),Se("0000000000 65535 f ");for(var Y=1;Y<=Ae;Y++)typeof ge[Y]=="function"?Se((T+ge[Y]()).slice(-10)+" 00000 n "):ge[Y]!==void 0?Se((T+ge[Y]).slice(-10)+" 00000 n "):Se("0000000000 00000 n ")},il=f.__private__.buildDocument=function(){Kt(),Ge(we),Pe.publish("buildDocument"),hc(),yr(),Ah(),Zu(),u!==null&&uh(),Wr(),Ul();var T=ke;return id(),Ju(),Se("startxref"),Se(""+T),Se("%%EOF"),Ge(Ve[q]),we.join(`
`)},Hl=f.__private__.getBlob=function(T){return new Blob([xt(T)],{type:"application/pdf"})},jl=f.output=f.__private__.output=ys(function(T,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",T){case void 0:return il();case"save":f.save(Y.filename);break;case"arraybuffer":return xt(il());case"blob":return Hl(il());case"bloburi":case"bloburl":if(ur.URL!==void 0&&typeof ur.URL.createObjectURL=="function")return ur.URL&&ur.URL.createObjectURL(Hl(il()))||void 0;ts.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",xe=il();try{le=mI(xe)}catch{le=mI(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+Y.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ie=Y.pdfObjectUrl,je="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Ht=ur.open();return Ht!==null&&Ht.document.write(ot),Ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',fn=ur.open();if(fn!==null){fn.document.write(Ln);var Hn=this;fn.document.documentElement.querySelector("#pdfViewer").onload=function(){fn.document.title=Y.filename,fn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Hn.output("bloburl"))}}return fn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',_i=ur.open();if(_i!==null&&(_i.document.write(Lr),_i.document.title=Y.filename),_i||typeof safari>"u")return _i;break;case"datauri":case"dataurl":return ur.document.location.href=this.output("datauristring",Y);default:return null}}),ru=function(T){return Array.isArray(Ft)===!0&&Ft.indexOf(T)>-1};switch(r){case"pt":se=1;break;case"mm":se=72/25.4;break;case"cm":se=72/2.54;break;case"in":se=72;break;case"px":se=ru("px_scaling")==1?.75:96/72;break;case"pc":case"em":se=12;break;case"ex":se=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);se=r}var Ki=null;te(),X();var Ts=function(T){return u!==null?Ki.encryptor(T,0):function(Y){return Y}},wo=f.__private__.getPageInfo=f.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ee[T].objId,pageNumber:T,pageContext:Ee[T]}},nn=f.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Ee)if(Ee[Y].objId===T)break;return wo(Y)},sl=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ee[q].objId,pageNumber:q,pageContext:Ee[q]}};f.addPage=function(){return As.apply(this,arguments),this},f.setPage=function(){return Do.apply(this,arguments),Ge.call(this,Ve[q]),this},f.insertPage=function(T){return this.addPage(),this.movePage(q,T),this},f.movePage=function(T,Y){var le,xe;if(T>Y){le=Ve[T],xe=Ee[T];for(var Ie=T;Ie>Y;Ie--)Ve[Ie]=Ve[Ie-1],Ee[Ie]=Ee[Ie-1];Ve[Y]=le,Ee[Y]=xe,this.setPage(Y)}else if(T<Y){le=Ve[T],xe=Ee[T];for(var je=T;je<Y;je++)Ve[je]=Ve[je+1],Ee[je]=Ee[je+1];Ve[Y]=le,Ee[Y]=xe,this.setPage(Y)}return this},f.deletePage=function(){return tu.apply(this,arguments),this},f.__private__.text=f.text=function(T,Y,le,xe,Ie){var je,ot,Ht,Ln,fn,Hn,Lr,_i,Vn,si=(xe=xe||{}).scope||this;if(typeof T=="number"&&typeof Y=="number"&&(typeof le=="string"||Array.isArray(le))){var Gi=le;le=Y,Y=T,T=Gi}if(arguments[3]instanceof Oe?(U("The transform parameter of text() with a Matrix value"),Vn=Ie):(Ht=arguments[4],Ln=arguments[5],Qi(Lr=arguments[3])==="object"&&Lr!==null||(typeof Ht=="string"&&(Ln=Ht,Ht=null),typeof Lr=="string"&&(Ln=Lr,Lr=null),typeof Lr=="number"&&(Ht=Lr,Lr=null),xe={flags:Lr,angle:Ht,align:Ln})),isNaN(Y)||isNaN(le)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return si;var Wi="",mc=!1,al=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:hn,zl=si.internal.scaleFactor;function sd(Oi){return Oi=Oi.split("	").join(Array(xe.TabLen||9).join(" ")),lo(Oi,Lr)}function Lg(Oi){for(var Ei,xs=Oi.concat(),Os=[],au=xs.length;au--;)typeof(Ei=xs.shift())=="string"?Os.push(Ei):Array.isArray(Oi)&&(Ei.length===1||Ei[1]===void 0&&Ei[2]===void 0)?Os.push(Ei[0]):Os.push([Ei[0],Ei[1],Ei[2]]);return Os}function qf(Oi,Ei){var xs;if(typeof Oi=="string")xs=Ei(Oi)[0];else if(Array.isArray(Oi)){for(var Os,au,ip=Oi.concat(),yh=[],Rg=ip.length;Rg--;)typeof(Os=ip.shift())=="string"?yh.push(Ei(Os)[0]):Array.isArray(Os)&&typeof Os[0]=="string"&&(au=Ei(Os[0],Os[1],Os[2]),yh.push([au[0],au[1],au[2]]));xs=yh}return xs}var dh=!1,Xf=!0;if(typeof T=="string")dh=!0;else if(Array.isArray(T)){var Yf=T.concat();ot=[];for(var hh,ws=Yf.length;ws--;)(typeof(hh=Yf.shift())!="string"||Array.isArray(hh)&&typeof hh[0]!="string")&&(Xf=!1);dh=Xf}if(dh===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Zf=Ct/si.internal.scaleFactor,Jf=Zf*(al-1);switch(xe.baseline){case"bottom":le-=Jf;break;case"top":le+=Zf-Jf;break;case"hanging":le+=Zf-2*Jf;break;case"middle":le+=Zf/2-Jf}if((Hn=xe.maxWidth||0)>0&&(typeof T=="string"?T=si.splitTextToSize(T,Hn):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(Oi,Ei){return Oi.concat(si.splitTextToSize(Ei,Hn))},[]))),je={text:T,x:Y,y:le,options:xe,mutex:{pdfEscape:lo,activeFontKey:Fn,fonts:Le,activeFontSize:Ct}},Pe.publish("preProcessText",je),T=je.text,Ht=(xe=je.options).angle,!(Vn instanceof Oe)&&Ht&&typeof Ht=="number"){Ht*=Math.PI/180,xe.rotationDirection===0&&(Ht=-Ht),E===S.ADVANCED&&(Ht=-Ht);var $f=Math.cos(Ht),ep=Math.sin(Ht);Vn=new Oe($f,ep,-ep,$f,0,0)}else Ht&&Ht instanceof Oe&&(Vn=Ht);E!==S.ADVANCED||Vn||(Vn=Ke),(fn=xe.charSpace||$i)!==void 0&&(Wi+=I(D(fn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_i=xe.horizontalScale)!==void 0&&(Wi+=I(100*_i)+` Tz
`),xe.lang;var oa=-1,fh=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,$u=si.internal.getCurrentPageInfo().pageContext;switch(fh){case 0:case!1:case"fill":oa=0;break;case 1:case!0:case"stroke":oa=1;break;case 2:case"fillThenStroke":oa=2;break;case 3:case"invisible":oa=3;break;case 4:case"fillAndAddForClipping":oa=4;break;case 5:case"strokeAndAddPathForClipping":oa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oa=6;break;case 7:case"addToPathForClipping":oa=7}var my=$u.usedRenderingMode!==void 0?$u.usedRenderingMode:-1;oa!==-1?Wi+=oa+` Tr
`:my!==-1&&(Wi+=`0 Tr
`),oa!==-1&&($u.usedRenderingMode=oa),Ln=xe.align||"left";var aa,tp=Ct*al,Ig=si.internal.pageSize.getWidth(),np=Le[Fn];fn=xe.charSpace||$i,Hn=xe.maxWidth||0,Lr=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var su=[],od=function(Oi){return si.getStringUnitWidth(Oi,{font:np,charSpace:fn,fontSize:Ct,doKerning:!1})*Ct/zl};if(Object.prototype.toString.call(T)==="[object Array]"){var la;ot=Lg(T),Ln!=="left"&&(aa=ot.map(od));var _o,ad=0;if(Ln==="right"){Y-=aa[0],T=[],ws=ot.length;for(var eA=0;eA<ws;eA++)eA===0?(_o=Kn(Y),la=Er(le)):(_o=D(ad-aa[eA]),la=-tp),T.push([ot[eA],_o,la]),ad=aa[eA]}else if(Ln==="center"){Y-=aa[0]/2,T=[],ws=ot.length;for(var tA=0;tA<ws;tA++)tA===0?(_o=Kn(Y),la=Er(le)):(_o=D((ad-aa[tA])/2),la=-tp),T.push([ot[tA],_o,la]),ad=aa[tA]}else if(Ln==="left"){T=[],ws=ot.length;for(var rp=0;rp<ws;rp++)T.push(ot[rp])}else if(Ln==="justify"&&np.encoding==="Identity-H"){T=[],ws=ot.length,Hn=Hn!==0?Hn:Ig;for(var nA=0,hi=0;hi<ws;hi++)if(la=hi===0?Er(le):-tp,_o=hi===0?Kn(Y):nA,hi<ws-1){var rA=D((Hn-aa[hi])/(ot[hi].split(" ").length-1)),Oo=ot[hi].split(" ");T.push([Oo[0]+" ",_o,la]),nA=0;for(var ll=1;ll<Oo.length;ll++){var ph=(od(Oo[ll-1]+" "+Oo[ll])-od(Oo[ll]))*zl+rA;ll==Oo.length-1?T.push([Oo[ll],ph,0]):T.push([Oo[ll]+" ",ph,0]),nA-=ph}}else T.push([ot[hi],_o,la]);T.push(["",nA,0])}else{if(Ln!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],ws=ot.length,Hn=Hn!==0?Hn:Ig,hi=0;hi<ws;hi++)la=hi===0?Er(le):-tp,_o=hi===0?Kn(Y):0,hi<ws-1?su.push(I(D((Hn-aa[hi])/(ot[hi].split(" ").length-1)))):su.push(0),T.push([ot[hi],_o,la])}}var Mg=typeof xe.R2L=="boolean"?xe.R2L:Ut;Mg===!0&&(T=qf(T,function(Oi,Ei,xs){return[Oi.split("").reverse().join(""),Ei,xs]})),je={text:T,x:Y,y:le,options:xe,mutex:{pdfEscape:lo,activeFontKey:Fn,fonts:Le,activeFontSize:Ct}},Pe.publish("postProcessText",je),T=je.text,mc=je.mutex.isHex||!1;var mh=Le[Fn].encoding;mh!=="WinAnsiEncoding"&&mh!=="StandardEncoding"||(T=qf(T,function(Oi,Ei,xs){return[sd(Oi),Ei,xs]})),ot=Lg(T),T=[];for(var gh,vh,cl,iA=0,ou=1,sA=Array.isArray(ot[0])?ou:iA,oA="",ld=function(Oi,Ei,xs){var Os="";return xs instanceof Oe?(xs=typeof xe.angle=="number"?St(xs,new Oe(1,0,0,1,Oi,Ei)):St(new Oe(1,0,0,1,Oi,Ei),xs),E===S.ADVANCED&&(xs=St(new Oe(1,0,0,-1,0,0),xs)),Os=xs.join(" ")+` Tm
`):Os=I(Oi)+" "+I(Ei)+` Td
`,Os},xo=0;xo<ot.length;xo++){switch(oA="",sA){case ou:cl=(mc?"<":"(")+ot[xo][0]+(mc?">":")"),gh=parseFloat(ot[xo][1]),vh=parseFloat(ot[xo][2]);break;case iA:cl=(mc?"<":"(")+ot[xo]+(mc?">":")"),gh=Kn(Y),vh=Er(le)}su!==void 0&&su[xo]!==void 0&&(oA=su[xo]+` Tw
`),xo===0?T.push(oA+ld(gh,vh,Vn)+cl):sA===iA?T.push(oA+cl):sA===ou&&T.push(oA+ld(gh,vh,Vn)+cl)}T=sA===iA?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var La=`BT
/`;return La+=Fn+" "+Ct+` Tf
`,La+=I(Ct*al)+` TL
`,La+=Bi+`
`,La+=Wi,La+=T,Se(La+="ET"),h[Fn]=!0,si};var sa=f.__private__.clip=f.clip=function(T){return Se(T==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return sa("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Se("n"),this};var Vi=f.__private__.isValidStyle=function(T){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(Y=!0),Y};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(T){return Vi(T)&&(c=T),this};var fc=f.__private__.getStyle=f.getStyle=function(T){var Y=c;switch(T){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=T}return Y},ol=f.close=function(){return Se("h"),this};f.stroke=function(){return Se("S"),this},f.fill=function(T){return iu("f",T),this},f.fillEvenOdd=function(T){return iu("f*",T),this},f.fillStroke=function(T){return iu("B",T),this},f.fillStrokeEvenOdd=function(T){return iu("B*",T),this};var iu=function(T,Y){Qi(Y)==="object"?rn(Y,T):Se(T)},pc=function(T){T===null||E===S.ADVANCED&&T===void 0||(T=fc(T),Se(T))};function Fe(T,Y,le,xe,Ie){var je=new S1(Y||this.boundingBox,le||this.xStep,xe||this.yStep,this.gState,Ie||this.matrix);je.stream=this.stream;var ot=T+"$$"+this.cloneIndex+++"$$";return lt(ot,je),je}var rn=function(T,Y){var le=sn[T.key],xe=st[le];if(xe instanceof p0)Se("q"),Se($n(Y)),xe.gState&&f.setGState(xe.gState),Se(T.matrix.toString()+" cm"),Se("/"+le+" sh"),Se("Q");else if(xe instanceof S1){var Ie=new Oe(1,0,0,-1,0,Dt());T.matrix&&(Ie=Ie.multiply(T.matrix||Ke),le=Fe.call(xe,T.key,T.boundingBox,T.xStep,T.yStep,Ie).id),Se("q"),Se("/Pattern cs"),Se("/"+le+" scn"),xe.gState&&f.setGState(xe.gState),Se(Y),Se("Q")}},$n=function(T){switch(T){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},zn=f.moveTo=function(T,Y){return Se(I(D(T))+" "+I(G(Y))+" m"),this},Rt=f.lineTo=function(T,Y){return Se(I(D(T))+" "+I(G(Y))+" l"),this},Sn=f.curveTo=function(T,Y,le,xe,Ie,je){return Se([I(D(T)),I(G(Y)),I(D(le)),I(G(xe)),I(D(Ie)),I(G(je)),"c"].join(" ")),this};f.__private__.line=f.line=function(T,Y,le,xe,Ie){if(isNaN(T)||isNaN(Y)||isNaN(le)||isNaN(xe)||!Vi(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return E===S.COMPAT?this.lines([[le-T,xe-Y]],T,Y,[1,1],Ie||"S"):this.lines([[le-T,xe-Y]],T,Y,[1,1]).stroke()},f.__private__.lines=f.lines=function(T,Y,le,xe,Ie,je){var ot,Ht,Ln,fn,Hn,Lr,_i,Vn,si,Gi,Wi,mc;if(typeof T=="number"&&(mc=le,le=Y,Y=T,T=mc),xe=xe||[1,1],je=je||!1,isNaN(Y)||isNaN(le)||!Array.isArray(T)||!Array.isArray(xe)||!Vi(Ie)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(zn(Y,le),ot=xe[0],Ht=xe[1],fn=T.length,Gi=Y,Wi=le,Ln=0;Ln<fn;Ln++)(Hn=T[Ln]).length===2?(Gi=Hn[0]*ot+Gi,Wi=Hn[1]*Ht+Wi,Rt(Gi,Wi)):(Lr=Hn[0]*ot+Gi,_i=Hn[1]*Ht+Wi,Vn=Hn[2]*ot+Gi,si=Hn[3]*Ht+Wi,Gi=Hn[4]*ot+Gi,Wi=Hn[5]*Ht+Wi,Sn(Lr,_i,Vn,si,Gi,Wi));return je&&ol(),pc(Ie),this},f.path=function(T){for(var Y=0;Y<T.length;Y++){var le=T[Y],xe=le.c;switch(le.op){case"m":zn(xe[0],xe[1]);break;case"l":Rt(xe[0],xe[1]);break;case"c":Sn.apply(this,xe);break;case"h":ol()}}return this},f.__private__.rect=f.rect=function(T,Y,le,xe,Ie){if(isNaN(T)||isNaN(Y)||isNaN(le)||isNaN(xe)||!Vi(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return E===S.COMPAT&&(xe=-xe),Se([I(D(T)),I(G(Y)),I(D(le)),I(D(xe)),"re"].join(" ")),pc(Ie),this},f.__private__.triangle=f.triangle=function(T,Y,le,xe,Ie,je,ot){if(isNaN(T)||isNaN(Y)||isNaN(le)||isNaN(xe)||isNaN(Ie)||isNaN(je)||!Vi(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-T,xe-Y],[Ie-le,je-xe],[T-Ie,Y-je]],T,Y,[1,1],ot,!0),this},f.__private__.roundedRect=f.roundedRect=function(T,Y,le,xe,Ie,je,ot){if(isNaN(T)||isNaN(Y)||isNaN(le)||isNaN(xe)||isNaN(Ie)||isNaN(je)||!Vi(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ht=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*le),je=Math.min(je,.5*xe),this.lines([[le-2*Ie,0],[Ie*Ht,0,Ie,je-je*Ht,Ie,je],[0,xe-2*je],[0,je*Ht,-Ie*Ht,je,-Ie,je],[2*Ie-le,0],[-Ie*Ht,0,-Ie,-je*Ht,-Ie,-je],[0,2*je-xe],[0,-je*Ht,Ie*Ht,-je,Ie,-je]],T+Ie,Y,[1,1],ot,!0),this},f.__private__.ellipse=f.ellipse=function(T,Y,le,xe,Ie){if(isNaN(T)||isNaN(Y)||isNaN(le)||isNaN(xe)||!Vi(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*le,ot=4/3*(Math.SQRT2-1)*xe;return zn(T+le,Y),Sn(T+le,Y-ot,T+je,Y-xe,T,Y-xe),Sn(T-je,Y-xe,T-le,Y-ot,T-le,Y),Sn(T-le,Y+ot,T-je,Y+xe,T,Y+xe),Sn(T+je,Y+xe,T+le,Y+ot,T+le,Y),pc(Ie),this},f.__private__.circle=f.circle=function(T,Y,le,xe){if(isNaN(T)||isNaN(Y)||isNaN(le)||!Vi(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,Y,le,le,xe)},f.setFont=function(T,Y,le){return le&&(Y=N(Y,le)),Fn=nu(T,Y,{disableWarning:!1}),this};var fr=f.__private__.getFont=f.getFont=function(){return Le[nu.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var T,Y,le={};for(T in We)if(We.hasOwnProperty(T))for(Y in le[T]=[],We[T])We[T].hasOwnProperty(Y)&&le[T].push(Y);return le},f.addFont=function(T,Y,le,xe,Ie){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(le=N(le,xe)),Ie=Ie||"Identity-H",_l.call(this,T,Y,le,Ie)};var hn,jr=n.lineWidth||.200025,Yn=f.__private__.getLineWidth=f.getLineWidth=function(){return jr},gi=f.__private__.setLineWidth=f.setLineWidth=function(T){return jr=T,Se(I(D(T))+" w"),this};f.__private__.setLineDash=cr.API.setLineDash=cr.API.setLineDashPattern=function(T,Y){if(T=T||[],Y=Y||0,isNaN(Y)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(le){return I(D(le))}).join(" "),Y=I(D(Y)),Se("["+T+"] "+Y+" d"),this};var Vr=f.__private__.getLineHeight=f.getLineHeight=function(){return Ct*hn};f.__private__.getLineHeight=f.getLineHeight=function(){return Ct*hn};var ii=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(hn=T),this},Ns=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return hn};ii(n.lineHeight);var Kn=f.__private__.getHorizontalCoordinate=function(T){return D(T)},Er=f.__private__.getVerticalCoordinate=function(T){return E===S.ADVANCED?T:Ee[q].mediaBox.topRightY-Ee[q].mediaBox.bottomLeftY-D(T)},Li=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(T){return I(Kn(T))},nr=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(T){return I(Er(T))},bs=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return tn(bs)},f.__private__.setStrokeColor=f.setDrawColor=function(T,Y,le,xe){return bs=yn({ch1:T,ch2:Y,ch3:le,ch4:xe,pdfColorType:"draw",precision:2}),Se(bs),this};var Ql=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return tn(Ql)},f.__private__.setFillColor=f.setFillColor=function(T,Y,le,xe){return Ql=yn({ch1:T,ch2:Y,ch3:le,ch4:xe,pdfColorType:"fill",precision:2}),Se(Ql),this};var Bi=n.textColor||"0 g",or=f.__private__.getTextColor=f.getTextColor=function(){return tn(Bi)};f.__private__.setTextColor=f.setTextColor=function(T,Y,le,xe){return Bi=yn({ch1:T,ch2:Y,ch3:le,ch4:xe,pdfColorType:"text",precision:3}),this};var $i=n.charSpace,fe=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat($i||0)};f.__private__.setCharSpace=f.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $i=T,this};var rt=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(T){var Y=f.CapJoinStyles[T];if(Y===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rt=Y,Se(Y+" J"),this};var Ne=0;f.__private__.setLineJoin=f.setLineJoin=function(T){var Y=f.CapJoinStyles[T];if(Y===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ne=Y,Se(Y+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Se(I(D(T))+" M"),this},f.GState=eT,f.setGState=function(T){(T=typeof T=="string"?O[Xe[T]]:ht(null,T)).equals(Ye)||(Se("/"+T.id+" gs"),Ye=T)};var ht=function(T,Y){if(!T||!Xe[T]){var le=!1;for(var xe in O)if(O.hasOwnProperty(xe)&&O[xe].equals(Y)){le=!0;break}if(le)Y=O[xe];else{var Ie="GS"+(Object.keys(O).length+1).toString(10);O[Ie]=Y,Y.id=Ie}return T&&(Xe[T]=Y.id),Pe.publish("addGState",Y),Y}};f.addGState=function(T,Y){return ht(T,Y),this},f.saveGraphicsState=function(){return Se("q"),oe.push({key:Fn,size:Ct,color:Bi}),this},f.restoreGraphicsState=function(){Se("Q");var T=oe.pop();return Fn=T.key,Ct=T.size,Bi=T.color,Ye=null,this},f.setCurrentTransformationMatrix=function(T){return Se(T.toString()+" cm"),this},f.comment=function(T){return Se("#"+T),this};var gt=function(T,Y){var le=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(je){isNaN(je)||(le=parseFloat(je))}});var xe=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(je){isNaN(je)||(xe=parseFloat(je))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(je){Ie=je.toString()}}),this},tt=function(T,Y,le,xe){gt.call(this,T,Y),this.type="rect";var Ie=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(ot){isNaN(ot)||(Ie=parseFloat(ot))}});var je=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(ot){isNaN(ot)||(je=parseFloat(ot))}}),this},lr=function(){this.page=ae,this.currentPage=q,this.pages=Ve.slice(0),this.pagesContext=Ee.slice(0),this.x=ut,this.y=At,this.matrix=Pt,this.width=jt(q),this.height=Dt(q),this.outputDestination=ft,this.id="",this.objectNumber=-1};lr.prototype.restore=function(){ae=this.page,q=this.currentPage,Ee=this.pagesContext,Ve=this.pages,ut=this.x,At=this.y,Pt=this.matrix,Tn(q,this.width),Fr(q,this.height),ft=this.outputDestination};var Jt=function(T,Y,le,xe,Ie){Ze.push(new lr),ae=q=0,Ve=[],ut=T,At=Y,Pt=Ie,Ol([le,xe])},un=function(T){if(Lt[T])Ze.pop().restore();else{var Y=new lr,le="Xo"+(Object.keys(vt).length+1).toString(10);Y.id=le,Lt[T]=le,vt[le]=Y,Pe.publish("addFormObject",Y),Ze.pop().restore()}};for(var Rn in f.beginFormObject=function(T,Y,le,xe,Ie){return Jt(T,Y,le,xe,Ie),this},f.endFormObject=function(T){return un(T),this},f.doFormObject=function(T,Y){var le=vt[Lt[T]];return Se("q"),Se(Y.toString()+" cm"),Se("/"+le.id+" Do"),Se("Q"),this},f.getFormObject=function(T){var Y=vt[Lt[T]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},f.save=function(T,Y){return T=T||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(u0(Hl(il()),T),typeof u0.unload=="function"&&ur.setTimeout&&setTimeout(u0.unload,911),this):new Promise(function(le,xe){try{var Ie=u0(Hl(il()),T);typeof u0.unload=="function"&&ur.setTimeout&&setTimeout(u0.unload,911),le(Ie)}catch(je){xe(je.message)}})},cr.API)cr.API.hasOwnProperty(Rn)&&(Rn==="events"&&cr.API.events.length?function(T,Y){var le,xe,Ie;for(Ie=Y.length-1;Ie!==-1;Ie--)le=Y[Ie][0],xe=Y[Ie][1],T.subscribe.apply(T,[le].concat(typeof xe=="function"?[xe]:xe))}(Pe,cr.API.events):f[Rn]=cr.API[Rn]);var jt=f.getPageWidth=function(T){return(Ee[T=T||q].mediaBox.topRightX-Ee[T].mediaBox.bottomLeftX)/se},Tn=f.setPageWidth=function(T,Y){Ee[T].mediaBox.topRightX=Y*se+Ee[T].mediaBox.bottomLeftX},Dt=f.getPageHeight=function(T){return(Ee[T=T||q].mediaBox.topRightY-Ee[T].mediaBox.bottomLeftY)/se},Fr=f.setPageHeight=function(T,Y){Ee[T].mediaBox.topRightY=Y*se+Ee[T].mediaBox.bottomLeftY};return f.internal={pdfEscape:lo,getStyle:fc,getFont:fr,getFontSize:mt,getCharSpace:fe,getTextColor:or,getLineHeight:Vr,getLineHeightFactor:Ns,getLineWidth:Yn,write:Nt,getHorizontalCoordinate:Kn,getVerticalCoordinate:Er,getCoordinateString:Li,getVerticalCoordinateString:nr,collections:{},newObject:pt,newAdditionalObject:Gt,newObjectDeferred:qt,newObjectDeferredBegin:on,getFilters:Yt,putStream:cn,events:Pe,scaleFactor:se,pageSize:{getWidth:function(){return jt(q)},setWidth:function(T){Tn(q,T)},getHeight:function(){return Dt(q)},setHeight:function(T){Fr(q,T)}},encryptionOptions:u,encryption:Ki,getEncryptor:Ts,output:jl,getNumberOfPages:Wf,pages:Ve,out:Se,f2:W,f3:L,getPageInfo:wo,getPageInfoByObjId:nn,getCurrentPageInfo:sl,getPDFVersion:g,Point:gt,Rectangle:tt,Matrix:Oe,hasHotfix:ru},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return jt(q)},set:function(T){Tn(q,T)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Dt(q)},set:function(T){Fr(q,T)},enumerable:!0,configurable:!0}),vs.call(f,at),Fn="F1",As(i,t),Pe.publish("initialized"),f}A1.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},A1.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},A1.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},A1.prototype.processOwnerPassword=function(n,e){return vI(gI(e).substr(0,5),n)},A1.prototype.encryptor=function(n,e){var t=gI(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return vI(t,r)}},eT.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Qi(n)!==Qi(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},cr.API={events:[]},cr.version="3.0.1";var Vs=cr.API,zR=1,cy=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qy=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tr=function(n){return n.toFixed(2)},Np=function(n){return n.toFixed(5)};Vs.__acroform__={};var dc=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},I8=function(n){return n*zR},bd=function(n){var e=new SV,t=_n.internal.getHeight(n)||0,r=_n.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Tr(r)),Number(Tr(t))],e},Ide=Vs.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},Mde=Vs.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},Rde=Vs.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},ro=Vs.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Rde(n,e-1)},io=Vs.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ide(n,e-1)},so=Vs.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Mde(n,e-1)},Dde=Vs.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Tr(l.lowerLeft_X)),Number(Tr(l.lowerLeft_Y)),Number(Tr(l.upperRight_X)),Number(Tr(l.upperRight_Y))]},_de=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=yI(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Tr(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=bd(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},yI=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var s=t,o=_n.internal.getHeight(n)||0;o=o<0?-o:o;var a=_n.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(L,D,z){if(L+1<i.length){var G=D+" "+i[L+1][0];return A5(G,n,z).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,A=A5("3",n,s).height,h=n.multiline?o-s:(o-A)/2,f=h+=2,v=0,g=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+A5(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var b="",S=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var k=!1;if(i[E].length!==1&&x!==i[E].length-1){if((A+2)*(S+2)+2>o)continue e;b+=i[E][x],k=!0,g=E,E--}else{b=(b+=i[E][x]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var P=parseInt(E),N=l(P,b,s),I=E>=i.length-1;if(N&&!I){b+=" ",x=0;continue}if(N||I){if(I)g=P;else if(n.multiline&&(A+2)*(S+2)+2>o)continue e}else{if(!n.multiline||(A+2)*(S+2)+2>o)continue e;g=P}}for(var U="",V=v;V<=g;V++){var W=i[V];if(n.multiline){if(V===g){U+=W[x]+" ",x=(x+1)%W.length;continue}if(V===v){U+=W[W.length-1]+" ";continue}}U+=W[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,u=A5(U,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=Tr(c)+" "+Tr(f)+` Td
`,e+="("+cy(U)+`) Tj
`,e+=-Tr(c)+` 0 Td
`,f=-(s+2),u=0,v=k?g:g+1,S++,b=""}break}return r.text=e,r.fontSize=s,r},A5=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Ode={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ude=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Hde=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Qi(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},jde=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ed.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Ode)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");zR=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new BV,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Ude(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Dde(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=_n.createDefaultAppearanceStream(a),Qi(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=_de(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var A="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(A+="/"+h+" ",A+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var v=f[o];typeof v=="function"&&(v=v.call(i,a)),A+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(i,a)),A+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);A+=">>"}l.push({key:"AP",value:`<<
`+A+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Hde(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},CV=Vs.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Qi(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+cy(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g4=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+cy(r(n))+")"},Xd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xd.prototype.toString=function(){return this.objId+" 0 R"},Xd.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xd.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:CV(i,this.objId,this.scope)}):i instanceof Xd?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var SV=function(){Xd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};dc(SV,Xd);var BV=function(){Xd.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+cy(t(n))+")"}},set:function(t){n=t}})};dc(BV,Xd);var ed=function n(){Xd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ro(e,3)},set:function(b){b?this.F=io(e,3):this.F=so(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');t=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof tT)return;s="FieldObject"+n.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+cy(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/zR:c},set:function(b){c=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof tT||this instanceof Kv))return g4(A,this.objId,this.scope)},set:function(b){b=b.toString(),A=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $o?h:g4(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof $o?b:b.substr(0,1)==="("?Qy(b.substr(1,b.length-2)):Qy(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $o?Qy(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof $o?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof $o?f:g4(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof $o?b:b.substr(0,1)==="("?Qy(b.substr(1,b.length-2)):Qy(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $o?Qy(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof $o?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(b){v=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,1)},set:function(b){b?this.Ff=io(this.Ff,1):this.Ff=so(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,2)},set:function(b){b?this.Ff=io(this.Ff,2):this.Ff=so(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,3)},set:function(b){b?this.Ff=io(this.Ff,3):this.Ff=so(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');x=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(x){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};dc(ed,Xd);var D1=function(){ed.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CV(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,18)},set:function(t){t?this.Ff=io(this.Ff,18):this.Ff=so(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=io(this.Ff,19):this.Ff=so(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,20)},set:function(t){t?(this.Ff=io(this.Ff,20),e.sort()):this.Ff=so(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,22)},set:function(t){t?this.Ff=io(this.Ff,22):this.Ff=so(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,23)},set:function(t){t?this.Ff=io(this.Ff,23):this.Ff=so(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,27)},set:function(t){t?this.Ff=io(this.Ff,27):this.Ff=so(this.Ff,27)}}),this.hasAppearanceStream=!1};dc(D1,ed);var _1=function(){D1.call(this),this.fontName="helvetica",this.combo=!1};dc(_1,D1);var O1=function(){_1.call(this),this.combo=!0};dc(O1,_1);var dE=function(){O1.call(this),this.edit=!0};dc(dE,O1);var $o=function(){ed.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,15)},set:function(t){t?this.Ff=io(this.Ff,15):this.Ff=so(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,16)},set:function(t){t?this.Ff=io(this.Ff,16):this.Ff=so(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,17)},set:function(t){t?this.Ff=io(this.Ff,17):this.Ff=so(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,26)},set:function(t){t?this.Ff=io(this.Ff,26):this.Ff=so(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+cy(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Qi(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};dc($o,ed);var hE=function(){$o.call(this),this.pushButton=!0};dc(hE,$o);var U1=function(){$o.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};dc(U1,$o);var tT=function(){var n,e;ed.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+cy(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Qi(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_n.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};dc(tT,ed),U1.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},U1.prototype.createOption=function(n){var e=new tT;return e.Parent=this,e.optionName=n,this.Kids.push(e),Qde.call(this.scope,e),e};var fE=function(){$o.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_n.CheckBox.createAppearanceStream()};dc(fE,$o);var Kv=function(){ed.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,13)},set:function(e){e?this.Ff=io(this.Ff,13):this.Ff=so(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,21)},set:function(e){e?this.Ff=io(this.Ff,21):this.Ff=so(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,23)},set:function(e){e?this.Ff=io(this.Ff,23):this.Ff=so(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,24)},set:function(e){e?this.Ff=io(this.Ff,24):this.Ff=so(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,25)},set:function(e){e?this.Ff=io(this.Ff,25):this.Ff=so(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,26)},set:function(e){e?this.Ff=io(this.Ff,26):this.Ff=so(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};dc(Kv,ed);var pE=function(){Kv.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ro(this.Ff,14)},set:function(n){n?this.Ff=io(this.Ff,14):this.Ff=so(this.Ff,14)}}),this.password=!0};dc(pE,Kv);var _n={CheckBox:{createAppearanceStream:function(){return{N:{On:_n.CheckBox.YesNormal},D:{On:_n.CheckBox.YesPushDown,Off:_n.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=bd(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=yI(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Tr(_n.internal.getWidth(n))+" "+Tr(_n.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Tr(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=bd(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=_n.internal.getHeight(n),o=_n.internal.getWidth(n),a=yI(n,n.caption);return i.push("1 g"),i.push("0 0 "+Tr(o)+" "+Tr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Tr(o-1)+" "+Tr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Tr(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=bd(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Tr(_n.internal.getWidth(n))+" "+Tr(_n.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:_n.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=_n.RadioButton.Circle.YesNormal,e.D[n]=_n.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=bd(n);e.scope=n.scope;var t=[],r=_n.internal.getWidth(n)<=_n.internal.getHeight(n)?_n.internal.getWidth(n)/4:_n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=_n.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Np(_n.internal.getWidth(n)/2)+" "+Np(_n.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=bd(n);e.scope=n.scope;var t=[],r=_n.internal.getWidth(n)<=_n.internal.getHeight(n)?_n.internal.getWidth(n)/4:_n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*_n.internal.Bezier_C).toFixed(5)),o=Number((r*_n.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Np(_n.internal.getWidth(n)/2)+" "+Np(_n.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Np(_n.internal.getWidth(n)/2)+" "+Np(_n.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=bd(n);e.scope=n.scope;var t=[],r=_n.internal.getWidth(n)<=_n.internal.getHeight(n)?_n.internal.getWidth(n)/4:_n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*_n.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Np(_n.internal.getWidth(n)/2)+" "+Np(_n.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:_n.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=_n.RadioButton.Cross.YesNormal,e.D[n]=_n.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=bd(n);e.scope=n.scope;var t=[],r=_n.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Tr(_n.internal.getWidth(n)-2)+" "+Tr(_n.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Tr(r.x1.x)+" "+Tr(r.x1.y)+" m"),t.push(Tr(r.x2.x)+" "+Tr(r.x2.y)+" l"),t.push(Tr(r.x4.x)+" "+Tr(r.x4.y)+" m"),t.push(Tr(r.x3.x)+" "+Tr(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=bd(n);e.scope=n.scope;var t=_n.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Tr(_n.internal.getWidth(n))+" "+Tr(_n.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Tr(_n.internal.getWidth(n)-2)+" "+Tr(_n.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Tr(t.x1.x)+" "+Tr(t.x1.y)+" m"),r.push(Tr(t.x2.x)+" "+Tr(t.x2.y)+" l"),r.push(Tr(t.x4.x)+" "+Tr(t.x4.y)+" m"),r.push(Tr(t.x3.x)+" "+Tr(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=bd(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Tr(_n.internal.getWidth(n))+" "+Tr(_n.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};_n.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=_n.internal.getWidth(n),t=_n.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},_n.internal.getWidth=function(n){var e=0;return Qi(n)==="object"&&(e=I8(n.Rect[2])),e},_n.internal.getHeight=function(n){var e=0;return Qi(n)==="object"&&(e=I8(n.Rect[3])),e};var Qde=Vs.addField=function(n){if(jde(this,n),!(n instanceof ed))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Vs.AcroFormChoiceField=D1,Vs.AcroFormListBox=_1,Vs.AcroFormComboBox=O1,Vs.AcroFormEditBox=dE,Vs.AcroFormButton=$o,Vs.AcroFormPushButton=hE,Vs.AcroFormRadioButton=U1,Vs.AcroFormCheckBox=fE,Vs.AcroFormTextField=Kv,Vs.AcroFormPasswordField=pE,Vs.AcroFormAppearance=_n,Vs.AcroForm={ChoiceField:D1,ListBox:_1,ComboBox:O1,EditBox:dE,Button:$o,PushButton:hE,RadioButton:U1,CheckBox:fE,TextField:Kv,PasswordField:pE,Appearance:_n},cr.AcroForm={ChoiceField:D1,ListBox:_1,ComboBox:O1,EditBox:dE,Button:$o,PushButton:hE,RadioButton:U1,CheckBox:fE,TextField:Kv,PasswordField:pE,Appearance:_n};cr.AcroForm;function EV(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(L,D){var z,G,ve,J,$,X=e;if((D=D||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(N(L))for($ in t)for(ve=t[$],z=0;z<ve.length;z+=1){for(J=!0,G=0;G<ve[z].length;G+=1)if(ve[z][G]!==void 0&&ve[z][G]!==L[G]){J=!1;break}if(J===!0){X=$;break}}else for($ in t)for(ve=t[$],z=0;z<ve.length;z+=1){for(J=!0,G=0;G<ve[z].length;G+=1)if(ve[z][G]!==void 0&&ve[z][G]!==L.charCodeAt(G)){J=!1;break}if(J===!0){X=$;break}}return X===e&&D!==e&&(X=D),X},i=function L(D){for(var z=this.internal.write,G=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:D.width}),J.push({key:"Height",value:D.height}),D.colorSpace===x.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===x.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var $="",X=0,ie=D.transparency.length;X<ie;X++)$+=D.transparency[X]+" "+D.transparency[X]+" ";J.push({key:"Mask",value:"["+$+"]"})}D.sMask!==void 0&&J.push({key:"SMask",value:D.objectId+1+" 0 R"});var pe=D.filter!==void 0?["/"+D.filter]:void 0;if(G({data:D.data,additionalKeyValues:J,alreadyAppliedFilters:pe,objectId:D.objectId}),z("endobj"),"sMask"in D&&D.sMask!==void 0){var te="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,H={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:te,data:D.sMask};"filter"in D&&(H.filter=D.filter),L.call(this,H)}if(D.colorSpace===x.INDEXED){var q=this.internal.newObject();G({data:U(new Uint8Array(D.palette)),objectId:q}),z("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var D in L)i.call(this,L[D])},o=function(){var L,D=this.internal.collections.addImage_images,z=this.internal.write;for(var G in D)z("/I"+(L=D[G]).index,L.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var L=this.internal.collections.addImage_images;return a.call(this),L},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(L){return typeof n["process"+L.toUpperCase()]=="function"},A=function(L){return Qi(L)==="object"&&L.nodeType===1},h=function(L,D){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var z=""+L.getAttribute("src");if(z.indexOf("data:image/")===0)return v2(unescape(z).split("base64,").pop());var G=n.loadFile(z,!0);if(G!==void 0)return G}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var ve;switch(D){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;case"JPEG":case"JPG":default:ve="image/jpeg"}return v2(L.toDataURL(ve,1).split("base64,").pop())}},f=function(L){var D=this.internal.collections.addImage_images;if(D){for(var z in D)if(L===D[z].alias)return D[z]}},v=function(L,D,z){return L||D||(L=-96,D=-96),L<0&&(L=-1*z.width*72/L/this.internal.scaleFactor),D<0&&(D=-1*z.height*72/D/this.internal.scaleFactor),L===0&&(L=D*z.width/z.height),D===0&&(D=L*z.height/z.width),[L,D]},g=function(L,D,z,G,ve,J){var $=v.call(this,z,G,ve),X=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,pe=l.call(this);if(z=$[0],G=$[1],pe[ve.index]=ve,J){J*=Math.PI/180;var te=Math.cos(J),H=Math.sin(J),q=function(he){return he.toFixed(4)},re=[q(te),q(H),q(-1*H),q(te),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,X(L),ie(D+G),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([X(z),"0","0",X(G),"0","0","cm"].join(" "))):this.internal.write([X(z),"0","0",X(G),X(L),ie(D+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=n.__addimage__.sHashCode=function(L){var D,z,G=0;if(typeof L=="string")for(z=L.length,D=0;D<z;D++)G=(G<<5)-G+L.charCodeAt(D),G|=0;else if(N(L))for(z=L.byteLength/2,D=0;D<z;D++)G=(G<<5)-G+L[D],G|=0;return G},E=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var D=!0;return L.length===0&&(D=!1),L.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(D=!1),D},k=n.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var D=L.indexOf(",");return D<0?null:L.substring(0,D).trim().endsWith("base64")?L.substring(D+1):null},P=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(L){return P()&&L instanceof ArrayBuffer};var N=n.__addimage__.isArrayBufferView=function(L){return P()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},I=n.__addimage__.binaryStringToUint8Array=function(L){for(var D=L.length,z=new Uint8Array(D),G=0;G<D;G++)z[G]=L.charCodeAt(G);return z},U=n.__addimage__.arrayBufferToBinaryString=function(L){for(var D="",z=N(L)?L:new Uint8Array(L),G=0;G<z.length;G+=8192)D+=String.fromCharCode.apply(null,z.subarray(G,G+8192));return D};n.addImage=function(){var L,D,z,G,ve,J,$,X,ie;if(typeof arguments[1]=="number"?(D=e,z=arguments[1],G=arguments[2],ve=arguments[3],J=arguments[4],$=arguments[5],X=arguments[6],ie=arguments[7]):(D=arguments[1],z=arguments[2],G=arguments[3],ve=arguments[4],J=arguments[5],$=arguments[6],X=arguments[7],ie=arguments[8]),Qi(L=arguments[0])==="object"&&!A(L)&&"imageData"in L){var pe=L;L=pe.imageData,D=pe.format||D||e,z=pe.x||z||0,G=pe.y||G||0,ve=pe.w||pe.width||ve,J=pe.h||pe.height||J,$=pe.alias||$,X=pe.compression||X,ie=pe.rotation||pe.angle||ie}var te=this.internal.getFilters();if(X===void 0&&te.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(z)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var H=V.call(this,L,D,$,X);return g.call(this,z,G,ve,J,H,ie),this};var V=function(L,D,z,G){var ve,J,$;if(typeof L=="string"&&r(L)===e){L=unescape(L);var X=W(L,!1);(X!==""||(X=n.loadFile(L,!0))!==void 0)&&(L=X)}if(A(L)&&(L=h(L,D)),D=r(L,D),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if((($=z)==null||$.length===0)&&(z=function(ie){return typeof ie=="string"||N(ie)?S(ie):N(ie.data)?S(ie.data):null}(L)),(ve=f.call(this,z))||(P()&&(L instanceof Uint8Array||D==="RGBA"||(J=L,L=I(L))),ve=this["process"+D.toUpperCase()](L,c.call(this),z,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in n.image_compression?ie:b.NONE}(G),J)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},W=n.__addimage__.convertBase64ToBinaryString=function(L,D){D=typeof D!="boolean"||D;var z,G="";if(typeof L=="string"){var ve;z=(ve=k(L))!==null&&ve!==void 0?ve:L;try{G=v2(z)}catch(J){if(D)throw E(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};n.getImageProperties=function(L){var D,z,G="";if(A(L)&&(L=h(L)),typeof L=="string"&&r(L)===e&&((G=W(L,!1))===""&&(G=n.loadFile(L)||""),L=G),z=r(L),!u(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!P()||L instanceof Uint8Array||(L=I(L)),!(D=this["process"+z.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=z,D}})(cr.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};cr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,A=0;A<c.length&&!u;A++)switch((r=c[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(b(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(b(S))+") >>",g.content=s;var E=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(v(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var N=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+N+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(cr.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=n.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(g){var x=0,b=t,S="",E=0;for(x=0;x<g.length;x+=1)b[g.charCodeAt(x)]!==void 0?(E++,typeof(b=b[g.charCodeAt(x)])=="number"&&(S+=String.fromCharCode(b),b=t,E=0),x===g.length-1&&(b=t,S+=g.charAt(x-(E-1)),x-=E-1,E=0)):(b=t,S+=g.charAt(x-E),x-=E,E=0);return S};n.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var h=n.__arabicParser__.getCorrectForm=function(g,x,b){return o(g)?s(g)===!1?-1:!c(g)||!o(x)&&!o(b)||!o(b)&&a(x)||a(g)&&!o(x)||a(g)&&l(x)||a(g)&&a(x)?0:u(g)&&o(x)&&!a(x)&&o(b)&&c(b)?3:a(g)||!o(b)?1:2:-1},f=function(g){var x=0,b=0,S=0,E="",k="",P="",N=(g=g||"").split("\\s+"),I=[];for(x=0;x<N.length;x+=1){for(I.push(""),b=0;b<N[x].length;b+=1)E=N[x][b],k=N[x][b-1],P=N[x][b+1],o(E)?(S=h(E,k,P),I[x]+=S!==-1?String.fromCharCode(e[E.charCodeAt(0)][S]):E):I[x]+=E;I[x]=A(I[x])}return I.join(" ")},v=n.__arabicParser__.processArabic=n.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(x)){var S=0;for(b=[],S=0;S<x.length;S+=1)Array.isArray(x[S])?b.push([f(x[S][0]),x[S][1],x[S][2]]):b.push([f(x[S])]);g=b}else g=f(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};n.events.push(["preProcessText",v])}(cr.API),cr.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(cr.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),A=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,v=0,g=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,k){return E.concat(x.splitTextToSize(k,b))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)f<(g=this.getStringUnitWidth(l[S],{font:A})*u)&&(f=g);return f!==0&&(v=l.length),{w:f/=h,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=A.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,A,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,v,g,x,b=[],S=[],E=[],k={},P={},N=[],I=[],U=(h=h||{}).autoSize||!1,V=h.printHeaders!==!1,W=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,L=h.margins||Object.assign({width:this.getPageWidth()},e),D=typeof h.padding=="number"?h.padding:3,z=h.headerBackgroundColor||"#c8c8c8",G=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=G,this.setFontSize(W),A==null)S=b=Object.keys(u[0]),E=b.map(function(){return"left"});else if(Array.isArray(A)&&Qi(A[0])==="object")for(b=A.map(function(pe){return pe.name}),S=A.map(function(pe){return pe.prompt||pe.name||""}),E=A.map(function(pe){return pe.align||"left"}),f=0;f<A.length;f+=1)P[A[f].name]=A[f].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(S=b=A,E=b.map(function(){return"left"}));if(U||Array.isArray(A)&&typeof A[0]=="string")for(f=0;f<b.length;f+=1){for(k[x=b[f]]=u.map(function(pe){return pe[x]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[x],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)N.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[x]=Math.max.apply(null,N)+D+D,N=[]}if(V){var ve={};for(f=0;f<b.length;f+=1)ve[b[f]]={},ve[b[f]].text=S[f],ve[b[f]].align=E[f];var J=a.call(this,ve,P);I=b.map(function(pe){return new s(l,c,P[pe],J,ve[pe].text,void 0,ve[pe].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var $=A.reduce(function(pe,te){return pe[te.name]=te.align,pe},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var X=a.call(this,u[f],P);for(g=0;g<b.length;g+=1){var ie=u[f][b[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:ie},this),o.call(this,new s(l,c,P[b[g]],X,ie,f+2,$[b[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*A/h+u+u},this).reduce(function(f,v){return Math.max(f,v)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(cr.API);var FV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},TV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bI=EV(TV),NV=[100,200,300,400,500,600,700,800,900],zde=EV(NV);function wI(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return FV[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof bI[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function M8(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Kde={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},R8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function D8(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Vde(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Kde,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=wI(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+D8(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=bI[l],A=u<=bI.normal?-1:1,h=M8(c,TV,u,A);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=FV[l],A=0;A<u.length;++A)if(c[u[A]])return c[u[A]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=zde[l],A=M8(c,NV,u,l<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+l);return A}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+D8(s)+"'.");return o}function _8(n){return n.trimLeft()}function Gde(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Wde(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var d5,O8,U8,v4=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new l,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new o,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new o,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var A=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=H;Object.defineProperty(this,"pdf",{get:function(){return q}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Ge){re=!!Ge}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(Ge){he=!!Ge}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(Ge){isNaN(Ge)||(Ae=Ge)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Ge){isNaN(Ge)||(ge=Ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ge){var Se;typeof Ge=="number"?Se=[Ge,Ge,Ge,Ge]:((Se=new Array(4))[0]=Ge[0],Se[1]=Ge.length>=2?Ge[1]:Se[0],Se[2]=Ge.length>=3?Ge[2]:Se[0],Se[3]=Ge.length>=4?Ge[3]:Se[1]),c.margin=Se}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ge){we=Ge}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Ge){ke=Ge}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(Ge){ze=Ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ge){Ge instanceof u&&(c=Ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ge){c.path=Ge}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(Ge){Ve=Ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ge){var Se;Se=h(Ge),this.ctx.fillStyle=Se.style,this.ctx.isFillTransparent=Se.a===0,this.ctx.fillOpacity=Se.a,this.pdf.setFillColor(Se.r,Se.g,Se.b,{a:Se.a}),this.pdf.setTextColor(Se.r,Se.g,Se.b,{a:Se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ge){var Se=h(Ge);this.ctx.strokeStyle=Se.style,this.ctx.isStrokeTransparent=Se.a===0,this.ctx.strokeOpacity=Se.a,Se.a===0?this.pdf.setDrawColor(255,255,255):(Se.a,this.pdf.setDrawColor(Se.r,Se.g,Se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ge){["butt","round","square"].indexOf(Ge)!==-1&&(this.ctx.lineCap=Ge,this.pdf.setLineCap(Ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ge){isNaN(Ge)||(this.ctx.lineWidth=Ge,this.pdf.setLineWidth(Ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ge){["bevel","round","miter"].indexOf(Ge)!==-1&&(this.ctx.lineJoin=Ge,this.pdf.setLineJoin(Ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ge){isNaN(Ge)||(this.ctx.miterLimit=Ge,this.pdf.setMiterLimit(Ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ge){this.ctx.textBaseline=Ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ge){["right","end","center","left","start"].indexOf(Ge)!==-1&&(this.ctx.textAlign=Ge)}});var Ue=null;function ft(Ge,Se){if(Ue===null){var Nt=function(xt){var at=[];return Object.keys(xt).forEach(function(Ct){xt[Ct].forEach(function(Et){var mt=null;switch(Et){case"bold":mt={family:Ct,weight:"bold"};break;case"italic":mt={family:Ct,style:"italic"};break;case"bolditalic":mt={family:Ct,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:Ct}}mt!==null&&(mt.ref={name:Ct,style:Et},at.push(mt))})}),at}(Ge.getFontList());Ue=function(xt){for(var at={},Ct=0;Ct<xt.length;++Ct){var Et=wI(xt[Ct]),mt=Et.family,Ut=Et.stretch,qe=Et.style,Cn=Et.weight;at[mt]=at[mt]||{},at[mt][Ut]=at[mt][Ut]||{},at[mt][Ut][qe]=at[mt][Ut][qe]||{},at[mt][Ut][qe][Cn]=Et}return at}(Nt.concat(Se))}return Ue}var Kt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Kt},set:function(Ge){Ue=null,Kt=Ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ge){var Se;if(this.ctx.font=Ge,(Se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ge))!==null){var Nt=Se[1];Se[2];var xt=Se[3],at=Se[4];Se[5];var Ct=Se[6],Et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(at)[2];at=Math.floor(Et==="px"?parseFloat(at)*this.pdf.internal.scaleFactor:Et==="em"?parseFloat(at)*this.pdf.getFontSize():parseFloat(at)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(at);var mt=function(ln){var Fn,se,ut=[],At=ln.trim();if(At==="")return v4;if(At in R8)return[R8[At]];for(;At!=="";){switch(se=null,Fn=(At=_8(At)).charAt(0)){case'"':case"'":se=Gde(At.substring(1),Fn);break;default:se=Wde(At)}if(se===null||(ut.push(se[0]),(At=_8(se[1]))!==""&&At.charAt(0)!==","))return v4;At=At.replace(/^,/,"")}return ut}(Ct);if(this.fontFaces){var Ut=Vde(ft(this.pdf,this.fontFaces),mt.map(function(ln){return{family:ln,stretch:"normal",weight:xt,style:Nt}}));this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var qe="";(xt==="bold"||parseInt(xt,10)>=700||Nt==="bold")&&(qe="bold"),Nt==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Cn="",zt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vn=0;vn<mt.length;vn++){if(this.pdf.internal.getFont(mt[vn],qe,{noFallback:!0,disableWarning:!0})!==void 0){Cn=mt[vn];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(mt[vn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Cn=mt[vn],qe="bold";else if(this.pdf.internal.getFont(mt[vn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Cn=mt[vn],qe="normal";break}}if(Cn===""){for(var mn=0;mn<mt.length;mn++)if(zt[mt[mn]]){Cn=zt[mt[mn]];break}}Cn=Cn===""?"Times":Cn,this.pdf.setFont(Cn,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ge){this.ctx.globalCompositeOperation=Ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ge){this.ctx.globalAlpha=Ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ge){this.ctx.lineDashOffset=Ge,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ge){this.ctx.lineDash=Ge,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ge){this.ctx.ignoreClearRect=!!Ge}})};A.prototype.setLineDash=function(H){this.lineDash=H},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){k.call(this,"fill",!1)},A.prototype.stroke=function(){k.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(H,q){if(isNaN(H)||isNaN(q))throw ts.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new o(H,q));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(H,q)},A.prototype.closePath=function(){var H=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Qi(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){H=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(H.x,H.y)},A.prototype.lineTo=function(H,q){if(isNaN(H)||isNaN(q))throw ts.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new o(H,q));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},A.prototype.quadraticCurveTo=function(H,q,re,he){if(isNaN(re)||isNaN(he)||isNaN(H)||isNaN(q))throw ts.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(re,he)),ge=this.ctx.transform.applyToPoint(new o(H,q));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},A.prototype.bezierCurveTo=function(H,q,re,he,Ae,ge){if(isNaN(Ae)||isNaN(ge)||isNaN(H)||isNaN(q)||isNaN(re)||isNaN(he))throw ts.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(Ae,ge)),ke=this.ctx.transform.applyToPoint(new o(H,q)),ze=this.ctx.transform.applyToPoint(new o(re,he));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:ze.x,y2:ze.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},A.prototype.arc=function(H,q,re,he,Ae,ge){if(isNaN(H)||isNaN(q)||isNaN(re)||isNaN(he)||isNaN(Ae))throw ts.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(H,q));H=we.x,q=we.y;var ke=this.ctx.transform.applyToPoint(new o(0,re)),ze=this.ctx.transform.applyToPoint(new o(0,0));re=Math.sqrt(Math.pow(ke.x-ze.x,2)+Math.pow(ke.y-ze.y,2))}Math.abs(Ae-he)>=2*Math.PI&&(he=0,Ae=2*Math.PI),this.path.push({type:"arc",x:H,y:q,radius:re,startAngle:he,endAngle:Ae,counterclockwise:ge})},A.prototype.arcTo=function(H,q,re,he,Ae){throw new Error("arcTo not implemented.")},A.prototype.rect=function(H,q,re,he){if(isNaN(H)||isNaN(q)||isNaN(re)||isNaN(he))throw ts.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,q),this.lineTo(H+re,q),this.lineTo(H+re,q+he),this.lineTo(H,q+he),this.lineTo(H,q),this.lineTo(H+re,q),this.lineTo(H,q)},A.prototype.fillRect=function(H,q,re,he){if(isNaN(H)||isNaN(q)||isNaN(re)||isNaN(he))throw ts.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,q,re,he),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},A.prototype.strokeRect=function(H,q,re,he){if(isNaN(H)||isNaN(q)||isNaN(re)||isNaN(he))throw ts.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(H,q,re,he),this.stroke())},A.prototype.clearRect=function(H,q,re,he){if(isNaN(H)||isNaN(q)||isNaN(re)||isNaN(he))throw ts.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,q,re,he))},A.prototype.save=function(H){H=typeof H!="boolean"||H;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},A.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(q),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(H){var q,re,he,Ae;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))q=0,re=0,he=0,Ae=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(ge!==null)q=parseInt(ge[1]),re=parseInt(ge[2]),he=parseInt(ge[3]),Ae=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)q=parseInt(ge[1]),re=parseInt(ge[2]),he=parseInt(ge[3]),Ae=parseFloat(ge[4]);else{if(Ae=1,typeof H=="string"&&H.charAt(0)!=="#"){var we=new bV(H);H=we.ok?we.toHex():"#000000"}H.length===4?(q=H.substring(1,2),q+=q,re=H.substring(2,3),re+=re,he=H.substring(3,4),he+=he):(q=H.substring(1,3),re=H.substring(3,5),he=H.substring(5,7)),q=parseInt(q,16),re=parseInt(re,16),he=parseInt(he,16)}}return{r:q,g:re,b:he,a:Ae,style:H}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(H,q,re,he){if(isNaN(q)||isNaN(re)||typeof H!="string")throw ts.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!f.call(this)){var Ae=X(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;D.call(this,{text:H,x:q,y:re,scale:ge,angle:Ae,align:this.textAlign,maxWidth:he})}},A.prototype.strokeText=function(H,q,re,he){if(isNaN(q)||isNaN(re)||typeof H!="string")throw ts.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){he=isNaN(he)?void 0:he;var Ae=X(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;D.call(this,{text:H,x:q,y:re,scale:ge,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:he})}},A.prototype.measureText=function(H){if(typeof H!="string")throw ts.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,re=this.pdf.internal.scaleFactor,he=q.internal.getFontSize(),Ae=q.getStringUnitWidth(H)*he/q.internal.scaleFactor,ge=function(we){var ke=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this};return new ge({width:Ae*=Math.round(96*re/72*1e4)/1e4})},A.prototype.scale=function(H,q){if(isNaN(H)||isNaN(q))throw ts.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new l(H,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},A.prototype.rotate=function(H){if(isNaN(H))throw ts.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},A.prototype.translate=function(H,q){if(isNaN(H)||isNaN(q))throw ts.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new l(1,0,0,1,H,q);this.ctx.transform=this.ctx.transform.multiply(re)},A.prototype.transform=function(H,q,re,he,Ae,ge){if(isNaN(H)||isNaN(q)||isNaN(re)||isNaN(he)||isNaN(Ae)||isNaN(ge))throw ts.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(H,q,re,he,Ae,ge);this.ctx.transform=this.ctx.transform.multiply(we)},A.prototype.setTransform=function(H,q,re,he,Ae,ge){H=isNaN(H)?1:H,q=isNaN(q)?0:q,re=isNaN(re)?0:re,he=isNaN(he)?1:he,Ae=isNaN(Ae)?0:Ae,ge=isNaN(ge)?0:ge,this.ctx.transform=new l(H,q,re,he,Ae,ge)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(H,q,re,he,Ae,ge,we,ke,ze){var Ve=this.pdf.getImageProperties(H),Ue=1,ft=1,Kt=1,Ge=1;he!==void 0&&ke!==void 0&&(Kt=ke/he,Ge=ze/Ae,Ue=Ve.width/he*ke/he,ft=Ve.height/Ae*ze/Ae),ge===void 0&&(ge=q,we=re,q=0,re=0),he!==void 0&&ke===void 0&&(ke=he,ze=Ae),he===void 0&&ke===void 0&&(ke=Ve.width,ze=Ve.height);for(var Se,Nt=this.ctx.transform.decompose(),xt=X(Nt.rotate.shx),at=new l,Ct=(at=(at=(at=at.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale)).applyToRectangle(new a(ge-q*Kt,we-re*Ge,he*Ue,Ae*ft)),Et=x.call(this,Ct),mt=[],Ut=0;Ut<Et.length;Ut+=1)mt.indexOf(Et[Ut])===-1&&mt.push(Et[Ut]);if(E(mt),this.autoPaging)for(var qe=mt[0],Cn=mt[mt.length-1],zt=qe;zt<Cn+1;zt++){this.pdf.setPage(zt);var vn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mn=zt===1?this.posY+this.margin[0]:this.margin[0],ln=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],se=zt===1?0:ln+(zt-2)*Fn;if(this.ctx.clip_path.length!==0){var ut=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Se,this.posX+this.margin[3],-se+mn+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=ut}var At=JSON.parse(JSON.stringify(Ct));At=S([At],this.posX+this.margin[3],-se+mn+this.ctx.prevPageLastElemOffset)[0];var Pt=(zt>qe||zt<Cn)&&g.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vn,Fn,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",At.x,At.y,At.w,At.h,null,null,xt),Pt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(H,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,xt)};var x=function(H,q,re){var he=[];q=q||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":he.push(Math.floor((H.y+Ae)/re)+1);break;case"arc":he.push(Math.floor((H.y+Ae-H.radius)/re)+1),he.push(Math.floor((H.y+Ae+H.radius)/re)+1);break;case"qct":var ge=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);he.push(Math.floor((ge.y+Ae)/re)+1),he.push(Math.floor((ge.y+ge.h+Ae)/re)+1);break;case"bct":var we=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);he.push(Math.floor((we.y+Ae)/re)+1),he.push(Math.floor((we.y+we.h+Ae)/re)+1);break;case"rect":he.push(Math.floor((H.y+Ae)/re)+1),he.push(Math.floor((H.y+H.h+Ae)/re)+1)}for(var ke=0;ke<he.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<he[ke];)b.call(this);return he},b=function(){var H=this.fillStyle,q=this.strokeStyle,re=this.font,he=this.lineCap,Ae=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=q,this.font=re,this.lineCap=he,this.lineWidth=Ae,this.lineJoin=ge},S=function(H,q,re){for(var he=0;he<H.length;he++)switch(H[he].type){case"bct":H[he].x2+=q,H[he].y2+=re;case"qct":H[he].x1+=q,H[he].y1+=re;case"mt":case"lt":case"arc":default:H[he].x+=q,H[he].y+=re}return H},E=function(H){return H.sort(function(q,re){return q-re})},k=function(H,q){for(var re,he,Ae=this.fillStyle,ge=this.strokeStyle,we=this.lineCap,ke=this.lineWidth,ze=Math.abs(ke*this.ctx.transform.scaleX),Ve=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),ft=JSON.parse(JSON.stringify(this.path)),Kt=[],Ge=0;Ge<ft.length;Ge++)if(ft[Ge].x!==void 0)for(var Se=x.call(this,ft[Ge]),Nt=0;Nt<Se.length;Nt+=1)Kt.indexOf(Se[Nt])===-1&&Kt.push(Se[Nt]);for(var xt=0;xt<Kt.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Kt[xt];)b.call(this);if(E(Kt),this.autoPaging)for(var at=Kt[0],Ct=Kt[Kt.length-1],Et=at;Et<Ct+1;Et++){this.pdf.setPage(Et),this.fillStyle=Ae,this.strokeStyle=ge,this.lineCap=we,this.lineWidth=ze,this.lineJoin=Ve;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=Et===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Cn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=Et===1?0:qe+(Et-2)*Cn;if(this.ctx.clip_path.length!==0){var vn=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(re,this.posX+this.margin[3],-zt+Ut+this.ctx.prevPageLastElemOffset),P.call(this,H,!0),this.path=vn}if(he=JSON.parse(JSON.stringify(Ue)),this.path=S(he,this.posX+this.margin[3],-zt+Ut+this.ctx.prevPageLastElemOffset),q===!1||Et===0){var mn=(Et>at||Et<Ct)&&g.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Cn,null).clip().discardPath()),P.call(this,H,q),mn&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=ze,P.call(this,H,q),this.lineWidth=ke;this.path=Ue},P=function(H,q){if((H!=="stroke"||q||!v.call(this))&&(H==="stroke"||q||!f.call(this))){for(var re,he,Ae=[],ge=this.path,we=0;we<ge.length;we++){var ke=ge[we];switch(ke.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:ke,deltas:[],abs:[]});break;case"lt":var ze=Ae.length;if(ge[we-1]&&!isNaN(ge[we-1].x)&&(re=[ke.x-ge[we-1].x,ke.y-ge[we-1].y],ze>0)){for(;ze>=0;ze--)if(Ae[ze-1].close!==!0&&Ae[ze-1].begin!==!0){Ae[ze-1].deltas.push(re),Ae[ze-1].abs.push(ke);break}}break;case"bct":re=[ke.x1-ge[we-1].x,ke.y1-ge[we-1].y,ke.x2-ge[we-1].x,ke.y2-ge[we-1].y,ke.x-ge[we-1].x,ke.y-ge[we-1].y],Ae[Ae.length-1].deltas.push(re);break;case"qct":var Ve=ge[we-1].x+2/3*(ke.x1-ge[we-1].x),Ue=ge[we-1].y+2/3*(ke.y1-ge[we-1].y),ft=ke.x+2/3*(ke.x1-ke.x),Kt=ke.y+2/3*(ke.y1-ke.y),Ge=ke.x,Se=ke.y;re=[Ve-ge[we-1].x,Ue-ge[we-1].y,ft-ge[we-1].x,Kt-ge[we-1].y,Ge-ge[we-1].x,Se-ge[we-1].y],Ae[Ae.length-1].deltas.push(re);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(ke)}}he=q?null:H==="stroke"?"stroke":"fill";for(var Nt=!1,xt=0;xt<Ae.length;xt++)if(Ae[xt].arc)for(var at=Ae[xt].abs,Ct=0;Ct<at.length;Ct++){var Et=at[Ct];Et.type==="arc"?U.call(this,Et.x,Et.y,Et.radius,Et.startAngle,Et.endAngle,Et.counterclockwise,void 0,q,!Nt):z.call(this,Et.x,Et.y),Nt=!0}else if(Ae[xt].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(Ae[xt].begin!==!0){var mt=Ae[xt].start.x,Ut=Ae[xt].start.y;G.call(this,Ae[xt].deltas,mt,Ut),Nt=!0}he&&V.call(this,he),q&&W.call(this)}},N=function(H){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-re;case"top":return H+q-re;case"hanging":return H+q-2*re;case"middle":return H+q/2-re;case"ideographic":return H;case"alphabetic":default:return H}},I=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(q,re){this.colorStops.push([q,re])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(H,q,re,he,Ae,ge,we,ke,ze){for(var Ve=J.call(this,re,he,Ae,ge),Ue=0;Ue<Ve.length;Ue++){var ft=Ve[Ue];Ue===0&&(ze?L.call(this,ft.x1+H,ft.y1+q):z.call(this,ft.x1+H,ft.y1+q)),ve.call(this,H,q,ft.x2,ft.y2,ft.x3,ft.y3,ft.x4,ft.y4)}ke?W.call(this):V.call(this,we)},V=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(H,q){this.pdf.internal.out(t(H)+" "+r(q)+" m")},D=function(H){var q;switch(H.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var re=this.pdf.getTextDimensions(H.text),he=N.call(this,H.y),Ae=I.call(this,he)-re.h,ge=this.ctx.transform.applyToPoint(new o(H.x,he)),we=this.ctx.transform.decompose(),ke=new l;ke=(ke=(ke=ke.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var ze,Ve,Ue,ft=this.ctx.transform.applyToRectangle(new a(H.x,he,re.w,re.h)),Kt=ke.applyToRectangle(new a(H.x,Ae,re.w,re.h)),Ge=x.call(this,Kt),Se=[],Nt=0;Nt<Ge.length;Nt+=1)Se.indexOf(Ge[Nt])===-1&&Se.push(Ge[Nt]);if(E(Se),this.autoPaging)for(var xt=Se[0],at=Se[Se.length-1],Ct=xt;Ct<at+1;Ct++){this.pdf.setPage(Ct);var Et=Ct===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[2],qe=Ut-this.margin[0],Cn=this.pdf.internal.pageSize.width-this.margin[1],zt=Cn-this.margin[3],vn=Ct===1?0:mt+(Ct-2)*qe;if(this.ctx.clip_path.length!==0){var mn=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ze,this.posX+this.margin[3],-1*vn+Et),P.call(this,"fill",!0),this.path=mn}var ln=S([JSON.parse(JSON.stringify(Kt))],this.posX+this.margin[3],-vn+Et+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*H.scale),Ue=this.lineWidth,this.lineWidth=Ue*H.scale);var Fn=this.autoPaging!=="text";if(Fn||ln.y+ln.h<=Ut){if(Fn||ln.y>=Et&&ln.x<=Cn){var se=Fn?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||Cn-ln.x)[0],ut=S([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-vn+Et+this.ctx.prevPageLastElemOffset)[0],At=Fn&&(Ct>xt||Ct<at)&&g.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,qe,null).clip().discardPath()),this.pdf.text(se,ut.x,ut.y,{angle:H.angle,align:q,renderingMode:H.renderingMode}),At&&this.pdf.restoreGraphicsState()}}else ln.y<Ut&&(this.ctx.prevPageLastElemOffset+=Ut-ln.y);H.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Ue)}else H.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*H.scale),Ue=this.lineWidth,this.lineWidth=Ue*H.scale),this.pdf.text(H.text,ge.x+this.posX,ge.y+this.posY,{angle:H.angle,align:q,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Ue)},z=function(H,q,re,he){re=re||0,he=he||0,this.pdf.internal.out(t(H+re)+" "+r(q+he)+" l")},G=function(H,q,re){return this.pdf.lines(H,q,re,null,null)},ve=function(H,q,re,he,Ae,ge,we,ke){this.pdf.internal.out([e(i(re+H)),e(s(he+q)),e(i(Ae+H)),e(s(ge+q)),e(i(we+H)),e(s(ke+q)),"c"].join(" "))},J=function(H,q,re,he){for(var Ae=2*Math.PI,ge=Math.PI/2;q>re;)q-=Ae;var we=Math.abs(re-q);we<Ae&&he&&(we=Ae-we);for(var ke=[],ze=he?-1:1,Ve=q;we>1e-5;){var Ue=Ve+ze*Math.min(we,ge);ke.push($.call(this,H,Ve,Ue)),we-=Math.abs(Ue-Ve),Ve=Ue}return ke},$=function(H,q,re){var he=(re-q)/2,Ae=H*Math.cos(he),ge=H*Math.sin(he),we=Ae,ke=-ge,ze=we*we+ke*ke,Ve=ze+we*Ae+ke*ge,Ue=4/3*(Math.sqrt(2*ze*Ve)-Ve)/(we*ge-ke*Ae),ft=we-Ue*ke,Kt=ke+Ue*we,Ge=ft,Se=-Kt,Nt=he+q,xt=Math.cos(Nt),at=Math.sin(Nt);return{x1:H*Math.cos(q),y1:H*Math.sin(q),x2:ft*xt-Kt*at,y2:ft*at+Kt*xt,x3:Ge*xt-Se*at,y3:Ge*at+Se*xt,x4:H*Math.cos(re),y4:H*Math.sin(re)}},X=function(H){return 180*H/Math.PI},ie=function(H,q,re,he,Ae,ge){var we=H+.5*(re-H),ke=q+.5*(he-q),ze=Ae+.5*(re-Ae),Ve=ge+.5*(he-ge),Ue=Math.min(H,Ae,we,ze),ft=Math.max(H,Ae,we,ze),Kt=Math.min(q,ge,ke,Ve),Ge=Math.max(q,ge,ke,Ve);return new a(Ue,Kt,ft-Ue,Ge-Kt)},pe=function(H,q,re,he,Ae,ge,we,ke){var ze,Ve,Ue,ft,Kt,Ge,Se,Nt,xt,at,Ct,Et,mt,Ut,qe=re-H,Cn=he-q,zt=Ae-re,vn=ge-he,mn=we-Ae,ln=ke-ge;for(Ve=0;Ve<41;Ve++)xt=(Se=(Ue=H+(ze=Ve/40)*qe)+ze*((Kt=re+ze*zt)-Ue))+ze*(Kt+ze*(Ae+ze*mn-Kt)-Se),at=(Nt=(ft=q+ze*Cn)+ze*((Ge=he+ze*vn)-ft))+ze*(Ge+ze*(ge+ze*ln-Ge)-Nt),Ve==0?(Ct=xt,Et=at,mt=xt,Ut=at):(Ct=Math.min(Ct,xt),Et=Math.min(Et,at),mt=Math.max(mt,xt),Ut=Math.max(Ut,at));return new a(Math.round(Ct),Math.round(Et),Math.round(mt-Ct),Math.round(Ut-Et))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,q,re=(H=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:q}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(cr.API),function(n){var e=function(s){var o,a,l,c,u,A,h,f,v,g;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(A=(u=((u=((u=((u=(u-(g=u%85))/85)-(v=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,a.push(A+33,h+33,f+33,v+33,g+33)):a.push(122);return function(x,b){for(var S=b;S>0;S--)x.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,A=String,h="length",f=255,v="charCodeAt",g="slice",x="replace";for(s[g](-2),s=s[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[g](s[h]%5||5))[h];u>c;c+=5)a=52200625*(s[v](c)-33)+614125*(s[v](c+1)-33)+7225*(s[v](c+2)-33)+85*(s[v](c+3)-33)+(s[v](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(b,S){for(var E=S;E>0;E--)b.pop()}(l,o[h]),A.fromCharCode.apply(A,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=pI(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(cr.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var A=new XMLHttpRequest,h=0,f=function(v){var g=v.length,x=[],b=String.fromCharCode;for(h=0;h<g;h+=1)x.push(b(255&v.charCodeAt(h)));return x.join("")};if(A.open("GET",l,!c),A.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(A.onload=function(){A.status===200?u(f(this.responseText)):u(void 0)}),A.send(null),c&&A.status===200)return f(A.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(cr.API),function(n){function e(){return(ur.html2canvas?Promise.resolve(ur.html2canvas):uI(()=>Promise.resolve().then(()=>R0e),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(ur.DOMPurify?Promise.resolve(ur.DOMPurify):uI(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Qi(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var A=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||A.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(A.width=c.width,A.height=c.height,A.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(A.value=c.value),A.addEventListener("load",function(){A.scrollTop=c.scrollTop,A.scrollLeft=c.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var f=c[h],v=f.src.find(function(g){return g.format==="truetype"});v&&l.addFont(v.url,f.ref.name,f.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,l.context2d.save(!0),a(this.prop.container,A)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||cr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(A){return l.updateProgress(null,c),A}).then(c,u).then(function(A){return l.updateProgress(1),A})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,cr.getPageSize=function(o,a,l){if(Qi(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,A=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,v=0,g=0;if(h.hasOwnProperty(A))v=h[A][1]/u,g=h[A][0]/u;else try{v=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>v&&(f=g,g=v,v=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(f=g,g=v,v=f)}return{width:g,height:v,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(wI):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(cr.API),cr.API.addJS=function(n){return U8=n,this.internal.events.subscribe("postPutResources",function(){d5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(d5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),O8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+U8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){d5!==void 0&&O8!==void 0&&this.internal.out("/Names <</JavaScript "+d5+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var A=t.internal.newObject();u.push(A);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(cr.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(A){for(var h,f=256*A.charCodeAt(4)+A.charCodeAt(5),v=A.length,g={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=f,e.indexOf(A.charCodeAt(x+1))!==-1){h=256*A.charCodeAt(x+5)+A.charCodeAt(x+6),g={width:256*A.charCodeAt(x+7)+A.charCodeAt(x+8),height:h,numcomponents:A.charCodeAt(x+9)};break}f=256*A.charCodeAt(x+2)+A.charCodeAt(x+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(cr.API);var zy,h5,H8,j8,Q8,qde=function(){var n,e,t;function r(s){var o,a,l,c,u,A,h,f,v,g,x,b,S,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(o=this.readUInt32(),v=(function(){var k,P;for(P=[],k=0;k<4;++k)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,A.delay=1e3*u/c,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),s=(A!=null?A.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(S=0;0<=g?S<g:S>g;0<=g?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(x=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,x.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(A,h,f,v){var g,x,b,S,E,k,P,N,I,U,V,W,L,D,z,G,ve,J,$,X,ie,pe=Math.ceil((c.width-A)/f),te=Math.ceil((c.height-h)/v),H=c.width==pe&&c.height==te;for(D=o*pe,W=H?a:new Uint8Array(D*te),k=s.length,L=0,x=0;L<te&&l<k;){switch(s[l++]){case 0:for(S=ve=0;ve<D;S=ve+=1)W[x++]=s[l++];break;case 1:for(S=J=0;J<D;S=J+=1)g=s[l++],E=S<o?0:W[x-o],W[x++]=(g+E)%256;break;case 2:for(S=$=0;$<D;S=$+=1)g=s[l++],b=(S-S%o)/o,z=L&&W[(L-1)*D+b*o+S%o],W[x++]=(z+g)%256;break;case 3:for(S=X=0;X<D;S=X+=1)g=s[l++],b=(S-S%o)/o,E=S<o?0:W[x-o],z=L&&W[(L-1)*D+b*o+S%o],W[x++]=(g+Math.floor((E+z)/2))%256;break;case 4:for(S=ie=0;ie<D;S=ie+=1)g=s[l++],b=(S-S%o)/o,E=S<o?0:W[x-o],L===0?z=G=0:(z=W[(L-1)*D+b*o+S%o],G=b&&W[(L-1)*D+(b-1)*o+S%o]),P=E+z-G,N=Math.abs(P-E),U=Math.abs(P-z),V=Math.abs(P-G),I=N<=U&&N<=V?E:U<=V?z:G,W[x++]=(g+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!H){var q=((h+L*v)*c.width+A)*o,re=L*D;for(S=0;S<pe;S+=1){for(var he=0;he<o;he+=1)a[q++]=W[re++];q+=(f-1)*o}}L++}}return s=Ede(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,A,h,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=A=0,h=a.length;A<h;o=A+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,A,h,f,v,g,x,b;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,a=!0),v=(c=s.data||s).length,A=g||o,u=h=0,l===1)for(;u<v;)f=g?4*o[u/4]:h,x=A[f++],c[u++]=x,c[u++]=x,c[u++]=x,c[u++]=a?A[f++]:255,h=f;else for(;u<v;)f=g?4*o[u/4]:h,c[u++]=A[f++],c[u++]=A[f++],c[u++]=A[f++],c[u++]=a?A[f++]:255,h=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ur)==="[object Window]"){try{e=ur.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,A,h,f;if(this.animation){for(f=[],a=u=0,A=(h=this.animation.frames).length;u<A;a=++u)o=h[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,A,h=this;return a=0,A=this.animation,c=A.numFrames,l=A.frames,u=A.numPlays,(o=function(){var f,v;if(f=a++%c,v=l[f],h.renderFrame(s,f),c>1&&a/c<u)return h.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Xde(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],A=0,h=null,f=0,v=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,v=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=n[e++];A=n[e++]|n[e++]<<8,h=n[e++],(1&g)==0&&(h=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var x=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,k=n[e++],P=k>>6&1,N=1<<(7&k)+1,I=a,U=l,V=!1;k>>7&&(V=!0,I=e,U=N,e+=3*N);var W=e;for(e++;;){var L;if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}u.push({x,y:b,width:S,height:E,has_local_palette:V,palette_offset:I,palette_size:U,data_offset:W,data_length:e-W,transparent_index:h,interlaced:!!P,delay:A,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,z){var G=this.frameInfo(D),ve=G.width*G.height,J=new Uint8Array(ve);z8(n,G.data_offset,J,ve);var $=G.palette_offset,X=G.transparent_index;X===null&&(X=256);var ie=G.width,pe=t-ie,te=ie,H=4*(G.y*t+G.x),q=4*((G.y+G.height)*t+G.x),re=H,he=4*pe;G.interlaced===!0&&(he+=4*t*7);for(var Ae=8,ge=0,we=J.length;ge<we;++ge){var ke=J[ge];if(te===0&&(te=ie,(re+=he)>=q&&(he=4*pe+4*t*(Ae-1),re=H+(ie+pe)*(Ae<<1),Ae>>=1)),ke===X)re+=4;else{var ze=n[$+3*ke],Ve=n[$+3*ke+1],Ue=n[$+3*ke+2];z[re++]=Ue,z[re++]=Ve,z[re++]=ze,z[re++]=255}--te}},this.decodeAndBlitFrameRGBA=function(D,z){var G=this.frameInfo(D),ve=G.width*G.height,J=new Uint8Array(ve);z8(n,G.data_offset,J,ve);var $=G.palette_offset,X=G.transparent_index;X===null&&(X=256);var ie=G.width,pe=t-ie,te=ie,H=4*(G.y*t+G.x),q=4*((G.y+G.height)*t+G.x),re=H,he=4*pe;G.interlaced===!0&&(he+=4*t*7);for(var Ae=8,ge=0,we=J.length;ge<we;++ge){var ke=J[ge];if(te===0&&(te=ie,(re+=he)>=q&&(he=4*pe+4*t*(Ae-1),re=H+(ie+pe)*(Ae<<1),Ae>>=1)),ke===X)re+=4;else{var ze=n[$+3*ke],Ve=n[$+3*ke+1],Ue=n[$+3*ke+2];z[re++]=ze,z[re++]=Ve,z[re++]=Ue,z[re++]=255}--te}}}function z8(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,A=0,h=0,f=n[e++],v=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)A|=n[e++]<<u,u+=8,f===1?f=n[e++]:--f;if(u<l)break;var x=A&c;if(A>>=l,u-=l,x!==s){if(x===o)break;for(var b=x<a?x:g,S=0,E=b;E>s;)E=v[E]>>8,++S;var k=E;if(h+S+(b!==x?1:0)>r)return void ts.log("Warning, gif stream longer than expected.");t[h++]=k;var P=h+=S;for(b!==x&&(t[h++]=k),E=b;S--;)E=v[E],t[--P]=255&E,E>>=8;g!==null&&a<4096&&(v[a++]=g<<8|k,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=x}else a=o+1,c=(1<<(l=i+1))-1,g=null}return h!==r&&ts.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function y4(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(65535),h=new Array(65535),f=new Array(64),v=new Array(64),g=[],x=0,b=7,S=new Array(64),E=new Array(64),k=new Array(64),P=new Array(256),N=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(H,q){for(var re=0,he=0,Ae=new Array,ge=1;ge<=16;ge++){for(var we=1;we<=H[ge];we++)Ae[q[he]]=[],Ae[q[he]][0]=re,Ae[q[he]][1]=ge,he++,re++;re*=2}return Ae}function $(H){for(var q=H[0],re=H[1]-1;re>=0;)q&1<<re&&(x|=1<<b),re--,--b<0&&(x==255?(X(255),X(0)):X(x),b=7,x=0)}function X(H){g.push(H)}function ie(H){X(H>>8&255),X(255&H)}function pe(H,q,re,he,Ae){for(var ge,we=Ae[0],ke=Ae[240],ze=function(at,Ct){var Et,mt,Ut,qe,Cn,zt,vn,mn,ln,Fn,se=0;for(ln=0;ln<8;++ln){Et=at[se],mt=at[se+1],Ut=at[se+2],qe=at[se+3],Cn=at[se+4],zt=at[se+5],vn=at[se+6];var ut=Et+(mn=at[se+7]),At=Et-mn,Pt=mt+vn,Le=mt-vn,We=Ut+zt,oe=Ut-zt,st=qe+Cn,sn=qe-Cn,O=ut+st,Xe=ut-st,Ye=Pt+We,ae=Pt-We;at[se]=O+Ye,at[se+4]=O-Ye;var Ee=.707106781*(ae+Xe);at[se+2]=Xe+Ee,at[se+6]=Xe-Ee;var Pe=.382683433*((O=sn+oe)-(ae=Le+At)),Ft=.5411961*O+Pe,vt=1.306562965*ae+Pe,Lt=.707106781*(Ye=oe+Le),Ze=At+Lt,Oe=At-Lt;at[se+5]=Oe+Ft,at[se+3]=Oe-Ft,at[se+1]=Ze+vt,at[se+7]=Ze-vt,se+=8}for(se=0,ln=0;ln<8;++ln){Et=at[se],mt=at[se+8],Ut=at[se+16],qe=at[se+24],Cn=at[se+32],zt=at[se+40],vn=at[se+48];var St=Et+(mn=at[se+56]),Ke=Et-mn,lt=mt+vn,pt=mt-vn,qt=Ut+zt,on=Ut-zt,Gt=qe+Cn,en=qe-Cn,Tt=St+Gt,tn=St-Gt,yn=lt+qt,Yt=lt-qt;at[se]=Tt+yn,at[se+32]=Tt-yn;var cn=.707106781*(Yt+tn);at[se+16]=tn+cn,at[se+48]=tn-cn;var bn=.382683433*((Tt=en+on)-(Yt=pt+Ke)),yr=.5411961*Tt+bn,On=1.306562965*Yt+bn,hr=.707106781*(yn=on+pt),Pn=Ke+hr,Si=Ke-hr;at[se+40]=Si+yr,at[se+24]=Si-yr,at[se+8]=Pn+On,at[se+56]=Pn-On,se++}for(ln=0;ln<64;++ln)Fn=at[ln]*Ct[ln],f[ln]=Fn>0?Fn+.5|0:Fn-.5|0;return f}(H,q),Ve=0;Ve<64;++Ve)v[I[Ve]]=ze[Ve];var Ue=v[0]-re;re=v[0],Ue==0?$(he[0]):($(he[h[ge=32767+Ue]]),$(A[ge]));for(var ft=63;ft>0&&v[ft]==0;)ft--;if(ft==0)return $(we),re;for(var Kt,Ge=1;Ge<=ft;){for(var Se=Ge;v[Ge]==0&&Ge<=ft;)++Ge;var Nt=Ge-Se;if(Nt>=16){Kt=Nt>>4;for(var xt=1;xt<=Kt;++xt)$(ke);Nt&=15}ge=32767+v[Ge],$(Ae[(Nt<<4)+h[ge]]),$(A[ge]),Ge++}return ft!=63&&$(we),re}function te(H){H=Math.min(Math.max(H,1),100),s!=H&&(function(q){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var Ae=o((re[he]*q+50)/100);Ae=Math.min(Math.max(Ae,1),255),a[I[he]]=Ae}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var ke=o((ge[we]*q+50)/100);ke=Math.min(Math.max(ke,1),255),l[I[we]]=ke}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Ue=0;Ue<8;Ue++)for(var ft=0;ft<8;ft++)c[Ve]=1/(a[I[Ve]]*ze[Ue]*ze[ft]*8),u[Ve]=1/(l[I[Ve]]*ze[Ue]*ze[ft]*8),Ve++}(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),s=H)}this.encode=function(H,q){q&&te(q),g=new Array,x=0,b=7,ie(65496),ie(65504),ie(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ie(1),ie(1),X(0),X(0),function(){ie(65499),ie(132),X(0);for(var mt=0;mt<64;mt++)X(a[mt]);X(1);for(var Ut=0;Ut<64;Ut++)X(l[Ut])}(),function(mt,Ut){ie(65472),ie(17),X(8),ie(Ut),ie(mt),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(H.width,H.height),function(){ie(65476),ie(418),X(0);for(var mt=0;mt<16;mt++)X(U[mt+1]);for(var Ut=0;Ut<=11;Ut++)X(V[Ut]);X(16);for(var qe=0;qe<16;qe++)X(W[qe+1]);for(var Cn=0;Cn<=161;Cn++)X(L[Cn]);X(1);for(var zt=0;zt<16;zt++)X(D[zt+1]);for(var vn=0;vn<=11;vn++)X(z[vn]);X(17);for(var mn=0;mn<16;mn++)X(G[mn+1]);for(var ln=0;ln<=161;ln++)X(ve[ln])}(),ie(65498),ie(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var re=0,he=0,Ae=0;x=0,b=7,this.encode.displayName="_encode_";for(var ge,we,ke,ze,Ve,Ue,ft,Kt,Ge,Se=H.data,Nt=H.width,xt=H.height,at=4*Nt,Ct=0;Ct<xt;){for(ge=0;ge<at;){for(Ve=at*Ct+ge,ft=-1,Kt=0,Ge=0;Ge<64;Ge++)Ue=Ve+(Kt=Ge>>3)*at+(ft=4*(7&Ge)),Ct+Kt>=xt&&(Ue-=at*(Ct+1+Kt-xt)),ge+ft>=at&&(Ue-=ge+ft-at+4),we=Se[Ue++],ke=Se[Ue++],ze=Se[Ue++],S[Ge]=(N[we]+N[ke+256>>0]+N[ze+512>>0]>>16)-128,E[Ge]=(N[we+768>>0]+N[ke+1024>>0]+N[ze+1280>>0]>>16)-128,k[Ge]=(N[we+1280>>0]+N[ke+1536>>0]+N[ze+1792>>0]>>16)-128;re=pe(S,c,re,e,r),he=pe(E,u,he,t,i),Ae=pe(k,u,Ae,t,i),ge+=32}Ct+=8}if(b>=0){var Et=[];Et[1]=b+1,Et[0]=(1<<b+1)-1,$(Et)}return ie(65497),new Uint8Array(g)},n=n||50,function(){for(var H=String.fromCharCode,q=0;q<256;q++)P[q]=H(q)}(),e=J(U,V),t=J(D,z),r=J(W,L),i=J(G,ve),function(){for(var H=1,q=2,re=1;re<=15;re++){for(var he=H;he<q;he++)h[32767+he]=re,A[32767+he]=[],A[32767+he][1]=re,A[32767+he][0]=he;for(var Ae=-(q-1);Ae<=-H;Ae++)h[32767+Ae]=re,A[32767+Ae]=[],A[32767+Ae][1]=re,A[32767+Ae][0]=q-1+Ae;H<<=1,q<<=1}}(),function(){for(var H=0;H<256;H++)N[H]=19595*H,N[H+256>>0]=38470*H,N[H+512>>0]=7471*H+32768,N[H+768>>0]=-11059*H,N[H+1024>>0]=-21709*H,N[H+1280>>0]=32768*H+8421375,N[H+1536>>0]=-27439*H,N[H+1792>>0]=-5329*H}(),te(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bA(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function K8(n){function e(U){if(!U)throw Error("assert :P")}function t(U,V,W){for(var L=0;4>L;L++)if(U[V+L]!=W.charCodeAt(L))return!0;return!1}function r(U,V,W,L,D){for(var z=0;z<D;z++)U[V+z]=W[L+z]}function i(U,V,W,L){for(var D=0;D<L;D++)U[V+D]=W}function s(U){return new Int32Array(U)}function o(U,V){for(var W=[],L=0;L<U;L++)W.push(new V);return W}function a(U,V){var W=[];return function L(D,z,G){for(var ve=G[z],J=0;J<ve&&(D.push(G.length>z+1?[]:new V),!(G.length<z+1));J++)L(D[J],z+1,G)}(W,0,U),W}var l=function(){var U=this;function V(C,F){for(var R=1<<F-1>>>0;C&R;)R>>>=1;return R?(C&R-1)+R:C}function W(C,F,R,K,ee){e(!(K%R));do C[F+(K-=R)]=ee;while(0<K)}function L(C,F,R,K,ee){if(e(2328>=ee),512>=ee)var ce=s(512);else if((ce=s(ee))==null)return 0;return function(de,me,ye,Ce,Me,Je){var $e,Qe,Bt=me,dt=1<<ye,De=s(16),_e=s(16);for(e(Me!=0),e(Ce!=null),e(de!=null),e(0<ye),Qe=0;Qe<Me;++Qe){if(15<Ce[Qe])return 0;++De[Ce[Qe]]}if(De[0]==Me)return 0;for(_e[1]=0,$e=1;15>$e;++$e){if(De[$e]>1<<$e)return 0;_e[$e+1]=_e[$e]+De[$e]}for(Qe=0;Qe<Me;++Qe)$e=Ce[Qe],0<Ce[Qe]&&(Je[_e[$e]++]=Qe);if(_e[15]==1)return(Ce=new D).g=0,Ce.value=Je[0],W(de,Bt,1,dt,Ce),dt;var bt,yt=-1,wt=dt-1,pn=0,an=1,qn=1,An=1<<ye;for(Qe=0,$e=1,Me=2;$e<=ye;++$e,Me<<=1){if(an+=qn<<=1,0>(qn-=De[$e]))return 0;for(;0<De[$e];--De[$e])(Ce=new D).g=$e,Ce.value=Je[Qe++],W(de,Bt+pn,Me,An,Ce),pn=V(pn,$e)}for($e=ye+1,Me=2;15>=$e;++$e,Me<<=1){if(an+=qn<<=1,0>(qn-=De[$e]))return 0;for(;0<De[$e];--De[$e]){if(Ce=new D,(pn&wt)!=yt){for(Bt+=An,bt=1<<(yt=$e)-ye;15>yt&&!(0>=(bt-=De[yt]));)++yt,bt<<=1;dt+=An=1<<(bt=yt-ye),de[me+(yt=pn&wt)].g=bt+ye,de[me+yt].value=Bt-me-yt}Ce.g=$e-ye,Ce.value=Je[Qe++],W(de,Bt+(pn>>ye),Me,An,Ce),pn=V(pn,$e)}}return an!=2*_e[15]-1?0:dt}(C,F,R,K,ee,ce)}function D(){this.value=this.g=0}function z(){this.value=this.g=0}function G(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ws,z)}function ve(C,F,R,K){e(C!=null),e(F!=null),e(2147483648>K),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=F,C.pa=R,C.Jd=F,C.Yc=R+K,C.Zc=4<=K?R+K-4+1:R,ge(C)}function J(C,F){for(var R=0;0<F--;)R|=ke(C,128)<<F;return R}function $(C,F){var R=J(C,F);return we(C)?-R:R}function X(C,F,R,K){var ee,ce=0;for(e(C!=null),e(F!=null),e(4294967288>K),C.Sb=K,C.Ra=0,C.u=0,C.h=0,4<K&&(K=4),ee=0;ee<K;++ee)ce+=F[R+ee]<<8*ee;C.Ra=ce,C.bb=K,C.oa=F,C.pa=R}function ie(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<$f-8>>>0,++C.bb,C.u-=8;re(C)&&(C.h=1,C.u=0)}function pe(C,F){if(e(0<=F),!C.h&&F<=Jf){var R=q(C)&Zf[F];return C.u+=F,ie(C),R}return C.h=1,C.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(C){return C.Ra>>>(C.u&$f-1)>>>0}function re(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>$f}function he(C,F){C.u=F,C.h=re(C)}function Ae(C){C.u>=ep&&(e(C.u>=ep),ie(C))}function ge(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function we(C){return J(C,1)}function ke(C,F){var R=C.Ca;0>C.b&&ge(C);var K=C.b,ee=R*F>>>8,ce=(C.I>>>K>ee)+0;for(ce?(R-=ee,C.I-=ee+1<<K>>>0):R=ee+1,K=R,ee=0;256<=K;)ee+=8,K>>=8;return K=7^ee+oa[K],C.b-=K,C.Ca=(R<<K)-1,ce}function ze(C,F,R){C[F+0]=R>>24&255,C[F+1]=R>>16&255,C[F+2]=R>>8&255,C[F+3]=R>>0&255}function Ve(C,F){return C[F+0]<<0|C[F+1]<<8}function Ue(C,F){return Ve(C,F)|C[F+2]<<16}function ft(C,F){return Ve(C,F)|Ve(C,F+2)<<16}function Kt(C,F){var R=1<<F;return e(C!=null),e(0<F),C.X=s(R),C.X==null?0:(C.Mb=32-F,C.Xa=F,1)}function Ge(C,F){e(C!=null),e(F!=null),e(C.Xa==F.Xa),r(F.X,0,C.X,0,1<<F.Xa)}function Se(){this.X=[],this.Xa=this.Mb=0}function Nt(C,F,R,K){e(R!=null),e(K!=null);var ee=R[0],ce=K[0];return ee==0&&(ee=(C*ce+F/2)/F),ce==0&&(ce=(F*ee+C/2)/C),0>=ee||0>=ce?0:(R[0]=ee,K[0]=ce,1)}function xt(C,F){return C+(1<<F)-1>>>F}function at(C,F){return((4278255360&C)+(4278255360&F)>>>0&4278255360)+((16711935&C)+(16711935&F)>>>0&16711935)>>>0}function Ct(C,F){U[F]=function(R,K,ee,ce,de,me,ye){var Ce;for(Ce=0;Ce<de;++Ce){var Me=U[C](me[ye+Ce-1],ee,ce+Ce);me[ye+Ce]=at(R[K+Ce],Me)}}}function Et(){this.ud=this.hd=this.jd=0}function mt(C,F){return((4278124286&(C^F))>>>1)+(C&F)>>>0}function Ut(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function qe(C,F){return Ut(C+(C-F+.5>>1))}function Cn(C,F,R){return Math.abs(F-R)-Math.abs(C-R)}function zt(C,F,R,K,ee,ce,de){for(K=ce[de-1],R=0;R<ee;++R)ce[de+R]=K=at(C[F+R],K)}function vn(C,F,R,K,ee){var ce;for(ce=0;ce<R;++ce){var de=C[F+ce],me=de>>8&255,ye=16711935&(ye=(ye=16711935&de)+((me<<16)+me));K[ee+ce]=(4278255360&de)+ye>>>0}}function mn(C,F){F.jd=C>>0&255,F.hd=C>>8&255,F.ud=C>>16&255}function ln(C,F,R,K,ee,ce){var de;for(de=0;de<K;++de){var me=F[R+de],ye=me>>>8,Ce=me,Me=255&(Me=(Me=me>>>16)+((C.jd<<24>>24)*(ye<<24>>24)>>>5));Ce=255&(Ce=(Ce=Ce+((C.hd<<24>>24)*(ye<<24>>24)>>>5))+((C.ud<<24>>24)*(Me<<24>>24)>>>5)),ee[ce+de]=(4278255360&me)+(Me<<16)+Ce}}function Fn(C,F,R,K,ee){U[F]=function(ce,de,me,ye,Ce,Me,Je,$e,Qe){for(ye=Je;ye<$e;++ye)for(Je=0;Je<Qe;++Je)Ce[Me++]=ee(me[K(ce[de++])])},U[C]=function(ce,de,me,ye,Ce,Me,Je){var $e=8>>ce.b,Qe=ce.Ea,Bt=ce.K[0],dt=ce.w;if(8>$e)for(ce=(1<<ce.b)-1,dt=(1<<$e)-1;de<me;++de){var De,_e=0;for(De=0;De<Qe;++De)De&ce||(_e=K(ye[Ce++])),Me[Je++]=ee(Bt[_e&dt]),_e>>=$e}else U["VP8LMapColor"+R](ye,Ce,Bt,dt,Me,Je,de,me,Qe)}}function se(C,F,R,K,ee){for(R=F+R;F<R;){var ce=C[F++];K[ee++]=ce>>16&255,K[ee++]=ce>>8&255,K[ee++]=ce>>0&255}}function ut(C,F,R,K,ee){for(R=F+R;F<R;){var ce=C[F++];K[ee++]=ce>>16&255,K[ee++]=ce>>8&255,K[ee++]=ce>>0&255,K[ee++]=ce>>24&255}}function At(C,F,R,K,ee){for(R=F+R;F<R;){var ce=(de=C[F++])>>16&240|de>>12&15,de=de>>0&240|de>>28&15;K[ee++]=ce,K[ee++]=de}}function Pt(C,F,R,K,ee){for(R=F+R;F<R;){var ce=(de=C[F++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;K[ee++]=ce,K[ee++]=de}}function Le(C,F,R,K,ee){for(R=F+R;F<R;){var ce=C[F++];K[ee++]=ce>>0&255,K[ee++]=ce>>8&255,K[ee++]=ce>>16&255}}function We(C,F,R,K,ee,ce){if(ce==0)for(R=F+R;F<R;)ze(K,((ce=C[F++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),ee+=32;else r(K,ee,C,F,R)}function oe(C,F){U[F][0]=U[C+"0"],U[F][1]=U[C+"1"],U[F][2]=U[C+"2"],U[F][3]=U[C+"3"],U[F][4]=U[C+"4"],U[F][5]=U[C+"5"],U[F][6]=U[C+"6"],U[F][7]=U[C+"7"],U[F][8]=U[C+"8"],U[F][9]=U[C+"9"],U[F][10]=U[C+"10"],U[F][11]=U[C+"11"],U[F][12]=U[C+"12"],U[F][13]=U[C+"13"],U[F][14]=U[C+"0"],U[F][15]=U[C+"0"]}function st(C){return C==op||C==bh||C==Og||C==Ug}function sn(){this.eb=[],this.size=this.A=this.fb=0}function O(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sn,this.f.kb=new O,this.sd=null}function Ye(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ae(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ee(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Pe(C,F){var R=C.T,K=F.ba.f.RGBA,ee=K.eb,ce=K.fb+C.ka*K.A,de=Ma[F.ba.S],me=C.y,ye=C.O,Ce=C.f,Me=C.N,Je=C.ea,$e=C.W,Qe=F.cc,Bt=F.dc,dt=F.Mc,De=F.Nc,_e=C.ka,bt=C.ka+C.T,yt=C.U,wt=yt+1>>1;for(_e==0?de(me,ye,null,null,Ce,Me,Je,$e,Ce,Me,Je,$e,ee,ce,null,null,yt):(de(F.ec,F.fc,me,ye,Qe,Bt,dt,De,Ce,Me,Je,$e,ee,ce-K.A,ee,ce,yt),++R);_e+2<bt;_e+=2)Qe=Ce,Bt=Me,dt=Je,De=$e,Me+=C.Rc,$e+=C.Rc,ce+=2*K.A,de(me,(ye+=2*C.fa)-C.fa,me,ye,Qe,Bt,dt,De,Ce,Me,Je,$e,ee,ce-K.A,ee,ce,yt);return ye+=C.fa,C.j+bt<C.o?(r(F.ec,F.fc,me,ye,yt),r(F.cc,F.dc,Ce,Me,wt),r(F.Mc,F.Nc,Je,$e,wt),R--):1&bt||de(me,ye,null,null,Ce,Me,Je,$e,Ce,Me,Je,$e,ee,ce+K.A,null,null,yt),R}function Ft(C,F,R){var K=C.F,ee=[C.J];if(K!=null){var ce=C.U,de=F.ba.S,me=de==_g||de==Og;F=F.ba.f.RGBA;var ye=[0],Ce=C.ka;ye[0]=C.T,C.Kb&&(Ce==0?--ye[0]:(--Ce,ee[0]-=C.width),C.j+C.ka+C.T==C.o&&(ye[0]=C.o-C.j-Ce));var Me=F.eb;Ce=F.fb+Ce*F.A,C=Ei(K,ee[0],C.width,ce,ye,Me,Ce+(me?0:3),F.A),e(R==ye),C&&st(de)&&La(Me,Ce,me,ce,ye,F.A)}return 0}function vt(C){var F=C.ma,R=F.ba.S,K=11>R,ee=R==cd||R==Dg||R==_g||R==Ui||R==12||st(R);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Xf(F.Oa,C,ee?11:12))return 0;if(ee&&st(R)&&ot(),C.da)alert("todo:use_scaling");else{if(K){if(F.Ib=Ee,C.Kb){if(R=C.U+1>>1,F.memory=s(C.U+2*R),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+C.U,F.Mc=F.cc,F.Nc=F.dc+R,F.Ib=Pe,ot()}}else alert("todo:EmitYUV");ee&&(F.Jb=Ft,K&&Ie())}if(K&&!Co){for(C=0;256>C;++C)Ra[C]=89858*(C-128)+gc>>aA,Da[C]=-22014*(C-128)+gc,up[C]=-45773*(C-128),Sh[C]=113618*(C-128)+gc>>aA;for(C=Fi;C<Ii;++C)F=76283*(C-16)+gc>>aA,wy[C-Fi]=al(F,255),fB[C-Fi]=al(F+8>>4,15);Co=1}return 1}function Lt(C){var F=C.ma,R=C.U,K=C.T;return e(!(1&C.ka)),0>=R||0>=K?0:(R=F.Ib(C,F),F.Jb!=null&&F.Jb(C,F,R),F.Dc+=R,1)}function Ze(C){C.ma.memory=null}function Oe(C,F,R,K){return pe(C,8)!=47?0:(F[0]=pe(C,14)+1,R[0]=pe(C,14)+1,K[0]=pe(C,1),pe(C,3)!=0?0:!C.h)}function St(C,F){if(4>C)return C+1;var R=C-2>>1;return(2+(1&C)<<R)+pe(F,R)+1}function Ke(C,F){return 120<F?F-120:1<=(R=((R=Ek[F-1])>>4)*C+(8-(15&R)))?R:1;var R}function lt(C,F,R){var K=q(R),ee=C[F+=255&K].g-8;return 0<ee&&(he(R,R.u+8),K=q(R),F+=C[F].value,F+=K&(1<<ee)-1),he(R,R.u+C[F].g),C[F].value}function pt(C,F,R){return R.g+=C.g,R.value+=C.value<<F>>>0,e(8>=R.g),C.g}function qt(C,F,R){var K=C.xc;return e((F=K==0?0:C.vc[C.md*(R>>K)+(F>>K)])<C.Wb),C.Ya[F]}function on(C,F,R,K){var ee=C.ab,ce=C.c*F,de=C.C;F=de+F;var me=R,ye=K;for(K=C.Ta,R=C.Ua;0<ee--;){var Ce=C.gc[ee],Me=de,Je=F,$e=me,Qe=ye,Bt=(ye=K,me=R,Ce.Ea);switch(e(Me<Je),e(Je<=Ce.nc),Ce.hc){case 2:my($e,Qe,(Je-Me)*Bt,ye,me);break;case 0:var dt=Me,De=Je,_e=ye,bt=me,yt=(An=Ce).Ea;dt==0&&(fh($e,Qe,null,null,1,_e,bt),zt($e,Qe+1,0,0,yt-1,_e,bt+1),Qe+=yt,bt+=yt,++dt);for(var wt=1<<An.b,pn=wt-1,an=xt(yt,An.b),qn=An.K,An=An.w+(dt>>An.b)*an;dt<De;){var ui=qn,Ai=An,Jr=1;for($u($e,Qe,_e,bt-yt,1,_e,bt);Jr<yt;){var Ir=(Jr&~pn)+wt;Ir>yt&&(Ir=yt),(0,su[ui[Ai++]>>8&15])($e,Qe+ +Jr,_e,bt+Jr-yt,Ir-Jr,_e,bt+Jr),Jr=Ir}Qe+=yt,bt+=yt,++dt&pn||(An+=an)}Je!=Ce.nc&&r(ye,me-Bt,ye,me+(Je-Me-1)*Bt,Bt);break;case 1:for(Bt=$e,De=Qe,yt=($e=Ce.Ea)-(bt=$e&~(_e=(Qe=1<<Ce.b)-1)),dt=xt($e,Ce.b),wt=Ce.K,Ce=Ce.w+(Me>>Ce.b)*dt;Me<Je;){for(pn=wt,an=Ce,qn=new Et,An=De+bt,ui=De+$e;De<An;)mn(pn[an++],qn),od(qn,Bt,De,Qe,ye,me),De+=Qe,me+=Qe;De<ui&&(mn(pn[an++],qn),od(qn,Bt,De,yt,ye,me),De+=yt,me+=yt),++Me&_e||(Ce+=dt)}break;case 3:if($e==ye&&Qe==me&&0<Ce.b){for(De=ye,$e=Bt=me+(Je-Me)*Bt-(bt=(Je-Me)*xt(Ce.Ea,Ce.b)),Qe=ye,_e=me,dt=[],bt=(yt=bt)-1;0<=bt;--bt)dt[bt]=Qe[_e+bt];for(bt=yt-1;0<=bt;--bt)De[$e+bt]=dt[bt];aa(Ce,Me,Je,ye,Bt,ye,me)}else aa(Ce,Me,Je,$e,Qe,ye,me)}me=K,ye=R}ye!=R&&r(K,R,me,ye,ce)}function Gt(C,F){var R=C.V,K=C.Ba+C.c*C.C,ee=F-C.C;if(e(F<=C.l.o),e(16>=ee),0<ee){var ce=C.l,de=C.Ta,me=C.Ua,ye=ce.width;if(on(C,ee,R,K),ee=me=[me],e((R=C.C)<(K=F)),e(ce.v<ce.va),K>ce.o&&(K=ce.o),R<ce.j){var Ce=ce.j-R;R=ce.j,ee[0]+=Ce*ye}if(R>=K?R=0:(ee[0]+=4*ce.v,ce.ka=R-ce.j,ce.U=ce.va-ce.v,ce.T=K-R,R=1),R){if(me=me[0],11>(R=C.ca).S){var Me=R.f.RGBA,Je=(K=R.S,ee=ce.U,ce=ce.T,Ce=Me.eb,Me.A),$e=ce;for(Me=Me.fb+C.Ma*Me.A;0<$e--;){var Qe=de,Bt=me,dt=ee,De=Ce,_e=Me;switch(K){case gy:la(Qe,Bt,dt,De,_e);break;case cd:_o(Qe,Bt,dt,De,_e);break;case op:_o(Qe,Bt,dt,De,_e),La(De,_e,0,dt,1,0);break;case cB:tA(Qe,Bt,dt,De,_e);break;case Dg:We(Qe,Bt,dt,De,_e,1);break;case bh:We(Qe,Bt,dt,De,_e,1),La(De,_e,0,dt,1,0);break;case _g:We(Qe,Bt,dt,De,_e,0);break;case Og:We(Qe,Bt,dt,De,_e,0),La(De,_e,1,dt,1,0);break;case Ui:ad(Qe,Bt,dt,De,_e);break;case Ug:ad(Qe,Bt,dt,De,_e),Oi(De,_e,dt,1,0);break;case vy:eA(Qe,Bt,dt,De,_e);break;default:e(0)}me+=ye,Me+=Je}C.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=R.height)}}C.C=F,e(C.C<=C.i)}function en(C){var F;if(0<C.ua)return 0;for(F=0;F<C.Wb;++F){var R=C.Ya[F].G,K=C.Ya[F].H;if(0<R[1][K[1]+0].g||0<R[2][K[2]+0].g||0<R[3][K[3]+0].g)return 0}return 1}function Tt(C,F,R,K,ee,ce){if(C.Z!=0){var de=C.qd,me=C.rd;for(e(Uo[C.Z]!=null);F<R;++F)Uo[C.Z](de,me,K,ee,K,ee,ce),de=K,me=ee,ee+=ce;C.qd=de,C.rd=me}}function tn(C,F){var R=C.l.ma,K=R.Z==0||R.Z==1?C.l.j:C.C;if(K=C.C<K?K:C.C,e(F<=C.l.o),F>K){var ee=C.l.width,ce=R.ca,de=R.tb+ee*K,me=C.V,ye=C.Ba+C.c*K,Ce=C.gc;e(C.ab==1),e(Ce[0].hc==3),Ig(Ce[0],K,F,me,ye,ce,de),Tt(R,K,F,ce,de,ee)}C.C=C.Ma=F}function yn(C,F,R,K,ee,ce,de){var me=C.$/K,ye=C.$%K,Ce=C.m,Me=C.s,Je=R+C.$,$e=Je;ee=R+K*ee;var Qe=R+K*ce,Bt=280+Me.ua,dt=C.Pb?me:16777216,De=0<Me.ua?Me.Wa:null,_e=Me.wc,bt=Je<Qe?qt(Me,ye,me):null;e(C.C<ce),e(Qe<=ee);var yt=!1;e:for(;;){for(;yt||Je<Qe;){var wt=0;if(me>=dt){var pn=Je-R;e((dt=C).Pb),dt.wd=dt.m,dt.xd=pn,0<dt.s.ua&&Ge(dt.s.Wa,dt.s.vb),dt=me+by}if(ye&_e||(bt=qt(Me,ye,me)),e(bt!=null),bt.Qb&&(F[Je]=bt.qb,yt=!0),!yt)if(Ae(Ce),bt.jc){wt=Ce,pn=F;var an=Je,qn=bt.pd[q(wt)&ws-1];e(bt.jc),256>qn.g?(he(wt,wt.u+qn.g),pn[an]=qn.value,wt=0):(he(wt,wt.u+qn.g-256),e(256<=qn.value),wt=qn.value),wt==0&&(yt=!0)}else wt=lt(bt.G[0],bt.H[0],Ce);if(Ce.h)break;if(yt||256>wt){if(!yt)if(bt.nd)F[Je]=(bt.qb|wt<<8)>>>0;else{if(Ae(Ce),yt=lt(bt.G[1],bt.H[1],Ce),Ae(Ce),pn=lt(bt.G[2],bt.H[2],Ce),an=lt(bt.G[3],bt.H[3],Ce),Ce.h)break;F[Je]=(an<<24|yt<<16|wt<<8|pn)>>>0}if(yt=!1,++Je,++ye>=K&&(ye=0,++me,de!=null&&me<=ce&&!(me%16)&&de(C,me),De!=null))for(;$e<Je;)wt=F[$e++],De.X[(506832829*wt&4294967295)>>>De.Mb]=wt}else if(280>wt){if(wt=St(wt-256,Ce),pn=lt(bt.G[4],bt.H[4],Ce),Ae(Ce),pn=Ke(K,pn=St(pn,Ce)),Ce.h)break;if(Je-R<pn||ee-Je<wt)break e;for(an=0;an<wt;++an)F[Je+an]=F[Je+an-pn];for(Je+=wt,ye+=wt;ye>=K;)ye-=K,++me,de!=null&&me<=ce&&!(me%16)&&de(C,me);if(e(Je<=ee),ye&_e&&(bt=qt(Me,ye,me)),De!=null)for(;$e<Je;)wt=F[$e++],De.X[(506832829*wt&4294967295)>>>De.Mb]=wt}else{if(!(wt<Bt))break e;for(yt=wt-280,e(De!=null);$e<Je;)wt=F[$e++],De.X[(506832829*wt&4294967295)>>>De.Mb]=wt;wt=Je,e(!(yt>>>(pn=De).Xa)),F[wt]=pn.X[yt],yt=!0}yt||e(Ce.h==re(Ce))}if(C.Pb&&Ce.h&&Je<ee)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&Ge(C.s.vb,C.s.Wa);else{if(Ce.h)break e;de!=null&&de(C,me>ce?ce:me),C.a=0,C.$=Je-R}return 1}return C.a=3,0}function Yt(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var F=C.Wa;F!=null&&(F.X=null),C.vb=null,e(C!=null)}function cn(){var C=new un;return C==null?null:(C.a=0,C.xb=lp,oe("Predictor","VP8LPredictors"),oe("Predictor","VP8LPredictors_C"),oe("PredictorAdd","VP8LPredictorsAdd"),oe("PredictorAdd","VP8LPredictorsAdd_C"),my=vn,od=ln,la=se,_o=ut,ad=At,eA=Pt,tA=Le,U.VP8LMapColor32b=tp,U.VP8LMapColor8b=np,C)}function bn(C,F,R,K,ee){var ce=1,de=[C],me=[F],ye=K.m,Ce=K.s,Me=null,Je=0;e:for(;;){if(R)for(;ce&&pe(ye,1);){var $e=de,Qe=me,Bt=K,dt=1,De=Bt.m,_e=Bt.gc[Bt.ab],bt=pe(De,2);if(Bt.Oc&1<<bt)ce=0;else{switch(Bt.Oc|=1<<bt,_e.hc=bt,_e.Ea=$e[0],_e.nc=Qe[0],_e.K=[null],++Bt.ab,e(4>=Bt.ab),bt){case 0:case 1:_e.b=pe(De,3)+2,dt=bn(xt(_e.Ea,_e.b),xt(_e.nc,_e.b),0,Bt,_e.K),_e.K=_e.K[0];break;case 3:var yt,wt=pe(De,8)+1,pn=16<wt?0:4<wt?1:2<wt?2:3;if($e[0]=xt(_e.Ea,pn),_e.b=pn,yt=dt=bn(wt,1,0,Bt,_e.K)){var an,qn=wt,An=_e,ui=1<<(8>>An.b),Ai=s(ui);if(Ai==null)yt=0;else{var Jr=An.K[0],Ir=An.w;for(Ai[0]=An.K[0][0],an=1;an<1*qn;++an)Ai[an]=at(Jr[Ir+an],Ai[an-1]);for(;an<4*ui;++an)Ai[an]=0;An.K[0]=null,An.K[0]=Ai,yt=1}}dt=yt;break;case 2:break;default:e(0)}ce=dt}}if(de=de[0],me=me[0],ce&&pe(ye,1)&&!(ce=1<=(Je=pe(ye,4))&&11>=Je)){K.a=3;break e}var Ti;if(Ti=ce)t:{var Mi,pr,ds,Aa=K,ks=de,Xs=me,vi=Je,Ho=R,jo=Aa.m,hs=Aa.s,Ys=[null],So=1,_a=0,Gl=AB[vi];n:for(;;){if(Ho&&pe(jo,1)){var fs=pe(jo,3)+2,Us=xt(ks,fs),ul=xt(Xs,fs),dd=Us*ul;if(!bn(Us,ul,0,Aa,Ys))break n;for(Ys=Ys[0],hs.xc=fs,Mi=0;Mi<dd;++Mi){var cA=Ys[Mi]>>8&65535;Ys[Mi]=cA,cA>=So&&(So=cA+1)}}if(jo.h)break n;for(pr=0;5>pr;++pr){var yi=wh[pr];!pr&&0<vi&&(yi+=1<<vi),_a<yi&&(_a=yi)}var uu=o(So*Gl,D),xy=So,Qw=o(xy,G);if(Qw==null)var Wl=null;else e(65536>=xy),Wl=Qw;var ql=s(_a);if(Wl==null||ql==null||uu==null){Aa.a=1;break n}var Eh=uu;for(Mi=ds=0;Mi<So;++Mi){var Xl=Wl[Mi],uA=Xl.G,Fh=Xl.H,Ap=0,Al=1,dp=0;for(pr=0;5>pr;++pr){yi=wh[pr],uA[pr]=Eh,Fh[pr]=ds,!pr&&0<vi&&(yi+=1<<vi);i:{var hd,AA=yi,hp=Aa,Au=ql,mB=Eh,zw=ds,es=0,vc=hp.m,Kw=pe(vc,1);if(i(Au,0,0,AA),Kw){var Vw=pe(vc,1)+1,Cy=pe(vc,1),Sy=pe(vc,Cy==0?1:8);Au[Sy]=1,Vw==2&&(Au[Sy=pe(vc,8)]=1);var du=1}else{var rs=s(19),Hs=pe(vc,4)+4;if(19<Hs){hp.a=3;var Ps=0;break i}for(hd=0;hd<Hs;++hd)rs[Bk[hd]]=pe(vc,3);var fp=void 0,dA=void 0,pp=hp,Pk=rs,Zs=AA,By=Au,Kg=0,hu=pp.m,yc=8,dl=o(128,D);r:for(;L(dl,0,7,Pk,19);){if(pe(hu,1)){var Vg=2+2*pe(hu,3);if((fp=2+pe(hu,Vg))>Zs)break r}else fp=Zs;for(dA=0;dA<Zs&&fp--;){Ae(hu);var Ey=dl[0+(127&q(hu))];he(hu,hu.u+Ey.g);var fd=Ey.value;if(16>fd)By[dA++]=fd,fd!=0&&(yc=fd);else{var gB=fd==16,Gw=fd-16,vB=yy[Gw],Ww=pe(hu,Hg[Gw])+vB;if(dA+Ww>Zs)break r;for(var yB=gB?yc:0;0<Ww--;)By[dA++]=yB}}Kg=1;break r}Kg||(pp.a=3),du=Kg}(du=du&&!vc.h)&&(es=L(mB,zw,8,Au,AA)),du&&es!=0?Ps=es:(hp.a=3,Ps=0)}if(Ps==0)break n;if(Al&&uB[pr]==1&&(Al=Eh[ds].g==0),Ap+=Eh[ds].g,ds+=Ps,3>=pr){var mp,Fy=ql[0];for(mp=1;mp<yi;++mp)ql[mp]>Fy&&(Fy=ql[mp]);dp+=Fy}}if(Xl.nd=Al,Xl.Qb=0,Al&&(Xl.qb=(uA[3][Fh[3]+0].value<<24|uA[1][Fh[1]+0].value<<16|uA[2][Fh[2]+0].value)>>>0,Ap==0&&256>uA[0][Fh[0]+0].value&&(Xl.Qb=1,Xl.qb+=uA[0][Fh[0]+0].value<<8)),Xl.jc=!Xl.Qb&&6>dp,Xl.jc){var Gg,hl=Xl;for(Gg=0;Gg<ws;++Gg){var hA=Gg,bc=hl.pd[hA],Th=hl.G[0][hl.H[0]+hA];256<=Th.value?(bc.g=Th.g+256,bc.value=Th.value):(bc.g=0,bc.value=0,hA>>=pt(Th,8,bc),hA>>=pt(hl.G[1][hl.H[1]+hA],16,bc),hA>>=pt(hl.G[2][hl.H[2]+hA],0,bc),pt(hl.G[3][hl.H[3]+hA],24,bc))}}}hs.vc=Ys,hs.Wb=So,hs.Ya=Wl,hs.yc=uu,Ti=1;break t}Ti=0}if(!(ce=Ti)){K.a=3;break e}if(0<Je){if(Ce.ua=1<<Je,!Kt(Ce.Wa,Je)){K.a=1,ce=0;break e}}else Ce.ua=0;var Ty=K,Ny=de,bB=me,ky=Ty.s,Py=ky.xc;if(Ty.c=Ny,Ty.i=bB,ky.md=xt(Ny,Py),ky.wc=Py==0?-1:(1<<Py)-1,R){K.xb=cu;break e}if((Me=s(de*me))==null){K.a=1,ce=0;break e}ce=(ce=yn(K,Me,0,de,me,me,null))&&!ye.h;break e}return ce?(ee!=null?ee[0]=Me:(e(Me==null),e(R)),K.$=0,R||Yt(Ce)):Yt(Ce),ce}function yr(C,F){var R=C.c*C.i,K=R+F+16*F;return e(C.c<=F),C.V=s(K),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+R+F,1)}function On(C,F){var R=C.C,K=F-R,ee=C.V,ce=C.Ba+C.c*R;for(e(F<=C.l.o);0<K;){var de=16<K?16:K,me=C.l.ma,ye=C.l.width,Ce=ye*de,Me=me.ca,Je=me.tb+ye*R,$e=C.Ta,Qe=C.Ua;on(C,de,ee,ce),xs($e,Qe,Me,Je,Ce),Tt(me,R,R+de,Me,Je,ye),K-=de,ee+=de*C.c,R+=de}e(R==F),C.C=C.Ma=F}function hr(){this.ub=this.yd=this.td=this.Rb=0}function Pn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Si(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function $c(){this.Yb=function(){var C=[];return function F(R,K,ee){for(var ce=ee[K],de=0;de<ce&&(R.push(ee.length>K+1?[]:0),!(ee.length<K+1));de++)F(R[de],K+1,ee)}(C,0,[3,11]),C}()}function di(){this.jb=s(3),this.Wc=a([4,8],$c),this.Xc=a([4,17],$c)}function us(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function qs(){this.ld=this.La=this.dd=this.tc=0}function qu(){this.Na=this.la=0}function Xu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Yu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function uh(){this.uc=this.M=this.Nb=0,this.wa=Array(new qs),this.Y=0,this.ya=Array(new Yu),this.aa=0,this.l=new rl}function Dl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Hr(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new hr,this.Kc=new Pn,this.ed=new us,this.Qa=new Si,this.Ic=this.$c=this.Aa=0,this.D=new uh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,te),this.ia=0,this.pb=o(4,Xu),this.Pa=new di,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dl),this.Hd=0,this.rb=Array(new qu),this.sb=0,this.wa=Array(new qs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Yu),this.L=this.aa=0,this.gd=a([4,2],qs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _s(){var C=new Hr;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,xh||(xh=eu)),C}function ri(C,F,R){return C.a==0&&(C.a=F,C.sc=R,C.cb=0),0}function Zu(C,F,R){return 3<=R&&C[F+0]==157&&C[F+1]==1&&C[F+2]==42}function Ah(C,F){if(C==null)return 0;if(C.a=0,C.sc="OK",F==null)return ri(C,2,"null VP8Io passed to VP8GetHeaders()");var R=F.data,K=F.w,ee=F.ha;if(4>ee)return ri(C,7,"Truncated header.");var ce=R[K+0]|R[K+1]<<8|R[K+2]<<16,de=C.Od;if(de.Rb=!(1&ce),de.td=ce>>1&7,de.yd=ce>>4&1,de.ub=ce>>5,3<de.td)return ri(C,3,"Incorrect keyframe parameters.");if(!de.yd)return ri(C,4,"Frame not displayable.");K+=3,ee-=3;var me=C.Kc;if(de.Rb){if(7>ee)return ri(C,7,"cannot parse picture header");if(!Zu(R,K,ee))return ri(C,3,"Bad code word");me.c=16383&(R[K+4]<<8|R[K+3]),me.Td=R[K+4]>>6,me.i=16383&(R[K+6]<<8|R[K+5]),me.Ud=R[K+6]>>6,K+=7,ee-=7,C.za=me.c+15>>4,C.Ub=me.i+15>>4,F.width=me.c,F.height=me.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,i((ce=C.Pa).jb,0,255,ce.jb.length),e((ce=C.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(de.ub>ee)return ri(C,7,"bad partition length");ve(ce=C.m,R,K,de.ub),K+=de.ub,ee-=de.ub,de.Rb&&(me.Ld=we(ce),me.Kd=we(ce)),me=C.Qa;var ye,Ce=C.Pa;if(e(ce!=null),e(me!=null),me.Cb=we(ce),me.Cb){if(me.Bb=we(ce),we(ce)){for(me.Fb=we(ce),ye=0;4>ye;++ye)me.Zb[ye]=we(ce)?$(ce,7):0;for(ye=0;4>ye;++ye)me.Lb[ye]=we(ce)?$(ce,6):0}if(me.Bb)for(ye=0;3>ye;++ye)Ce.jb[ye]=we(ce)?J(ce,8):255}else me.Bb=0;if(ce.Ka)return ri(C,3,"cannot parse segment header");if((me=C.ed).zd=we(ce),me.Tb=J(ce,6),me.wb=J(ce,3),me.Pc=we(ce),me.Pc&&we(ce)){for(Ce=0;4>Ce;++Ce)we(ce)&&(me.vd[Ce]=$(ce,6));for(Ce=0;4>Ce;++Ce)we(ce)&&(me.od[Ce]=$(ce,6))}if(C.L=me.Tb==0?0:me.zd?1:2,ce.Ka)return ri(C,3,"cannot parse filter header");var Me=ee;if(ee=ye=K,K=ye+Me,me=Me,C.Xb=(1<<J(C.m,2))-1,Me<3*(Ce=C.Xb))R=7;else{for(ye+=3*Ce,me-=3*Ce,Me=0;Me<Ce;++Me){var Je=R[ee+0]|R[ee+1]<<8|R[ee+2]<<16;Je>me&&(Je=me),ve(C.Jc[+Me],R,ye,Je),ye+=Je,me-=Je,ee+=3}ve(C.Jc[+Ce],R,ye,me),R=ye<K?0:5}if(R!=0)return ri(C,R,"cannot parse partitions");for(R=J(ye=C.m,7),ee=we(ye)?$(ye,4):0,K=we(ye)?$(ye,4):0,me=we(ye)?$(ye,4):0,Ce=we(ye)?$(ye,4):0,ye=we(ye)?$(ye,4):0,Me=C.Qa,Je=0;4>Je;++Je){if(Me.Cb){var $e=Me.Zb[Je];Me.Fb||($e+=R)}else{if(0<Je){C.pb[Je]=C.pb[0];continue}$e=R}var Qe=C.pb[Je];Qe.Sc[0]=ap[al($e+ee,127)],Qe.Sc[1]=jg[al($e+0,127)],Qe.Eb[0]=2*ap[al($e+K,127)],Qe.Eb[1]=101581*jg[al($e+me,127)]>>16,8>Qe.Eb[1]&&(Qe.Eb[1]=8),Qe.Qc[0]=ap[al($e+Ce,117)],Qe.Qc[1]=jg[al($e+ye,127)],Qe.lc=$e+ye}if(!de.Rb)return ri(C,4,"Not a key frame.");for(we(ce),de=C.Pa,R=0;4>R;++R){for(ee=0;8>ee;++ee)for(K=0;3>K;++K)for(me=0;11>me;++me)Ce=ke(ce,Tk[R][ee][K][me])?J(ce,8):hB[R][ee][K][me],de.Wc[R][ee].Yb[K][me]=Ce;for(ee=0;17>ee;++ee)de.Xc[R][ee]=de.Wc[R][Uw[ee]]}return C.kc=we(ce),C.kc&&(C.Bd=J(ce,8)),C.cb=1}function eu(C,F,R,K,ee,ce,de){var me=F[ee].Yb[R];for(R=0;16>ee;++ee){if(!ke(C,me[R+0]))return ee;for(;!ke(C,me[R+1]);)if(me=F[++ee].Yb[0],R=0,ee==16)return 16;var ye=F[ee+1].Yb;if(ke(C,me[R+2])){var Ce=C,Me=0;if(ke(Ce,($e=me)[(Je=R)+3]))if(ke(Ce,$e[Je+6])){for(me=0,Je=2*(Me=ke(Ce,$e[Je+8]))+($e=ke(Ce,$e[Je+9+Me])),Me=0,$e=_w[Je];$e[me];++me)Me+=Me+ke(Ce,$e[me]);Me+=3+(8<<Je)}else ke(Ce,$e[Je+7])?(Me=7+2*ke(Ce,165),Me+=ke(Ce,145)):Me=5+ke(Ce,159);else Me=ke(Ce,$e[Je+4])?3+ke(Ce,$e[Je+5]):2;me=ye[2]}else Me=1,me=ye[1];ye=de+Ow[ee],0>(Ce=C).b&&ge(Ce);var Je,$e=Ce.b,Qe=(Je=Ce.Ca>>1)-(Ce.I>>$e)>>31;--Ce.b,Ce.Ca+=Qe,Ce.Ca|=1,Ce.I-=(Je+1&Qe)<<$e,ce[ye]=((Me^Qe)-Qe)*K[(0<ee)+0]}return 16}function _l(C){var F=C.rb[C.sb-1];F.la=0,F.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function vs(C,F){if(C==null)return 0;if(F==null)return ri(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!Ah(C,F))return 0;if(e(C.cb),F.ac==null||F.ac(F)){F.ob&&(C.L=0);var R=Bh[C.L];if(C.L==2?(C.yb=0,C.zb=0):(C.yb=F.v-R>>4,C.zb=F.j-R>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=F.o+15+R>>4,C.Hb=F.va+15+R>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var K=C.ed;for(R=0;4>R;++R){var ee;if(C.Qa.Cb){var ce=C.Qa.Lb[R];C.Qa.Fb||(ce+=K.Tb)}else ce=K.Tb;for(ee=0;1>=ee;++ee){var de=C.gd[R][ee],me=ce;if(K.Pc&&(me+=K.vd[0],ee&&(me+=K.od[0])),0<(me=0>me?0:63<me?63:me)){var ye=me;0<K.wb&&(ye=4<K.wb?ye>>2:ye>>1)>9-K.wb&&(ye=9-K.wb),1>ye&&(ye=1),de.dd=ye,de.tc=2*me+ye,de.ld=40<=me?2:15<=me?1:0}else de.tc=0;de.La=ee}}}R=0}else ri(C,6,"Frame setup failed"),R=C.a;if(R=R==0){if(R){C.$c=0,0<C.Aa||(C.Ic=lA);e:{R=C.Ic,K=4*(ye=C.za);var Ce=32*ye,Me=ye+1,Je=0<C.L?ye*(0<C.Aa?2:1):0,$e=(C.Aa==2?2:1)*ye;if((de=K+832+(ee=3*(16*R+Bh[C.L])/2*Ce)+(ce=C.Fa!=null&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=de)R=0;else{if(de>C.Vb){if(C.Vb=0,C.Ec=s(de),C.Fc=0,C.Ec==null){R=ri(C,1,"no memory during frame initialization.");break e}C.Vb=de}de=C.Ec,me=C.Fc,C.Ac=de,C.Bc=me,me+=K,C.Gd=o(Ce,Dl),C.Hd=0,C.rb=o(Me+1,qu),C.sb=1,C.wa=Je?o(Je,qs):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=ye),e(!0),C.oc=de,C.pc=me,me+=832,C.ya=o($e,Yu),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,C.Aa==2&&(C.D.aa+=ye),C.R=16*ye,C.B=8*ye,ye=(Ce=Bh[C.L])*C.R,Ce=Ce/2*C.B,C.sa=de,C.ta=me+ye,C.qa=C.sa,C.ra=C.ta+16*R*C.R+Ce,C.Ha=C.qa,C.Ia=C.ra+8*R*C.B+Ce,C.$c=0,me+=ee,C.mb=ce?de:null,C.nb=ce?me:null,e(me+ce<=C.Fc+C.Vb),_l(C),i(C.Ac,C.Bc,0,K),R=1}}if(R){if(F.ka=0,F.y=C.sa,F.O=C.ta,F.f=C.qa,F.N=C.ra,F.ea=C.Ha,F.Vd=C.Ia,F.fa=C.R,F.Rc=C.B,F.F=null,F.J=0,!Rg){for(R=-255;255>=R;++R)Os[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)au[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)ip[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)yh[255+R]=0>R?0:255<R?255:R;Rg=1}rp=Wr,nA=tu,rA=Do,Oo=Wf,ll=nu,hi=As,ph=Ql,Mg=Bi,mh=fe,gh=rt,vh=or,cl=$i,iA=Ne,ou=ht,sA=Ns,oA=Kn,ld=Er,xo=Li,Vl[0]=Vi,Vl[1]=Ju,Vl[2]=sl,Vl[3]=sa,Vl[4]=fc,Vl[5]=iu,Vl[6]=ol,Vl[7]=pc,Vl[8]=rn,Vl[9]=Fe,ua[0]=ru,ua[1]=id,ua[2]=il,ua[3]=Hl,ua[4]=Ki,ua[5]=Ts,ua[6]=wo,Ia[0]=Sn,Ia[1]=hc,Ia[2]=$n,Ia[3]=zn,Ia[4]=hn,Ia[5]=fr,Ia[6]=jr,R=1}else R=0}R&&(R=function(Qe,Bt){for(Qe.M=0;Qe.M<Qe.Va;++Qe.M){var dt,De=Qe.Jc[Qe.M&Qe.Xb],_e=Qe.m,bt=Qe;for(dt=0;dt<bt.za;++dt){var yt=_e,wt=bt,pn=wt.Ac,an=wt.Bc+4*dt,qn=wt.zc,An=wt.ya[wt.aa+dt];if(wt.Qa.Bb?An.$b=ke(yt,wt.Pa.jb[0])?2+ke(yt,wt.Pa.jb[2]):ke(yt,wt.Pa.jb[1]):An.$b=0,wt.kc&&(An.Ad=ke(yt,wt.Bd)),An.Za=!ke(yt,145)+0,An.Za){var ui=An.Ob,Ai=0;for(wt=0;4>wt;++wt){var Jr,Ir=qn[0+wt];for(Jr=0;4>Jr;++Jr){Ir=Fk[pn[an+Jr]][Ir];for(var Ti=dB[ke(yt,Ir[0])];0<Ti;)Ti=dB[2*Ti+ke(yt,Ir[Ti])];Ir=-Ti,pn[an+Jr]=Ir}r(ui,Ai,pn,an,4),Ai+=4,qn[0+wt]=Ir}}else Ir=ke(yt,156)?ke(yt,128)?1:3:ke(yt,163)?2:0,An.Ob[0]=Ir,i(pn,an,Ir,4),i(qn,0,Ir,4);An.Dd=ke(yt,142)?ke(yt,114)?ke(yt,183)?1:3:2:0}if(bt.m.Ka)return ri(Qe,7,"Premature end-of-partition0 encountered.");for(;Qe.ja<Qe.za;++Qe.ja){if(bt=De,yt=(_e=Qe).rb[_e.sb-1],pn=_e.rb[_e.sb+_e.ja],dt=_e.ya[_e.aa+_e.ja],an=_e.kc?dt.Ad:0)yt.la=pn.la=0,dt.Za||(yt.Na=pn.Na=0),dt.Hc=0,dt.Gc=0,dt.ia=0;else{var Mi,pr;if(yt=pn,pn=bt,an=_e.Pa.Xc,qn=_e.ya[_e.aa+_e.ja],An=_e.pb[qn.$b],wt=qn.ad,ui=0,Ai=_e.rb[_e.sb-1],Ir=Jr=0,i(wt,ui,0,384),qn.Za)var ds=0,Aa=an[3];else{Ti=s(16);var ks=yt.Na+Ai.Na;if(ks=xh(pn,an[1],ks,An.Eb,0,Ti,0),yt.Na=Ai.Na=(0<ks)+0,1<ks)rp(Ti,0,wt,ui);else{var Xs=Ti[0]+3>>3;for(Ti=0;256>Ti;Ti+=16)wt[ui+Ti]=Xs}ds=1,Aa=an[0]}var vi=15&yt.la,Ho=15&Ai.la;for(Ti=0;4>Ti;++Ti){var jo=1&Ho;for(Xs=pr=0;4>Xs;++Xs)vi=vi>>1|(jo=(ks=xh(pn,Aa,ks=jo+(1&vi),An.Sc,ds,wt,ui))>ds)<<7,pr=pr<<2|(3<ks?3:1<ks?2:wt[ui+0]!=0),ui+=16;vi>>=4,Ho=Ho>>1|jo<<7,Jr=(Jr<<8|pr)>>>0}for(Aa=vi,ds=Ho>>4,Mi=0;4>Mi;Mi+=2){for(pr=0,vi=yt.la>>4+Mi,Ho=Ai.la>>4+Mi,Ti=0;2>Ti;++Ti){for(jo=1&Ho,Xs=0;2>Xs;++Xs)ks=jo+(1&vi),vi=vi>>1|(jo=0<(ks=xh(pn,an[2],ks,An.Qc,0,wt,ui)))<<3,pr=pr<<2|(3<ks?3:1<ks?2:wt[ui+0]!=0),ui+=16;vi>>=2,Ho=Ho>>1|jo<<5}Ir|=pr<<4*Mi,Aa|=vi<<4<<Mi,ds|=(240&Ho)<<Mi}yt.la=Aa,Ai.la=ds,qn.Hc=Jr,qn.Gc=Ir,qn.ia=43690&Ir?0:An.ia,an=!(Jr|Ir)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[dt.$b][dt.Za],_e.wa[_e.Y+_e.ja].La|=!an),bt.Ka)return ri(Qe,7,"Premature end-of-file encountered.")}if(_l(Qe),_e=Bt,bt=1,dt=(De=Qe).D,yt=0<De.L&&De.M>=De.zb&&De.M<=De.Va,De.Aa==0)e:{if(dt.M=De.M,dt.uc=yt,qf(De,dt),bt=1,dt=(pr=De.D).Nb,yt=(Ir=Bh[De.L])*De.R,pn=Ir/2*De.B,Ti=16*dt*De.R,Xs=8*dt*De.B,an=De.sa,qn=De.ta-yt+Ti,An=De.qa,wt=De.ra-pn+Xs,ui=De.Ha,Ai=De.Ia-pn+Xs,Ho=(vi=pr.M)==0,Jr=vi>=De.Va-1,De.Aa==2&&qf(De,pr),pr.uc)for(jo=(ks=De).D.M,e(ks.D.uc),pr=ks.yb;pr<ks.Hb;++pr){ds=pr,Aa=jo;var hs=(Ys=(yi=ks).D).Nb;Mi=yi.R;var Ys=Ys.wa[Ys.Y+ds],So=yi.sa,_a=yi.ta+16*hs*Mi+16*ds,Gl=Ys.dd,fs=Ys.tc;if(fs!=0)if(e(3<=fs),yi.L==1)0<ds&&oA(So,_a,Mi,fs+4),Ys.La&&xo(So,_a,Mi,fs),0<Aa&&sA(So,_a,Mi,fs+4),Ys.La&&ld(So,_a,Mi,fs);else{var Us=yi.B,ul=yi.qa,dd=yi.ra+8*hs*Us+8*ds,cA=yi.Ha,yi=yi.Ia+8*hs*Us+8*ds;hs=Ys.ld,0<ds&&(Mg(So,_a,Mi,fs+4,Gl,hs),gh(ul,dd,cA,yi,Us,fs+4,Gl,hs)),Ys.La&&(cl(So,_a,Mi,fs,Gl,hs),ou(ul,dd,cA,yi,Us,fs,Gl,hs)),0<Aa&&(ph(So,_a,Mi,fs+4,Gl,hs),mh(ul,dd,cA,yi,Us,fs+4,Gl,hs)),Ys.La&&(vh(So,_a,Mi,fs,Gl,hs),iA(ul,dd,cA,yi,Us,fs,Gl,hs))}}if(De.ia&&alert("todo:DitherRow"),_e.put!=null){if(pr=16*vi,vi=16*(vi+1),Ho?(_e.y=De.sa,_e.O=De.ta+Ti,_e.f=De.qa,_e.N=De.ra+Xs,_e.ea=De.Ha,_e.W=De.Ia+Xs):(pr-=Ir,_e.y=an,_e.O=qn,_e.f=An,_e.N=wt,_e.ea=ui,_e.W=Ai),Jr||(vi-=Ir),vi>_e.o&&(vi=_e.o),_e.F=null,_e.J=null,De.Fa!=null&&0<De.Fa.length&&pr<vi&&(_e.J=Fr(De,_e,pr,vi-pr),_e.F=De.mb,_e.F==null&&_e.F.length==0)){bt=ri(De,3,"Could not decode alpha data.");break e}pr<_e.j&&(Ir=_e.j-pr,pr=_e.j,e(!(1&Ir)),_e.O+=De.R*Ir,_e.N+=De.B*(Ir>>1),_e.W+=De.B*(Ir>>1),_e.F!=null&&(_e.J+=_e.width*Ir)),pr<vi&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=pr-_e.j,_e.U=_e.va-_e.v,_e.T=vi-pr,bt=_e.put(_e))}dt+1!=De.Ic||Jr||(r(De.sa,De.ta-yt,an,qn+16*De.R,yt),r(De.qa,De.ra-pn,An,wt+8*De.B,pn),r(De.Ha,De.Ia-pn,ui,Ai+8*De.B,pn))}if(!bt)return ri(Qe,6,"Output aborted.")}return 1}(C,F)),F.bc!=null&&F.bc(F),R&=1}return R?(C.cb=0,R):0}function ys(C,F,R,K,ee){ee=C[F+R+32*K]+(ee>>3),C[F+R+32*K]=-256&ee?0>ee?0:255:ee}function ci(C,F,R,K,ee,ce){ys(C,F,0,R,K+ee),ys(C,F,1,R,K+ce),ys(C,F,2,R,K-ce),ys(C,F,3,R,K-ee)}function lo(C){return(20091*C>>16)+C}function Ol(C,F,R,K){var ee,ce=0,de=s(16);for(ee=0;4>ee;++ee){var me=C[F+0]+C[F+8],ye=C[F+0]-C[F+8],Ce=(35468*C[F+4]>>16)-lo(C[F+12]),Me=lo(C[F+4])+(35468*C[F+12]>>16);de[ce+0]=me+Me,de[ce+1]=ye+Ce,de[ce+2]=ye-Ce,de[ce+3]=me-Me,ce+=4,F++}for(ee=ce=0;4>ee;++ee)me=(C=de[ce+0]+4)+de[ce+8],ye=C-de[ce+8],Ce=(35468*de[ce+4]>>16)-lo(de[ce+12]),ys(R,K,0,0,me+(Me=lo(de[ce+4])+(35468*de[ce+12]>>16))),ys(R,K,1,0,ye+Ce),ys(R,K,2,0,ye-Ce),ys(R,K,3,0,me-Me),ce++,K+=32}function As(C,F,R,K){var ee=C[F+0]+4,ce=35468*C[F+4]>>16,de=lo(C[F+4]),me=35468*C[F+1]>>16;ci(R,K,0,ee+de,C=lo(C[F+1]),me),ci(R,K,1,ee+ce,C,me),ci(R,K,2,ee-ce,C,me),ci(R,K,3,ee-de,C,me)}function tu(C,F,R,K,ee){Ol(C,F,R,K),ee&&Ol(C,F+16,R,K+4)}function Do(C,F,R,K){nA(C,F+0,R,K,1),nA(C,F+32,R,K+128,1)}function Wf(C,F,R,K){var ee;for(C=C[F+0]+4,ee=0;4>ee;++ee)for(F=0;4>F;++F)ys(R,K,F,ee,C)}function nu(C,F,R,K){C[F+0]&&Oo(C,F+0,R,K),C[F+16]&&Oo(C,F+16,R,K+4),C[F+32]&&Oo(C,F+32,R,K+128),C[F+48]&&Oo(C,F+48,R,K+128+4)}function Wr(C,F,R,K){var ee,ce=s(16);for(ee=0;4>ee;++ee){var de=C[F+0+ee]+C[F+12+ee],me=C[F+4+ee]+C[F+8+ee],ye=C[F+4+ee]-C[F+8+ee],Ce=C[F+0+ee]-C[F+12+ee];ce[0+ee]=de+me,ce[8+ee]=de-me,ce[4+ee]=Ce+ye,ce[12+ee]=Ce-ye}for(ee=0;4>ee;++ee)de=(C=ce[0+4*ee]+3)+ce[3+4*ee],me=ce[1+4*ee]+ce[2+4*ee],ye=ce[1+4*ee]-ce[2+4*ee],Ce=C-ce[3+4*ee],R[K+0]=de+me>>3,R[K+16]=Ce+ye>>3,R[K+32]=de-me>>3,R[K+48]=Ce-ye>>3,K+=64}function Ul(C,F,R){var K,ee=F-32,ce=ca,de=255-C[ee-1];for(K=0;K<R;++K){var me,ye=ce,Ce=de+C[F-1];for(me=0;me<R;++me)C[F+me]=ye[Ce+C[ee+me]];F+=32}}function Ju(C,F){Ul(C,F,4)}function hc(C,F){Ul(C,F,8)}function id(C,F){Ul(C,F,16)}function il(C,F){var R;for(R=0;16>R;++R)r(C,F+32*R,C,F-32,16)}function Hl(C,F){var R;for(R=16;0<R;--R)i(C,F,C[F-1],16),F+=32}function jl(C,F,R){var K;for(K=0;16>K;++K)i(F,R+32*K,C,16)}function ru(C,F){var R,K=16;for(R=0;16>R;++R)K+=C[F-1+32*R]+C[F+R-32];jl(K>>5,C,F)}function Ki(C,F){var R,K=8;for(R=0;16>R;++R)K+=C[F-1+32*R];jl(K>>4,C,F)}function Ts(C,F){var R,K=8;for(R=0;16>R;++R)K+=C[F+R-32];jl(K>>4,C,F)}function wo(C,F){jl(128,C,F)}function nn(C,F,R){return C+2*F+R+2>>2}function sl(C,F){var R,K=F-32;for(K=new Uint8Array([nn(C[K-1],C[K+0],C[K+1]),nn(C[K+0],C[K+1],C[K+2]),nn(C[K+1],C[K+2],C[K+3]),nn(C[K+2],C[K+3],C[K+4])]),R=0;4>R;++R)r(C,F+32*R,K,0,K.length)}function sa(C,F){var R=C[F-1],K=C[F-1+32],ee=C[F-1+64],ce=C[F-1+96];ze(C,F+0,16843009*nn(C[F-1-32],R,K)),ze(C,F+32,16843009*nn(R,K,ee)),ze(C,F+64,16843009*nn(K,ee,ce)),ze(C,F+96,16843009*nn(ee,ce,ce))}function Vi(C,F){var R,K=4;for(R=0;4>R;++R)K+=C[F+R-32]+C[F-1+32*R];for(K>>=3,R=0;4>R;++R)i(C,F+32*R,K,4)}function fc(C,F){var R=C[F-1+0],K=C[F-1+32],ee=C[F-1+64],ce=C[F-1-32],de=C[F+0-32],me=C[F+1-32],ye=C[F+2-32],Ce=C[F+3-32];C[F+0+96]=nn(K,ee,C[F-1+96]),C[F+1+96]=C[F+0+64]=nn(R,K,ee),C[F+2+96]=C[F+1+64]=C[F+0+32]=nn(ce,R,K),C[F+3+96]=C[F+2+64]=C[F+1+32]=C[F+0+0]=nn(de,ce,R),C[F+3+64]=C[F+2+32]=C[F+1+0]=nn(me,de,ce),C[F+3+32]=C[F+2+0]=nn(ye,me,de),C[F+3+0]=nn(Ce,ye,me)}function ol(C,F){var R=C[F+1-32],K=C[F+2-32],ee=C[F+3-32],ce=C[F+4-32],de=C[F+5-32],me=C[F+6-32],ye=C[F+7-32];C[F+0+0]=nn(C[F+0-32],R,K),C[F+1+0]=C[F+0+32]=nn(R,K,ee),C[F+2+0]=C[F+1+32]=C[F+0+64]=nn(K,ee,ce),C[F+3+0]=C[F+2+32]=C[F+1+64]=C[F+0+96]=nn(ee,ce,de),C[F+3+32]=C[F+2+64]=C[F+1+96]=nn(ce,de,me),C[F+3+64]=C[F+2+96]=nn(de,me,ye),C[F+3+96]=nn(me,ye,ye)}function iu(C,F){var R=C[F-1+0],K=C[F-1+32],ee=C[F-1+64],ce=C[F-1-32],de=C[F+0-32],me=C[F+1-32],ye=C[F+2-32],Ce=C[F+3-32];C[F+0+0]=C[F+1+64]=ce+de+1>>1,C[F+1+0]=C[F+2+64]=de+me+1>>1,C[F+2+0]=C[F+3+64]=me+ye+1>>1,C[F+3+0]=ye+Ce+1>>1,C[F+0+96]=nn(ee,K,R),C[F+0+64]=nn(K,R,ce),C[F+0+32]=C[F+1+96]=nn(R,ce,de),C[F+1+32]=C[F+2+96]=nn(ce,de,me),C[F+2+32]=C[F+3+96]=nn(de,me,ye),C[F+3+32]=nn(me,ye,Ce)}function pc(C,F){var R=C[F+0-32],K=C[F+1-32],ee=C[F+2-32],ce=C[F+3-32],de=C[F+4-32],me=C[F+5-32],ye=C[F+6-32],Ce=C[F+7-32];C[F+0+0]=R+K+1>>1,C[F+1+0]=C[F+0+64]=K+ee+1>>1,C[F+2+0]=C[F+1+64]=ee+ce+1>>1,C[F+3+0]=C[F+2+64]=ce+de+1>>1,C[F+0+32]=nn(R,K,ee),C[F+1+32]=C[F+0+96]=nn(K,ee,ce),C[F+2+32]=C[F+1+96]=nn(ee,ce,de),C[F+3+32]=C[F+2+96]=nn(ce,de,me),C[F+3+64]=nn(de,me,ye),C[F+3+96]=nn(me,ye,Ce)}function Fe(C,F){var R=C[F-1+0],K=C[F-1+32],ee=C[F-1+64],ce=C[F-1+96];C[F+0+0]=R+K+1>>1,C[F+2+0]=C[F+0+32]=K+ee+1>>1,C[F+2+32]=C[F+0+64]=ee+ce+1>>1,C[F+1+0]=nn(R,K,ee),C[F+3+0]=C[F+1+32]=nn(K,ee,ce),C[F+3+32]=C[F+1+64]=nn(ee,ce,ce),C[F+3+64]=C[F+2+64]=C[F+0+96]=C[F+1+96]=C[F+2+96]=C[F+3+96]=ce}function rn(C,F){var R=C[F-1+0],K=C[F-1+32],ee=C[F-1+64],ce=C[F-1+96],de=C[F-1-32],me=C[F+0-32],ye=C[F+1-32],Ce=C[F+2-32];C[F+0+0]=C[F+2+32]=R+de+1>>1,C[F+0+32]=C[F+2+64]=K+R+1>>1,C[F+0+64]=C[F+2+96]=ee+K+1>>1,C[F+0+96]=ce+ee+1>>1,C[F+3+0]=nn(me,ye,Ce),C[F+2+0]=nn(de,me,ye),C[F+1+0]=C[F+3+32]=nn(R,de,me),C[F+1+32]=C[F+3+64]=nn(K,R,de),C[F+1+64]=C[F+3+96]=nn(ee,K,R),C[F+1+96]=nn(ce,ee,K)}function $n(C,F){var R;for(R=0;8>R;++R)r(C,F+32*R,C,F-32,8)}function zn(C,F){var R;for(R=0;8>R;++R)i(C,F,C[F-1],8),F+=32}function Rt(C,F,R){var K;for(K=0;8>K;++K)i(F,R+32*K,C,8)}function Sn(C,F){var R,K=8;for(R=0;8>R;++R)K+=C[F+R-32]+C[F-1+32*R];Rt(K>>4,C,F)}function fr(C,F){var R,K=4;for(R=0;8>R;++R)K+=C[F+R-32];Rt(K>>3,C,F)}function hn(C,F){var R,K=4;for(R=0;8>R;++R)K+=C[F-1+32*R];Rt(K>>3,C,F)}function jr(C,F){Rt(128,C,F)}function Yn(C,F,R){var K=C[F-R],ee=C[F+0],ce=3*(ee-K)+lu[1020+C[F-2*R]-C[F+R]],de=sp[112+(ce+4>>3)];C[F-R]=ca[255+K+sp[112+(ce+3>>3)]],C[F+0]=ca[255+ee-de]}function gi(C,F,R,K){var ee=C[F+0],ce=C[F+R];return Kl[255+C[F-2*R]-C[F-R]]>K||Kl[255+ce-ee]>K}function Vr(C,F,R,K){return 4*Kl[255+C[F-R]-C[F+0]]+Kl[255+C[F-2*R]-C[F+R]]<=K}function ii(C,F,R,K,ee){var ce=C[F-3*R],de=C[F-2*R],me=C[F-R],ye=C[F+0],Ce=C[F+R],Me=C[F+2*R],Je=C[F+3*R];return 4*Kl[255+me-ye]+Kl[255+de-Ce]>K?0:Kl[255+C[F-4*R]-ce]<=ee&&Kl[255+ce-de]<=ee&&Kl[255+de-me]<=ee&&Kl[255+Je-Me]<=ee&&Kl[255+Me-Ce]<=ee&&Kl[255+Ce-ye]<=ee}function Ns(C,F,R,K){var ee=2*K+1;for(K=0;16>K;++K)Vr(C,F+K,R,ee)&&Yn(C,F+K,R)}function Kn(C,F,R,K){var ee=2*K+1;for(K=0;16>K;++K)Vr(C,F+K*R,1,ee)&&Yn(C,F+K*R,1)}function Er(C,F,R,K){var ee;for(ee=3;0<ee;--ee)Ns(C,F+=4*R,R,K)}function Li(C,F,R,K){var ee;for(ee=3;0<ee;--ee)Kn(C,F+=4,R,K)}function nr(C,F,R,K,ee,ce,de,me){for(ce=2*ce+1;0<ee--;){if(ii(C,F,R,ce,de))if(gi(C,F,R,me))Yn(C,F,R);else{var ye=C,Ce=F,Me=R,Je=ye[Ce-2*Me],$e=ye[Ce-Me],Qe=ye[Ce+0],Bt=ye[Ce+Me],dt=ye[Ce+2*Me],De=27*(bt=lu[1020+3*(Qe-$e)+lu[1020+Je-Bt]])+63>>7,_e=18*bt+63>>7,bt=9*bt+63>>7;ye[Ce-3*Me]=ca[255+ye[Ce-3*Me]+bt],ye[Ce-2*Me]=ca[255+Je+_e],ye[Ce-Me]=ca[255+$e+De],ye[Ce+0]=ca[255+Qe-De],ye[Ce+Me]=ca[255+Bt-_e],ye[Ce+2*Me]=ca[255+dt-bt]}F+=K}}function bs(C,F,R,K,ee,ce,de,me){for(ce=2*ce+1;0<ee--;){if(ii(C,F,R,ce,de))if(gi(C,F,R,me))Yn(C,F,R);else{var ye=C,Ce=F,Me=R,Je=ye[Ce-Me],$e=ye[Ce+0],Qe=ye[Ce+Me],Bt=sp[112+((dt=3*($e-Je))+4>>3)],dt=sp[112+(dt+3>>3)],De=Bt+1>>1;ye[Ce-2*Me]=ca[255+ye[Ce-2*Me]+De],ye[Ce-Me]=ca[255+Je+dt],ye[Ce+0]=ca[255+$e-Bt],ye[Ce+Me]=ca[255+Qe-De]}F+=K}}function Ql(C,F,R,K,ee,ce){nr(C,F,R,1,16,K,ee,ce)}function Bi(C,F,R,K,ee,ce){nr(C,F,1,R,16,K,ee,ce)}function or(C,F,R,K,ee,ce){var de;for(de=3;0<de;--de)bs(C,F+=4*R,R,1,16,K,ee,ce)}function $i(C,F,R,K,ee,ce){var de;for(de=3;0<de;--de)bs(C,F+=4,1,R,16,K,ee,ce)}function fe(C,F,R,K,ee,ce,de,me){nr(C,F,ee,1,8,ce,de,me),nr(R,K,ee,1,8,ce,de,me)}function rt(C,F,R,K,ee,ce,de,me){nr(C,F,1,ee,8,ce,de,me),nr(R,K,1,ee,8,ce,de,me)}function Ne(C,F,R,K,ee,ce,de,me){bs(C,F+4*ee,ee,1,8,ce,de,me),bs(R,K+4*ee,ee,1,8,ce,de,me)}function ht(C,F,R,K,ee,ce,de,me){bs(C,F+4,1,ee,8,ce,de,me),bs(R,K+4,1,ee,8,ce,de,me)}function gt(){this.ba=new Xe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ae,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Jt(){this.ua=0,this.Wa=new Se,this.vb=new Se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new D}function un(){this.xb=this.a=0,this.l=new rl,this.ca=new Xe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Jt,this.ab=0,this.gc=o(4,lr),this.Oc=0}function Rn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jt(C,F,R,K,ee,ce,de){for(C=C==null?0:C[F+0],F=0;F<de;++F)ee[ce+F]=C+R[K+F]&255,C=ee[ce+F]}function Tn(C,F,R,K,ee,ce,de){var me;if(C==null)jt(null,null,R,K,ee,ce,de);else for(me=0;me<de;++me)ee[ce+me]=C[F+me]+R[K+me]&255}function Dt(C,F,R,K,ee,ce,de){if(C==null)jt(null,null,R,K,ee,ce,de);else{var me,ye=C[F+0],Ce=ye,Me=ye;for(me=0;me<de;++me)Ce=Me+(ye=C[F+me])-Ce,Me=R[K+me]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=ye,ee[ce+me]=Me}}function Fr(C,F,R,K){var ee=F.width,ce=F.o;if(e(C!=null&&F!=null),0>R||0>=K||R+K>ce)return null;if(!C.Cc){if(C.ga==null){var de;if(C.ga=new Rn,(de=C.ga==null)||(de=F.width*F.o,e(C.Gb.length==0),C.Gb=s(de),C.Uc=0,C.Gb==null?de=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,de=1),de=!de),!de){de=C.ga;var me=C.Fa,ye=C.P,Ce=C.qc,Me=C.mb,Je=C.nb,$e=ye+1,Qe=Ce-1,Bt=de.l;if(e(me!=null&&Me!=null&&F!=null),Uo[0]=null,Uo[1]=jt,Uo[2]=Tn,Uo[3]=Dt,de.ca=Me,de.tb=Je,de.c=F.width,de.i=F.height,e(0<de.c&&0<de.i),1>=Ce)F=0;else if(de.$a=me[ye+0]>>0&3,de.Z=me[ye+0]>>2&3,de.Lc=me[ye+0]>>4&3,ye=me[ye+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||ye)F=0;else if(Bt.put=Lt,Bt.ac=vt,Bt.bc=Ze,Bt.ma=de,Bt.width=F.width,Bt.height=F.height,Bt.Da=F.Da,Bt.v=F.v,Bt.va=F.va,Bt.j=F.j,Bt.o=F.o,de.$a)e:{e(de.$a==1),F=cn();t:for(;;){if(F==null){F=0;break e}if(e(de!=null),de.mc=F,F.c=de.c,F.i=de.i,F.l=de.l,F.l.ma=de,F.l.width=de.c,F.l.height=de.i,F.a=0,X(F.m,me,$e,Qe),!bn(de.c,de.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&en(F.s)?(de.ic=1,me=F.c*F.i,F.Ta=null,F.Ua=0,F.V=s(me),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(de.ic=0,F=yr(F,de.c)),!F))break t;F=1;break e}de.mc=null,F=0}else F=Qe>=de.c*de.i;de=!F}if(de)return null;C.ga.Lc!=1?C.Ga=0:K=ce-R}e(C.ga!=null),e(R+K<=ce);e:{if(F=(me=C.ga).c,ce=me.l.o,me.$a==0){if($e=C.rc,Qe=C.Vc,Bt=C.Fa,ye=C.P+1+R*F,Ce=C.mb,Me=C.nb+R*F,e(ye<=C.P+C.qc),me.Z!=0)for(e(Uo[me.Z]!=null),de=0;de<K;++de)Uo[me.Z]($e,Qe,Bt,ye,Ce,Me,F),$e=Ce,Qe=Me,Me+=F,ye+=F;else for(de=0;de<K;++de)r(Ce,Me,Bt,ye,F),$e=Ce,Qe=Me,Me+=F,ye+=F;C.rc=$e,C.Vc=Qe}else{if(e(me.mc!=null),F=R+K,e((de=me.mc)!=null),e(F<=de.i),de.C>=F)F=1;else if(me.ic||Ie(),me.ic){me=de.V,$e=de.Ba,Qe=de.c;var dt=de.i,De=(Bt=1,ye=de.$/Qe,Ce=de.$%Qe,Me=de.m,Je=de.s,de.$),_e=Qe*dt,bt=Qe*F,yt=Je.wc,wt=De<bt?qt(Je,Ce,ye):null;e(De<=_e),e(F<=dt),e(en(Je));t:for(;;){for(;!Me.h&&De<bt;){if(Ce&yt||(wt=qt(Je,Ce,ye)),e(wt!=null),Ae(Me),256>(dt=lt(wt.G[0],wt.H[0],Me)))me[$e+De]=dt,++De,++Ce>=Qe&&(Ce=0,++ye<=F&&!(ye%16)&&tn(de,ye));else{if(!(280>dt)){Bt=0;break t}dt=St(dt-256,Me);var pn,an=lt(wt.G[4],wt.H[4],Me);if(Ae(Me),!(De>=(an=Ke(Qe,an=St(an,Me)))&&_e-De>=dt)){Bt=0;break t}for(pn=0;pn<dt;++pn)me[$e+De+pn]=me[$e+De+pn-an];for(De+=dt,Ce+=dt;Ce>=Qe;)Ce-=Qe,++ye<=F&&!(ye%16)&&tn(de,ye);De<bt&&Ce&yt&&(wt=qt(Je,Ce,ye))}e(Me.h==re(Me))}tn(de,ye>F?F:ye);break t}!Bt||Me.h&&De<_e?(Bt=0,de.a=Me.h?5:3):de.$=De,F=Bt}else F=yn(de,de.V,de.Ba,de.c,de.i,F,On);if(!F){K=0;break e}}R+K>=ce&&(C.Cc=1),K=1}if(!K)return null;if(C.Cc&&((K=C.ga)!=null&&(K.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+R*ee}function T(C,F,R,K,ee,ce){for(;0<ee--;){var de,me=C,ye=F+(R?1:0),Ce=C,Me=F+(R?0:3);for(de=0;de<K;++de){var Je=Ce[Me+4*de];Je!=255&&(Je*=32897,me[ye+4*de+0]=me[ye+4*de+0]*Je>>23,me[ye+4*de+1]=me[ye+4*de+1]*Je>>23,me[ye+4*de+2]=me[ye+4*de+2]*Je>>23)}F+=ce}}function Y(C,F,R,K,ee){for(;0<K--;){var ce;for(ce=0;ce<R;++ce){var de=C[F+2*ce+0],me=15&(Ce=C[F+2*ce+1]),ye=4369*me,Ce=(240&Ce|Ce>>4)*ye>>16;C[F+2*ce+0]=(240&de|de>>4)*ye>>16&240|(15&de|de<<4)*ye>>16>>4&15,C[F+2*ce+1]=240&Ce|me}F+=ee}}function le(C,F,R,K,ee,ce,de,me){var ye,Ce,Me=255;for(Ce=0;Ce<ee;++Ce){for(ye=0;ye<K;++ye){var Je=C[F+ye];ce[de+4*ye]=Je,Me&=Je}F+=R,de+=me}return Me!=255}function xe(C,F,R,K,ee){var ce;for(ce=0;ce<ee;++ce)R[K+ce]=C[F+ce]>>8}function Ie(){La=T,Oi=Y,Ei=le,xs=xe}function je(C,F,R){U[C]=function(K,ee,ce,de,me,ye,Ce,Me,Je,$e,Qe,Bt,dt,De,_e,bt,yt){var wt,pn=yt-1>>1,an=me[ye+0]|Ce[Me+0]<<16,qn=Je[$e+0]|Qe[Bt+0]<<16;e(K!=null);var An=3*an+qn+131074>>2;for(F(K[ee+0],255&An,An>>16,dt,De),ce!=null&&(An=3*qn+an+131074>>2,F(ce[de+0],255&An,An>>16,_e,bt)),wt=1;wt<=pn;++wt){var ui=me[ye+wt]|Ce[Me+wt]<<16,Ai=Je[$e+wt]|Qe[Bt+wt]<<16,Jr=an+ui+qn+Ai+524296,Ir=Jr+2*(ui+qn)>>3;An=Ir+an>>1,an=(Jr=Jr+2*(an+Ai)>>3)+ui>>1,F(K[ee+2*wt-1],255&An,An>>16,dt,De+(2*wt-1)*R),F(K[ee+2*wt-0],255&an,an>>16,dt,De+(2*wt-0)*R),ce!=null&&(An=Jr+qn>>1,an=Ir+Ai>>1,F(ce[de+2*wt-1],255&An,An>>16,_e,bt+(2*wt-1)*R),F(ce[de+2*wt+0],255&an,an>>16,_e,bt+(2*wt+0)*R)),an=ui,qn=Ai}1&yt||(An=3*an+qn+131074>>2,F(K[ee+yt-1],255&An,An>>16,dt,De+(yt-1)*R),ce!=null&&(An=3*qn+an+131074>>2,F(ce[de+yt-1],255&An,An>>16,_e,bt+(yt-1)*R)))}}function ot(){Ma[gy]=Nk,Ma[cd]=ud,Ma[cB]=kk,Ma[Dg]=cp,Ma[_g]=Ch,Ma[Ui]=Qg,Ma[vy]=Hw,Ma[op]=ud,Ma[bh]=cp,Ma[Og]=Ch,Ma[Ug]=Qg}function Ht(C){return C&-16384?0>C?0:255:C>>Ad}function Ln(C,F){return Ht((19077*C>>8)+(26149*F>>8)-14234)}function fn(C,F,R){return Ht((19077*C>>8)-(6419*F>>8)-(13320*R>>8)+8708)}function Hn(C,F){return Ht((19077*C>>8)+(33050*F>>8)-17685)}function Lr(C,F,R,K,ee){K[ee+0]=Ln(C,R),K[ee+1]=fn(C,F,R),K[ee+2]=Hn(C,F)}function _i(C,F,R,K,ee){K[ee+0]=Hn(C,F),K[ee+1]=fn(C,F,R),K[ee+2]=Ln(C,R)}function Vn(C,F,R,K,ee){var ce=fn(C,F,R);F=ce<<3&224|Hn(C,F)>>3,K[ee+0]=248&Ln(C,R)|ce>>5,K[ee+1]=F}function si(C,F,R,K,ee){var ce=240&Hn(C,F)|15;K[ee+0]=240&Ln(C,R)|fn(C,F,R)>>4,K[ee+1]=ce}function Gi(C,F,R,K,ee){K[ee+0]=255,Lr(C,F,R,K,ee+1)}function Wi(C,F,R,K,ee){_i(C,F,R,K,ee),K[ee+3]=255}function mc(C,F,R,K,ee){Lr(C,F,R,K,ee),K[ee+3]=255}function al(C,F){return 0>C?0:C>F?F:C}function zl(C,F,R){U[C]=function(K,ee,ce,de,me,ye,Ce,Me,Je){for(var $e=Me+(-2&Je)*R;Me!=$e;)F(K[ee+0],ce[de+0],me[ye+0],Ce,Me),F(K[ee+1],ce[de+0],me[ye+0],Ce,Me+R),ee+=2,++de,++ye,Me+=2*R;1&Je&&F(K[ee+0],ce[de+0],me[ye+0],Ce,Me)}}function sd(C,F,R){return R==0?C==0?F==0?6:5:F==0?4:0:R}function Lg(C,F,R,K,ee){switch(C>>>30){case 3:nA(F,R,K,ee,0);break;case 2:hi(F,R,K,ee);break;case 1:Oo(F,R,K,ee)}}function qf(C,F){var R,K,ee=F.M,ce=F.Nb,de=C.oc,me=C.pc+40,ye=C.oc,Ce=C.pc+584,Me=C.oc,Je=C.pc+600;for(R=0;16>R;++R)de[me+32*R-1]=129;for(R=0;8>R;++R)ye[Ce+32*R-1]=129,Me[Je+32*R-1]=129;for(0<ee?de[me-1-32]=ye[Ce-1-32]=Me[Je-1-32]=129:(i(de,me-32-1,127,21),i(ye,Ce-32-1,127,9),i(Me,Je-32-1,127,9)),K=0;K<C.za;++K){var $e=F.ya[F.aa+K];if(0<K){for(R=-1;16>R;++R)r(de,me+32*R-4,de,me+32*R+12,4);for(R=-1;8>R;++R)r(ye,Ce+32*R-4,ye,Ce+32*R+4,4),r(Me,Je+32*R-4,Me,Je+32*R+4,4)}var Qe=C.Gd,Bt=C.Hd+K,dt=$e.ad,De=$e.Hc;if(0<ee&&(r(de,me-32,Qe[Bt].y,0,16),r(ye,Ce-32,Qe[Bt].f,0,8),r(Me,Je-32,Qe[Bt].ea,0,8)),$e.Za){var _e=de,bt=me-32+16;for(0<ee&&(K>=C.za-1?i(_e,bt,Qe[Bt].y[15],4):r(_e,bt,Qe[Bt+1].y,0,4)),R=0;4>R;R++)_e[bt+128+R]=_e[bt+256+R]=_e[bt+384+R]=_e[bt+0+R];for(R=0;16>R;++R,De<<=2)_e=de,bt=me+jw[R],Vl[$e.Ob[R]](_e,bt),Lg(De,dt,16*+R,_e,bt)}else if(_e=sd(K,ee,$e.Ob[0]),ua[_e](de,me),De!=0)for(R=0;16>R;++R,De<<=2)Lg(De,dt,16*+R,de,me+jw[R]);for(R=$e.Gc,_e=sd(K,ee,$e.Dd),Ia[_e](ye,Ce),Ia[_e](Me,Je),De=dt,_e=ye,bt=Ce,255&($e=R>>0)&&(170&$e?rA(De,256,_e,bt):ll(De,256,_e,bt)),$e=Me,De=Je,255&(R>>=8)&&(170&R?rA(dt,320,$e,De):ll(dt,320,$e,De)),ee<C.Ub-1&&(r(Qe[Bt].y,0,de,me+480,16),r(Qe[Bt].f,0,ye,Ce+224,8),r(Qe[Bt].ea,0,Me,Je+224,8)),R=8*ce*C.B,Qe=C.sa,Bt=C.ta+16*K+16*ce*C.R,dt=C.qa,$e=C.ra+8*K+R,De=C.Ha,_e=C.Ia+8*K+R,R=0;16>R;++R)r(Qe,Bt+R*C.R,de,me+32*R,16);for(R=0;8>R;++R)r(dt,$e+R*C.B,ye,Ce+32*R,8),r(De,_e+R*C.B,Me,Je+32*R,8)}}function dh(C,F,R,K,ee,ce,de,me,ye){var Ce=[0],Me=[0],Je=0,$e=ye!=null?ye.kd:0,Qe=ye??new tt;if(C==null||12>R)return 7;Qe.data=C,Qe.w=F,Qe.ha=R,F=[F],R=[R],Qe.gb=[Qe.gb];e:{var Bt=F,dt=R,De=Qe.gb;if(e(C!=null),e(dt!=null),e(De!=null),De[0]=0,12<=dt[0]&&!t(C,Bt[0],"RIFF")){if(t(C,Bt[0]+8,"WEBP")){De=3;break e}var _e=ft(C,Bt[0]+4);if(12>_e||4294967286<_e){De=3;break e}if($e&&_e>dt[0]-8){De=7;break e}De[0]=_e,Bt[0]+=12,dt[0]-=12}De=0}if(De!=0)return De;for(_e=0<Qe.gb[0],R=R[0];;){e:{var bt=C;dt=F,De=R;var yt=Ce,wt=Me,pn=Bt=[0];if((An=Je=[Je])[0]=0,8>De[0])De=7;else{if(!t(bt,dt[0],"VP8X")){if(ft(bt,dt[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var an=ft(bt,dt[0]+8),qn=1+Ue(bt,dt[0]+12);if(2147483648<=qn*(bt=1+Ue(bt,dt[0]+15))){De=3;break e}pn!=null&&(pn[0]=an),yt!=null&&(yt[0]=qn),wt!=null&&(wt[0]=bt),dt[0]+=18,De[0]-=18,An[0]=1}De=0}}if(Je=Je[0],Bt=Bt[0],De!=0)return De;if(dt=!!(2&Bt),!_e&&Je)return 3;if(ce!=null&&(ce[0]=!!(16&Bt)),de!=null&&(de[0]=dt),me!=null&&(me[0]=0),de=Ce[0],Bt=Me[0],Je&&dt&&ye==null){De=0;break}if(4>R){De=7;break}if(_e&&Je||!_e&&!Je&&!t(C,F[0],"ALPH")){R=[R],Qe.na=[Qe.na],Qe.P=[Qe.P],Qe.Sa=[Qe.Sa];e:{an=C,De=F,_e=R;var An=Qe.gb;yt=Qe.na,wt=Qe.P,pn=Qe.Sa,qn=22,e(an!=null),e(_e!=null),bt=De[0];var ui=_e[0];for(e(yt!=null),e(pn!=null),yt[0]=null,wt[0]=null,pn[0]=0;;){if(De[0]=bt,_e[0]=ui,8>ui){De=7;break e}var Ai=ft(an,bt+4);if(4294967286<Ai){De=3;break e}var Jr=8+Ai+1&-2;if(qn+=Jr,0<An&&qn>An){De=3;break e}if(!t(an,bt,"VP8 ")||!t(an,bt,"VP8L")){De=0;break e}if(ui[0]<Jr){De=7;break e}t(an,bt,"ALPH")||(yt[0]=an,wt[0]=bt+8,pn[0]=Ai),bt+=Jr,ui-=Jr}}if(R=R[0],Qe.na=Qe.na[0],Qe.P=Qe.P[0],Qe.Sa=Qe.Sa[0],De!=0)break}R=[R],Qe.Ja=[Qe.Ja],Qe.xa=[Qe.xa];e:if(An=C,De=F,_e=R,yt=Qe.gb[0],wt=Qe.Ja,pn=Qe.xa,an=De[0],bt=!t(An,an,"VP8 "),qn=!t(An,an,"VP8L"),e(An!=null),e(_e!=null),e(wt!=null),e(pn!=null),8>_e[0])De=7;else{if(bt||qn){if(An=ft(An,an+4),12<=yt&&An>yt-12){De=3;break e}if($e&&An>_e[0]-8){De=7;break e}wt[0]=An,De[0]+=8,_e[0]-=8,pn[0]=qn}else pn[0]=5<=_e[0]&&An[an+0]==47&&!(An[an+4]>>5),wt[0]=_e[0];De=0}if(R=R[0],Qe.Ja=Qe.Ja[0],Qe.xa=Qe.xa[0],F=F[0],De!=0)break;if(4294967286<Qe.Ja)return 3;if(me==null||dt||(me[0]=Qe.xa?2:1),de=[de],Bt=[Bt],Qe.xa){if(5>R){De=7;break}me=de,$e=Bt,dt=ce,C==null||5>R?C=0:5<=R&&C[F+0]==47&&!(C[F+4]>>5)?(_e=[0],An=[0],yt=[0],X(wt=new H,C,F,R),Oe(wt,_e,An,yt)?(me!=null&&(me[0]=_e[0]),$e!=null&&($e[0]=An[0]),dt!=null&&(dt[0]=yt[0]),C=1):C=0):C=0}else{if(10>R){De=7;break}me=Bt,C==null||10>R||!Zu(C,F+3,R-3)?C=0:($e=C[F+0]|C[F+1]<<8|C[F+2]<<16,dt=16383&(C[F+7]<<8|C[F+6]),C=16383&(C[F+9]<<8|C[F+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=Qe.Ja||!dt||!C?C=0:(de&&(de[0]=dt),me&&(me[0]=C),C=1))}if(!C||(de=de[0],Bt=Bt[0],Je&&(Ce[0]!=de||Me[0]!=Bt)))return 3;ye!=null&&(ye[0]=Qe,ye.offset=F-ye.w,e(4294967286>F-ye.w),e(ye.offset==ye.ha-R));break}return De==0||De==7&&Je&&ye==null?(ce!=null&&(ce[0]|=Qe.na!=null&&0<Qe.na.length),K!=null&&(K[0]=de),ee!=null&&(ee[0]=Bt),0):De}function Xf(C,F,R){var K=F.width,ee=F.height,ce=0,de=0,me=K,ye=ee;if(F.Da=C!=null&&0<C.Da,F.Da&&(me=C.cd,ye=C.bd,ce=C.v,de=C.j,11>R||(ce&=-2,de&=-2),0>ce||0>de||0>=me||0>=ye||ce+me>K||de+ye>ee))return 0;if(F.v=ce,F.j=de,F.va=ce+me,F.o=de+ye,F.U=me,F.T=ye,F.da=C!=null&&0<C.da,F.da){if(!Nt(me,ye,R=[C.ib],ce=[C.hb]))return 0;F.ib=R[0],F.hb=ce[0]}return F.ob=C!=null&&C.ob,F.Kb=C==null||!C.Sd,F.da&&(F.ob=F.ib<3*K/4&&F.hb<3*ee/4,F.Kb=0),1}function Yf(C){if(C==null)return 2;if(11>C.S){var F=C.f.RGBA;F.fb+=(C.height-1)*F.A,F.A=-F.A}else F=C.f.kb,C=C.height,F.O+=(C-1)*F.fa,F.fa=-F.fa,F.N+=(C-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(C-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(C-1)*F.lb,F.lb=-F.lb);return 0}function hh(C,F,R,K){if(K==null||0>=C||0>=F)return 2;if(R!=null){if(R.Da){var ee=R.cd,ce=R.bd,de=-2&R.v,me=-2&R.j;if(0>de||0>me||0>=ee||0>=ce||de+ee>C||me+ce>F)return 2;C=ee,F=ce}if(R.da){if(!Nt(C,F,ee=[R.ib],ce=[R.hb]))return 2;C=ee[0],F=ce[0]}}K.width=C,K.height=F;e:{var ye=K.width,Ce=K.height;if(C=K.S,0>=ye||0>=Ce||!(C>=gy&&13>C))C=2;else{if(0>=K.Rd&&K.sd==null){de=ce=ee=F=0;var Me=(me=ye*zg[C])*Ce;if(11>C||(ce=(Ce+1)/2*(F=(ye+1)/2),C==12&&(de=(ee=ye)*Ce)),(Ce=s(Me+2*ce+de))==null){C=1;break e}K.sd=Ce,11>C?((ye=K.f.RGBA).eb=Ce,ye.fb=0,ye.A=me,ye.size=Me):((ye=K.f.kb).y=Ce,ye.O=0,ye.fa=me,ye.Fd=Me,ye.f=Ce,ye.N=0+Me,ye.Ab=F,ye.Cd=ce,ye.ea=Ce,ye.W=0+Me+ce,ye.Db=F,ye.Ed=ce,C==12&&(ye.F=Ce,ye.J=0+Me+2*ce),ye.Tc=de,ye.lb=ee)}if(F=1,ee=K.S,ce=K.width,de=K.height,ee>=gy&&13>ee)if(11>ee)C=K.f.RGBA,F&=(me=Math.abs(C.A))*(de-1)+ce<=C.size,F&=me>=ce*zg[ee],F&=C.eb!=null;else{C=K.f.kb,me=(ce+1)/2,Me=(de+1)/2,ye=Math.abs(C.fa),Ce=Math.abs(C.Ab);var Je=Math.abs(C.Db),$e=Math.abs(C.lb),Qe=$e*(de-1)+ce;F&=ye*(de-1)+ce<=C.Fd,F&=Ce*(Me-1)+me<=C.Cd,F=(F&=Je*(Me-1)+me<=C.Ed)&ye>=ce&Ce>=me&Je>=me,F&=C.y!=null,F&=C.f!=null,F&=C.ea!=null,ee==12&&(F&=$e>=ce,F&=Qe<=C.Tc,F&=C.F!=null)}else F=0;C=F?0:2}}return C!=0||R!=null&&R.fd&&(C=Yf(K)),C}var ws=64,Zf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Jf=24,$f=32,ep=8,oa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ct("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(C){return C},U.Predictor2=function(C,F,R){return F[R+0]},U.Predictor3=function(C,F,R){return F[R+1]},U.Predictor4=function(C,F,R){return F[R-1]},U.Predictor5=function(C,F,R){return mt(mt(C,F[R+1]),F[R+0])},U.Predictor6=function(C,F,R){return mt(C,F[R-1])},U.Predictor7=function(C,F,R){return mt(C,F[R+0])},U.Predictor8=function(C,F,R){return mt(F[R-1],F[R+0])},U.Predictor9=function(C,F,R){return mt(F[R+0],F[R+1])},U.Predictor10=function(C,F,R){return mt(mt(C,F[R-1]),mt(F[R+0],F[R+1]))},U.Predictor11=function(C,F,R){var K=F[R+0];return 0>=Cn(K>>24&255,C>>24&255,(F=F[R-1])>>24&255)+Cn(K>>16&255,C>>16&255,F>>16&255)+Cn(K>>8&255,C>>8&255,F>>8&255)+Cn(255&K,255&C,255&F)?K:C},U.Predictor12=function(C,F,R){var K=F[R+0];return(Ut((C>>24&255)+(K>>24&255)-((F=F[R-1])>>24&255))<<24|Ut((C>>16&255)+(K>>16&255)-(F>>16&255))<<16|Ut((C>>8&255)+(K>>8&255)-(F>>8&255))<<8|Ut((255&C)+(255&K)-(255&F)))>>>0},U.Predictor13=function(C,F,R){var K=F[R-1];return(qe((C=mt(C,F[R+0]))>>24&255,K>>24&255)<<24|qe(C>>16&255,K>>16&255)<<16|qe(C>>8&255,K>>8&255)<<8|qe(C>>0&255,K>>0&255))>>>0};var fh=U.PredictorAdd0;U.PredictorAdd1=zt,Ct("Predictor2","PredictorAdd2"),Ct("Predictor3","PredictorAdd3"),Ct("Predictor4","PredictorAdd4"),Ct("Predictor5","PredictorAdd5"),Ct("Predictor6","PredictorAdd6"),Ct("Predictor7","PredictorAdd7"),Ct("Predictor8","PredictorAdd8"),Ct("Predictor9","PredictorAdd9"),Ct("Predictor10","PredictorAdd10"),Ct("Predictor11","PredictorAdd11"),Ct("Predictor12","PredictorAdd12"),Ct("Predictor13","PredictorAdd13");var $u=U.PredictorAdd2;Fn("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Fn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var my,aa=U.ColorIndexInverseTransform,tp=U.MapARGB,Ig=U.VP8LColorIndexInverseTransformAlpha,np=U.MapAlpha,su=U.VP8LPredictorsAdd=[];su.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var od,la,_o,ad,eA,tA,rp,nA,hi,rA,Oo,ll,ph,Mg,mh,gh,vh,cl,iA,ou,sA,oA,ld,xo,La,Oi,Ei,xs,Os=s(511),au=s(2041),ip=s(225),yh=s(767),Rg=0,lu=au,sp=ip,ca=yh,Kl=Os,gy=0,cd=1,cB=2,Dg=3,_g=4,Ui=5,vy=6,op=7,bh=8,Og=9,Ug=10,Hg=[2,3,7],yy=[3,3,11],wh=[280,256,256,256,40],uB=[0,1,1,1,0],Bk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ek=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],AB=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],by=8,ap=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xh=null,_w=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ow=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dB=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hB=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Fk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Tk=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Uw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ua=[],Vl=[],Ia=[],cu=1,lp=2,Uo=[],Ma=[];je("UpsampleRgbLinePair",Lr,3),je("UpsampleBgrLinePair",_i,3),je("UpsampleRgbaLinePair",mc,4),je("UpsampleBgraLinePair",Wi,4),je("UpsampleArgbLinePair",Gi,4),je("UpsampleRgba4444LinePair",si,2),je("UpsampleRgb565LinePair",Vn,2);var Nk=U.UpsampleRgbLinePair,kk=U.UpsampleBgrLinePair,ud=U.UpsampleRgbaLinePair,cp=U.UpsampleBgraLinePair,Ch=U.UpsampleArgbLinePair,Qg=U.UpsampleRgba4444LinePair,Hw=U.UpsampleRgb565LinePair,aA=16,gc=1<<aA-1,Fi=-227,Ii=482,Ad=6,Co=0,Ra=s(256),Sh=s(256),up=s(256),Da=s(256),wy=s(Ii-Fi),fB=s(Ii-Fi);zl("YuvToRgbRow",Lr,3),zl("YuvToBgrRow",_i,3),zl("YuvToRgbaRow",mc,4),zl("YuvToBgraRow",Wi,4),zl("YuvToArgbRow",Gi,4),zl("YuvToRgba4444Row",si,2),zl("YuvToRgb565Row",Vn,2);var jw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bh=[0,2,8],pB=[8,7,6,4,4,2,2,2,1,1,1,1],lA=1;this.WebPDecodeRGBA=function(C,F,R,K,ee){var ce=cd,de=new gt,me=new Xe;de.ba=me,me.S=ce,me.width=[me.width],me.height=[me.height];var ye=me.width,Ce=me.height,Me=new Ye;if(Me==null||C==null)var Je=2;else e(Me!=null),Je=dh(C,F,R,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Je!=0?ye=0:(ye!=null&&(ye[0]=Me.width[0]),Ce!=null&&(Ce[0]=Me.height[0]),ye=1),ye){me.width=me.width[0],me.height=me.height[0],K!=null&&(K[0]=me.width),ee!=null&&(ee[0]=me.height);e:{if(K=new rl,(ee=new tt).data=C,ee.w=F,ee.ha=R,ee.kd=1,F=[0],e(ee!=null),((C=dh(ee.data,ee.w,ee.ha,null,null,null,F,null,ee))==0||C==7)&&F[0]&&(C=4),(F=C)==0){if(e(de!=null),K.data=ee.data,K.w=ee.w+ee.offset,K.ha=ee.ha-ee.offset,K.put=Lt,K.ac=vt,K.bc=Ze,K.ma=de,ee.xa){if((C=cn())==null){de=1;break e}if(function($e,Qe){var Bt=[0],dt=[0],De=[0];t:for(;;){if($e==null)return 0;if(Qe==null)return $e.a=2,0;if($e.l=Qe,$e.a=0,X($e.m,Qe.data,Qe.w,Qe.ha),!Oe($e.m,Bt,dt,De)){$e.a=3;break t}if($e.xb=lp,Qe.width=Bt[0],Qe.height=dt[0],!bn(Bt[0],dt[0],1,$e,null))break t;return 1}return e($e.a!=0),0}(C,K)){if(K=(F=hh(K.width,K.height,de.Oa,de.ba))==0){t:{K=C;n:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((R=K.l)!=null),e((ee=R.ma)!=null),K.xb!=0){if(K.ca=ee.ba,K.tb=ee.tb,e(K.ca!=null),!Xf(ee.Oa,R,Dg)){K.a=2;break n}if(!yr(K,R.width)||R.da)break n;if((R.da||st(K.ca.S))&&Ie(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Ie()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!Kt(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!yn(K,K.V,K.Ba,K.c,K.i,R.o,Gt))break n;ee.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(F=C.a)}else F=C.a}else{if((C=new _s)==null){de=1;break e}if(C.Fa=ee.na,C.P=ee.P,C.qc=ee.Sa,Ah(C,K)){if((F=hh(K.width,K.height,de.Oa,de.ba))==0){if(C.Aa=0,R=de.Oa,e((ee=C)!=null),R!=null){if(0<(ye=0>(ye=R.Md)?0:100<ye?255:255*ye/100)){for(Ce=Me=0;4>Ce;++Ce)12>(Je=ee.pb[Ce]).lc&&(Je.ia=ye*pB[0>Je.lc?0:Je.lc]>>3),Me|=Je.ia;Me&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=R.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}vs(C,K)||(F=C.a)}}else F=C.a}F==0&&de.Oa!=null&&de.Oa.fd&&(F=Yf(de.ba))}de=F}ce=de!=0?null:11>ce?me.f.RGBA.eb:me.f.kb.y}else ce=null;return ce};var zg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(U,V){for(var W="",L=0;L<4;L++)W+=String.fromCharCode(U[V++]);return W}function u(U,V){return(U[V+0]<<0|U[V+1]<<8|U[V+2]<<16)>>>0}function A(U,V){return(U[V+0]<<0|U[V+1]<<8|U[V+2]<<16|U[V+3]<<24)>>>0}new l;var h=[0],f=[0],v=[],g=new l,x=n,b=function(U,V){var W={},L=0,D=!1,z=0,G=0;if(W.frames=[],!function(q,re,he,Ae){for(var ge=0;ge<Ae;ge++)if(q[re+ge]!=he.charCodeAt(ge))return!0;return!1}(U,V,"RIFF",4)){for(A(U,V+=4),V+=8;V<U.length;){var ve=c(U,V),J=A(U,V+=4);V+=4;var $=J+(1&J);switch(ve){case"VP8 ":case"VP8L":W.frames[L]===void 0&&(W.frames[L]={}),(pe=W.frames[L]).src_off=D?G:V-8,pe.src_size=z+J+8,L++,D&&(D=!1,z=0,G=0);break;case"VP8X":(pe=W.header={}).feature_flags=U[V];var X=V+4;pe.canvas_width=1+u(U,X),X+=3,pe.canvas_height=1+u(U,X),X+=3;break;case"ALPH":D=!0,z=$+8,G=V-8;break;case"ANIM":(pe=W.header).bgcolor=A(U,V),X=V+4,pe.loop_count=(te=U)[(H=X)+0]<<0|te[H+1]<<8,X+=2;break;case"ANMF":var ie,pe;(pe=W.frames[L]={}).offset_x=2*u(U,V),V+=3,pe.offset_y=2*u(U,V),V+=3,pe.width=1+u(U,V),V+=3,pe.height=1+u(U,V),V+=3,pe.duration=u(U,V),V+=3,ie=U[V++],pe.dispose=1&ie,pe.blend=ie>>1&1}ve!="ANMF"&&(V+=$)}var te,H;return W}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var S=b.header?b.header:null,E=b.frames?b.frames:null;if(S){S.loop_counter=S.loop_count,h=[S.canvas_height],f=[S.canvas_width];for(var k=0;k<E.length&&E[k].blend!=0;k++);}var P=E[0],N=g.WebPDecodeRGBA(x,P.src_off,P.src_size,f,h);P.rgba=N,P.imgwidth=f[0],P.imgheight=h[0];for(var I=0;I<f[0]*h[0]*4;I++)v[I]=N[I];return this.width=f,this.height=h,this.data=v,this}(function(n){var e=function(){return typeof pI=="function"},t=function(h,f,v,g){var x=4,b=o;switch(g){case n.image_compression.FAST:x=1,b=s;break;case n.image_compression.MEDIUM:x=6,b=a;break;case n.image_compression.SLOW:x=9,b=l}h=r(h,f,v,b);var S=pI(h,{level:x});return n.__addimage__.arrayBufferToBinaryString(S)},r=function(h,f,v,g){for(var x,b,S,E=h.length/f,k=new Uint8Array(h.length+E),P=u(),N=0;N<E;N+=1){if(S=N*f,x=h.subarray(S,S+f),g)k.set(g(x,v,b),S+N);else{for(var I,U=P.length,V=[];I<U;I+=1)V[I]=P[I](x,v,b);var W=A(V.concat());k.set(V[W],S+N)}b=x}return k},i=function(h){var f=Array.apply([],h);return f.unshift(0),f},s=function(h,f){var v,g=[],x=h.length;g[0]=1;for(var b=0;b<x;b+=1)v=h[b-f]||0,g[b+1]=h[b]-v+256&255;return g},o=function(h,f,v){var g,x=[],b=h.length;x[0]=2;for(var S=0;S<b;S+=1)g=v&&v[S]||0,x[S+1]=h[S]-g+256&255;return x},a=function(h,f,v){var g,x,b=[],S=h.length;b[0]=3;for(var E=0;E<S;E+=1)g=h[E-f]||0,x=v&&v[E]||0,b[E+1]=h[E]+256-(g+x>>>1)&255;return b},l=function(h,f,v){var g,x,b,S,E=[],k=h.length;E[0]=4;for(var P=0;P<k;P+=1)g=h[P-f]||0,x=v&&v[P]||0,b=v&&v[P-f]||0,S=c(g,x,b),E[P+1]=h[P]-S+256&255;return E},c=function(h,f,v){if(h===f&&f===v)return h;var g=Math.abs(f-v),x=Math.abs(h-v),b=Math.abs(h+f-v-v);return g<=x&&g<=b?h:x<=b?f:v},u=function(){return[i,s,o,a,l]},A=function(h){var f=h.map(function(v){return v.reduce(function(g,x){return g+Math.abs(x)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(h,f,v,g){var x,b,S,E,k,P,N,I,U,V,W,L,D,z,G,ve=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(S=new qde(h)).imgData,b=S.bits,x=S.colorSpace,k=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){U=(I=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,W=new Uint8Array(U*S.colors),V=new Uint8Array(U);var $,X=S.pixelBitlength-S.bits;for(z=0,G=0;z<U;z++){for(D=I[z],$=0;$<X;)W[G++]=D>>>$&255,$+=S.bits;V[z]=D>>>$&255}}if(S.bits===16){U=(I=new Uint32Array(S.decodePixels().buffer)).length,W=new Uint8Array(U*(32/S.pixelBitlength)*S.colors),V=new Uint8Array(U*(32/S.pixelBitlength)),L=S.colors>1,z=0,G=0;for(var ie=0;z<U;)D=I[z++],W[G++]=D>>>0&255,L&&(W[G++]=D>>>16&255,D=I[z++],W[G++]=D>>>0&255),V[ie++]=D>>>16&255;b=8}g!==n.image_compression.NONE&&e()?(h=t(W,S.width*S.colors,S.colors,g),N=t(V,S.width,1,g)):(h=W,N=V,ve=void 0)}if(S.colorType===3&&(x=this.color_spaces.INDEXED,P=S.palette,S.transparency.indexed)){var pe=S.transparency.indexed,te=0;for(z=0,U=pe.length;z<U;++z)te+=pe[z];if((te/=255)===U-1&&pe.indexOf(0)!==-1)E=[pe.indexOf(0)];else if(te!==U){for(I=S.decodePixels(),V=new Uint8Array(I.length),z=0,U=I.length;z<U;z++)V[z]=pe[I[z]];N=t(V,S.width,1)}}var H=function(q){var re;switch(q){case n.image_compression.FAST:re=11;break;case n.image_compression.MEDIUM:re=13;break;case n.image_compression.SLOW:re=14;break;default:re=12}return re}(g);return ve===this.decode.FLATE_DECODE&&(J="/Predictor "+H+" "),J+="/Colors "+k+" /BitsPerComponent "+b+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:v,data:h,index:f,filter:ve,decodeParameters:J,transparency:E,palette:P,sMask:N,predictor:H,width:S.width,height:S.height,bitsPerComponent:b,colorSpace:x}}}})(cr.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new Xde(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new y4(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(cr.API),bA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bA.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ts.log("bit decode error:"+t)}},bA.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},bA.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},bA.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},bA.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},bA.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},bA.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},bA.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},bA.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new bA(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new y4(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(cr.API),K8.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new K8(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new y4(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(cr.API),cr.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],A=r[c+1],h=r[c+2],f=r[c+3];s[a++]=u,s[a++]=A,s[a++]=h,o[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},cr.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zy=cr.API,h5=zy.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,A=e.doKerning!==!1,h=0,f=n.length,v=0,g=a[0]||l,x=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(h=A&&Qi(c[r])==="object"&&!isNaN(parseInt(c[r][v],10))?c[r][v]/u:0,x.push((a[r]||g)/l+h)),v=r;return x},H8=zy.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return zy.processArabic&&(n=zy.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:h5.apply(this,arguments).reduce(function(s,o){return s+o},0)},j8=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},Q8=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,u=[],A=[u],h=t.textIndent||0,f=0,v=0,g=n.split(" "),x=h5.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var b=Array(l).join(" "),S=[];g.map(function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map(function(P,N){return(N&&P.length?`
`:"")+P})):S.push(k[0])}),g=S,l=H8.apply(this,[b,t])}for(s=0,o=g.length;s<o;s++){var E=0;if(r=g[s],l&&r[0]==`
`&&(r=r.substr(1),E=1),h+f+(v=(i=h5.apply(this,[r,t])).reduce(function(k,P){return k+P},0))>e||E){if(v>e){for(a=j8.apply(this,[r,i,e-(h+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)A.push([a.shift()]);v=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(k,P){return k+P},0)}else u=[r];A.push(u),h=v+l,f=x}else u.push(r),h+=f+v,f=x}return c=l?function(k,P){return(P?b:"")+k.join(" ")}:function(k){return k.join(" ")},A.map(c)},zy.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(Q8.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(A){return"0x"+parseInt(A,10).toString(16)},o=n.__fontmetrics__.compress=function(A){var h,f,v,g,x=["{"];for(var b in A){if(h=A[b],isNaN(parseInt(b,10))?f="'"+b+"'":(b=parseInt(b,10),f=(f=s(b).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof h=="number")h<0?(v=s(h).slice(3),g="-"):(v=s(h).slice(2),g=""),v=g+v.slice(0,-1)+r[v.slice(-1)];else{if(Qi(h)!=="object")throw new Error("Don't know what to do with value type "+Qi(h)+".");v=o(h)}x.push(f+v)}return x.push("}"),x.join("")},a=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,v,g,x={},b=1,S=x,E=[],k="",P="",N=A.length-1,I=1;I<N;I+=1)(g=A[I])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(E.push([S,v]),S={},v=void 0):g=="}"?((f=E.pop())[0][f[1]]=S,v=void 0,S=f[0]):g=="-"?b=-1:v===void 0?t.hasOwnProperty(g)?(k+=t[g],v=parseInt(k,16)*b,b=1,k=""):k+=g:t.hasOwnProperty(g)?(P+=t[g],S[v]=parseInt(P,16)*b,b=1,v=void 0,P=""):P+=g;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var h=A.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var v=c.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(cr.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(v2(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(cr),function(n){function e(){return(ur.canvg?Promise.resolve(ur.canvg):uI(()=>import("./index.es-VrRFuoj5.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}cr.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw ts.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw ts.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var A=u.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(v){return v.fromString(A,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),cr.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},cr.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,A=0;function h(v,g){var x,b=!1;for(x=0;x<v.length;x+=1)v[x]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(A=0;A<f;A+=1)t[a[A]].value=t[a[A]].defaultValue,t[a[A]].explicitSet=!1}if(Qi(n)==="object"){for(i in n)if(s=n[i],h(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&h(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?g.push("/"+v+" /"+t[v].value):g.push("/"+v+" "+t[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(cr.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],A=0,h=s.length;A<h;++A){if(a=o.metadata.characterToGlyph(s.charCodeAt(A)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(A),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,A,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],A=0,h=(a=Object.keys(s).sort(function(f,v){return f-v})).length;A<h;A++)o=a[A],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var A=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",v=0;v<h.length;v++)f+=String.fromCharCode(h[v]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var x=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+d1(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+d1(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+n.API.PDFObject.convert(A)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+d1(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var A=a.metadata.rawData,h="",f=0;f<A.length;f++)h+=String.fromCharCode(A[f]);var v=c();u({data:h,addLength1:!0,objectId:v}),l("endobj");var g=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var x=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+d1(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+d1(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},A=s.mutex||{},h=A.pdfEscape,f=A.activeFontKey,v=A.fonts,g=f,x="",b=0,S="",E=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:A};for(S=a,g=f,Array.isArray(a)&&(S=a[0]),b=0;b<S.length;b+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),o||S[b].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?x+=S[b]:x+="";var k="";return parseInt(g.slice(1))<14||E==="WinAnsiEncoding"?k=h(x,g).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(k=t(x,v[g])),A.isHex=!0,{text:k,x:l,y:c,options:u,mutex:A}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(cr),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(cr.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,A=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,E=0;this.__bidiEngine__={};var k=function(L){var D=L.charCodeAt(),z=D>>8,G=g[z];return G!==void 0?A[256*G+(255&D)]:z===252||z===253?"AL":b.test(z)?"L":z===8?"R":"N"},P=function(L){for(var D,z=0;z<L.length;z++){if((D=k(L.charAt(z)))==="L")return!1;if(D==="R")return!0}return!1},N=function(L,D,z,G){var ve,J,$,X,ie=D[G];switch(ie){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(ie="AN");break;case"AL":S=!0,ie="R";break;case"WS":ie="N";break;case"CS":G<1||G+1>=D.length||(ve=z[G-1])!=="EN"&&ve!=="AN"||(J=D[G+1])!=="EN"&&J!=="AN"?ie="N":S&&(J="AN"),ie=J===ve?J:"N";break;case"ES":ie=(ve=G>0?z[G-1]:"B")==="EN"&&G+1<D.length&&D[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&z[G-1]==="EN"){ie="EN";break}if(S){ie="N";break}for($=G+1,X=D.length;$<X&&D[$]==="ET";)$++;ie=$<X&&D[$]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(X=D.length,$=G+1;$<X&&D[$]==="NSM";)$++;if($<X){var pe=L[G],te=pe>=1425&&pe<=2303||pe===64286;if(ve=D[$],te&&(ve==="R"||ve==="AL")){ie="R";break}}}ie=G<1||(ve=D[G-1])==="B"?"N":z[G-1];break;case"B":S=!1,i=!0,ie=E;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":ie="N"}return ie},I=function(L,D,z){var G=L.split("");return z&&U(G,z,{hiLevel:E}),G.reverse(),D&&D.reverse(),G.join("")},U=function(L,D,z){var G,ve,J,$,X,ie=-1,pe=L.length,te=0,H=[],q=E?f:h,re=[];for(S=!1,i=!1,s=!1,ve=0;ve<pe;ve++)re[ve]=k(L[ve]);for(J=0;J<pe;J++){if(X=te,H[J]=N(L,re,H,J),G=240&(te=q[X][v[H[J]]]),te&=15,D[J]=$=q[te][5],G>0)if(G===16){for(ve=ie;ve<J;ve++)D[ve]=1;ie=-1}else ie=-1;if(q[te][6])ie===-1&&(ie=J);else if(ie>-1){for(ve=ie;ve<J;ve++)D[ve]=$;ie=-1}re[J]==="B"&&(D[J]=0),z.hiLevel|=$}s&&function(he,Ae,ge){for(var we=0;we<ge;we++)if(he[we]==="S"){Ae[we]=E;for(var ke=we-1;ke>=0&&he[ke]==="WS";ke--)Ae[ke]=E}}(re,D,pe)},V=function(L,D,z,G,ve){if(!(ve.hiLevel<L)){if(L===1&&E===1&&!i)return D.reverse(),void(z&&z.reverse());for(var J,$,X,ie,pe=D.length,te=0;te<pe;){if(G[te]>=L){for(X=te+1;X<pe&&G[X]>=L;)X++;for(ie=te,$=X-1;ie<$;ie++,$--)J=D[ie],D[ie]=D[$],D[$]=J,z&&(J=z[ie],z[ie]=z[$],z[$]=J);te=X}te++}}},W=function(L,D,z){var G=L.split(""),ve={hiLevel:E};return z||(z=[]),U(G,z,ve),function(J,$,X){if(X.hiLevel!==0&&u)for(var ie,pe=0;pe<J.length;pe++)$[pe]===1&&(ie=x.indexOf(J[pe]))>=0&&(J[pe]=x[ie+1])}(G,z,ve),V(2,G,D,z,ve),V(1,G,D,z,ve),G.join("")};return this.__bidiEngine__.doBidiReorder=function(L,D,z){if(function(ve,J){if(J)for(var $=0;$<ve.length;$++)J[$]=$;a===void 0&&(a=P(ve)),c===void 0&&(c=P(ve))}(L,D),o||!l||c)if(o&&l&&a^c)E=a?1:0,L=I(L,D,z);else if(!o&&l&&c)E=a?1:0,L=W(L,D,z),L=I(L,D);else if(!o||a||l||c){if(o&&!l&&a^c)L=I(L,D),a?(E=0,L=W(L,D,z)):(E=1,L=W(L,D,z),L=I(L,D));else if(o&&a&&!l&&c)E=1,L=W(L,D,z),L=I(L,D);else if(!o&&!l&&a^c){var G=u;a?(E=1,L=W(L,D,z),E=0,u=!1,L=W(L,D,z),u=G):(E=0,L=W(L,D,z),L=I(L,D),E=1,u=!1,L=W(L,D,z),u=G,L=I(L,D))}}else E=0,L=W(L,D,z);else E=a?1:0,L=W(L,D,z);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,l=L.isOutputVisual,a=L.isInputRtl,c=L.isOutputRtl,u=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(cr),cr.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ag(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new uhe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Yde(this.contents),this.head=new Jde(this),this.name=new rhe(this),this.cmap=new kV(this),this.toUnicode={},this.hhea=new $de(this),this.maxp=new ihe(this),this.hmtx=new she(this),this.post=new the(this),this.os2=new ehe(this),this.loca=new che(this),this.glyf=new ohe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var td,Ag=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),Yde=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,u,A,h,f,v,g;for(g in f=Object.keys(t).length,l=Math.log(2),A=16*Math.floor(Math.log(f)/l),o=Math.floor(A/l),u=16*f-A,(i=new Ag).writeInt(this.scalarType),i.writeShort(f),i.writeShort(A),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,v=[],t)for(h=t[g],i.writeString(g),i.writeInt(n(h)),i.writeInt(c),i.writeInt(h.length),v=v.concat(h),g==="head"&&(a=c),c+=h.length;c%4;)v.push(0),c++;return i.write(v),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=PV.call(t);t.length%4;)t.push(0);for(s=new Ag(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Zde={}.hasOwnProperty,ah=function(n,e){for(var t in e)Zde.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};td=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Jde=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ag).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),V8=function(){function n(e,t){var r,i,s,o,a,l,c,u,A,h,f,v,g,x,b,S,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,s=function(){var k,P;for(P=[],l=k=0;0<=h?k<h:k>h;l=0<=h?++k:--k)P.push(e.readUInt16());return P}(),e.pos+=2,g=function(){var k,P;for(P=[],l=k=0;0<=h?k<h:k>h;l=0<=h?++k:--k)P.push(e.readUInt16());return P}(),c=function(){var k,P;for(P=[],l=k=0;0<=h?k<h:k>h;l=0<=h?++k:--k)P.push(e.readUInt16());return P}(),u=function(){var k,P;for(P=[],l=k=0;0<=h?k<h:k>h;l=0<=h?++k:--k)P.push(e.readUInt16());return P}(),i=(this.length-e.pos+this.offset)/2,a=function(){var k,P;for(P=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)P.push(e.readUInt16());return P}(),l=b=0,E=s.length;b<E;l=++b)for(x=s[l],r=S=v=g[l];v<=x?S<=x:S>=x;r=v<=x?++S:--S)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-v)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=A}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,A,h,f,v,g,x,b,S,E,k,P,N,I,U,V,W,L,D,z,G,ve,J,$,X,ie,pe,te,H,q,re,he,Ae,ge,we,ke,ze,Ve,Ue;switch(G=new Ag,o=Object.keys(e).sort(function(ft,Kt){return ft-Kt}),t){case"macroman":for(g=0,x=function(){var ft=[];for(v=0;v<256;++v)ft.push(0);return ft}(),S={0:0},s={},ve=0,ie=o.length;ve<ie;ve++)S[ke=e[i=o[ve]]]==null&&(S[ke]=++g),s[i]={old:e[i],new:S[e[i]]},x[i]=S[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(x),{charMap:s,subtable:G.data,maxGlyphID:g+1};case"unicode":for(D=[],A=[],E=0,S={},r={},b=c=null,J=0,pe=o.length;J<pe;J++)S[P=e[i=o[J]]]==null&&(S[P]=++E),r[i]={old:P,new:S[P]},a=S[P]-i,b!=null&&a===c||(b&&A.push(b),D.push(i),c=a),b=i;for(b&&A.push(b),A.push(65535),D.push(65535),W=2*(V=D.length),U=2*Math.pow(Math.log(V)/Math.LN2,2),h=Math.log(U/2)/Math.LN2,I=2*V-U,l=[],N=[],f=[],v=$=0,te=D.length;$<te;v=++$){if(L=D[v],u=A[v],L===65535){l.push(0),N.push(0);break}if(L-(z=r[L].new)>=32768)for(l.push(0),N.push(2*(f.length+V-v)),i=X=L;L<=u?X<=u:X>=u;i=L<=u?++X:--X)f.push(r[i].new);else l.push(z-L),N.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*V+2*f.length),G.writeUInt16(0),G.writeUInt16(W),G.writeUInt16(U),G.writeUInt16(h),G.writeUInt16(I),ge=0,H=A.length;ge<H;ge++)i=A[ge],G.writeUInt16(i);for(G.writeUInt16(0),we=0,q=D.length;we<q;we++)i=D[we],G.writeUInt16(i);for(ze=0,re=l.length;ze<re;ze++)a=l[ze],G.writeUInt16(a);for(Ve=0,he=N.length;Ve<he;Ve++)k=N[Ve],G.writeUInt16(k);for(Ue=0,Ae=f.length;Ue<Ae;Ue++)g=f[Ue],G.writeUInt16(g);return{charMap:r,subtable:G.data,maxGlyphID:E+1}}},n}(),kV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new V8(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=V8.encode(t,r),(s=new Ag).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),$de=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),ehe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),the=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),nhe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},rhe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,A,h,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=A=0,h=i.length;A<h;o=++A)s=i[o],t.pos=s.offset,u=t.readString(s.length),a=new nhe(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),ihe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),she=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)A.push(t.readInt16());return A}(),this.widths=(function(){var u,A,h,f;for(f=[],u=0,A=(h=this.metrics).length;u<A;u++)o=h[u],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),PV=[].slice,ohe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,A,h;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Ag(r.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),A=l.readShort(),this.cache[t]=a===-1?new lhe(l,u,h,c,A):new ahe(l,a,u,h,c,A),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),ahe=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),lhe=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Ag(PV.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),che=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ah(e,td),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),A=0;A<i.length;++A)u[4*A+3]=255&i[A],u[4*A+2]=(65280&i[A])>>8,u[4*A+1]=(16711680&i[A])>>16,u[4*A]=(4278190080&i[A])>>24;return u},e}(),uhe=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,u,A,h,f,v,g,x,b;for(i in r=kV.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},b=r.charMap)f[(l=b[i]).old]=l.new;for(v in h=r.maxGlyphID,o)v in f||(f[v]=h++);return u=function(S){var E,k;for(E in k={},S)k[S[E]]=E;return k}(f),A=Object.keys(u).sort(function(S,E){return S-E}),g=function(){var S,E,k;for(k=[],S=0,E=A.length;S<E;S++)a=A[S],k.push(u[a]);return k}(),s=this.font.glyf.encode(o,g,f),c=this.font.loca.encode(s.offsets,g),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n}();cr.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xI=function(n,e){return xI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},xI(n,e)};function nd(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xI(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var CI=function(){return CI=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},CI.apply(this,arguments)};function xl(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,[])).next())})}function Ya(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function f5(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var Hf=function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n}(),KN=function(n,e){return Hf.fromClientRect(n,e.getBoundingClientRect())},Ahe=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Hf(0,0,r,i)},VN=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},no=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var o=n[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},G8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dhe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var p5=0;p5<G8.length;p5++)dhe[G8.charCodeAt(p5)]=p5;var W8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var m5=0;m5<W8.length;m5++)Tx[W8.charCodeAt(m5)]=m5;var hhe=function(n){var e=n.length*.75,t=n.length,r,i=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<t;r+=4)s=Tx[n.charCodeAt(r)],o=Tx[n.charCodeAt(r+1)],a=Tx[n.charCodeAt(r+2)],l=Tx[n.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|l&63;return c},fhe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},phe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},Vv=5,KR=11,b4=2,mhe=KR-Vv,LV=65536>>Vv,ghe=1<<Vv,w4=ghe-1,vhe=1024>>Vv,yhe=LV+vhe,bhe=yhe,whe=32,xhe=bhe+whe,Che=65536>>KR,She=1<<mhe,Bhe=She-1,q8=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Ehe=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Fhe=function(n,e){var t=hhe(n),r=Array.isArray(t)?phe(t):new Uint32Array(t),i=Array.isArray(t)?fhe(t):new Uint16Array(t),s=24,o=q8(i,s/2,r[4]/2),a=r[5]===2?q8(i,(s+r[4])/2):Ehe(r,Math.ceil((s+r[4])/4));return new The(r[0],r[1],r[2],r[3],o,a)},The=function(){function n(e,t,r,i,s,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Vv],t=(t<<b4)+(e&w4),this.data[t];if(e<=65535)return t=this.index[LV+(e-55296>>Vv)],t=(t<<b4)+(e&w4),this.data[t];if(e<this.highStart)return t=xhe-Che+(e>>KR),t=this.index[t],t+=e>>Vv&Bhe,t=this.index[t],t=(t<<b4)+(e&w4),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),X8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nhe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g5=0;g5<X8.length;g5++)Nhe[X8.charCodeAt(g5)]=g5;var khe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Y8=50,Phe=1,IV=2,MV=3,Lhe=4,Ihe=5,Z8=7,RV=8,J8=9,Vm=10,SI=11,$8=12,BI=13,Mhe=14,Nx=15,EI=16,v5=17,ax=18,Rhe=19,eH=20,FI=21,lx=22,x4=23,Ky=24,xc=25,kx=26,Px=27,Vy=28,Dhe=29,m0=30,_he=31,y5=32,b5=33,TI=34,NI=35,kI=36,X2=37,PI=38,mE=39,gE=40,C4=41,DV=42,Ohe=43,Uhe=[9001,65288],_V="!",$r="",w5="",LI=Fhe(khe),Dh=[m0,kI],II=[Phe,IV,MV,Ihe],OV=[Vm,RV],tH=[Px,kx],Hhe=II.concat(OV),nH=[PI,mE,gE,TI,NI],jhe=[Nx,BI],Qhe=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,o){var a=LI.get(s);if(a>Y8?(i.push(!0),a-=Y8):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),t.push(EI);if(a===Lhe||a===SI){if(o===0)return r.push(o),t.push(m0);var l=t[o-1];return Hhe.indexOf(l)===-1?(r.push(r[o-1]),t.push(l)):(r.push(o),t.push(m0))}if(r.push(o),a===_he)return t.push(e==="strict"?FI:X2);if(a===DV||a===Dhe)return t.push(m0);if(a===Ohe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(X2):t.push(m0);t.push(a)}),[r,t,i]},S4=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var o=r[s];if(o===e)return!0;if(o!==Vm)break}if(i===Vm)for(var s=t;s>0;){s--;var a=r[s];if(Array.isArray(n)?n.indexOf(a)!==-1:n===a)for(var l=t;l<=r.length;){l++;var o=r[l];if(o===e)return!0;if(o!==Vm)break}if(a!==Vm)break}return!1},rH=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===Vm)t--;else return r}return 0},zhe=function(n,e,t,r,i){if(t[r]===0)return $r;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return $r;var o=s-1,a=s+1,l=e[s],c=o>=0?e[o]:0,u=e[a];if(l===IV&&u===MV)return $r;if(II.indexOf(l)!==-1)return _V;if(II.indexOf(u)!==-1||OV.indexOf(u)!==-1)return $r;if(rH(s,e)===RV)return w5;if(LI.get(n[s])===SI||(l===y5||l===b5)&&LI.get(n[a])===SI||l===Z8||u===Z8||l===J8||[Vm,BI,Nx].indexOf(l)===-1&&u===J8||[v5,ax,Rhe,Ky,Vy].indexOf(u)!==-1||rH(s,e)===lx||S4(x4,lx,s,e)||S4([v5,ax],FI,s,e)||S4($8,$8,s,e))return $r;if(l===Vm)return w5;if(l===x4||u===x4)return $r;if(u===EI||l===EI)return w5;if([BI,Nx,FI].indexOf(u)!==-1||l===Mhe||c===kI&&jhe.indexOf(l)!==-1||l===Vy&&u===kI||u===eH||Dh.indexOf(u)!==-1&&l===xc||Dh.indexOf(l)!==-1&&u===xc||l===Px&&[X2,y5,b5].indexOf(u)!==-1||[X2,y5,b5].indexOf(l)!==-1&&u===kx||Dh.indexOf(l)!==-1&&tH.indexOf(u)!==-1||tH.indexOf(l)!==-1&&Dh.indexOf(u)!==-1||[Px,kx].indexOf(l)!==-1&&(u===xc||[lx,Nx].indexOf(u)!==-1&&e[a+1]===xc)||[lx,Nx].indexOf(l)!==-1&&u===xc||l===xc&&[xc,Vy,Ky].indexOf(u)!==-1)return $r;if([xc,Vy,Ky,v5,ax].indexOf(u)!==-1)for(var A=s;A>=0;){var h=e[A];if(h===xc)return $r;if([Vy,Ky].indexOf(h)!==-1)A--;else break}if([Px,kx].indexOf(u)!==-1)for(var A=[v5,ax].indexOf(l)!==-1?o:s;A>=0;){var h=e[A];if(h===xc)return $r;if([Vy,Ky].indexOf(h)!==-1)A--;else break}if(PI===l&&[PI,mE,TI,NI].indexOf(u)!==-1||[mE,TI].indexOf(l)!==-1&&[mE,gE].indexOf(u)!==-1||[gE,NI].indexOf(l)!==-1&&u===gE||nH.indexOf(l)!==-1&&[eH,kx].indexOf(u)!==-1||nH.indexOf(u)!==-1&&l===Px||Dh.indexOf(l)!==-1&&Dh.indexOf(u)!==-1||l===Ky&&Dh.indexOf(u)!==-1||Dh.concat(xc).indexOf(l)!==-1&&u===lx&&Uhe.indexOf(n[a])===-1||Dh.concat(xc).indexOf(u)!==-1&&l===ax)return $r;if(l===C4&&u===C4){for(var f=t[s],v=1;f>0&&(f--,e[f]===C4);)v++;if(v%2!==0)return $r}return l===y5&&u===b5?$r:w5},Khe=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Qhe(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[xc,m0,DV].indexOf(a)!==-1?X2:a}));var o=e.wordBreak==="keep-all"?s.map(function(a,l){return a&&n[l]>=19968&&n[l]<=40959}):void 0;return[r,i,o]},Vhe=function(){function n(e,t,r,i){this.codePoints=e,this.required=t===_V,this.start=r,this.end=i}return n.prototype.slice=function(){return no.apply(void 0,this.codePoints.slice(this.start,this.end))},n}(),Ghe=function(n,e){var t=VN(n),r=Khe(t,e),i=r[0],s=r[1],o=r[2],a=t.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=$r;c<a&&(u=zhe(t,s,i,++c,o))===$r;);if(u!==$r||c===a){var A=new Vhe(t,u,l,c);return l=c,{value:A,done:!1}}return{done:!0,value:null}}}},Whe=1,qhe=2,qS=4,iH=8,nT=10,sH=47,y2=92,Xhe=9,Yhe=32,x5=34,cx=61,Zhe=35,Jhe=36,$he=37,C5=39,S5=40,ux=41,efe=95,lc=45,tfe=33,nfe=60,rfe=62,ife=64,sfe=91,ofe=93,afe=61,lfe=123,B5=63,cfe=125,oH=124,ufe=126,Afe=128,aH=65533,B4=42,E0=43,dfe=44,hfe=58,ffe=59,Y2=46,pfe=0,mfe=8,gfe=11,vfe=14,yfe=31,bfe=127,md=-1,UV=48,HV=97,jV=101,wfe=102,xfe=117,Cfe=122,QV=65,zV=69,KV=70,Sfe=85,Bfe=90,Ja=function(n){return n>=UV&&n<=57},Efe=function(n){return n>=55296&&n<=57343},Gy=function(n){return Ja(n)||n>=QV&&n<=KV||n>=HV&&n<=wfe},Ffe=function(n){return n>=HV&&n<=Cfe},Tfe=function(n){return n>=QV&&n<=Bfe},Nfe=function(n){return Ffe(n)||Tfe(n)},kfe=function(n){return n>=Afe},E5=function(n){return n===nT||n===Xhe||n===Yhe},rT=function(n){return Nfe(n)||kfe(n)||n===efe},lH=function(n){return rT(n)||Ja(n)||n===lc},Pfe=function(n){return n>=pfe&&n<=mfe||n===gfe||n>=vfe&&n<=yfe||n===bfe},jp=function(n,e){return n!==y2?!1:e!==nT},F5=function(n,e,t){return n===lc?rT(e)||jp(e,t):rT(n)?!0:!!(n===y2&&jp(n,e))},E4=function(n,e,t){return n===E0||n===lc?Ja(e)?!0:e===Y2&&Ja(t):Ja(n===Y2?e:n)},Lfe=function(n){var e=0,t=1;(n[e]===E0||n[e]===lc)&&(n[e]===lc&&(t=-1),e++);for(var r=[];Ja(n[e]);)r.push(n[e++]);var i=r.length?parseInt(no.apply(void 0,r),10):0;n[e]===Y2&&e++;for(var s=[];Ja(n[e]);)s.push(n[e++]);var o=s.length,a=o?parseInt(no.apply(void 0,s),10):0;(n[e]===zV||n[e]===jV)&&e++;var l=1;(n[e]===E0||n[e]===lc)&&(n[e]===lc&&(l=-1),e++);for(var c=[];Ja(n[e]);)c.push(n[e++]);var u=c.length?parseInt(no.apply(void 0,c),10):0;return t*(i+a*Math.pow(10,-o))*Math.pow(10,l*u)},Ife={type:2},Mfe={type:3},Rfe={type:4},Dfe={type:13},_fe={type:8},Ofe={type:21},Ufe={type:9},Hfe={type:10},jfe={type:11},Qfe={type:12},zfe={type:14},T5={type:23},Kfe={type:1},Vfe={type:25},Gfe={type:24},Wfe={type:26},qfe={type:27},Xfe={type:28},Yfe={type:29},Zfe={type:31},MI={type:32},VV=function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(VN(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==MI;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case x5:return this.consumeStringToken(x5);case Zhe:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(lH(t)||jp(r,i)){var s=F5(t,r,i)?qhe:Whe,o=this.consumeName();return{type:5,value:o,flags:s}}break;case Jhe:if(this.peekCodePoint(0)===cx)return this.consumeCodePoint(),Dfe;break;case C5:return this.consumeStringToken(C5);case S5:return Ife;case ux:return Mfe;case B4:if(this.peekCodePoint(0)===cx)return this.consumeCodePoint(),zfe;break;case E0:if(E4(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case dfe:return Rfe;case lc:var a=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(E4(a,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(F5(a,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===lc&&c===rfe)return this.consumeCodePoint(),this.consumeCodePoint(),Gfe;break;case Y2:if(E4(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case sH:if(this.peekCodePoint(0)===B4)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===B4&&(u=this.consumeCodePoint(),u===sH))return this.consumeToken();if(u===md)return this.consumeToken()}break;case hfe:return Wfe;case ffe:return qfe;case nfe:if(this.peekCodePoint(0)===tfe&&this.peekCodePoint(1)===lc&&this.peekCodePoint(2)===lc)return this.consumeCodePoint(),this.consumeCodePoint(),Vfe;break;case ife:var A=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(F5(A,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case sfe:return Xfe;case y2:if(jp(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ofe:return Yfe;case afe:if(this.peekCodePoint(0)===cx)return this.consumeCodePoint(),_fe;break;case lfe:return jfe;case cfe:return Qfe;case xfe:case Sfe:var v=this.peekCodePoint(0),g=this.peekCodePoint(1);return v===E0&&(Gy(g)||g===B5)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case oH:if(this.peekCodePoint(0)===cx)return this.consumeCodePoint(),Ufe;if(this.peekCodePoint(0)===oH)return this.consumeCodePoint(),Ofe;break;case ufe:if(this.peekCodePoint(0)===cx)return this.consumeCodePoint(),Hfe;break;case md:return MI}return E5(e)?(this.consumeWhiteSpace(),Zfe):Ja(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):rT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:no(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Gy(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===B5&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(no.apply(void 0,e.map(function(l){return l===B5?UV:l})),16),s=parseInt(no.apply(void 0,e.map(function(l){return l===B5?KV:l})),16);return{type:30,start:i,end:s}}var o=parseInt(no.apply(void 0,e),16);if(this.peekCodePoint(0)===lc&&Gy(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];Gy(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();var s=parseInt(no.apply(void 0,a),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===S5?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===S5?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===md)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===C5||t===x5){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===md||this.peekCodePoint(0)===ux)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),T5)}for(;;){var i=this.consumeCodePoint();if(i===md||i===ux)return{type:22,value:no.apply(void 0,e)};if(E5(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===md||this.peekCodePoint(0)===ux?(this.consumeCodePoint(),{type:22,value:no.apply(void 0,e)}):(this.consumeBadUrlRemnants(),T5);if(i===x5||i===C5||i===S5||Pfe(i))return this.consumeBadUrlRemnants(),T5;if(i===y2)if(jp(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),T5;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;E5(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ux||e===md)return;jp(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=no.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===md||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===nT)return this._value.splice(0,r),Kfe;if(i===y2){var s=this._value[r+1];s!==md&&s!==void 0&&(s===nT?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):jp(i,s)&&(t+=this.consumeStringSlice(r),t+=no(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=qS,r=this.peekCodePoint(0);for((r===E0||r===lc)&&e.push(this.consumeCodePoint());Ja(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Y2&&Ja(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=iH;Ja(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===zV||r===jV)&&((i===E0||i===lc)&&Ja(s)||Ja(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=iH;Ja(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Lfe(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(F5(i,s,o)){var a=this.consumeName();return{type:15,number:t,flags:r,unit:a}}return i===$he?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Gy(e)){for(var t=no(e);Gy(this.peekCodePoint(0))&&t.length<6;)t+=no(this.consumeCodePoint());E5(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||Efe(r)||r>1114111?aH:r}return e===md?aH:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(lH(t))e+=no(t);else if(jp(t,this.peekCodePoint(0)))e+=no(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n}(),GV=function(){function n(e){this._tokens=e}return n.create=function(e){var t=new VV;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||$fe(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?MI:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n}(),XS=function(n){return n.type===15},Lw=function(n){return n.type===17},Zi=function(n){return n.type===20},Jfe=function(n){return n.type===0},RI=function(n,e){return Zi(n)&&n.value===e},WV=function(n){return n.type!==31},yw=function(n){return n.type!==31&&n.type!==4},lh=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},$fe=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},dg=function(n){return n.type===17||n.type===15},po=function(n){return n.type===16||dg(n)},qV=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Fa={type:17,number:0,flags:qS},VR={type:16,number:50,flags:qS},Gm={type:16,number:100,flags:qS},Lx=function(n,e,t){var r=n[0],i=n[1];return[ss(r,e),ss(typeof i<"u"?i:r,t)]},ss=function(n,e){if(n.type===16)return n.number/100*e;if(XS(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},XV="deg",YV="grad",ZV="rad",JV="turn",GN={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case XV:return Math.PI*e.number/180;case YV:return Math.PI/200*e.number;case ZV:return e.number;case JV:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},$V=function(n){return n.type===15&&(n.unit===XV||n.unit===YV||n.unit===ZV||n.unit===JV)},eG=function(n){var e=n.filter(Zi).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Fa,Fa];case"to top":case"bottom":return _u(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Fa,Gm];case"to right":case"left":return _u(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gm,Gm];case"to bottom":case"top":return _u(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gm,Fa];case"to left":case"right":return _u(270)}return 0},_u=function(n){return Math.PI*n/180},ng={name:"color",parse:function(n,e){if(e.type===18){var t=epe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Wm(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return Wm(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Wm(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return Wm(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var a=Lf[e.value.toUpperCase()];if(typeof a<"u")return a}return Lf.TRANSPARENT}},rg=function(n){return(255&n)===0},Vo=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},Wm=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},cH=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},uH=function(n,e){var t=e.filter(yw);if(t.length===3){var r=t.map(cH),i=r[0],s=r[1],o=r[2];return Wm(i,s,o,1)}if(t.length===4){var a=t.map(cH),i=a[0],s=a[1],o=a[2],l=a[3];return Wm(i,s,o,l)}return 0};function F4(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var AH=function(n,e){var t=e.filter(yw),r=t[0],i=t[1],s=t[2],o=t[3],a=(r.type===17?_u(r.number):GN.parse(n,r))/(Math.PI*2),l=po(i)?i.number/100:0,c=po(s)?s.number/100:0,u=typeof o<"u"&&po(o)?ss(o,1):1;if(l===0)return Wm(c*255,c*255,c*255,1);var A=c<=.5?c*(l+1):c+l-c*l,h=c*2-A,f=F4(h,A,a+1/3),v=F4(h,A,a),g=F4(h,A,a-1/3);return Wm(f*255,v*255,g*255,u)},epe={hsl:AH,hsla:AH,rgb:uH,rgba:uH},b2=function(n,e){return ng.parse(n,GV.create(e).parseComponentValue())},Lf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},tpe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Zi(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},npe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},WN=function(n,e){var t=ng.parse(n,e[0]),r=e[1];return r&&po(r)?{color:t,stop:r}:{color:t,stop:null}},dH=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=Fa),r.stop===null&&(r.stop=Gm);for(var i=[],s=0,o=0;o<n.length;o++){var a=n[o].stop;if(a!==null){var l=ss(a,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,o=0;o<i.length;o++){var u=i[o];if(u===null)c===null&&(c=o);else if(c!==null){for(var A=o-c,h=i[c-1],f=(u-h)/(A+1),v=1;v<=A;v++)i[c+v-1]=f*v;c=null}}return n.map(function(g,x){var b=g.color;return{color:b,stop:Math.max(Math.min(1,i[x]/e),0)}})},rpe=function(n,e,t){var r=e/2,i=t/2,s=ss(n[0],e)-r,o=i-ss(n[1],t);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},ipe=function(n,e,t){var r=typeof n=="number"?n:rpe(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,o=t/2,a=i/2,l=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[i,s-c,s+c,o-l,o+l]},xA=function(n,e){return Math.sqrt(n*n+e*e)},hH=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(o,a){var l=a[0],c=a[1],u=xA(t-l,r-c);return(i?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:a,optimumDistance:u}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},spe=function(n,e,t,r,i){var s=0,o=0;switch(n.size){case 0:n.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=o=Math.min(xA(e,t),xA(e,t-i),xA(e-r,t),xA(e-r,t-i));else if(n.shape===1){var a=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=hH(r,i,e,t,!0),c=l[0],u=l[1];s=xA(c-e,(u-t)/a),o=a*s}break;case 1:n.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=o=Math.max(xA(e,t),xA(e,t-i),xA(e-r,t),xA(e-r,t-i));else if(n.shape===1){var a=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),A=hH(r,i,e,t,!1),c=A[0],u=A[1];s=xA(c-e,(u-t)/a),o=a*s}break}return Array.isArray(n.size)&&(s=ss(n.size[0],r),o=n.size.length===2?ss(n.size[1],i):s),[s,o]},ope=function(n,e){var t=_u(180),r=[];return lh(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){t=eG(i);return}else if($V(o)){t=GN.parse(n,o);return}}var a=WN(n,i);r.push(a)}),{angle:t,stops:r,type:1}},N5=function(n,e){var t=_u(180),r=[];return lh(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=eG(i);return}else if($V(o)){t=(GN.parse(n,o)+_u(270))%_u(360);return}}var a=WN(n,i);r.push(a)}),{angle:t,stops:r,type:1}},ape=function(n,e){var t=_u(180),r=[],i=1,s=0,o=3,a=[];return lh(e).forEach(function(l,c){var u=l[0];if(c===0){if(Zi(u)&&u.value==="linear"){i=1;return}else if(Zi(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var A=ng.parse(n,u.values[0]);r.push({stop:Fa,color:A})}else if(u.name==="to"){var A=ng.parse(n,u.values[0]);r.push({stop:Gm,color:A})}else if(u.name==="color-stop"){var h=u.values.filter(yw);if(h.length===2){var A=ng.parse(n,h[1]),f=h[0];Lw(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:A})}}}}),i===1?{angle:(t+_u(180))%_u(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:a,type:i}},tG="closest-side",nG="farthest-side",rG="closest-corner",iG="farthest-corner",sG="circle",oG="ellipse",aG="cover",lG="contain",lpe=function(n,e){var t=0,r=3,i=[],s=[];return lh(e).forEach(function(o,a){var l=!0;if(a===0){var c=!1;l=o.reduce(function(A,h){if(c)if(Zi(h))switch(h.value){case"center":return s.push(VR),A;case"top":case"left":return s.push(Fa),A;case"right":case"bottom":return s.push(Gm),A}else(po(h)||dg(h))&&s.push(h);else if(Zi(h))switch(h.value){case sG:return t=0,!1;case oG:return t=1,!1;case"at":return c=!0,!1;case tG:return r=0,!1;case aG:case nG:return r=1,!1;case lG:case rG:return r=2,!1;case iG:return r=3,!1}else if(dg(h)||po(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return A},l)}if(l){var u=WN(n,o);i.push(u)}}),{size:r,shape:t,stops:i,position:s,type:2}},k5=function(n,e){var t=0,r=3,i=[],s=[];return lh(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(u,A){if(Zi(A))switch(A.value){case"center":return s.push(VR),!1;case"top":case"left":return s.push(Fa),!1;case"right":case"bottom":return s.push(Gm),!1}else if(po(A)||dg(A))return s.push(A),!1;return u},l):a===1&&(l=o.reduce(function(u,A){if(Zi(A))switch(A.value){case sG:return t=0,!1;case oG:return t=1,!1;case lG:case tG:return r=0,!1;case nG:return r=1,!1;case rG:return r=2,!1;case aG:case iG:return r=3,!1}else if(dg(A)||po(A))return Array.isArray(r)||(r=[]),r.push(A),!1;return u},l)),l){var c=WN(n,o);i.push(c)}}),{size:r,shape:t,stops:i,position:s,type:2}},cpe=function(n){return n.type===1},upe=function(n){return n.type===2},GR={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=cG[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function Ape(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!cG[n.name])}var cG={"linear-gradient":ope,"-moz-linear-gradient":N5,"-ms-linear-gradient":N5,"-o-linear-gradient":N5,"-webkit-linear-gradient":N5,"radial-gradient":lpe,"-moz-radial-gradient":k5,"-ms-radial-gradient":k5,"-o-radial-gradient":k5,"-webkit-radial-gradient":k5,"-webkit-gradient":ape},dpe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return yw(r)&&Ape(r)}).map(function(r){return GR.parse(n,r)})}},hpe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Zi(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fpe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return lh(e).map(function(t){return t.filter(po)}).map(qV)}},ppe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return lh(e).map(function(t){return t.filter(Zi).map(function(r){return r.value}).join(" ")}).map(mpe)}},mpe=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},H1;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(H1||(H1={}));var gpe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return lh(e).map(function(t){return t.filter(vpe)})}},vpe=function(n){return Zi(n)||po(n)},qN=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ype=qN("top"),bpe=qN("right"),wpe=qN("bottom"),xpe=qN("left"),XN=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return qV(t.filter(po))}}},Cpe=XN("top-left"),Spe=XN("top-right"),Bpe=XN("bottom-right"),Epe=XN("bottom-left"),YN=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Fpe=YN("top"),Tpe=YN("right"),Npe=YN("bottom"),kpe=YN("left"),ZN=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return XS(t)?t.number:0}}},Ppe=ZN("top"),Lpe=ZN("right"),Ipe=ZN("bottom"),Mpe=ZN("left"),Rpe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dpe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},_pe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(Zi).reduce(function(t,r){return t|Ope(r.value)},0)}},Ope=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Upe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Hpe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},iT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(iT||(iT={}));var jpe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return iT.STRICT;case"normal":default:return iT.NORMAL}}},Qpe={name:"line-height",initialValue:"normal",prefix:!1,type:4},fH=function(n,e){return Zi(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:po(n)?ss(n,e):e},zpe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:GR.parse(n,e)}},Kpe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},DI={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},JN=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Vpe=JN("top"),Gpe=JN("right"),Wpe=JN("bottom"),qpe=JN("left"),Xpe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(Zi).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Ype={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},$N=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Zpe=$N("top"),Jpe=$N("right"),$pe=$N("bottom"),eme=$N("left"),tme={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},nme={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},rme={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&RI(e[0],"none")?[]:lh(e).map(function(t){for(var r={color:Lf.TRANSPARENT,offsetX:Fa,offsetY:Fa,blur:Fa},i=0,s=0;s<t.length;s++){var o=t[s];dg(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=ng.parse(n,o)}return r})}},ime={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sme={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=lme[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},ome=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},ame=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[t,r,i,s,o,a]:null},lme={matrix:ome,matrix3d:ame},pH={type:16,number:50,flags:qS},cme=[pH,pH],ume={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(po);return t.length!==2?cme:[t[0],t[1]]}},Ame={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},w2;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(w2||(w2={}));var dme={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return w2.BREAK_ALL;case"keep-all":return w2.KEEP_ALL;case"normal":default:return w2.NORMAL}}},hme={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(Lw(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},uG={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},fme={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return Lw(e)?e.number:1}},pme={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mme={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(Zi).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},gme={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},vme={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},yme={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(Lw(e))return e.number;if(Zi(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},bme={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(Zi).map(function(t){return t.value})}},wme={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Lo=function(n,e){return(n&e)!==0},xme={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Cme={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(WV),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(o.type===20){var l=a&&Lw(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},Sme={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(WV),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(Zi(s)&&s.value!=="none"){var a=o&&Lw(o)?o.number:0;t.push({counter:s.value,reset:a})}}return t}},Bme={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(XS).map(function(t){return uG.parse(n,t)})}},Eme={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(Jfe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;r.push({open:o,close:a})}return r}},mH=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},Fme={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&RI(e[0],"none")?[]:lh(e).map(function(t){for(var r={color:255,offsetX:Fa,offsetY:Fa,blur:Fa,spread:Fa,inset:!1},i=0,s=0;s<t.length;s++){var o=t[s];RI(o,"inset")?r.inset=!0:dg(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=ng.parse(n,o)}return r})}},Tme={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(Zi).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Nme={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},kme={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return XS(e)?e.number:0}},Pme=function(){function n(e,t){var r,i;this.animationDuration=Bn(e,Bme,t.animationDuration),this.backgroundClip=Bn(e,tpe,t.backgroundClip),this.backgroundColor=Bn(e,npe,t.backgroundColor),this.backgroundImage=Bn(e,dpe,t.backgroundImage),this.backgroundOrigin=Bn(e,hpe,t.backgroundOrigin),this.backgroundPosition=Bn(e,fpe,t.backgroundPosition),this.backgroundRepeat=Bn(e,ppe,t.backgroundRepeat),this.backgroundSize=Bn(e,gpe,t.backgroundSize),this.borderTopColor=Bn(e,ype,t.borderTopColor),this.borderRightColor=Bn(e,bpe,t.borderRightColor),this.borderBottomColor=Bn(e,wpe,t.borderBottomColor),this.borderLeftColor=Bn(e,xpe,t.borderLeftColor),this.borderTopLeftRadius=Bn(e,Cpe,t.borderTopLeftRadius),this.borderTopRightRadius=Bn(e,Spe,t.borderTopRightRadius),this.borderBottomRightRadius=Bn(e,Bpe,t.borderBottomRightRadius),this.borderBottomLeftRadius=Bn(e,Epe,t.borderBottomLeftRadius),this.borderTopStyle=Bn(e,Fpe,t.borderTopStyle),this.borderRightStyle=Bn(e,Tpe,t.borderRightStyle),this.borderBottomStyle=Bn(e,Npe,t.borderBottomStyle),this.borderLeftStyle=Bn(e,kpe,t.borderLeftStyle),this.borderTopWidth=Bn(e,Ppe,t.borderTopWidth),this.borderRightWidth=Bn(e,Lpe,t.borderRightWidth),this.borderBottomWidth=Bn(e,Ipe,t.borderBottomWidth),this.borderLeftWidth=Bn(e,Mpe,t.borderLeftWidth),this.boxShadow=Bn(e,Fme,t.boxShadow),this.color=Bn(e,Rpe,t.color),this.direction=Bn(e,Dpe,t.direction),this.display=Bn(e,_pe,t.display),this.float=Bn(e,Upe,t.cssFloat),this.fontFamily=Bn(e,gme,t.fontFamily),this.fontSize=Bn(e,vme,t.fontSize),this.fontStyle=Bn(e,wme,t.fontStyle),this.fontVariant=Bn(e,bme,t.fontVariant),this.fontWeight=Bn(e,yme,t.fontWeight),this.letterSpacing=Bn(e,Hpe,t.letterSpacing),this.lineBreak=Bn(e,jpe,t.lineBreak),this.lineHeight=Bn(e,Qpe,t.lineHeight),this.listStyleImage=Bn(e,zpe,t.listStyleImage),this.listStylePosition=Bn(e,Kpe,t.listStylePosition),this.listStyleType=Bn(e,DI,t.listStyleType),this.marginTop=Bn(e,Vpe,t.marginTop),this.marginRight=Bn(e,Gpe,t.marginRight),this.marginBottom=Bn(e,Wpe,t.marginBottom),this.marginLeft=Bn(e,qpe,t.marginLeft),this.opacity=Bn(e,fme,t.opacity);var s=Bn(e,Xpe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Bn(e,Ype,t.overflowWrap),this.paddingTop=Bn(e,Zpe,t.paddingTop),this.paddingRight=Bn(e,Jpe,t.paddingRight),this.paddingBottom=Bn(e,$pe,t.paddingBottom),this.paddingLeft=Bn(e,eme,t.paddingLeft),this.paintOrder=Bn(e,Tme,t.paintOrder),this.position=Bn(e,nme,t.position),this.textAlign=Bn(e,tme,t.textAlign),this.textDecorationColor=Bn(e,pme,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=Bn(e,mme,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Bn(e,rme,t.textShadow),this.textTransform=Bn(e,ime,t.textTransform),this.transform=Bn(e,sme,t.transform),this.transformOrigin=Bn(e,ume,t.transformOrigin),this.visibility=Bn(e,Ame,t.visibility),this.webkitTextStrokeColor=Bn(e,Nme,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Bn(e,kme,t.webkitTextStrokeWidth),this.wordBreak=Bn(e,dme,t.wordBreak),this.zIndex=Bn(e,hme,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return rg(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Lo(this.display,4)||Lo(this.display,33554432)||Lo(this.display,268435456)||Lo(this.display,536870912)||Lo(this.display,67108864)||Lo(this.display,134217728)},n}(),Lme=function(){function n(e,t){this.content=Bn(e,xme,t.content),this.quotes=Bn(e,Eme,t.quotes)}return n}(),gH=function(){function n(e,t){this.counterIncrement=Bn(e,Cme,t.counterIncrement),this.counterReset=Bn(e,Sme,t.counterReset)}return n}(),Bn=function(n,e,t){var r=new VV,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new GV(r.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(n,Zi(o)?o.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return GN.parse(n,s.parseComponentValue());case"color":return ng.parse(n,s.parseComponentValue());case"image":return GR.parse(n,s.parseComponentValue());case"length":var a=s.parseComponentValue();return dg(a)?a:Fa;case"length-percentage":var l=s.parseComponentValue();return po(l)?l:Fa;case"time":return uG.parse(n,s.parseComponentValue())}break}},Ime="data-html2canvas-debug",Mme=function(n){var e=n.getAttribute(Ime);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},_I=function(n,e){var t=Mme(n);return t===1||e===t},ch=function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,_I(t,3))debugger;this.styles=new Pme(e,window.getComputedStyle(t,null)),HI(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=KN(this.context,t),_I(t,4)&&(this.flags|=16)}return n}(),Rme="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",vH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ix=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var P5=0;P5<vH.length;P5++)Ix[vH.charCodeAt(P5)]=P5;var Dme=function(n){var e=n.length*.75,t=n.length,r,i=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<t;r+=4)s=Ix[n.charCodeAt(r)],o=Ix[n.charCodeAt(r+1)],a=Ix[n.charCodeAt(r+2)],l=Ix[n.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|l&63;return c},_me=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},Ome=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},Gv=5,WR=11,T4=2,Ume=WR-Gv,AG=65536>>Gv,Hme=1<<Gv,N4=Hme-1,jme=1024>>Gv,Qme=AG+jme,zme=Qme,Kme=32,Vme=zme+Kme,Gme=65536>>WR,Wme=1<<Ume,qme=Wme-1,yH=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Xme=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Yme=function(n,e){var t=Dme(n),r=Array.isArray(t)?Ome(t):new Uint32Array(t),i=Array.isArray(t)?_me(t):new Uint16Array(t),s=24,o=yH(i,s/2,r[4]/2),a=r[5]===2?yH(i,(s+r[4])/2):Xme(r,Math.ceil((s+r[4])/4));return new Zme(r[0],r[1],r[2],r[3],o,a)},Zme=function(){function n(e,t,r,i,s,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Gv],t=(t<<T4)+(e&N4),this.data[t];if(e<=65535)return t=this.index[AG+(e-55296>>Gv)],t=(t<<T4)+(e&N4),this.data[t];if(e<this.highStart)return t=Vme-Gme+(e>>WR),t=this.index[t],t+=e>>Gv&qme,t=this.index[t],t=(t<<T4)+(e&N4),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n}(),bH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var L5=0;L5<bH.length;L5++)Jme[bH.charCodeAt(L5)]=L5;var $me=1,k4=2,P4=3,wH=4,xH=5,ege=7,CH=8,L4=9,I4=10,SH=11,BH=12,EH=13,FH=14,M4=15,tge=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},nge=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var o=n[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},rge=Yme(Rme),wu="",R4="",ige=function(n){return rge.get(n)},sge=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],o=e[t];if(s===k4&&o===P4)return wu;if(s===k4||s===P4||s===wH||o===k4||o===P4||o===wH)return R4;if(s===CH&&[CH,L4,SH,BH].indexOf(o)!==-1||(s===SH||s===L4)&&(o===L4||o===I4)||(s===BH||s===I4)&&o===I4||o===EH||o===xH||o===ege||s===$me)return wu;if(s===EH&&o===FH){for(;i===xH;)i=e[--r];if(i===FH)return wu}if(s===M4&&o===M4){for(var a=0;i===M4;)a++,i=e[--r];if(a%2===0)return wu}return R4},oge=function(n){var e=tge(n),t=e.length,r=0,i=0,s=e.map(ige);return{next:function(){if(r>=t)return{done:!0,value:null};for(var o=wu;r<t&&(o=sge(e,s,++r))===wu;);if(o!==wu||r===t){var a=nge.apply(null,e.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},age=function(n){for(var e=oge(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},lge=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},cge=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=VN(r.data).map(function(l){return no(l)}),s=0,o={},a=i.every(function(l,c){t.setStart(r,s),t.setEnd(r,s+l.length);var u=t.getBoundingClientRect();s+=l.length;var A=u.x>o.x||u.y>o.y;return o=u,c===0?!0:A});return n.body.removeChild(e),a},uge=function(){return typeof new Image().crossOrigin<"u"},Age=function(){return typeof new XMLHttpRequest().responseType=="string"},dge=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},TH=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},hge=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var o=OI(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),NH(o).then(function(a){r.drawImage(a,0,0);var l=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var c=n.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=t+"px",TH(l)?NH(OI(t,t,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),TH(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},OI=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",n.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},NH=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},wa={get SUPPORT_RANGE_BOUNDS(){var n=lge(document);return Object.defineProperty(wa,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=wa.SUPPORT_RANGE_BOUNDS&&cge(document);return Object.defineProperty(wa,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=dge(document);return Object.defineProperty(wa,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?hge(document):Promise.resolve(!1);return Object.defineProperty(wa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=uge();return Object.defineProperty(wa,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=Age();return Object.defineProperty(wa,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(wa,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(wa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},x2=function(){function n(e,t){this.text=e,this.bounds=t}return n}(),fge=function(n,e,t,r){var i=gge(e,t),s=[],o=0;return i.forEach(function(a){if(t.textDecorationLine.length||a.trim().length>0)if(wa.SUPPORT_RANGE_BOUNDS){var l=kH(r,o,a.length).getClientRects();if(l.length>1){var c=qR(a),u=0;c.forEach(function(h){s.push(new x2(h,Hf.fromDOMRectList(n,kH(r,u+o,h.length).getClientRects()))),u+=h.length})}else s.push(new x2(a,Hf.fromDOMRectList(n,l)))}else{var A=r.splitText(a.length);s.push(new x2(a,pge(n,r))),r=A}else wa.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),s},pge=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=KN(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Hf.EMPTY},kH=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},qR=function(n){if(wa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return age(n)},mge=function(n,e){if(wa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return yge(n,e)},gge=function(n,e){return e.letterSpacing!==0?qR(n):mge(n,e)},vge=[32,160,4961,65792,65793,4153,4241],yge=function(n,e){for(var t=Ghe(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var o=i.value.slice(),a=VN(o),l="";a.forEach(function(c){vge.indexOf(c)===-1?l+=no(c):(l.length&&r.push(l),r.push(no(c)),l="")}),l.length&&r.push(l)}};!(i=t.next()).done;)s();return r},bge=function(){function n(e,t,r){this.text=wge(t.data,r.textTransform),this.textBounds=fge(e,this.text,r,t)}return n}(),wge=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(xge,Cge);case 2:return n.toUpperCase();default:return n}},xge=/(^|\s|:|-|\(|\))([a-z])/g,Cge=function(n,e,t){return n.length>0?e+t.toUpperCase():n},dG=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(ch),hG=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(ch),fG=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,o=KN(t,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(ch),pG=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e}(ch),UI=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(ch),Sge=[{type:15,flags:0,unit:"px",number:3}],Bge=[{type:16,flags:0,number:50}],Ege=function(n){return n.width>n.height?new Hf(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Hf(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Fge=function(n){var e=n.type===Tge?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},sT="checkbox",oT="radio",Tge="password",PH=707406591,XR=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Fge(r),(i.type===sT||i.type===oT)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Ege(i.bounds)),i.type){case sT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Sge;break;case oT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Bge;break}return i}return e}(ch),mG=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(ch),gG=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e}(ch),vG=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=bG(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?b2(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Lf.TRANSPARENT,o=r.contentWindow.document.body?b2(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):Lf.TRANSPARENT;i.backgroundColor=rg(s)?rg(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e}(ch),Nge=["OL","UL","MENU"],vE=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,wG(i)&&i.data.trim().length>0)t.textNodes.push(new bge(n,i,t.styles));else if(B1(i))if(BG(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return vE(n,a,t,r)});else{var o=yG(n,i);o.styles.isVisible()&&(kge(i,o,r)?o.flags|=4:Pge(o.styles)&&(o.flags|=2),Nge.indexOf(i.tagName)!==-1&&(o.flags|=8),t.elements.push(o),i.slot,i.shadowRoot?vE(n,i.shadowRoot,o,r):!aT(i)&&!xG(i)&&!lT(i)&&vE(n,i,o,r))}},yG=function(n,e){return jI(e)?new dG(n,e):CG(e)?new hG(n,e):xG(e)?new fG(n,e):Lge(e)?new pG(n,e):Ige(e)?new UI(n,e):Mge(e)?new XR(n,e):lT(e)?new mG(n,e):aT(e)?new gG(n,e):SG(e)?new vG(n,e):new ch(n,e)},bG=function(n,e){var t=yG(n,e);return t.flags|=4,vE(n,e,t,t),t},kge=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||YR(n)&&t.styles.isTransparent()},Pge=function(n){return n.isPositioned()||n.isFloating()},wG=function(n){return n.nodeType===Node.TEXT_NODE},B1=function(n){return n.nodeType===Node.ELEMENT_NODE},HI=function(n){return B1(n)&&typeof n.style<"u"&&!yE(n)},yE=function(n){return typeof n.className=="object"},Lge=function(n){return n.tagName==="LI"},Ige=function(n){return n.tagName==="OL"},Mge=function(n){return n.tagName==="INPUT"},Rge=function(n){return n.tagName==="HTML"},xG=function(n){return n.tagName==="svg"},YR=function(n){return n.tagName==="BODY"},CG=function(n){return n.tagName==="CANVAS"},LH=function(n){return n.tagName==="VIDEO"},jI=function(n){return n.tagName==="IMG"},SG=function(n){return n.tagName==="IFRAME"},IH=function(n){return n.tagName==="STYLE"},Dge=function(n){return n.tagName==="SCRIPT"},aT=function(n){return n.tagName==="TEXTAREA"},lT=function(n){return n.tagName==="SELECT"},BG=function(n){return n.tagName==="SLOT"},MH=function(n){return n.tagName.indexOf("-")>0},_ge=function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(a){var l=t.counters[a.counter];l&&a.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return s&&i.forEach(function(a){var l=t.counters[a.counter];o.push(a.counter),l||(l=t.counters[a.counter]=[]),l.push(a.reset)}),o},n}(),RH={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},DH={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Oge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Uge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wy=function(n,e,t,r,i,s){return n<e||n>t?Z2(n,i,s.length>0):r.integers.reduce(function(o,a,l){for(;n>=a;)n-=a,o+=r.values[l];return o},"")+s},EG=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},$s=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(EG(Math.abs(n),s,r,function(o){return no(Math.floor(o%s)+e)})+i)},$g=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return EG(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},h1=1,Rp=2,Dp=4,Mx=8,_h=function(n,e,t,r,i,s){if(n<-9999||n>9999)return Z2(n,4,i.length>0);var o=Math.abs(n),a=i;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&Lo(s,h1)&&a!==""?a=e[c]+a:c>1||c===1&&l===0||c===1&&l===1&&Lo(s,Rp)||c===1&&l===1&&Lo(s,Dp)&&n>100||c===1&&l>1&&Lo(s,Mx)?a=e[c]+(l>0?t[l-1]:"")+a:c===1&&l>0&&(a=t[l-1]+a),o=Math.floor(o/10)}return(n<0?r:"")+a},_H="",OH="",UH="",D4="",Z2=function(n,e,t){var r=t?". ":"",i=t?"":"",s=t?", ":"",o=t?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var a=$s(n,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return $g(n,"",i);case 6:return Wy(n,1,3999,RH,3,r).toLowerCase();case 7:return Wy(n,1,3999,RH,3,r);case 8:return $s(n,945,969,!1,r);case 9:return $s(n,97,122,!1,r);case 10:return $s(n,65,90,!1,r);case 11:return $s(n,1632,1641,!0,r);case 12:case 49:return Wy(n,1,9999,DH,3,r);case 35:return Wy(n,1,9999,DH,3,r).toLowerCase();case 13:return $s(n,2534,2543,!0,r);case 14:case 30:return $s(n,6112,6121,!0,r);case 15:return $g(n,"",i);case 16:return $g(n,"",i);case 17:case 48:return _h(n,"",_H,"",i,Rp|Dp|Mx);case 47:return _h(n,"",OH,"",i,h1|Rp|Dp|Mx);case 42:return _h(n,"",_H,"",i,Rp|Dp|Mx);case 41:return _h(n,"",OH,"",i,h1|Rp|Dp|Mx);case 26:return _h(n,"","",UH,i,0);case 25:return _h(n,"","",UH,i,h1|Rp|Dp);case 31:return _h(n,"","",D4,s,h1|Rp|Dp);case 33:return _h(n,"","",D4,s,0);case 32:return _h(n,"","",D4,s,h1|Rp|Dp);case 18:return $s(n,2406,2415,!0,r);case 20:return Wy(n,1,19999,Uge,3,r);case 21:return $s(n,2790,2799,!0,r);case 22:return $s(n,2662,2671,!0,r);case 22:return Wy(n,1,10999,Oge,3,r);case 23:return $g(n,"");case 24:return $g(n,"");case 27:return $s(n,3302,3311,!0,r);case 28:return $g(n,"",i);case 29:return $g(n,"",i);case 34:return $s(n,3792,3801,!0,r);case 37:return $s(n,6160,6169,!0,r);case 38:return $s(n,4160,4169,!0,r);case 39:return $s(n,2918,2927,!0,r);case 40:return $s(n,1776,1785,!0,r);case 43:return $s(n,3046,3055,!0,r);case 44:return $s(n,3174,3183,!0,r);case 45:return $s(n,3664,3673,!0,r);case 46:return $s(n,3872,3881,!0,r);case 3:default:return $s(n,48,57,!0,r)}},FG="data-html2canvas-ignore",HH=function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new _ge,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=Hge(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,l=a.document,c=zge(i).then(function(){return xl(r,void 0,void 0,function(){var u,A;return Ya(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(Wge),a&&(a.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==t.top||a.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Qge(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,A)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Vge(document.doctype)+"<html></html>"),Gge(this.referenceElement.ownerDocument,s,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},n.prototype.createElementClone=function(e){if(_I(e,2))debugger;if(CG(e))return this.createCanvasClone(e);if(LH(e))return this.createVideoClone(e);if(IH(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return jI(t)&&(jI(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),MH(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return _4(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!B1(t)||!Dge(t)&&!t.hasAttribute(FG)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!B1(t)||!IH(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(B1(s)&&BG(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(a){return i.appendChildNode(t,a,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(wG(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&B1(e)&&(HI(e)||yE(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&HI(i)&&(this.clonedReferenceElement=i),YR(i)&&Yge(i);var l=this.counters.parse(new gH(this.context,s)),c=this.resolvePseudoContent(e,i,o,C2.BEFORE);MH(e)&&(t=!0),LH(e)||this.cloneChildNodes(e,i,t),c&&i.insertBefore(c,i.firstChild);var u=this.resolvePseudoContent(e,i,a,C2.AFTER);return u&&i.appendChild(u),this.counters.pop(l),(s&&(this.options.copyStyles||yE(e))&&!SG(e)||t)&&_4(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(aT(e)||lT(e))&&(aT(i)||lT(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var o=r.content,a=t.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new gH(this.context,r));var l=new Lme(this.context,r),c=a.createElement("html2canvaspseudoelement");_4(r,c),l.content.forEach(function(A){if(A.type===0)c.appendChild(a.createTextNode(A.value));else if(A.type===22){var h=a.createElement("img");h.src=A.value,h.style.opacity="1",c.appendChild(h)}else if(A.type===18){if(A.name==="attr"){var f=A.values.filter(Zi);f.length&&c.appendChild(a.createTextNode(e.getAttribute(f[0].value)||""))}else if(A.name==="counter"){var v=A.values.filter(yw),g=v[0],x=v[1];if(g&&Zi(g)){var b=s.counters.getCounterValue(g.value),S=x&&Zi(x)?DI.parse(s.context,x.value):3;c.appendChild(a.createTextNode(Z2(b,S,!1)))}}else if(A.name==="counters"){var E=A.values.filter(yw),g=E[0],k=E[1],x=E[2];if(g&&Zi(g)){var P=s.counters.getCounterValues(g.value),N=x&&Zi(x)?DI.parse(s.context,x.value):3,I=k&&k.type===0?k.value:"",U=P.map(function(L){return Z2(L,N,!1)}).join(I);c.appendChild(a.createTextNode(U))}}}else if(A.type===20)switch(A.value){case"open-quote":c.appendChild(a.createTextNode(mH(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(mH(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(A.value))}}),c.className=QI+" "+zI;var u=i===C2.BEFORE?" "+QI:" "+zI;return yE(t)?t.className.baseValue+=u:t.className+=u,c}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n}(),C2;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(C2||(C2={}));var Hge=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(FG,"true"),n.body.appendChild(t),t},jge=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Qge=function(n){return Promise.all([].slice.call(n.images,0).map(jge))},zge=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Kge=["all","d","content"],_4=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);Kge.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},Vge=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Gge=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},Wge=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},qge=":before",Xge=":after",QI="___html2canvas___pseudoelement_before",zI="___html2canvas___pseudoelement_after",jH=`{
    content: "" !important;
    display: none !important;
}`,Yge=function(n){Zge(n,"."+QI+qge+jH+`
         .`+zI+Xge+jH)},Zge=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},TG=function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n}(),Jge=function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(U4(e)||n0e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return xl(this,void 0,void 0,function(){var t,r,i,s,o=this;return Ya(this,function(a){switch(a.label){case 0:return t=TG.isSameOrigin(e),r=!O4(e)&&this._options.useCORS===!0&&wa.SUPPORT_CORS_IMAGES&&!t,i=!O4(e)&&!t&&!U4(e)&&typeof this._options.proxy=="string"&&wa.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!O4(e)&&!U4(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(r0e(s)||r)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var a=wa.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")s(l.response);else{var A=new FileReader;A.addEventListener("load",function(){return s(A.result)},!1),A.addEventListener("error",function(h){return o(h)},!1),A.readAsDataURL(l.response)}else o("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),t._options.imageTimeout){var u=t._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+i)}}l.send()})},n}(),$ge=/^data:image\/svg\+xml/i,e0e=/^data:image\/.*;base64,/i,t0e=/^data:image\/.*/i,n0e=function(n){return wa.SUPPORT_SVG_DRAWING||!i0e(n)},O4=function(n){return t0e.test(n)},r0e=function(n){return e0e.test(n)},U4=function(n){return n.substr(0,4)==="blob"},i0e=function(n){return n.substr(-3).toLowerCase()==="svg"||$ge.test(n)},gn=function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n}(),qy=function(n,e,t){return new gn(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},I5=function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=qy(this.start,this.startControl,e),i=qy(this.startControl,this.endControl,e),s=qy(this.endControl,this.end,e),o=qy(r,i,e),a=qy(i,s,e),l=qy(o,a,e);return t?new n(this.start,r,o,l):new n(l,a,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n}(),Lu=function(n){return n.type===1},s0e=function(){function n(e){var t=e.styles,r=e.bounds,i=Lx(t.borderTopLeftRadius,r.width,r.height),s=i[0],o=i[1],a=Lx(t.borderTopRightRadius,r.width,r.height),l=a[0],c=a[1],u=Lx(t.borderBottomRightRadius,r.width,r.height),A=u[0],h=u[1],f=Lx(t.borderBottomLeftRadius,r.width,r.height),v=f[0],g=f[1],x=[];x.push((s+l)/r.width),x.push((v+A)/r.width),x.push((o+g)/r.height),x.push((c+h)/r.height);var b=Math.max.apply(Math,x);b>1&&(s/=b,o/=b,l/=b,c/=b,A/=b,h/=b,v/=b,g/=b);var S=r.width-l,E=r.height-h,k=r.width-A,P=r.height-g,N=t.borderTopWidth,I=t.borderRightWidth,U=t.borderBottomWidth,V=t.borderLeftWidth,W=ss(t.paddingTop,e.bounds.width),L=ss(t.paddingRight,e.bounds.width),D=ss(t.paddingBottom,e.bounds.width),z=ss(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?Cs(r.left+V/3,r.top+N/3,s-V/3,o-N/3,Ri.TOP_LEFT):new gn(r.left+V/3,r.top+N/3),this.topRightBorderDoubleOuterBox=s>0||o>0?Cs(r.left+S,r.top+N/3,l-I/3,c-N/3,Ri.TOP_RIGHT):new gn(r.left+r.width-I/3,r.top+N/3),this.bottomRightBorderDoubleOuterBox=A>0||h>0?Cs(r.left+k,r.top+E,A-I/3,h-U/3,Ri.BOTTOM_RIGHT):new gn(r.left+r.width-I/3,r.top+r.height-U/3),this.bottomLeftBorderDoubleOuterBox=v>0||g>0?Cs(r.left+V/3,r.top+P,v-V/3,g-U/3,Ri.BOTTOM_LEFT):new gn(r.left+V/3,r.top+r.height-U/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?Cs(r.left+V*2/3,r.top+N*2/3,s-V*2/3,o-N*2/3,Ri.TOP_LEFT):new gn(r.left+V*2/3,r.top+N*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?Cs(r.left+S,r.top+N*2/3,l-I*2/3,c-N*2/3,Ri.TOP_RIGHT):new gn(r.left+r.width-I*2/3,r.top+N*2/3),this.bottomRightBorderDoubleInnerBox=A>0||h>0?Cs(r.left+k,r.top+E,A-I*2/3,h-U*2/3,Ri.BOTTOM_RIGHT):new gn(r.left+r.width-I*2/3,r.top+r.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||g>0?Cs(r.left+V*2/3,r.top+P,v-V*2/3,g-U*2/3,Ri.BOTTOM_LEFT):new gn(r.left+V*2/3,r.top+r.height-U*2/3),this.topLeftBorderStroke=s>0||o>0?Cs(r.left+V/2,r.top+N/2,s-V/2,o-N/2,Ri.TOP_LEFT):new gn(r.left+V/2,r.top+N/2),this.topRightBorderStroke=s>0||o>0?Cs(r.left+S,r.top+N/2,l-I/2,c-N/2,Ri.TOP_RIGHT):new gn(r.left+r.width-I/2,r.top+N/2),this.bottomRightBorderStroke=A>0||h>0?Cs(r.left+k,r.top+E,A-I/2,h-U/2,Ri.BOTTOM_RIGHT):new gn(r.left+r.width-I/2,r.top+r.height-U/2),this.bottomLeftBorderStroke=v>0||g>0?Cs(r.left+V/2,r.top+P,v-V/2,g-U/2,Ri.BOTTOM_LEFT):new gn(r.left+V/2,r.top+r.height-U/2),this.topLeftBorderBox=s>0||o>0?Cs(r.left,r.top,s,o,Ri.TOP_LEFT):new gn(r.left,r.top),this.topRightBorderBox=l>0||c>0?Cs(r.left+S,r.top,l,c,Ri.TOP_RIGHT):new gn(r.left+r.width,r.top),this.bottomRightBorderBox=A>0||h>0?Cs(r.left+k,r.top+E,A,h,Ri.BOTTOM_RIGHT):new gn(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=v>0||g>0?Cs(r.left,r.top+P,v,g,Ri.BOTTOM_LEFT):new gn(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?Cs(r.left+V,r.top+N,Math.max(0,s-V),Math.max(0,o-N),Ri.TOP_LEFT):new gn(r.left+V,r.top+N),this.topRightPaddingBox=l>0||c>0?Cs(r.left+Math.min(S,r.width-I),r.top+N,S>r.width+I?0:Math.max(0,l-I),Math.max(0,c-N),Ri.TOP_RIGHT):new gn(r.left+r.width-I,r.top+N),this.bottomRightPaddingBox=A>0||h>0?Cs(r.left+Math.min(k,r.width-V),r.top+Math.min(E,r.height-U),Math.max(0,A-I),Math.max(0,h-U),Ri.BOTTOM_RIGHT):new gn(r.left+r.width-I,r.top+r.height-U),this.bottomLeftPaddingBox=v>0||g>0?Cs(r.left+V,r.top+Math.min(P,r.height-U),Math.max(0,v-V),Math.max(0,g-U),Ri.BOTTOM_LEFT):new gn(r.left+V,r.top+r.height-U),this.topLeftContentBox=s>0||o>0?Cs(r.left+V+z,r.top+N+W,Math.max(0,s-(V+z)),Math.max(0,o-(N+W)),Ri.TOP_LEFT):new gn(r.left+V+z,r.top+N+W),this.topRightContentBox=l>0||c>0?Cs(r.left+Math.min(S,r.width+V+z),r.top+N+W,S>r.width+V+z?0:l-V+z,c-(N+W),Ri.TOP_RIGHT):new gn(r.left+r.width-(I+L),r.top+N+W),this.bottomRightContentBox=A>0||h>0?Cs(r.left+Math.min(k,r.width-(V+z)),r.top+Math.min(E,r.height+N+W),Math.max(0,A-(I+L)),h-(U+D),Ri.BOTTOM_RIGHT):new gn(r.left+r.width-(I+L),r.top+r.height-(U+D)),this.bottomLeftContentBox=v>0||g>0?Cs(r.left+V+z,r.top+P,Math.max(0,v-(V+z)),g-(U+D),Ri.BOTTOM_LEFT):new gn(r.left+V+z,r.top+r.height-(U+D))}return n}(),Ri;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ri||(Ri={}));var Cs=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),o=t*s,a=r*s,l=n+t,c=e+r;switch(i){case Ri.TOP_LEFT:return new I5(new gn(n,c),new gn(n,c-a),new gn(l-o,e),new gn(l,e));case Ri.TOP_RIGHT:return new I5(new gn(n,e),new gn(n+o,e),new gn(l,c-a),new gn(l,c));case Ri.BOTTOM_RIGHT:return new I5(new gn(l,e),new gn(l,e+a),new gn(n+o,c),new gn(n,c));case Ri.BOTTOM_LEFT:default:return new I5(new gn(l,c),new gn(l-o,c),new gn(n,e+a),new gn(n,e))}},cT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},o0e=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},uT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},a0e=function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n}(),M5=function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n}(),l0e=function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n}(),c0e=function(n){return n.type===0},NG=function(n){return n.type===1},u0e=function(n){return n.type===2},QH=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},A0e=function(n,e,t,r,i){return n.map(function(s,o){switch(o){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},kG=function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n}(),PG=function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new s0e(this.container),this.container.styles.opacity<1&&this.effects.push(new l0e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new a0e(r,i,s))}if(this.container.styles.overflowX!==0){var o=cT(this.curves),a=uT(this.curves);QH(o,a)?this.effects.push(new M5(o,6)):(this.effects.push(new M5(o,2)),this.effects.push(new M5(a,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!NG(l)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=cT(r.curves),a=uT(r.curves);QH(o,a)||i.unshift(new M5(a,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return Lo(l.target,e)})},n}(),KI=function(n,e,t,r){n.container.elements.forEach(function(i){var s=Lo(i.flags,4),o=Lo(i.flags,2),a=new PG(i,n);Lo(i.styles.display,2048)&&r.push(a);var l=Lo(i.flags,8)?[]:r;if(s||o){var c=s||i.styles.isPositioned()?t:e,u=new kG(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var h=0;c.negativeZIndex.some(function(v,g){return A>v.element.container.styles.zIndex.order?(h=g,!1):h>0}),c.negativeZIndex.splice(h,0,u)}else if(A>0){var f=0;c.positiveZIndex.some(function(v,g){return A>=v.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);KI(a,u,s?u:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),KI(a,e,t,l);Lo(i.flags,8)&&LG(i,l)})},LG=function(n,e){for(var t=n instanceof UI?n.start:1,r=n instanceof UI?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof pG&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Z2(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},d0e=function(n){var e=new PG(n,null),t=new kG(e),r=[];return KI(e,t,t,r),LG(e.container,r),t},zH=function(n,e){switch(e){case 0:return Ou(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return Ou(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return Ou(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return Ou(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},h0e=function(n,e){switch(e){case 0:return Ou(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return Ou(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return Ou(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return Ou(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},f0e=function(n,e){switch(e){case 0:return Ou(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return Ou(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return Ou(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return Ou(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},p0e=function(n,e){switch(e){case 0:return R5(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return R5(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return R5(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return R5(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},R5=function(n,e){var t=[];return Lu(n)?t.push(n.subdivide(.5,!1)):t.push(n),Lu(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Ou=function(n,e,t,r){var i=[];return Lu(n)?i.push(n.subdivide(.5,!1)):i.push(n),Lu(t)?i.push(t.subdivide(.5,!0)):i.push(t),Lu(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Lu(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},IG=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},AT=function(n){var e=n.styles,t=n.bounds,r=ss(e.paddingLeft,t.width),i=ss(e.paddingRight,t.width),s=ss(e.paddingTop,t.width),o=ss(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},m0e=function(n,e){return n===0?e.bounds:n===2?AT(e):IG(e)},g0e=function(n,e){return n===0?e.bounds:n===2?AT(e):IG(e)},H4=function(n,e,t){var r=m0e(f1(n.styles.backgroundOrigin,e),n),i=g0e(f1(n.styles.backgroundClip,e),n),s=v0e(f1(n.styles.backgroundSize,e),t,r),o=s[0],a=s[1],l=Lx(f1(n.styles.backgroundPosition,e),r.width-o,r.height-a),c=y0e(f1(n.styles.backgroundRepeat,e),l,s,r,i),u=Math.round(r.left+l[0]),A=Math.round(r.top+l[1]);return[c,u,A,o,a]},Xy=function(n){return Zi(n)&&n.value===H1.AUTO},D5=function(n){return typeof n=="number"},v0e=function(n,e,t){var r=e[0],i=e[1],s=e[2],o=n[0],a=n[1];if(!o)return[0,0];if(po(o)&&a&&po(a))return[ss(o,t.width),ss(a,t.height)];var l=D5(s);if(Zi(o)&&(o.value===H1.CONTAIN||o.value===H1.COVER)){if(D5(s)){var c=t.width/t.height;return c<s!=(o.value===H1.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var u=D5(r),A=D5(i),h=u||A;if(Xy(o)&&(!a||Xy(a))){if(u&&A)return[r,i];if(!l&&!h)return[t.width,t.height];if(h&&l){var f=u?r:i*s,v=A?i:r/s;return[f,v]}var g=u?r:t.width,x=A?i:t.height;return[g,x]}if(l){var b=0,S=0;return po(o)?b=ss(o,t.width):po(a)&&(S=ss(a,t.height)),Xy(o)?b=S*s:(!a||Xy(a))&&(S=b/s),[b,S]}var E=null,k=null;if(po(o)?E=ss(o,t.width):a&&po(a)&&(k=ss(a,t.height)),E!==null&&(!a||Xy(a))&&(k=u&&A?E/r*i:t.height),k!==null&&Xy(o)&&(E=u&&A?k/i*r:t.width),E!==null&&k!==null)return[E,k];throw new Error("Unable to calculate background-size for element")},f1=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},y0e=function(n,e,t,r,i){var s=e[0],o=e[1],a=t[0],l=t[1];switch(n){case 2:return[new gn(Math.round(r.left),Math.round(r.top+o)),new gn(Math.round(r.left+r.width),Math.round(r.top+o)),new gn(Math.round(r.left+r.width),Math.round(l+r.top+o)),new gn(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new gn(Math.round(r.left+s),Math.round(r.top)),new gn(Math.round(r.left+s+a),Math.round(r.top)),new gn(Math.round(r.left+s+a),Math.round(r.height+r.top)),new gn(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new gn(Math.round(r.left+s),Math.round(r.top+o)),new gn(Math.round(r.left+s+a),Math.round(r.top+o)),new gn(Math.round(r.left+s+a),Math.round(r.top+o+l)),new gn(Math.round(r.left+s),Math.round(r.top+o+l))];default:return[new gn(Math.round(i.left),Math.round(i.top)),new gn(Math.round(i.left+i.width),Math.round(i.top)),new gn(Math.round(i.left+i.width),Math.round(i.height+i.top)),new gn(Math.round(i.left),Math.round(i.height+i.top))]}},b0e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",KH="Hidden Text",w0e=function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=b0e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(KH)),r.appendChild(s),r.appendChild(i);var a=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(KH)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:l}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n}(),MG=function(){function n(e,t){this.context=e,this.options=t}return n}(),x0e=1e4,C0e=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new w0e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),u0e(t)&&(this.ctx.globalAlpha=t.opacity),c0e(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),NG(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return xl(this,void 0,void 0,function(){var r;return Ya(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return xl(this,void 0,void 0,function(){return Ya(this,function(r){switch(r.label){case 0:if(Lo(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var o=qR(t.text);o.reduce(function(a,l){return s.ctx.fillText(l,a,t.bounds.top+i),a+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=T0e(t.fontFamily).join(", "),s=XS(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return xl(this,void 0,void 0,function(){var i,s,o,a,l,c,u,A,h=this;return Ya(this,function(f){return i=this.createFontStyle(r),s=i[0],o=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),c=l.baseline,u=l.middle,A=r.paintOrder,t.textBounds.forEach(function(v){A.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=Vo(r.color),h.renderTextWithLetterSpacing(v,r.letterSpacing,c);var x=r.textShadow;x.length&&v.text.trim().length&&(x.slice(0).reverse().forEach(function(b){h.ctx.shadowColor=Vo(b.color),h.ctx.shadowOffsetX=b.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=b.offsetY.number*h.options.scale,h.ctx.shadowBlur=b.blur.number,h.renderTextWithLetterSpacing(v,r.letterSpacing,c)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),r.textDecorationLine.length&&(h.ctx.fillStyle=Vo(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(b){switch(b){case 1:h.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+c),v.bounds.width,1);break;case 2:h.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:h.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+u),v.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&v.text.trim().length&&(h.ctx.strokeStyle=Vo(r.webkitTextStrokeColor),h.ctx.lineWidth=r.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+c)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=AT(t),o=uT(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return xl(this,void 0,void 0,function(){var r,i,s,o,a,l,S,S,c,u,A,h,k,f,v,P,g,x,b,S,E,k,P;return Ya(this,function(N){switch(N.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,o=0,a=r.textNodes,N.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,s)]):[3,4];case 2:N.sent(),N.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof dG))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return S=N.sent(),this.renderReplacedElement(r,i,S),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof hG&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof fG))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return S=N.sent(),this.renderReplacedElement(r,i,S),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof vG&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=N.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),N.label=14;case 14:if(r instanceof XR&&(A=Math.min(r.bounds.width,r.bounds.height),r.type===sT?r.checked&&(this.ctx.save(),this.path([new gn(r.bounds.left+A*.39363,r.bounds.top+A*.79),new gn(r.bounds.left+A*.16,r.bounds.top+A*.5549),new gn(r.bounds.left+A*.27347,r.bounds.top+A*.44071),new gn(r.bounds.left+A*.39694,r.bounds.top+A*.5649),new gn(r.bounds.left+A*.72983,r.bounds.top+A*.23),new gn(r.bounds.left+A*.84,r.bounds.top+A*.34085),new gn(r.bounds.left+A*.39363,r.bounds.top+A*.79)]),this.ctx.fillStyle=Vo(PH),this.ctx.fill(),this.ctx.restore()):r.type===oT&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+A/2,r.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Vo(PH),this.ctx.fill(),this.ctx.restore())),S0e(r)&&r.value.length){switch(h=this.createFontStyle(s),k=h[0],f=h[1],v=this.fontMetrics.getMetrics(k,f).baseline,this.ctx.font=k,this.ctx.fillStyle=Vo(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=E0e(r.styles.textAlign),P=AT(r),g=0,r.styles.textAlign){case 1:g+=P.width/2;break;case 2:g+=P.width;break}x=P.add(g,0,0,-P.height/2+1),this.ctx.save(),this.path([new gn(P.left,P.top),new gn(P.left+P.width,P.top),new gn(P.left+P.width,P.top+P.height),new gn(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new x2(r.value,x),s.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Lo(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(b=r.styles.listStyleImage,b.type!==0)return[3,18];S=void 0,E=b.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(E)];case 16:return S=N.sent(),this.ctx.drawImage(S,r.bounds.left-(S.width+10),r.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+E),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(k=this.createFontStyle(s)[0],this.ctx.font=k,this.ctx.fillStyle=Vo(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new Hf(r.bounds.left,r.bounds.top+ss(r.styles.paddingTop,r.bounds.width),r.bounds.width,fH(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new x2(t.listValue,P),s.letterSpacing,fH(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return xl(this,void 0,void 0,function(){var r,i,b,s,o,b,a,l,b,c,u,b,A,h,b,f,v,b,g,x,b;return Ya(this,function(S){switch(S.label){case 0:if(Lo(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:S.sent(),r=0,i=t.negativeZIndex,S.label=2;case 2:return r<i.length?(b=i[r],[4,this.renderStack(b)]):[3,5];case 3:S.sent(),S.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:S.sent(),s=0,o=t.nonInlineLevel,S.label=7;case 7:return s<o.length?(b=o[s],[4,this.renderNode(b)]):[3,10];case 8:S.sent(),S.label=9;case 9:return s++,[3,7];case 10:a=0,l=t.nonPositionedFloats,S.label=11;case 11:return a<l.length?(b=l[a],[4,this.renderStack(b)]):[3,14];case 12:S.sent(),S.label=13;case 13:return a++,[3,11];case 14:c=0,u=t.nonPositionedInlineLevel,S.label=15;case 15:return c<u.length?(b=u[c],[4,this.renderStack(b)]):[3,18];case 16:S.sent(),S.label=17;case 17:return c++,[3,15];case 18:A=0,h=t.inlineLevel,S.label=19;case 19:return A<h.length?(b=h[A],[4,this.renderNode(b)]):[3,22];case 20:S.sent(),S.label=21;case 21:return A++,[3,19];case 22:f=0,v=t.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return f<v.length?(b=v[f],[4,this.renderStack(b)]):[3,26];case 24:S.sent(),S.label=25;case 25:return f++,[3,23];case 26:g=0,x=t.positiveZIndex,S.label=27;case 27:return g<x.length?(b=x[g],[4,this.renderStack(b)]):[3,30];case 28:S.sent(),S.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var o=Lu(i)?i.start:i;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Lu(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,i);var l=a.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,r,i),a},e.prototype.renderBackgroundImage=function(t){return xl(this,void 0,void 0,function(){var r,i,s,o,a,l;return Ya(this,function(c){switch(c.label){case 0:r=t.styles.backgroundImage.length-1,i=function(u){var A,h,f,W,J,$,z,G,U,v,W,J,$,z,G,g,x,b,S,E,k,P,N,I,U,V,W,L,D,z,G,ve,J,$,X,ie,pe,te,H,q,re,he;return Ya(this,function(Ae){switch(Ae.label){case 0:if(u.type!==0)return[3,5];A=void 0,h=u.url,Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return A=Ae.sent(),[3,4];case 3:return Ae.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return A&&(f=H4(t,r,[A.width,A.height,A.width/A.height]),W=f[0],J=f[1],$=f[2],z=f[3],G=f[4],U=s.ctx.createPattern(s.resizeImage(A,z,G),"repeat"),s.renderRepeat(W,U,J,$)),[3,6];case 5:cpe(u)?(v=H4(t,r,[null,null,null]),W=v[0],J=v[1],$=v[2],z=v[3],G=v[4],g=ipe(u.angle,z,G),x=g[0],b=g[1],S=g[2],E=g[3],k=g[4],P=document.createElement("canvas"),P.width=z,P.height=G,N=P.getContext("2d"),I=N.createLinearGradient(b,E,S,k),dH(u.stops,x).forEach(function(ge){return I.addColorStop(ge.stop,Vo(ge.color))}),N.fillStyle=I,N.fillRect(0,0,z,G),z>0&&G>0&&(U=s.ctx.createPattern(P,"repeat"),s.renderRepeat(W,U,J,$))):upe(u)&&(V=H4(t,r,[null,null,null]),W=V[0],L=V[1],D=V[2],z=V[3],G=V[4],ve=u.position.length===0?[VR]:u.position,J=ss(ve[0],z),$=ss(ve[ve.length-1],G),X=spe(u,J,$,z,G),ie=X[0],pe=X[1],ie>0&&pe>0&&(te=s.ctx.createRadialGradient(L+J,D+$,0,L+J,D+$,ie),dH(u.stops,ie*2).forEach(function(ge){return te.addColorStop(ge.stop,Vo(ge.color))}),s.path(W),s.ctx.fillStyle=te,ie!==pe?(H=t.bounds.left+.5*t.bounds.width,q=t.bounds.top+.5*t.bounds.height,re=pe/ie,he=1/re,s.ctx.save(),s.ctx.translate(H,q),s.ctx.transform(1,0,0,re,0,0),s.ctx.translate(-H,-q),s.ctx.fillRect(L,he*(D-q)+q,z,G*he),s.ctx.restore()):s.ctx.fill())),Ae.label=6;case 6:return r--,[2]}})},s=this,o=0,a=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<a.length?(l=a[o],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return xl(this,void 0,void 0,function(){return Ya(this,function(s){return this.path(zH(i,r)),this.ctx.fillStyle=Vo(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return xl(this,void 0,void 0,function(){var o,a;return Ya(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return o=h0e(s,i),this.path(o),this.ctx.fillStyle=Vo(t),this.ctx.fill(),a=f0e(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return xl(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,A=this;return Ya(this,function(h){switch(h.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!rg(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=B0e(f1(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rg(r.backgroundColor)||(this.ctx.fillStyle=Vo(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){A.ctx.save();var v=cT(t.curves),g=f.inset?0:x0e,x=A0e(v,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(A.path(v),A.ctx.clip(),A.mask(x)):(A.mask(v),A.ctx.clip(),A.path(x)),A.ctx.shadowOffsetX=f.offsetX.number+g,A.ctx.shadowOffsetY=f.offsetY.number,A.ctx.shadowColor=Vo(f.color),A.ctx.shadowBlur=f.blur.number,A.ctx.fillStyle=f.inset?Vo(f.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),h.label=2;case 2:a=0,l=0,c=s,h.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!rg(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,t.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,t.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,t.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,t.curves)];case 10:h.sent(),h.label=11;case 11:a++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,o){return xl(this,void 0,void 0,function(){var a,l,c,u,A,h,f,v,g,x,b,S,E,k,P,N,P,N;return Ya(this,function(I){return this.ctx.save(),a=p0e(s,i),l=zH(s,i),o===2&&(this.path(l),this.ctx.clip()),Lu(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Lu(l[1])?(A=l[1].end.x,h=l[1].end.y):(A=l[1].x,h=l[1].y),i===0||i===2?f=Math.abs(c-A):f=Math.abs(u-h),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),v=r<3?r*3:r*2,g=r<3?r*2:r,o===3&&(v=r,g=r),x=!0,f<=v*2?x=!1:f<=v*2+g?(b=f/(2*v+g),v*=b,g*=b):(S=Math.floor((f+g)/(v+g)),E=(f-S*v)/(S-1),k=(f-(S+1)*v)/S,g=k<=0||Math.abs(g-E)<Math.abs(g-k)?E:k),x&&(o===3?this.ctx.setLineDash([0,v+g]):this.ctx.setLineDash([v,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Vo(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Lu(l[0])&&(P=l[3],N=l[0],this.ctx.beginPath(),this.formatPath([new gn(P.end.x,P.end.y),new gn(N.start.x,N.start.y)]),this.ctx.stroke()),Lu(l[1])&&(P=l[1],N=l[2],this.ctx.beginPath(),this.formatPath([new gn(P.end.x,P.end.y),new gn(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return xl(this,void 0,void 0,function(){var r;return Ya(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Vo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=d0e(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(MG),S0e=function(n){return n instanceof gG||n instanceof mG?!0:n instanceof XR&&n.type!==oT&&n.type!==sT},B0e=function(n,e){switch(n){case 0:return cT(e);case 2:return o0e(e);case 1:default:return uT(e)}},E0e=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},F0e=["-apple-system","system-ui"],T0e=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return F0e.indexOf(e)===-1}):n},N0e=function(n){nd(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return xl(this,void 0,void 0,function(){var r,i;return Ya(this,function(s){switch(s.label){case 0:return r=OI(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,k0e(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Vo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(MG),k0e=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},P0e=function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,f5([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,f5([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,f5([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,f5([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n}(),L0e=function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new P0e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Jge(this,e)}return n.instanceCount=1,n}(),RG=function(n,e){return e===void 0&&(e={}),I0e(n,e)};typeof window<"u"&&TG.setContext(window);var I0e=function(n,e){return xl(void 0,void 0,void 0,function(){var t,r,i,s,o,a,l,c,u,A,h,f,v,g,x,b,S,E,k,P,I,N,I,U,V,W,L,D,z,G,ve,J,$,X,ie,pe,te,H,q,re;return Ya(this,function(he){switch(he.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(V=e.imageTimeout)!==null&&V!==void 0?V:15e3,proxy:e.proxy,useCORS:(W=e.useCORS)!==null&&W!==void 0?W:!1},s=CI({logging:(L=e.logging)!==null&&L!==void 0?L:!0,cache:e.cache},i),o={windowWidth:(D=e.windowWidth)!==null&&D!==void 0?D:r.innerWidth,windowHeight:(z=e.windowHeight)!==null&&z!==void 0?z:r.innerHeight,scrollX:(G=e.scrollX)!==null&&G!==void 0?G:r.pageXOffset,scrollY:(ve=e.scrollY)!==null&&ve!==void 0?ve:r.pageYOffset},a=new Hf(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new L0e(s,a),c=(J=e.foreignObjectRendering)!==null&&J!==void 0?J:!1,u={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),A=new HH(l,n,u),h=A.clonedReferenceElement,h?[4,A.toIFrame(t,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=he.sent(),v=YR(h)||Rge(h)?Ahe(h.ownerDocument):KN(l,h),g=v.width,x=v.height,b=v.left,S=v.top,E=M0e(l,h,e.backgroundColor),k={canvas:e.canvas,backgroundColor:E,scale:(ie=(X=e.scale)!==null&&X!==void 0?X:r.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((pe=e.x)!==null&&pe!==void 0?pe:0)+b,y:((te=e.y)!==null&&te!==void 0?te:0)+S,width:(H=e.width)!==null&&H!==void 0?H:Math.ceil(g),height:(q=e.height)!==null&&q!==void 0?q:Math.ceil(x)},c?(l.logger.debug("Document cloned, using foreign object rendering"),I=new N0e(l,k),[4,I.render(h)]):[3,3];case 2:return P=he.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+b+","+S+" with size "+g+"x"+x+" using computed rendering"),l.logger.debug("Starting DOM parsing"),N=bG(l,h),E===N.styles.backgroundColor&&(N.styles.backgroundColor=Lf.TRANSPARENT),l.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),I=new C0e(l,k),[4,I.render(N)];case 4:P=he.sent(),he.label=5;case 5:return(!((re=e.removeContainer)!==null&&re!==void 0)||re)&&(HH.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,P]}})})},M0e=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?b2(n,getComputedStyle(r.documentElement).backgroundColor):Lf.TRANSPARENT,s=r.body?b2(n,getComputedStyle(r.body).backgroundColor):Lf.TRANSPARENT,o=typeof t=="string"?b2(n,t):t===null?Lf.TRANSPARENT:4294967295;return e===r.documentElement?rg(i)?rg(s)?o:s:i:o};const R0e=Object.freeze(Object.defineProperty({__proto__:null,default:RG},Symbol.toStringTag,{value:"Module"})),Cl=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),VI=[.001,0,0,.001,0,0],j4=1.35,Uc={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Vp={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},DG="pdfjs_internal_editor_",Nr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101,COMMENT:102},oi={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},D0e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ka={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},bE={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ao={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},p1={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ek={ERRORS:0,WARNINGS:1,INFOS:5},dT={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},_5={moveTo:0,lineTo:1,curveTo:2,closePath:3},_0e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let tk=ek.WARNINGS;function O0e(n){Number.isInteger(n)&&(tk=n)}function U0e(){return tk}function nk(n){tk>=ek.INFOS&&console.log(`Info: ${n}`)}function Pr(n){tk>=ek.WARNINGS&&console.log(`Warning: ${n}`)}function Ji(n){throw new Error(n)}function mo(n,e){n||Ji(e)}function H0e(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _G(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=V0e(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return H0e(r)?r:null}function OG(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&_G(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Yr(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const uy=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class VH extends uy{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Q4 extends uy{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class GI extends uy{constructor(e){super(e,"InvalidPDFException")}}class hT extends uy{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class j0e extends uy{constructor(e){super(e,"FormatError")}}class hg extends uy{constructor(e){super(e,"AbortException")}}function UG(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ji("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function YS(n){typeof n!="string"&&Ji("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function Q0e(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function z0e(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function K0e(){try{return new Function(""),!0}catch{return!1}}class Na{static get isLittleEndian(){return Yr(this,"isLittleEndian",z0e())}static get isEvalSupported(){return Yr(this,"isEvalSupported",K0e())}static get isOffscreenCanvasSupported(){return Yr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Yr(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Yr(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Yr(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const z4=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Df,wE,WI;class Xn{static makeHexColor(e,t,r){return`#${z4[e]}${z4[t]}${z4[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let u=0;u<6;u+=2){const A=e[r+u],h=e[r+u+1];e[r+u]=A*i+h*o+l,e[r+u+1]=A*s+h*a+c}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5],u=e[0],A=e[1],h=e[2],f=e[3];let v=i*u+l,g=v,x=i*h+l,b=x,S=a*A+c,E=S,k=a*f+c,P=k;if(s!==0||o!==0){const N=s*u,I=s*h,U=o*A,V=o*f;v+=U,b+=U,x+=V,g+=V,S+=N,P+=N,k+=I,E+=I}r[0]=Math.min(r[0],v,x,g,b),r[1]=Math.min(r[1],S,k,E,P),r[2]=Math.max(r[2],v,x,g,b),r[3]=Math.max(r[3],S,k,E,P)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],o=e[3],a=r**2+i**2,l=r*s+i*o,c=s**2+o**2,u=(a+c)/2,A=Math.sqrt(u**2-(a*c-l**2));t[0]=Math.sqrt(u+A||1),t[1]=Math.sqrt(u-A||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l),ne(this,Df,WI).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),ne(this,Df,WI).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c)}}Df=new WeakSet,wE=function(e,t,r,i,s,o,a,l,c,u){if(c<=0||c>=1)return;const A=1-c,h=c*c,f=h*c,v=A*(A*(A*e+3*c*t)+3*h*r)+f*i,g=A*(A*(A*s+3*c*o)+3*h*a)+f*l;u[0]=Math.min(u[0],v),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],v),u[3]=Math.max(u[3],g)},WI=function(e,t,r,i,s,o,a,l,c,u,A,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&ne(this,Df,wE).call(this,e,t,r,i,s,o,a,l,-A/u,h);return}const f=u**2-4*A*c;if(f<0)return;const v=Math.sqrt(f),g=2*c;ne(this,Df,wE).call(this,e,t,r,i,s,o,a,l,(-u+v)/g,h),ne(this,Df,wE).call(this,e,t,r,i,s,o,a,l,(-u-v)/g,h)},Z(Xn,Df);function V0e(n){return decodeURIComponent(escape(n))}let K4=null,GH=null;function G0e(n){return K4||(K4=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,GH=new Map([["","t"]])),n.replaceAll(K4,(e,t,r)=>t?t.normalize("NFKC"):GH.get(r))}function HG(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),UG(n)}const ZR="pdfjs_internal_id_";function W0e(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function Sl(n,e,t){return Math.min(Math.max(n,e),t)}function jG(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(UG(n))}function q0e(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):YS(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Hh="http://www.w3.org/2000/svg",v0=class v0{};Wt(v0,"CSS",96),Wt(v0,"PDF",72),Wt(v0,"PDF_TO_CSS_UNITS",v0.CSS/v0.PDF);let fg=v0;async function ZS(n,e="text"){if(Rx(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class JS{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,A,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,A=0,h=0,f=1;break;case 90:u=0,A=1,h=1,f=0;break;case 270:u=0,A=-1,h=-1,f=0;break;case 0:u=1,A=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,f=-f);let v,g,x,b;u===0?(v=Math.abs(c-e[1])*r+s,g=Math.abs(l-e[0])*r+o,x=(e[3]-e[1])*r,b=(e[2]-e[0])*r):(v=Math.abs(l-e[0])*r+s,g=Math.abs(c-e[1])*r+o,x=(e[2]-e[0])*r,b=(e[3]-e[1])*r),this.transform=[u*r,A*r,h*r,f*r,v-u*r*l-h*r*c,g-A*r*l-f*r*c],this.width=x,this.height=b}get rawDims(){const e=this.viewBox;return Yr(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new JS({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Xn.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Xn.applyTransform(t,this.transform);const r=[e[2],e[3]];return Xn.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Xn.applyInverseTransform(r,this.transform),r}}class JR extends uy{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function rk(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function $R(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function X0e(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Y0e(n,e="document.pdf"){if(typeof n!="string")return e;if(rk(n))return Pr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},s=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(s.test(o))return i(o);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const c of a)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class WH{constructor(){Wt(this,"started",Object.create(null));Wt(this,"times",[])}time(e){e in this.started&&Pr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Pr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Rx(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ku(n){n.preventDefault()}function ho(n){n.preventDefault(),n.stopPropagation()}function Z0e(n){console.log("Deprecated API usage: "+n)}var lC;class fT{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;m(this,lC)||Q(this,lC,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,lC).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let A=parseInt(t[9],10)||0;return A=A>=0&&A<=59?A:0,c==="-"?(o+=u,a+=A):c==="+"&&(o-=u,a-=A),new Date(Date.UTC(r,i,s,o,a,l))}}lC=new WeakMap,Z(fT,lC);function J0e(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new JS({viewBox:s,userUnit:1,scale:e,rotation:t})}function ik(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Pr(`Not a valid color format: "${n}"`),[0,0,0])}function $0e(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,ik(r))}e.remove()}function Ms(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function gd(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function ny(n,e,t=!1,r=!0){if(e instanceof JS){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Na.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,A=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=A):(o.width=A,o.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}class rh{constructor(){const{pixelRatio:e}=rh;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let o=1/0,a=1/0,l=1/0;r=rh.capPixels(r,s),r>0&&(o=Math.sqrt(r/(e*t))),i!==-1&&(a=i/e,l=i/t);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const qI=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Zp,Jp,Cu,Xh,cC,$1,eb,uC,UT,QG,Ea,zG,KG,m1,Dx;const Gh=class Gh{constructor(e){Z(this,Ea);Z(this,Zp,null);Z(this,Jp,null);Z(this,Cu);Z(this,Xh,null);Z(this,cC,null);Z(this,$1,null);Z(this,eb,null);Q(this,Cu,e),m(Gh,uC)||Q(Gh,uC,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=Q(this,Zp,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,Cu)._uiManager._signal;e.addEventListener("contextmenu",Ku,{signal:t}),e.addEventListener("pointerdown",ne(Gh,UT,QG),{signal:t});const r=Q(this,Xh,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Cu).toolbarPosition;if(i){const{style:s}=e,o=m(this,Cu)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return m(this,Zp)}hide(){var e;m(this,Zp).classList.add("hidden"),(e=m(this,Jp))==null||e.hideDropdown()}show(){var e,t;m(this,Zp).classList.remove("hidden"),(e=m(this,cC))==null||e.shown(),(t=m(this,$1))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=m(this,Cu),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",m(Gh,uC)[e]),ne(this,Ea,m1).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),m(this,Xh).append(r)}async addAltText(e){const t=await e.render();ne(this,Ea,m1).call(this,t),m(this,Xh).append(t,m(this,Ea,Dx)),Q(this,cC,e)}addComment(e){if(m(this,$1))return;const t=e.render();t&&(ne(this,Ea,m1).call(this,t),m(this,Xh).prepend(t,m(this,Ea,Dx)),Q(this,$1,e),e.toolbar=this)}addColorPicker(e){if(m(this,Jp))return;Q(this,Jp,e);const t=e.renderButton();ne(this,Ea,m1).call(this,t),m(this,Xh).append(t,m(this,Ea,Dx))}async addEditSignatureButton(e){const t=Q(this,eb,await e.renderEditButton(m(this,Cu)));ne(this,Ea,m1).call(this,t),m(this,Xh).append(t,m(this,Ea,Dx))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}updateEditSignatureButton(e){m(this,eb)&&(m(this,eb).title=e)}remove(){var e;m(this,Zp).remove(),(e=m(this,Jp))==null||e.destroy(),Q(this,Jp,null)}};Zp=new WeakMap,Jp=new WeakMap,Cu=new WeakMap,Xh=new WeakMap,cC=new WeakMap,$1=new WeakMap,eb=new WeakMap,uC=new WeakMap,UT=new WeakSet,QG=function(e){e.stopPropagation()},Ea=new WeakSet,zG=function(e){m(this,Cu)._focusEventsAllowed=!1,ho(e)},KG=function(e){m(this,Cu)._focusEventsAllowed=!0,ho(e)},m1=function(e){const t=m(this,Cu)._uiManager._signal;e.addEventListener("focusin",ne(this,Ea,zG).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ne(this,Ea,KG).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ku,{signal:t})},Dx=function(){const e=document.createElement("div");return e.className="divider",e},Z(Gh,UT),Z(Gh,uC,null);let XI=Gh;var AC,I0,M0,yg,VG,GG,WG;class eve{constructor(e){Z(this,yg);Z(this,AC,null);Z(this,I0,null);Z(this,M0);Q(this,M0,e)}show(e,t,r){const[i,s]=ne(this,yg,GG).call(this,t,r),{style:o}=m(this,I0)||Q(this,I0,ne(this,yg,VG).call(this));e.append(m(this,I0)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,I0).remove()}}AC=new WeakMap,I0=new WeakMap,M0=new WeakMap,yg=new WeakSet,VG=function(){const e=Q(this,I0,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ku,{signal:m(this,M0)._signal});const t=Q(this,AC,document.createElement("div"));return t.className="buttons",e.append(t),ne(this,yg,WG).call(this),e},GG=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},WG=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,M0)._signal;e.addEventListener("contextmenu",Ku,{signal:r}),e.addEventListener("click",()=>{m(this,M0).highlightSelection("floating_button")},{signal:r}),m(this,AC).append(e)};function qG(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var HT;class tve{constructor(){Z(this,HT,0)}get id(){return`${DG}${Ko(this,HT)._++}`}}HT=new WeakMap;var tb,dC,Wa,nb,xE;const _D=class _D{constructor(){Z(this,nb);Z(this,tb,HG());Z(this,dC,0);Z(this,Wa,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Yr(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return ne(this,nb,xE).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return ne(this,nb,xE).call(this,e,e)}async getFromBlob(e,t){const r=await t;return ne(this,nb,xE).call(this,e,r)}async getFromId(e){m(this,Wa)||Q(this,Wa,new Map);const t=m(this,Wa).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,Wa)||Q(this,Wa,new Map);let r=m(this,Wa).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,tb)}_${Ko(this,dC)._++}`,refCounter:1,isSvg:!1},m(this,Wa).set(e,r),m(this,Wa).set(r.id,r),r}getSvgUrl(e){const t=m(this,Wa).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;m(this,Wa)||Q(this,Wa,new Map);const t=m(this,Wa).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,tb)}_`)}};tb=new WeakMap,dC=new WeakMap,Wa=new WeakMap,nb=new WeakSet,xE=async function(e,t){m(this,Wa)||Q(this,Wa,new Map);let r=m(this,Wa).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,tb)}_${Ko(this,dC)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await ZS(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=_D._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const A=r.svgUrl=o.result;a.src=await s?`${A}#svgView(preserveAspectRatio(none))`:A},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Pr(i),r=null}return m(this,Wa).set(e,r),r&&m(this,Wa).set(r.id,r),r};let YI=_D;var eo,$p,hC,Is;class nve{constructor(e=128){Z(this,eo,[]);Z(this,$p,!1);Z(this,hC);Z(this,Is,-1);Q(this,hC,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),m(this,$p))return;const l={cmd:e,undo:t,post:r,type:s};if(m(this,Is)===-1){m(this,eo).length>0&&(m(this,eo).length=0),Q(this,Is,0),m(this,eo).push(l);return}if(o&&m(this,eo)[m(this,Is)].type===s){a&&(l.undo=m(this,eo)[m(this,Is)].undo),m(this,eo)[m(this,Is)]=l;return}const c=m(this,Is)+1;c===m(this,hC)?m(this,eo).splice(0,1):(Q(this,Is,c),c<m(this,eo).length&&m(this,eo).splice(c)),m(this,eo).push(l)}undo(){if(m(this,Is)===-1)return;Q(this,$p,!0);const{undo:e,post:t}=m(this,eo)[m(this,Is)];e(),t==null||t(),Q(this,$p,!1),Q(this,Is,m(this,Is)-1)}redo(){if(m(this,Is)<m(this,eo).length-1){Q(this,Is,m(this,Is)+1),Q(this,$p,!0);const{cmd:e,post:t}=m(this,eo)[m(this,Is)];e(),t==null||t(),Q(this,$p,!1)}}hasSomethingToUndo(){return m(this,Is)!==-1}hasSomethingToRedo(){return m(this,Is)<m(this,eo).length-1}cleanType(e){if(m(this,Is)!==-1){for(let t=m(this,Is);t>=0;t--)if(m(this,eo)[t].type!==e){m(this,eo).splice(t+1,m(this,Is)-t),Q(this,Is,t);return}m(this,eo).length=0,Q(this,Is,-1)}}destroy(){Q(this,eo,null)}}eo=new WeakMap,$p=new WeakMap,hC=new WeakMap,Is=new WeakMap;var jT,XG;class $S{constructor(e){Z(this,jT);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Na.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(ne(this,jT,XG).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||ho(t))}}jT=new WeakSet,XG=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const QT=class QT{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return $0e(e),Yr(this,"_colors",e)}convert(e){const t=ik(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return QT._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Xn.makeHexColor(...t):e}};Wt(QT,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ZI=QT;var rb,Sc,To,fa,ib,Yh,sb,Su,R0,em,tm,ob,D0,Fd,PA,_0,fC,pC,ab,mC,Td,nm,lb,rm,Nd,zT,im,gC,sm,O0,cb,om,vC,Go,Hi,Zh,am,lm,yC,bC,cm,kd,Jh,wC,xC,Bu,dn,CE,JI,YG,ZG,SE,JG,$G,eW,$I,tW,e3,t3,nW,ml,jh,rW,iW,n3,sW,_x,r3;const N1=class N1{constructor(e,t,r,i,s,o,a,l,c,u,A,h,f,v,g,x){Z(this,dn);Z(this,rb,new AbortController);Z(this,Sc,null);Z(this,To,new Map);Z(this,fa,new Map);Z(this,ib,null);Z(this,Yh,null);Z(this,sb,null);Z(this,Su,new nve);Z(this,R0,null);Z(this,em,null);Z(this,tm,null);Z(this,ob,0);Z(this,D0,new Set);Z(this,Fd,null);Z(this,PA,null);Z(this,_0,new Set);Wt(this,"_editorUndoBar",null);Z(this,fC,!1);Z(this,pC,!1);Z(this,ab,!1);Z(this,mC,null);Z(this,Td,null);Z(this,nm,null);Z(this,lb,null);Z(this,rm,!1);Z(this,Nd,null);Z(this,zT,new tve);Z(this,im,!1);Z(this,gC,!1);Z(this,sm,null);Z(this,O0,null);Z(this,cb,null);Z(this,om,null);Z(this,vC,null);Z(this,Go,Nr.NONE);Z(this,Hi,new Set);Z(this,Zh,null);Z(this,am,null);Z(this,lm,null);Z(this,yC,null);Z(this,bC,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Z(this,cm,[0,0]);Z(this,kd,null);Z(this,Jh,null);Z(this,wC,null);Z(this,xC,null);Z(this,Bu,null);const b=this._signal=m(this,rb).signal;Q(this,Jh,e),Q(this,wC,t),Q(this,xC,r),Q(this,ib,i),Q(this,R0,s),Q(this,am,o),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:b}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),a._on("setpreference",this.onSetPreference.bind(this),{signal:b}),a._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:b}),ne(this,dn,JG).call(this),ne(this,dn,nW).call(this),ne(this,dn,$I).call(this),Q(this,Yh,l.annotationStorage),Q(this,mC,l.filterFactory),Q(this,lm,c),Q(this,lb,u||null),Q(this,fC,A),Q(this,pC,h),Q(this,ab,f),Q(this,vC,v||null),this.viewParameters={realScale:fg.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=x!==!1}static get _keyboardManager(){const e=N1.prototype,t=o=>m(o,Jh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Yr(this,"_keyboardManager",new $S([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,Jh).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&m(o,Jh).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,o,a,l,c;(e=m(this,Bu))==null||e.resolve(),Q(this,Bu,null),(t=m(this,rb))==null||t.abort(),Q(this,rb,null),this._signal=null;for(const u of m(this,fa).values())u.destroy();m(this,fa).clear(),m(this,To).clear(),m(this,_0).clear(),(r=m(this,om))==null||r.clear(),Q(this,Sc,null),m(this,Hi).clear(),m(this,Su).destroy(),(i=m(this,ib))==null||i.destroy(),(s=m(this,R0))==null||s.destroy(),(o=m(this,am))==null||o.destroy(),(a=m(this,Nd))==null||a.hide(),Q(this,Nd,null),(l=m(this,cb))==null||l.destroy(),Q(this,cb,null),m(this,Td)&&(clearTimeout(m(this,Td)),Q(this,Td,null)),m(this,kd)&&(clearTimeout(m(this,kd)),Q(this,kd,null)),(c=this._editorUndoBar)==null||c.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,vC)}get useNewAltTextFlow(){return m(this,pC)}get useNewAltTextWhenAddingImage(){return m(this,ab)}get hcmFilter(){return Yr(this,"hcmFilter",m(this,lm)?m(this,mC).addHCMFilter(m(this,lm).foreground,m(this,lm).background):"none")}get direction(){return Yr(this,"direction",getComputedStyle(m(this,Jh)).direction)}get _highlightColors(){return Yr(this,"_highlightColors",m(this,lb)?new Map(m(this,lb).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Yr(this,"highlightColors",null);const t=new Map,r=!!m(this,lm);for(const[i,s]of e){const o=i.endsWith("_HCM");if(r&&o){t.set(i.replace("_HCM",""),s);continue}!r&&!o&&t.set(i,s)}return Yr(this,"highlightColors",t)}get highlightColorNames(){return Yr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),Q(this,tm,e)}setMainHighlightColorPicker(e){Q(this,cb,e)}editAltText(e,t=!1){var r;(r=m(this,ib))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!m(this,R0)}editComment(e,t){var r;(r=m(this,R0))==null||r.open(this,e,t)}getSignature(e){var t;(t=m(this,am))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return m(this,am)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":Q(this,ab,t);break}}onPageChanging({pageNumber:e}){Q(this,ob,e-1)}focusMainContainer(){m(this,Jh).focus()}findParent(e,t){for(const r of m(this,fa).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){m(this,wC).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,_0).add(e)}removeShouldRescale(e){m(this,_0).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*fg.PDF_TO_CSS_UNITS;for(const r of m(this,_0))r.onScaleChanging();(t=m(this,tm))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=ne(this,dn,CE).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;t.empty();const A=ne(this,dn,JI).call(this,c),h=m(this,Go)===Nr.NONE,f=()=>{A==null||A.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(Nr.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Yh)&&!m(this,Yh).has(e.id)&&m(this,Yh).setValue(e.id,e)}a11yAlert(e,t=null){const r=m(this,xC);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,m(this,rm)&&(Q(this,rm,!1),ne(this,dn,SE).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,Hi))if(t.div.contains(e)){Q(this,O0,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,O0))return;const[e,t]=m(this,O0);Q(this,O0,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ne(this,dn,$I).call(this),ne(this,dn,e3).call(this)}removeEditListeners(){ne(this,dn,tW).call(this),ne(this,dn,t3).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of m(this,PA))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of m(this,PA))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Sc))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,Hi)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of m(this,PA))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Pr(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)ne(this,dn,n3).call(this,l);ne(this,dn,r3).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Pr(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Go)!==Nr.NONE&&!this.isEditorHandlingKeyboard&&N1._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,rm)&&(Q(this,rm,!1),ne(this,dn,SE).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ne(this,dn,$G).call(this),ne(this,dn,e3).call(this),ne(this,dn,ml).call(this,{isEditing:m(this,Go)!==Nr.NONE,isEmpty:ne(this,dn,_x).call(this),hasSomethingToUndo:m(this,Su).hasSomethingToUndo(),hasSomethingToRedo:m(this,Su).hasSomethingToRedo(),hasSelectedEditor:!1})):(ne(this,dn,eW).call(this),ne(this,dn,t3).call(this),ne(this,dn,ml).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,PA)){Q(this,PA,e);for(const t of m(this,PA))ne(this,dn,jh).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,zT).id}get currentLayer(){return m(this,fa).get(m(this,ob))}getLayer(e){return m(this,fa).get(e)}get currentPageIndex(){return m(this,ob)}addLayer(e){m(this,fa).set(e.pageIndex,e),m(this,im)?e.enable():e.disable()}removeLayer(e){m(this,fa).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var o,a,l;if(m(this,Go)!==e&&!(m(this,Bu)&&(await m(this,Bu).promise,!m(this,Bu)))){if(Q(this,Bu,Promise.withResolvers()),(o=m(this,tm))==null||o.commitOrRemove(),Q(this,Go,e),e===Nr.NONE){this.setEditingState(!1),ne(this,dn,iW).call(this),(a=this._editorUndoBar)==null||a.hide(),m(this,Bu).resolve();return}e===Nr.SIGNATURE&&await((l=m(this,am))==null?void 0:l.loadSignatures()),this.setEditingState(!0),await ne(this,dn,rW).call(this),this.unselectAll();for(const c of m(this,fa).values())c.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),m(this,Bu).resolve();return}for(const c of m(this,To).values())c.annotationElementId===t||c.id===t?(this.setSelected(c),s?c.editComment():i&&c.enterInEditMode()):c.unselect();m(this,Bu).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==m(this,Go)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(m(this,PA)){switch(e){case oi.CREATE:this.currentLayer.addNewEditor(t);return;case oi.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,yC)||Q(this,yC,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of m(this,Hi))r.updateParams(e,t);else for(const r of m(this,PA))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of m(this,To).values())o.editorType===e&&o.show(t);(((s=m(this,yC))==null?void 0:s.get(oi.HIGHLIGHT_SHOW_ALL))??!0)!==t&&ne(this,dn,jh).call(this,[[oi.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,gC)!==e){Q(this,gC,e);for(const t of m(this,fa).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of m(this,To).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return m(this,To).get(e)}addEditor(e){m(this,To).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(m(this,Td)&&clearTimeout(m(this,Td)),Q(this,Td,setTimeout(()=>{this.focusMainContainer(),Q(this,Td,null)},0))),m(this,To).delete(e.id),e.annotationElementId&&((t=m(this,om))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!m(this,D0).has(e.annotationElementId))&&((r=m(this,Yh))==null||r.remove(e.id))}addDeletedAnnotationElement(e){m(this,D0).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,D0).has(e)}removeDeletedAnnotationElement(e){m(this,D0).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Sc)!==e&&(Q(this,Sc,e),e&&ne(this,dn,jh).call(this,e.propertiesToUpdate))}updateUI(e){m(this,dn,sW)===e&&ne(this,dn,jh).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ne(this,dn,jh).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(m(this,Hi).has(e)){m(this,Hi).delete(e),e.unselect(),ne(this,dn,ml).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,Hi).add(e),e.select(),ne(this,dn,jh).call(this,e.propertiesToUpdate),ne(this,dn,ml).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=m(this,tm))==null||t.commitOrRemove();for(const r of m(this,Hi))r!==e&&r.unselect();m(this,Hi).clear(),m(this,Hi).add(e),e.select(),ne(this,dn,jh).call(this,e.propertiesToUpdate),ne(this,dn,ml).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,Hi).has(e)}get firstSelectedEditor(){return m(this,Hi).values().next().value}unselect(e){e.unselect(),m(this,Hi).delete(e),ne(this,dn,ml).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,Hi).size!==0}get isEnterHandled(){return m(this,Hi).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;m(this,Su).undo(),ne(this,dn,ml).call(this,{hasSomethingToUndo:m(this,Su).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ne(this,dn,_x).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){m(this,Su).redo(),ne(this,dn,ml).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,Su).hasSomethingToRedo(),isEmpty:ne(this,dn,_x).call(this)})}addCommands(e){m(this,Su).add(e),ne(this,dn,ml).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ne(this,dn,_x).call(this)})}cleanUndoStack(e){m(this,Su).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...m(this,Hi)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},i=()=>{for(const o of t)ne(this,dn,n3).call(this,o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Sc))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Sc)||this.hasSelection}selectAll(){for(const e of m(this,Hi))e.commit();ne(this,dn,r3).call(this,m(this,To).values())}unselectAll(){var e;if(!(m(this,Sc)&&(m(this,Sc).commitOrRemove(),m(this,Go)!==Nr.NONE))&&!((e=m(this,tm))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of m(this,Hi))t.unselect();m(this,Hi).clear(),ne(this,dn,ml).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,cm)[0]+=e,m(this,cm)[1]+=t;const[i,s]=m(this,cm),o=[...m(this,Hi)],a=1e3;m(this,kd)&&clearTimeout(m(this,kd)),Q(this,kd,setTimeout(()=>{Q(this,kd,null),m(this,cm)[0]=m(this,cm)[1]=0,this.addCommands({cmd:()=>{for(const l of o)m(this,To).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of o)m(this,To).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Q(this,Fd,new Map);for(const e of m(this,Hi))m(this,Fd).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,Fd))return!1;this.disableUserSelect(!1);const e=m(this,Fd);Q(this,Fd,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(m(this,To).has(i.id)){const l=m(this,fa).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,Fd))for(const r of m(this,Fd).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,Hi).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Sc)===e}getActive(){return m(this,Sc)}getMode(){return m(this,Go)}get imageManager(){return Yr(this,"imageManager",new YI)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,A,h)=>({x:(u-i)/o,y:1-(c+A-r)/s,width:h/o,height:A/s});break;case"180":a=(c,u,A,h)=>({x:1-(c+A-r)/s,y:1-(u+h-i)/o,width:A/s,height:h/o});break;case"270":a=(c,u,A,h)=>({x:1-(u+h-i)/o,y:(c-r)/s,width:h/o,height:A/s});break;default:a=(c,u,A,h)=>({x:(c-r)/s,y:(u-i)/o,width:A/s,height:h/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const A=t.getRangeAt(c);if(!A.collapsed)for(const{x:h,y:f,width:v,height:g}of A.getClientRects())v===0||g===0||l.push(a(h,f,v,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,sb)||Q(this,sb,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,sb))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,sb))==null?void 0:i.get(e.data.id);if(!t)return;const r=m(this,Yh).getRawValue(t);r&&(m(this,Go)===Nr.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=m(this,om))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),m(this,om).delete(e))}addMissingCanvas(e,t){(m(this,om)||Q(this,om,new Map)).set(e,t)}};rb=new WeakMap,Sc=new WeakMap,To=new WeakMap,fa=new WeakMap,ib=new WeakMap,Yh=new WeakMap,sb=new WeakMap,Su=new WeakMap,R0=new WeakMap,em=new WeakMap,tm=new WeakMap,ob=new WeakMap,D0=new WeakMap,Fd=new WeakMap,PA=new WeakMap,_0=new WeakMap,fC=new WeakMap,pC=new WeakMap,ab=new WeakMap,mC=new WeakMap,Td=new WeakMap,nm=new WeakMap,lb=new WeakMap,rm=new WeakMap,Nd=new WeakMap,zT=new WeakMap,im=new WeakMap,gC=new WeakMap,sm=new WeakMap,O0=new WeakMap,cb=new WeakMap,om=new WeakMap,vC=new WeakMap,Go=new WeakMap,Hi=new WeakMap,Zh=new WeakMap,am=new WeakMap,lm=new WeakMap,yC=new WeakMap,bC=new WeakMap,cm=new WeakMap,kd=new WeakMap,Jh=new WeakMap,wC=new WeakMap,xC=new WeakMap,Bu=new WeakMap,dn=new WeakSet,CE=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},JI=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of m(this,fa).values())if(r.hasTextLayer(e))return r;return null},YG=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=ne(this,dn,CE).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,Nd)||Q(this,Nd,new eve(this)),m(this,Nd).show(r,i,this.direction==="ltr"))},ZG=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Zh)&&((s=m(this,Nd))==null||s.hide(),Q(this,Zh,null),ne(this,dn,ml).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Zh))return;const i=ne(this,dn,CE).call(this,e).closest(".textLayer");if(!i){m(this,Zh)&&((o=m(this,Nd))==null||o.hide(),Q(this,Zh,null),ne(this,dn,ml).call(this,{hasSelectedText:!1}));return}if((a=m(this,Nd))==null||a.hide(),Q(this,Zh,t),ne(this,dn,ml).call(this,{hasSelectedText:!0}),!(m(this,Go)!==Nr.HIGHLIGHT&&m(this,Go)!==Nr.NONE)&&(m(this,Go)===Nr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Q(this,rm,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=m(this,Go)===Nr.HIGHLIGHT?ne(this,dn,JI).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),A=h=>{h.type==="pointerup"&&h.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&ne(this,dn,SE).call(this,"main_toolbar"))};window.addEventListener("pointerup",A,{signal:u}),window.addEventListener("blur",A,{signal:u})}},SE=function(e=""){m(this,Go)===Nr.HIGHLIGHT?this.highlightSelection(e):m(this,fC)&&ne(this,dn,YG).call(this)},JG=function(){document.addEventListener("selectionchange",ne(this,dn,ZG).bind(this),{signal:this._signal})},$G=function(){if(m(this,nm))return;Q(this,nm,new AbortController);const e=this.combinedSignal(m(this,nm));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},eW=function(){var e;(e=m(this,nm))==null||e.abort(),Q(this,nm,null)},$I=function(){if(m(this,sm))return;Q(this,sm,new AbortController);const e=this.combinedSignal(m(this,sm));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},tW=function(){var e;(e=m(this,sm))==null||e.abort(),Q(this,sm,null)},e3=function(){if(m(this,em))return;Q(this,em,new AbortController);const e=this.combinedSignal(m(this,em));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},t3=function(){var e;(e=m(this,em))==null||e.abort(),Q(this,em,null)},nW=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ml=function(e){Object.entries(e).some(([r,i])=>m(this,bC)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,bC),e)}),m(this,Go)===Nr.HIGHLIGHT&&e.hasSelectedEditor===!1&&ne(this,dn,jh).call(this,[[oi.HIGHLIGHT_FREE,!0]]))},jh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},rW=async function(){if(!m(this,im)){Q(this,im,!0);const e=[];for(const t of m(this,fa).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,To).values())t.enable()}},iW=function(){if(this.unselectAll(),m(this,im)){Q(this,im,!1);for(const e of m(this,fa).values())e.disable();for(const e of m(this,To).values())e.disable()}},n3=function(e){const t=m(this,fa).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},sW=function(){let e=null;for(e of m(this,Hi));return e},_x=function(){if(m(this,To).size===0)return!0;if(m(this,To).size===1)for(const e of m(this,To).values())return e.isEmpty();return!1},r3=function(e){for(const t of m(this,Hi))t.unselect();m(this,Hi).clear();for(const t of e)t.isEmpty()||(m(this,Hi).add(t),t.select());ne(this,dn,ml).call(this,{hasSelectedEditor:this.hasSelection})},Wt(N1,"TRANSLATE_SMALL",1),Wt(N1,"TRANSLATE_BIG",10);let ry=N1;var Wo,Pd,LA,ub,Ld,Bc,Ab,Id,nc,$h,U0,Md,um,GA,Ox,BE;const gl=class gl{constructor(e){Z(this,GA);Z(this,Wo,null);Z(this,Pd,!1);Z(this,LA,null);Z(this,ub,null);Z(this,Ld,null);Z(this,Bc,null);Z(this,Ab,!1);Z(this,Id,null);Z(this,nc,null);Z(this,$h,null);Z(this,U0,null);Z(this,Md,!1);Q(this,nc,e),Q(this,Md,e._uiManager.useNewAltTextFlow),m(gl,um)||Q(gl,um,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){gl._l10n??(gl._l10n=e)}async render(){const e=Q(this,LA,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=Q(this,ub,document.createElement("span"));e.append(t),m(this,Md)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(gl,um).missing),t.setAttribute("data-l10n-id",m(gl,um)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,nc)._uiManager._signal;e.addEventListener("contextmenu",Ku,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),m(this,nc)._uiManager.editAltText(m(this,nc)),m(this,Md)&&m(this,nc)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,GA,Ox)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(Q(this,Ab,!0),i(s))},{signal:r}),await ne(this,GA,BE).call(this),e}finish(){m(this,LA)&&(m(this,LA).focus({focusVisible:m(this,Ab)}),Q(this,Ab,!1))}isEmpty(){return m(this,Md)?m(this,Wo)===null:!m(this,Wo)&&!m(this,Pd)}hasData(){return m(this,Md)?m(this,Wo)!==null||!!m(this,$h):this.isEmpty()}get guessedText(){return m(this,$h)}async setGuessedText(e){m(this,Wo)===null&&(Q(this,$h,e),Q(this,U0,await gl._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ne(this,GA,BE).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,Md)||m(this,Wo)){(t=m(this,Id))==null||t.remove(),Q(this,Id,null);return}if(!m(this,Id)){const r=Q(this,Id,document.createElement("div"));r.className="noAltTextBadge",m(this,nc).div.append(r)}m(this,Id).classList.toggle("hidden",!e)}serialize(e){let t=m(this,Wo);return!e&&m(this,$h)===t&&(t=m(this,U0)),{altText:t,decorative:m(this,Pd),guessedText:m(this,$h),textWithDisclaimer:m(this,U0)}}get data(){return{altText:m(this,Wo),decorative:m(this,Pd)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(Q(this,$h,r),Q(this,U0,i)),!(m(this,Wo)===e&&m(this,Pd)===t)&&(s||(Q(this,Wo,e),Q(this,Pd,t)),ne(this,GA,BE).call(this))}toggle(e=!1){m(this,LA)&&(!e&&m(this,Bc)&&(clearTimeout(m(this,Bc)),Q(this,Bc,null)),m(this,LA).disabled=!e)}shown(){m(this,nc)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,GA,Ox)}})}destroy(){var e,t;(e=m(this,LA))==null||e.remove(),Q(this,LA,null),Q(this,ub,null),Q(this,Ld,null),(t=m(this,Id))==null||t.remove(),Q(this,Id,null)}};Wo=new WeakMap,Pd=new WeakMap,LA=new WeakMap,ub=new WeakMap,Ld=new WeakMap,Bc=new WeakMap,Ab=new WeakMap,Id=new WeakMap,nc=new WeakMap,$h=new WeakMap,U0=new WeakMap,Md=new WeakMap,um=new WeakMap,GA=new WeakSet,Ox=function(){return m(this,Wo)&&"added"||m(this,Wo)===null&&this.guessedText&&"review"||"missing"},BE=async function(){var i,s,o;const e=m(this,LA);if(!e)return;if(m(this,Md)){if(e.classList.toggle("done",!!m(this,Wo)),e.setAttribute("data-l10n-id",m(gl,um)[m(this,GA,Ox)]),(i=m(this,ub))==null||i.setAttribute("data-l10n-id",m(gl,um)[`${m(this,GA,Ox)}-label`]),!m(this,Wo)){(s=m(this,Ld))==null||s.remove();return}}else{if(!m(this,Wo)&&!m(this,Pd)){e.classList.remove("done"),(o=m(this,Ld))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,Ld);if(!t){Q(this,Ld,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,nc).id}`;const a=100,l=m(this,nc)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,Bc)),Q(this,Bc,null)},{once:!0}),e.addEventListener("mouseenter",()=>{Q(this,Bc,setTimeout(()=>{Q(this,Bc,null),m(this,Ld).classList.add("show"),m(this,nc)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;m(this,Bc)&&(clearTimeout(m(this,Bc)),Q(this,Bc,null)),(c=m(this,Ld))==null||c.classList.remove("show")},{signal:l})}m(this,Pd)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,Wo)),t.parentNode||e.append(t);const r=m(this,nc).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},Z(gl,um,null),Wt(gl,"_l10n",null);let pT=gl;var Rd,H0,IA,CC,ef,db,Am;class O5{constructor(e){Z(this,Rd,null);Z(this,H0,!1);Z(this,IA,null);Z(this,CC,null);Z(this,ef,null);Z(this,db,null);Z(this,Am,!1);Q(this,IA,e),this.toolbar=null}render(){if(!m(this,IA)._uiManager.hasCommentManager())return null;const e=Q(this,Rd,document.createElement("button"));e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=m(this,IA)._uiManager._signal;e.addEventListener("contextmenu",Ku,{signal:t}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:t});const r=i=>{i.preventDefault(),this.edit()};return e.addEventListener("click",r,{capture:!0,signal:t}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(Q(this,H0,!0),r(i))},{signal:t}),e}edit(){const{bottom:e,left:t,right:r}=m(this,IA).getClientDimensions(),i={top:e};m(this,IA)._uiManager.direction==="ltr"?i.right=r:i.left=t,m(this,IA)._uiManager.editComment(m(this,IA),i)}finish(){m(this,Rd)&&(m(this,Rd).focus({focusVisible:m(this,H0)}),Q(this,H0,!1))}isDeleted(){return m(this,Am)||m(this,ef)===""}hasBeenEdited(){return this.isDeleted()||m(this,ef)!==m(this,CC)}serialize(){return this.data}get data(){return{text:m(this,ef),date:m(this,db),deleted:m(this,Am)}}set data(e){if(e===null){Q(this,ef,""),Q(this,Am,!0);return}Q(this,ef,e),Q(this,db,new Date),Q(this,Am,!1)}setInitialText(e){Q(this,CC,e),this.data=e}toggle(e=!1){m(this,Rd)&&(m(this,Rd).disabled=!e)}shown(){}destroy(){var e;(e=m(this,Rd))==null||e.remove(),Q(this,Rd,null),Q(this,ef,""),Q(this,db,null),Q(this,IA,null),Q(this,H0,!1),Q(this,Am,!1)}}Rd=new WeakMap,H0=new WeakMap,IA=new WeakMap,CC=new WeakMap,ef=new WeakMap,db=new WeakMap,Am=new WeakMap;var hb,j0,SC,BC,EC,FC,TC,tf,Q0,nf,z0,rf,bg,oW,aW,lW;const OD=class OD{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){Z(this,bg);Z(this,hb);Z(this,j0,!1);Z(this,SC,null);Z(this,BC);Z(this,EC);Z(this,FC);Z(this,TC);Z(this,tf,null);Z(this,Q0);Z(this,nf,null);Z(this,z0);Z(this,rf,null);Q(this,hb,e),Q(this,SC,r),Q(this,BC,t),Q(this,EC,i),Q(this,FC,s),Q(this,TC,o),Q(this,z0,new AbortController),Q(this,Q0,AbortSignal.any([a,m(this,z0).signal])),e.addEventListener("touchstart",ne(this,bg,oW).bind(this),{passive:!1,signal:m(this,Q0)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/rh.pixelRatio}destroy(){var e,t;(e=m(this,z0))==null||e.abort(),Q(this,z0,null),(t=m(this,tf))==null||t.abort(),Q(this,tf,null)}};hb=new WeakMap,j0=new WeakMap,SC=new WeakMap,BC=new WeakMap,EC=new WeakMap,FC=new WeakMap,TC=new WeakMap,tf=new WeakMap,Q0=new WeakMap,nf=new WeakMap,z0=new WeakMap,rf=new WeakMap,bg=new WeakSet,oW=function(e){var i,s,o;if((i=m(this,BC))!=null&&i.call(this))return;if(e.touches.length===1){if(m(this,tf))return;const a=Q(this,tf,new AbortController),l=AbortSignal.any([m(this,Q0),a.signal]),c=m(this,hb),u={capture:!0,signal:l,passive:!1},A=h=>{var f;h.pointerType==="touch"&&((f=m(this,tf))==null||f.abort(),Q(this,tf,null))};c.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(ho(h),A(h))},u),c.addEventListener("pointerup",A,u),c.addEventListener("pointercancel",A,u);return}if(!m(this,rf)){Q(this,rf,new AbortController);const a=AbortSignal.any([m(this,Q0),m(this,rf).signal]),l=m(this,hb),c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",ne(this,bg,aW).bind(this),c);const u=ne(this,bg,lW).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",ho,c),l.addEventListener("pointermove",ho,c),l.addEventListener("pointercancel",ho,c),l.addEventListener("pointerup",ho,c),(s=m(this,EC))==null||s.call(this)}if(ho(e),e.touches.length!==2||(o=m(this,SC))!=null&&o.call(this)){Q(this,nf,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),Q(this,nf,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},aW=function(e){var k;if(!m(this,nf)||e.touches.length!==2)return;ho(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:o,screenY:a}=r,l=m(this,nf),{touch0X:c,touch0Y:u,touch1X:A,touch1Y:h}=l,f=A-c,v=h-u,g=o-i,x=a-s,b=Math.hypot(g,x)||1,S=Math.hypot(f,v)||1;if(!m(this,j0)&&Math.abs(S-b)<=OD.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!m(this,j0)){Q(this,j0,!0);return}const E=[(i+o)/2,(s+a)/2];(k=m(this,FC))==null||k.call(this,E,S,b)},lW=function(e){var t;e.touches.length>=2||(m(this,rf)&&(m(this,rf).abort(),Q(this,rf,null),(t=m(this,TC))==null||t.call(this)),m(this,nf)&&(ho(e),Q(this,nf,null),Q(this,j0,!1)))};let mT=OD;var K0,MA,Bs,pa,fb,dm,NC,V0,ma,G0,sf,hm,kC,W0,Ec,PC,q0,of,Dd,pb,mb,Eu,X0,LC,KT,sr,i3,IC,s3,EE,cW,uW,o3,FE,a3,AW,dW,hW,l3,fW,c3,pW,mW,gW,u3,Ux;const zr=class zr{constructor(e){Z(this,sr);Z(this,K0,null);Z(this,MA,null);Z(this,Bs,null);Z(this,pa,null);Z(this,fb,!1);Z(this,dm,null);Z(this,NC,"");Z(this,V0,!1);Z(this,ma,null);Z(this,G0,null);Z(this,sf,null);Z(this,hm,null);Z(this,kC,"");Z(this,W0,!1);Z(this,Ec,null);Z(this,PC,!1);Z(this,q0,!1);Z(this,of,!1);Z(this,Dd,null);Z(this,pb,0);Z(this,mb,0);Z(this,Eu,null);Z(this,X0,null);Wt(this,"isSelected",!1);Wt(this,"_isCopy",!1);Wt(this,"_editToolbar",null);Wt(this,"_initialOptions",Object.create(null));Wt(this,"_initialData",null);Wt(this,"_isVisible",!0);Wt(this,"_uiManager",null);Wt(this,"_focusEventsAllowed",!0);Z(this,LC,!1);Z(this,KT,zr._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=zr.prototype._resizeWithKeyboard,t=ry.TRANSLATE_SMALL,r=ry.TRANSLATE_BIG;return Yr(this,"_resizerKeyboardManager",new $S([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],zr.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Yr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new rve({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(zr._l10n??(zr._l10n=e),zr._l10nResizer||(zr._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),zr._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);zr._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ji("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,LC)}set _isDraggable(e){var t;Q(this,LC,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,KT)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ne(this,sr,Ux).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,W0)?Q(this,W0,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){ne(this,sr,i3).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,Ec)||Q(this,Ec,[this.x,this.y,this.width,this.height]),ne(this,sr,i3).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){m(this,Ec)||Q(this,Ec,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:A,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,A,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:u}=r;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!m(this,Ec)&&(m(this,Ec)[0]!==this.x||m(this,Ec)[1]!==this.y)}get _hasBeenResized(){return!!m(this,Ec)&&(m(this,Ec)[2]!==this.width||m(this,Ec)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=zr,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=r,l*=i,s*=r,o*=i,this._mustFixPosition)switch(e){case 0:s=Sl(s,0,r-a),o=Sl(o,0,i-l);break;case 90:s=Sl(s,0,r-l),o=Sl(o,a,i);break;case 180:s=Sl(s,a,r),o=Sl(o,l,i);break;case 270:s=Sl(s,l,r),o=Sl(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[c,u]=this.getBaseTranslation();s+=c,o+=u,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return ne(r=zr,IC,s3).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return ne(r=zr,IC,s3).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,m(this,V0)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!m(this,V0)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!m(this,V0)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=m(this,Bs))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||m(this,q0))return this._editToolbar;this._editToolbar=new XI(this),this.div.append(this._editToolbar.render()),this._editToolbar.addButton("comment",this.addCommentButton());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,Bs))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return m(this,Bs)||(pT.initialize(zr._l10n),Q(this,Bs,new pT(this)),m(this,K0)&&(m(this,Bs).data=m(this,K0),Q(this,K0,null))),m(this,Bs)}get altTextData(){var e;return(e=m(this,Bs))==null?void 0:e.data}set altTextData(e){m(this,Bs)&&(m(this,Bs).data=e)}get guessedAltText(){var e;return(e=m(this,Bs))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,Bs))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,Bs))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,Bs)&&!m(this,Bs).isEmpty()}hasAltTextData(){var e;return((e=m(this,Bs))==null?void 0:e.hasData())??!1}addCommentButton(){return m(this,pa)?m(this,pa):Q(this,pa,new O5(this))}get commentColor(){return null}get comment(){const e=m(this,pa);return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){m(this,pa)||Q(this,pa,new O5(this)),m(this,pa).data=e}setCommentData(e){m(this,pa)||Q(this,pa,new O5(this)),m(this,pa).setInitialText(e)}get hasEditedComment(){var e;return(e=m(this,pa))==null?void 0:e.hasBeenEdited()}async editComment(){m(this,pa)||Q(this,pa,new O5(this)),m(this,pa).edit()}addComment(e){this.hasEditedComment&&(e.popup={contents:this.comment.text,deleted:this.comment.deleted})}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=m(this,fb)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),ne(this,sr,c3).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),qG(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(m(this,X0)||Q(this,X0,new mT({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ne(this,sr,AW).bind(this),onPinching:ne(this,sr,dW).bind(this),onPinchEnd:ne(this,sr,hW).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Na.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(Q(this,W0,!0),this._isDraggable){ne(this,sr,fW).call(this,e);return}ne(this,sr,l3).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){m(this,Dd)&&clearTimeout(m(this,Dd)),Q(this,Dd,setTimeout(()=>{var e;Q(this,Dd,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,A=this.x*s,h=this.y*o,f=this.width*s,v=this.height*o;switch(r){case 0:return[A+c+a,o-h-u-v+l,A+c+f+a,o-h-u+l];case 90:return[A+u+a,o-h+c+l,A+u+v+a,o-h+c+f+l];case 180:return[A-c-f+a,o-h+u+l,A-c+a,o-h+u+v+l];case 270:return[A-u-v+a,o-h-c-f+l,A-u+a,o-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),Q(this,q0,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),Q(this,q0,!1),!0):!1}isInEditMode(){return m(this,q0)}shouldGetKeyboardEvents(){return m(this,of)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&i>0&&e<s&&r>0}rebuild(){ne(this,sr,c3).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ji("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});i.rotation=e.rotation,Q(i,K0,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=m(this,hm))==null||e.abort(),Q(this,hm,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,Dd)&&(clearTimeout(m(this,Dd)),Q(this,Dd,null)),ne(this,sr,Ux).call(this),this.removeEditToolbar(),m(this,Eu)){for(const r of m(this,Eu).values())clearTimeout(r);Q(this,Eu,null)}this.parent=null,(t=m(this,X0))==null||t.destroy(),Q(this,X0,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ne(this,sr,cW).call(this),m(this,ma).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),Q(this,sf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,ma).children;if(!m(this,MA)){Q(this,MA,Array.from(t));const o=ne(this,sr,pW).bind(this),a=ne(this,sr,mW).bind(this),l=this._uiManager._signal;for(const c of m(this,MA)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",ne(this,sr,gW).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",zr._l10nResizer[u])}}const r=m(this,MA)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,MA).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)m(this,ma).append(m(this,ma).firstChild);else if(s>i)for(let a=0;a<s-i;a++)m(this,ma).firstChild.before(m(this,ma).lastChild);let o=0;for(const a of t){const c=m(this,MA)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",zr._l10nResizer[c])}}ne(this,sr,u3).call(this,0),Q(this,of,!0),m(this,ma).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,of)&&ne(this,sr,a3).call(this,m(this,kC),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ne(this,sr,Ux).call(this),this.div.focus()}select(){var e,t,r;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=m(this,Bs))==null||r.toggleAltTextBadge(!1)}}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=m(this,ma))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=m(this,Bs))==null||s.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return m(this,PC)}set isEditing(e){Q(this,PC,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){Q(this,V0,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,Eu)||Q(this,Eu,new Map);const{action:r}=e;let i=m(this,Eu).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,Eu).delete(r),m(this,Eu).size===0&&Q(this,Eu,null)},zr._telemetryTimeout),m(this,Eu).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),Q(this,fb,!1)}disable(){this.div&&(this.div.tabIndex=-1),Q(this,fb,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};K0=new WeakMap,MA=new WeakMap,Bs=new WeakMap,pa=new WeakMap,fb=new WeakMap,dm=new WeakMap,NC=new WeakMap,V0=new WeakMap,ma=new WeakMap,G0=new WeakMap,sf=new WeakMap,hm=new WeakMap,kC=new WeakMap,W0=new WeakMap,Ec=new WeakMap,PC=new WeakMap,q0=new WeakMap,of=new WeakMap,Dd=new WeakMap,pb=new WeakMap,mb=new WeakMap,Eu=new WeakMap,X0=new WeakMap,LC=new WeakMap,KT=new WeakMap,sr=new WeakSet,i3=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},IC=new WeakSet,s3=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},EE=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},cW=function(){if(m(this,ma))return;Q(this,ma,document.createElement("div")),m(this,ma).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,ma).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",ne(this,sr,uW).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Ku,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,ma))},uW=function(e,t){var u;t.preventDefault();const{isMac:r}=Na.platform;if(t.button!==0||t.ctrlKey&&r)return;(u=m(this,Bs))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,Q(this,G0,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ne(this,sr,a3).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",ho,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ku,{signal:o}),Q(this,sf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var A;s.abort(),this.parent.togglePointerEvents(!0),(A=m(this,Bs))==null||A.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,ne(this,sr,FE).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},o3=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[s,o]=this.parentDimensions;this.setDims(s*r,o*i),this.fixAndSetPosition(),this._onResized()},FE=function(){if(!m(this,sf))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=m(this,sf);Q(this,sf,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:ne(this,sr,o3).bind(this,s,o,a,l),undo:ne(this,sr,o3).bind(this,e,t,r,i),mustExec:!0})},a3=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=zr.MIN_SIZE/r,u=zr.MIN_SIZE/i,A=ne(this,sr,EE).call(this,this.rotation),h=(J,$)=>[A[0]*J+A[2]*$,A[1]*J+A[3]*$],f=ne(this,sr,EE).call(this,360-this.rotation),v=(J,$)=>[f[0]*J+f[2]*$,f[1]*J+f[3]*$];let g,x,b=!1,S=!1;switch(e){case"topLeft":b=!0,g=(J,$)=>[0,0],x=(J,$)=>[J,$];break;case"topMiddle":g=(J,$)=>[J/2,0],x=(J,$)=>[J/2,$];break;case"topRight":b=!0,g=(J,$)=>[J,0],x=(J,$)=>[0,$];break;case"middleRight":S=!0,g=(J,$)=>[J,$/2],x=(J,$)=>[0,$/2];break;case"bottomRight":b=!0,g=(J,$)=>[J,$],x=(J,$)=>[0,0];break;case"bottomMiddle":g=(J,$)=>[J/2,$],x=(J,$)=>[J/2,0];break;case"bottomLeft":b=!0,g=(J,$)=>[0,$],x=(J,$)=>[J,0];break;case"middleLeft":S=!0,g=(J,$)=>[0,$/2],x=(J,$)=>[J,$/2];break}const E=g(a,l),k=x(a,l);let P=h(...k);const N=zr._round(s+P[0]),I=zr._round(o+P[1]);let U=1,V=1,W,L;if(t.fromKeyboard)({deltaX:W,deltaY:L}=t);else{const{screenX:J,screenY:$}=t,[X,ie]=m(this,G0);[W,L]=this.screenToPageTranslation(J-X,$-ie),m(this,G0)[0]=J,m(this,G0)[1]=$}if([W,L]=v(W/r,L/i),b){const J=Math.hypot(a,l);U=V=Math.max(Math.min(Math.hypot(k[0]-E[0]-W,k[1]-E[1]-L)/J,1/a,1/l),c/a,u/l)}else S?U=Sl(Math.abs(k[0]-E[0]-W),c,1)/a:V=Sl(Math.abs(k[1]-E[1]-L),u,1)/l;const D=zr._round(a*U),z=zr._round(l*V);P=h(...x(D,z));const G=N-P[0],ve=I-P[1];m(this,Ec)||Q(this,Ec,[this.x,this.y,this.width,this.height]),this.width=D,this.height=z,this.x=G,this.y=ve,this.setDims(r*D,i*z),this.fixAndSetPosition(),this._onResizing()},AW=function(){var e;Q(this,sf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=m(this,Bs))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},dW=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const o=ne(this,sr,EE).call(this,this.rotation),a=(N,I)=>[o[0]*N+o[2]*I,o[1]*N+o[3]*I],[l,c]=this.parentDimensions,u=this.x,A=this.y,h=this.width,f=this.height,v=zr.MIN_SIZE/l,g=zr.MIN_SIZE/c;s=Math.max(Math.min(s,1/h,1/f),v/h,g/f);const x=zr._round(h*s),b=zr._round(f*s);if(x===h&&b===f)return;m(this,Ec)||Q(this,Ec,[u,A,h,f]);const S=a(h/2,f/2),E=zr._round(u+S[0]),k=zr._round(A+S[1]),P=a(x/2,b/2);this.x=E-P[0],this.y=k-P[1],this.width=x,this.height=b,this.setDims(l*x,c*b),this.fixAndSetPosition(),this._onResizing()},hW=function(){var e;(e=m(this,Bs))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ne(this,sr,FE).call(this)},l3=function(e){const{isMac:t}=Na.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},fW=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=c=>{i.abort(),Q(this,dm,null),Q(this,W0,!1),this._uiManager.endDragSession()||ne(this,sr,l3).call(this,c),r&&this._onStopDragging()};t&&(Q(this,pb,e.clientX),Q(this,mb,e.clientY),Q(this,dm,e.pointerId),Q(this,NC,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._onStartDragging());const{clientX:u,clientY:A,pointerId:h}=c;if(h!==m(this,dm)){ho(c);return}const[f,v]=this.screenToPageTranslation(u-m(this,pb),A-m(this,mb));Q(this,pb,u),Q(this,mb,A),this._uiManager.dragSelectedEditors(f,v)},o),window.addEventListener("touchmove",ho,o),window.addEventListener("pointerdown",c=>{c.pointerType===m(this,NC)&&(m(this,X0)||c.isPrimary)&&a(c),ho(c)},o));const l=c=>{if(!m(this,dm)||m(this,dm)===c.pointerId){a(c);return}ho(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},c3=function(){if(m(this,hm)||!this.div)return;Q(this,hm,new AbortController);const e=this._uiManager.combinedSignal(m(this,hm));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},pW=function(e){zr._resizerKeyboardManager.exec(this,e)},mW=function(e){var t;m(this,of)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,ma)&&ne(this,sr,Ux).call(this)},gW=function(e){Q(this,kC,m(this,of)?e:"")},u3=function(e){if(m(this,MA))for(const t of m(this,MA))t.tabIndex=e},Ux=function(){Q(this,of,!1),ne(this,sr,u3).call(this,-1),ne(this,sr,FE).call(this)},Z(zr,IC),Wt(zr,"_l10n",null),Wt(zr,"_l10nResizer",null),Wt(zr,"_borderLineWidth",-1),Wt(zr,"_colorManager",new ZI),Wt(zr,"_zIndex",1),Wt(zr,"_telemetryTimeout",1e3);let as=zr;class rve extends as{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const qH=3285377520,gu=4294901760,vd=65535;class vW{constructor(e){this.h1=e?e&4294967295:qH,this.h2=e?e&4294967295:qH}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,x=e.length;g<x;g++){const b=e.charCodeAt(g);b<=255?t[r++]=b:(t[r++]=b>>>8,t[r++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const A=3432918353,h=461845907,f=A&vd,v=h&vd;for(let g=0;g<i;g++)g&1?(a=o[g],a=a*A&gu|a*f&vd,a=a<<15|a>>>17,a=a*h&gu|a*v&vd,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[g],l=l*A&gu|l*f&vd,l=l<<15|l>>>17,l=l*h&gu|l*v&vd,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*A&gu|a*f&vd,a=a<<15|a>>>17,a=a*h&gu|a*v&vd,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&gu|e*36045&vd,t=t*4283543511&gu|((t<<16|e>>>16)*2950163797&gu)>>>16,e^=t>>>1,e=e*444984403&gu|e*60499&vd,t=t*3301882366&gu|((t<<16|e>>>16)*3120437893&gu)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const A3=Object.freeze({map:null,hash:"",transfer:void 0});var Y0,Z0,ga,VT,yW;class eD{constructor(){Z(this,VT);Z(this,Y0,!1);Z(this,Z0,null);Z(this,ga,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=m(this,ga).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return m(this,ga).get(e)}remove(e){if(m(this,ga).delete(e),m(this,ga).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,ga).values())if(t instanceof as)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=m(this,ga).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,m(this,ga).set(e,t);i&&ne(this,VT,yW).call(this),t instanceof as&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,ga).has(e)}get size(){return m(this,ga).size}resetModified(){m(this,Y0)&&(Q(this,Y0,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new bW(this)}get serializable(){if(m(this,ga).size===0)return A3;const e=new Map,t=new vW,r=[],i=Object.create(null);let s=!1;for(const[o,a]of m(this,ga)){const l=a instanceof as?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:A3}get editorStats(){let e=null;const t=new Map;for(const r of m(this,ga).values()){if(!(r instanceof as))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){Q(this,Z0,null)}get modifiedIds(){if(m(this,Z0))return m(this,Z0);const e=[];for(const t of m(this,ga).values())!(t instanceof as)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return Q(this,Z0,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return m(this,ga).entries()}}Y0=new WeakMap,Z0=new WeakMap,ga=new WeakMap,VT=new WeakSet,yW=function(){m(this,Y0)||(Q(this,Y0,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var MC;class bW extends eD{constructor(t){super();Z(this,MC);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);Q(this,MC,{map:o,hash:i,transfer:s})}get print(){Ji("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,MC)}get modifiedIds(){return Yr(this,"modifiedIds",{ids:new Set,hash:""})}}MC=new WeakMap;var gb;class ive{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){Z(this,gb,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,gb).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||m(this,gb).has(e.loadedName))){if(mo(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),m(this,gb).add(i),r==null||r(e)}catch{Pr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Ji("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Pr(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Yr(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Yr(this,"isSyncFontLoadingSupported",Cl||Na.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(mo(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Yr(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(k,P){return k.charCodeAt(P)<<24|k.charCodeAt(P+1)<<16|k.charCodeAt(P+2)<<8|k.charCodeAt(P+3)&255}function i(k,P,N,I){const U=k.substring(0,P),V=k.substring(P+N);return U+I+V}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(k,P){if(++c>30){Pr("Load test font never loaded."),P();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(u.bind(null,k,P))}const A=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,A.length,A);const v=16,g=1482184792;let x=r(h,v);for(s=0,o=A.length-3;s<o;s+=4)x=x-g+r(A,s)|0;s<A.length&&(x=x-g+r(A+"XXX",s)|0),h=i(h,v,4,Q0e(x));const b=`url(data:font/opentype;base64,${btoa(h)});`,S=`@font-face {font-family:"${A}";src:${b}}`;this.insertRule(S);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const k of[e.loadedName,A]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=k,E.append(P)}this._document.body.append(E),u(A,()=>{E.remove(),t.complete()})}}gb=new WeakMap;class sve{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${jG(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(o){Pr(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}}function ove(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Cl)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ave(n){if(Cl&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return YS(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function U5(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const d3=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,lve=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",cve=W0e.bind(null,d3,lve);var af,GT;class uve{constructor(){Z(this,af,new Map);Z(this,GT,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};m(this,GT).then(()=>{for(const[i]of m(this,af))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Pr("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}m(this,af).set(t,i)}removeEventListener(e,t){const r=m(this,af).get(t);r==null||r(),m(this,af).delete(t)}terminate(){for(const[,e]of m(this,af))e==null||e();m(this,af).clear()}}af=new WeakMap,GT=new WeakMap;const H5={DATA:1,ERROR:2},uo={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function XH(){}function ec(n){if(n instanceof hg||n instanceof GI||n instanceof VH||n instanceof hT||n instanceof Q4)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ji('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new hg(n.message);case"InvalidPDFException":return new GI(n.message);case"PasswordException":return new VH(n.message,n.code);case"ResponseException":return new hT(n.message,n.status,n.missing);case"UnknownErrorException":return new Q4(n.message,n.details)}return new Q4(n.message,n.toString())}var vb,zu,wW,xW,CW,TE;class Hx{constructor(e,t,r){Z(this,zu);Z(this,vb,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",ne(this,zu,wW).bind(this),{signal:m(this,vb).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:uo.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{mo(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:uo.CANCEL,streamId:s,reason:ec(c)}),u.promise}},r)}destroy(){var e;(e=m(this,vb))==null||e.abort(),Q(this,vb,null)}}vb=new WeakMap,zu=new WeakSet,wW=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ne(this,zu,CW).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===H5.DATA)i.resolve(e.data);else if(e.callback===H5.ERROR)i.reject(ec(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:H5.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:H5.ERROR,callbackId:e.callbackId,reason:ec(o)})});return}if(e.streamId){ne(this,zu,xW).call(this,e);return}t(e.data)},xW=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,A){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:uo.ENQUEUE,streamId:t,chunk:c},A)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:uo.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){mo(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:uo.ERROR,streamId:t,reason:ec(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:uo.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:uo.START_COMPLETE,streamId:t,reason:ec(c)})})},CW=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case uo.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(ec(e.reason));break;case uo.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(ec(e.reason));break;case uo.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:uo.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||XH).then(function(){s.postMessage({sourceName:r,targetName:i,stream:uo.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:uo.PULL_COMPLETE,streamId:t,reason:ec(c)})});break;case uo.ENQUEUE:if(mo(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case uo.CLOSE:if(mo(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),ne(this,zu,TE).call(this,o,t);break;case uo.ERROR:mo(o,"error should have stream controller"),o.controller.error(ec(e.reason)),ne(this,zu,TE).call(this,o,t);break;case uo.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(ec(e.reason)),ne(this,zu,TE).call(this,o,t);break;case uo.CANCEL:if(!a)break;const l=ec(e.reason);Promise.try(a.onCancel||XH,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:uo.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:uo.CANCEL_COMPLETE,streamId:t,reason:ec(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},TE=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var RC;class SW{constructor({enableHWA:e=!1}){Z(this,RC,!1);Q(this,RC,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,RC)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ji("Abstract method `_createCanvas` called.")}}RC=new WeakMap;class Ave extends SW{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class BW{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ji("Abstract method `_fetch` called.")}}class YH extends BW{async _fetch(e){const t=await ZS(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):YS(t)}}class EW{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var J0,yb,lf,cf,qa,$0,ev,Nn,Va,jx,g1,NE,v1,FW,h3,y1,Qx,zx,f3,Kx;class dve extends EW{constructor({docId:t,ownerDocument:r=globalThis.document}){super();Z(this,Nn);Z(this,J0);Z(this,yb);Z(this,lf);Z(this,cf);Z(this,qa);Z(this,$0);Z(this,ev,0);Q(this,cf,t),Q(this,qa,r)}addFilter(t){if(!t)return"none";let r=m(this,Nn,Va).get(t);if(r)return r;const[i,s,o]=ne(this,Nn,NE).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=m(this,Nn,Va).get(a),r)return m(this,Nn,Va).set(t,r),r;const l=`g_${m(this,cf)}_transfer_map_${Ko(this,ev)._++}`,c=ne(this,Nn,v1).call(this,l);m(this,Nn,Va).set(t,c),m(this,Nn,Va).set(a,c);const u=ne(this,Nn,y1).call(this,l);return ne(this,Nn,zx).call(this,i,s,o,u),c}addHCMFilter(t,r){var v;const i=`${t}-${r}`,s="base";let o=m(this,Nn,jx).get(s);if((o==null?void 0:o.key)===i||(o?((v=o.filter)==null||v.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},m(this,Nn,jx).set(s,o)),!t||!r))return o.url;const a=ne(this,Nn,Kx).call(this,t);t=Xn.makeHexColor(...a);const l=ne(this,Nn,Kx).call(this,r);if(r=Xn.makeHexColor(...l),m(this,Nn,g1).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let g=0;g<=255;g++){const x=g/255;c[g]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const u=c.join(","),A=`g_${m(this,cf)}_hcm_filter`,h=o.filter=ne(this,Nn,y1).call(this,A);ne(this,Nn,zx).call(this,u,u,u,h),ne(this,Nn,h3).call(this,h);const f=(g,x)=>{const b=a[g]/255,S=l[g]/255,E=new Array(x+1);for(let k=0;k<=x;k++)E[k]=b+k/x*(S-b);return E.join(",")};return ne(this,Nn,zx).call(this,f(0,5),f(1,5),f(2,5),h),o.url=ne(this,Nn,v1).call(this,A),o.url}addAlphaFilter(t){let r=m(this,Nn,Va).get(t);if(r)return r;const[i]=ne(this,Nn,NE).call(this,[t]),s=`alpha_${i}`;if(r=m(this,Nn,Va).get(s),r)return m(this,Nn,Va).set(t,r),r;const o=`g_${m(this,cf)}_alpha_map_${Ko(this,ev)._++}`,a=ne(this,Nn,v1).call(this,o);m(this,Nn,Va).set(t,a),m(this,Nn,Va).set(s,a);const l=ne(this,Nn,y1).call(this,o);return ne(this,Nn,f3).call(this,i,l),a}addLuminosityFilter(t){let r=m(this,Nn,Va).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=ne(this,Nn,NE).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=m(this,Nn,Va).get(s),r)return m(this,Nn,Va).set(t,r),r;const o=`g_${m(this,cf)}_luminosity_map_${Ko(this,ev)._++}`,a=ne(this,Nn,v1).call(this,o);m(this,Nn,Va).set(t,a),m(this,Nn,Va).set(s,a);const l=ne(this,Nn,y1).call(this,o);return ne(this,Nn,FW).call(this,l),t&&ne(this,Nn,f3).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var S;const a=`${r}-${i}-${s}-${o}`;let l=m(this,Nn,jx).get(t);if((l==null?void 0:l.key)===a||(l?((S=l.filter)==null||S.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},m(this,Nn,jx).set(t,l)),!r||!i))return l.url;const[c,u]=[r,i].map(ne(this,Nn,Kx).bind(this));let A=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,v]=[s,o].map(ne(this,Nn,Kx).bind(this));h<A&&([A,h,f,v]=[h,A,v,f]),m(this,Nn,g1).style.color="";const g=(E,k,P)=>{const N=new Array(256),I=(h-A)/P,U=E/255,V=(k-E)/(255*P);let W=0;for(let L=0;L<=P;L++){const D=Math.round(A+L*I),z=U+L*V;for(let G=W;G<=D;G++)N[G]=z;W=D+1}for(let L=W;L<256;L++)N[L]=N[W-1];return N.join(",")},x=`g_${m(this,cf)}_hcm_${t}_filter`,b=l.filter=ne(this,Nn,y1).call(this,x);return ne(this,Nn,h3).call(this,b),ne(this,Nn,zx).call(this,g(f[0],v[0],5),g(f[1],v[1],5),g(f[2],v[2],5),b),l.url=ne(this,Nn,v1).call(this,x),l.url}destroy(t=!1){var r,i,s,o;t&&((r=m(this,$0))!=null&&r.size)||((i=m(this,lf))==null||i.parentNode.parentNode.remove(),Q(this,lf,null),(s=m(this,yb))==null||s.clear(),Q(this,yb,null),(o=m(this,$0))==null||o.clear(),Q(this,$0,null),Q(this,ev,0))}}J0=new WeakMap,yb=new WeakMap,lf=new WeakMap,cf=new WeakMap,qa=new WeakMap,$0=new WeakMap,ev=new WeakMap,Nn=new WeakSet,Va=function(){return m(this,yb)||Q(this,yb,new Map)},jx=function(){return m(this,$0)||Q(this,$0,new Map)},g1=function(){if(!m(this,lf)){const t=m(this,qa).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,qa).createElementNS(Hh,"svg");i.setAttribute("width",0),i.setAttribute("height",0),Q(this,lf,m(this,qa).createElementNS(Hh,"defs")),t.append(i),i.append(m(this,lf)),m(this,qa).body.append(t)}return m(this,lf)},NE=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;const A=u.join(",");return[A,A,A]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},v1=function(t){if(m(this,J0)===void 0){Q(this,J0,"");const r=m(this,qa).URL;r!==m(this,qa).baseURI&&(rk(r)?Pr('#createUrl: ignore "data:"-URL for performance reasons.'):Q(this,J0,OG(r,"")))}return`url(${m(this,J0)}#${t})`},FW=function(t){const r=m(this,qa).createElementNS(Hh,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},h3=function(t){const r=m(this,qa).createElementNS(Hh,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},y1=function(t){const r=m(this,qa).createElementNS(Hh,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),m(this,Nn,g1).append(r),r},Qx=function(t,r,i){const s=m(this,qa).createElementNS(Hh,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},zx=function(t,r,i,s){const o=m(this,qa).createElementNS(Hh,"feComponentTransfer");s.append(o),ne(this,Nn,Qx).call(this,o,"feFuncR",t),ne(this,Nn,Qx).call(this,o,"feFuncG",r),ne(this,Nn,Qx).call(this,o,"feFuncB",i)},f3=function(t,r){const i=m(this,qa).createElementNS(Hh,"feComponentTransfer");r.append(i),ne(this,Nn,Qx).call(this,i,"feFuncA",t)},Kx=function(t){return m(this,Nn,g1).style.color=t,ik(getComputedStyle(m(this,Nn,g1)).getPropertyValue("color"))};class TW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ji("Abstract method `_fetch` called.")}}class ZH extends TW{async _fetch(e){const t=await ZS(e,"arraybuffer");return new Uint8Array(t)}}class NW{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ji("Abstract method `_fetch` called.")}}class JH extends NW{async _fetch(e){const t=await ZS(e,"arraybuffer");return new Uint8Array(t)}}Cl&&Pr("Please use the `legacy` build in Node.js environments.");async function tD(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class hve extends EW{}class fve extends SW{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class pve extends BW{async _fetch(e){return tD(e)}}class mve extends TW{async _fetch(e){return tD(e)}}class gve extends NW{async _fetch(e){return tD(e)}}const xa={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function p3(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class nD{isModifyingCurrentTransform(){return!1}getPattern(){Ji("Abstract method `getPattern` called.")}}class vve extends nD{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===xa.STROKE||i===xa.FILL){const o=t.current.getClippedPathBoundingBox(i,Ms(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=Xn.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),p3(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const A=new DOMMatrix(r);s.setTransform(A)}else p3(e,this._bbox),s=this._createGradient(e);return s}}function V4(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,u=n.data,A=n.width*4;let h;l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=o,o=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=o,o=a,a=h),l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=o,o=h);const f=(l[t]+e.offsetX)*e.scaleX,v=(l[t+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,x=(l[r+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,S=(l[i+1]+e.offsetY)*e.scaleY;if(v>=S)return;const E=c[s],k=c[s+1],P=c[s+2],N=c[o],I=c[o+1],U=c[o+2],V=c[a],W=c[a+1],L=c[a+2],D=Math.round(v),z=Math.round(S);let G,ve,J,$,X,ie,pe,te;for(let H=D;H<=z;H++){if(H<x){const ge=H<v?0:(v-H)/(v-x);G=f-(f-g)*ge,ve=E-(E-N)*ge,J=k-(k-I)*ge,$=P-(P-U)*ge}else{let ge;H>S?ge=1:x===S?ge=0:ge=(x-H)/(x-S),G=g-(g-b)*ge,ve=N-(N-V)*ge,J=I-(I-W)*ge,$=U-(U-L)*ge}let q;H<v?q=0:H>S?q=1:q=(v-H)/(v-S),X=f-(f-b)*q,ie=E-(E-V)*q,pe=k-(k-W)*q,te=P-(P-L)*q;const re=Math.round(Math.min(G,X)),he=Math.round(Math.max(G,X));let Ae=A*H+re*4;for(let ge=re;ge<=he;ge++)q=(G-ge)/(G-X),q<0?q=0:q>1&&(q=1),u[Ae++]=ve-(ve-ie)*q|0,u[Ae++]=J-(J-pe)*q|0,u[Ae++]=$-($-te)*q|0,u[Ae++]=255}}function yve(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let A=0;A<c;A++,u++)V4(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),V4(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)V4(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class bve extends nD{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,A=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/A,v=u/h,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/v},x=A+4,b=h+4,S=r.getCanvas("mesh",x,b),E=S.context,k=E.createImageData(A,h);if(t){const N=k.data;for(let I=0,U=N.length;I<U;I+=4)N[I]=t[0],N[I+1]=t[1],N[I+2]=t[2],N[I+3]=255}for(const N of this._figures)yve(k,N,g);return E.putImageData(k,2,2),{canvas:S.canvas,offsetX:a-2*f,offsetY:l-2*v,scaleX:f,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){p3(e,this._bbox);const s=new Float32Array(2);if(i===xa.SHADING)Xn.singularValueDecompose2dScale(Ms(e),s);else if(this.matrix){Xn.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;Xn.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=l}else Xn.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,i===xa.SHADING?null:this._background,t.cachedCanvases);return i!==xa.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class wve extends nD{getPattern(){return"hotpink"}}function xve(n){switch(n[0]){case"RadialAxial":return new vve(n);case"Mesh":return new bve(n);case"Dummy":return new wve}throw new Error(`Unknown IR type: ${n[0]}`)}const $H={COLORED:1,UNCOLORED:2},WT=class WT{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),nk("TilingType: "+s);const u=t[0],A=t[1],h=t[2],f=t[3],v=h-u,g=f-A,x=new Float32Array(2);Xn.singularValueDecompose2dScale(this.matrix,x);const[b,S]=x;Xn.singularValueDecompose2dScale(this.baseTransform,x);const E=b*x[0],k=S*x[1];let P=v,N=g,I=!1,U=!1;const V=Math.ceil(l*E),W=Math.ceil(c*k),L=Math.ceil(v*E),D=Math.ceil(g*k);V>=L?P=l:I=!0,W>=D?N=c:U=!0;const z=this.getSizeAndScale(P,this.ctx.canvas.width,E),G=this.getSizeAndScale(N,this.ctx.canvas.height,k),ve=e.cachedCanvases.getCanvas("pattern",z.size,G.size),J=ve.context,$=a.createCanvasGraphics(J);if($.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext($,i,o),J.translate(-z.scale*u,-G.scale*A),$.transform(z.scale,0,0,G.scale,0,0),J.save(),this.clipBbox($,u,A,h,f),$.baseTransform=Ms($.ctx),$.executeOperatorList(r),$.endDrawing(),J.restore(),I||U){const X=ve.canvas;I&&(P=l),U&&(N=c);const ie=this.getSizeAndScale(P,this.ctx.canvas.width,E),pe=this.getSizeAndScale(N,this.ctx.canvas.height,k),te=ie.size,H=pe.size,q=e.cachedCanvases.getCanvas("pattern-workaround",te,H),re=q.context,he=I?Math.floor(v/l):0,Ae=U?Math.floor(g/c):0;for(let ge=0;ge<=he;ge++)for(let we=0;we<=Ae;we++)re.drawImage(X,te*ge,H*we,te,H,0,0,te,H);return{canvas:q.canvas,scaleX:ie.scale,scaleY:pe.scale,offsetX:u,offsetY:A}}return{canvas:ve.canvas,scaleX:z.scale,scaleY:G.scale,offsetX:u,offsetY:A}}getSizeAndScale(e,t,r){const i=Math.max(WT.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),Xn.axialAlignedBoundingBox([t,r,i,s],Ms(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case $H.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case $H.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new j0e(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i){let s=r;i!==xa.SHADING&&(s=Xn.transform(s,t.baseTransform),this.matrix&&(s=Xn.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Wt(WT,"MAX_PATTERN_SIZE",3e3);let m3=WT;function Cve({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Na.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,A=r&7,h=n.length;t=new Uint32Array(t.buffer);let f=0;for(let v=0;v<i;v++){for(const x=e+u;e<x;e++){const b=e<h?n[e]:255;t[f++]=b&128?c:l,t[f++]=b&64?c:l,t[f++]=b&32?c:l,t[f++]=b&16?c:l,t[f++]=b&8?c:l,t[f++]=b&4?c:l,t[f++]=b&2?c:l,t[f++]=b&1?c:l}if(A===0)continue;const g=e<h?n[e++]:255;for(let x=0;x<A;x++)t[f++]=g&1<<7-x?c:l}return{srcPos:e,destPos:f}}const e6=16,t6=100,Sve=15,n6=10,ac=16,G4=new DOMMatrix,Hc=new Float32Array(2),E1=new Float32Array([1/0,1/0,-1/0,-1/0]);function Bve(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,o,a){e.transform(t,r,i,s,o,a),this.__originalTransform(t,r,i,s,o,a)},n.setTransform=function(t,r,i,s,o,a){e.setTransform(t,r,i,s,o,a),this.__originalSetTransform(t,r,i,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Eve{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function j5(n,e,t,r,i,s,o,a,l,c){const[u,A,h,f,v,g]=Ms(n);if(A===0&&h===0){const S=o*u+v,E=Math.round(S),k=a*f+g,P=Math.round(k),N=(o+l)*u+v,I=Math.abs(Math.round(N)-E)||1,U=(a+c)*f+g,V=Math.abs(Math.round(U)-P)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),E,P),n.drawImage(e,t,r,i,s,0,0,I,V),n.setTransform(u,A,h,f,v,g),[I,V]}if(u===0&&f===0){const S=a*h+v,E=Math.round(S),k=o*A+g,P=Math.round(k),N=(a+c)*h+v,I=Math.abs(Math.round(N)-E)||1,U=(o+l)*A+g,V=Math.abs(Math.round(U)-P)||1;return n.setTransform(0,Math.sign(A),Math.sign(h),0,E,P),n.drawImage(e,t,r,i,s,0,0,V,I),n.setTransform(u,A,h,f,v,g),[V,I]}n.drawImage(e,t,r,i,s,o,a,l,c);const x=Math.hypot(u,A),b=Math.hypot(h,f);return[x*l,b*c]}class r6{constructor(e,t){Wt(this,"alphaIsShape",!1);Wt(this,"fontSize",0);Wt(this,"fontSizeScale",1);Wt(this,"textMatrix",null);Wt(this,"textMatrixScale",1);Wt(this,"fontMatrix",VI);Wt(this,"leading",0);Wt(this,"x",0);Wt(this,"y",0);Wt(this,"lineX",0);Wt(this,"lineY",0);Wt(this,"charSpacing",0);Wt(this,"wordSpacing",0);Wt(this,"textHScale",1);Wt(this,"textRenderingMode",Ka.FILL);Wt(this,"textRise",0);Wt(this,"fillColor","#000000");Wt(this,"strokeColor","#000000");Wt(this,"patternFill",!1);Wt(this,"patternStroke",!1);Wt(this,"fillAlpha",1);Wt(this,"strokeAlpha",1);Wt(this,"lineWidth",1);Wt(this,"activeSMask",null);Wt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=E1.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=xa.FILL,t=null){const r=this.minMax.slice();if(e===xa.STROKE){t||Ji("Stroke bounding box must include transform."),Xn.singularValueDecompose2dScale(t,Hc);const i=Hc[0]*this.lineWidth/2,s=Hc[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Xn.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(E1,0)}getClippedPathBoundingBox(e=xa.FILL,t=null){return Xn.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function i6(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%ac,s=(t-i)/ac,o=i===0?s:s+1,a=n.createImageData(r,ac);let l=0,c;const u=e.data,A=a.data;let h,f,v,g;if(e.kind===bE.GRAYSCALE_1BPP){const x=u.byteLength,b=new Uint32Array(A.buffer,0,A.byteLength>>2),S=b.length,E=r+7>>3,k=4294967295,P=Na.isLittleEndian?4278190080:255;for(h=0;h<o;h++){for(v=h<s?ac:i,c=0,f=0;f<v;f++){const N=x-l;let I=0;const U=N>E?r:N*8-7,V=U&-8;let W=0,L=0;for(;I<V;I+=8)L=u[l++],b[c++]=L&128?k:P,b[c++]=L&64?k:P,b[c++]=L&32?k:P,b[c++]=L&16?k:P,b[c++]=L&8?k:P,b[c++]=L&4?k:P,b[c++]=L&2?k:P,b[c++]=L&1?k:P;for(;I<U;I++)W===0&&(L=u[l++],W=128),b[c++]=L&W?k:P,W>>=1}for(;c<S;)b[c++]=0;n.putImageData(a,0,h*ac)}}else if(e.kind===bE.RGBA_32BPP){for(f=0,g=r*ac*4,h=0;h<s;h++)A.set(u.subarray(l,l+g)),l+=g,n.putImageData(a,0,f),f+=ac;h<o&&(g=r*i*4,A.set(u.subarray(l,l+g)),n.putImageData(a,0,f))}else if(e.kind===bE.RGB_24BPP)for(v=ac,g=r*v,h=0;h<o;h++){for(h>=s&&(v=i,g=r*v),c=0,f=g;f--;)A[c++]=u[l++],A[c++]=u[l++],A[c++]=u[l++],A[c++]=255;n.putImageData(a,0,h*ac)}else throw new Error(`bad image kind: ${e.kind}`)}function s6(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%ac,s=(t-i)/ac,o=i===0?s:s+1,a=n.createImageData(r,ac);let l=0;const c=e.data,u=a.data;for(let A=0;A<o;A++){const h=A<s?ac:i;({srcPos:l}=Cve({src:c,srcPos:l,dest:u,width:r,height:h,nonBlackColor:0})),n.putImageData(a,0,A*ac)}}function Ax(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Q5(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function o6(n,e){if(e)return!0;Xn.singularValueDecompose2dScale(n,Hc);const t=Math.fround(rh.pixelRatio*fg.PDF_TO_CSS_UNITS);return Hc[0]<=t&&Hc[1]<=t}const Fve=["butt","round","square"],Tve=["miter","round","bevel"],Nve={},a6={};var $A,g3,v3,y3;const UD=class UD{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){Z(this,$A);this.ctx=e,this.current=new r6(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Eve(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ms(this.compositeCtx))}this.ctx.save(),Q5(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ms(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>n6&&typeof r=="function",u=c?Date.now()+Sve:0;let A=0;const h=this.commonObjs,f=this.objs;let v;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(v=o[a],v!==dT.dependency)this[v].apply(this,s[a]);else for(const g of s[a]){const x=g.startsWith("g_")?h:f;if(!x.has(g))return x.get(g,r),a}if(a++,a===l)return a;if(c&&++A>n6){if(Date.now()>u)return r(),a;A=0}}}endDrawing(){ne(this,$A,g3).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ne(this,$A,v3).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,A;for(;s>2&&a>1||o>2&&l>1;){let h=a,f=l;s>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/h),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),A=u.context,A.clearRect(0,0,h,f),A.drawImage(e,0,0,a,l,0,0,h,f),e=u.canvas,a=h,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Ms(t);let l,c,u,A;if((e.bitmap||e.data)&&e.count>1){const V=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(V),l||(l=new Map,this._cachedBitmapsMap.set(V,l));const W=l.get(c);if(W&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),D=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:W,offsetX:L,offsetY:D}}u=W}u||(A=this.cachedCanvases.getCanvas("maskCanvas",r,i),s6(A.context,e));let h=Xn.transform(a,[1/r,0,0,-1/i,0,0]);h=Xn.transform(h,[1,0,0,1,0,-i]);const f=E1.slice();Xn.axialAlignedBoundingBox([0,0,r,i],h,f);const[v,g,x,b]=f,S=Math.round(x-v)||1,E=Math.round(b-g)||1,k=this.cachedCanvases.getCanvas("fillCanvas",S,E),P=k.context,N=v,I=g;P.translate(-N,-I),P.transform(...h),u||(u=this._scaleImage(A.canvas,gd(P)),u=u.img,l&&o&&l.set(c,u)),P.imageSmoothingEnabled=o6(Ms(P),e.interpolate),j5(P,u,0,0,u.width,u.height,0,0,r,i),P.globalCompositeOperation="source-in";const U=Xn.transform(gd(P),[1,0,0,1,-N,-I]);return P.fillStyle=o?s.getPattern(t,this,U,xa.FILL):s,P.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,k.canvas)),{canvas:k.canvas,offsetX:Math.round(N),offsetY:Math.round(I)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Fve[e]}setLineJoin(e){this.ctx.lineJoin=Tve[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),Ax(this.suspendedCtx,s),Bve(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ax(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,u,A){let h=e.canvas,f=l-u,v=c-A;if(o)if(f<0||v<0||f+r>h.width||v+i>h.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,i),b=x.context;b.drawImage(h,-f,-v),b.globalCompositeOperation="destination-atop",b.fillStyle=o,b.fillRect(0,0,r,i),b.globalCompositeOperation="source-over",h=x.canvas,f=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(f,v,r,i),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(f,v,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,r,i),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,f,v,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode&&Ax(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Ax(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let[i]=t;if(!r){i||(i=t[0]=new Path2D),this[e](i);return}if(!(i instanceof Path2D)){const s=t[0]=new Path2D;for(let o=0,a=i.length;o<a;)switch(i[o++]){case _5.moveTo:s.moveTo(i[o++],i[o++]);break;case _5.lineTo:s.lineTo(i[o++],i[o++]);break;case _5.curveTo:s.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case _5.closePath:s.closePath();break;default:Pr(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=s}Xn.axialAlignedBoundingBox(r,Ms(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,gd(r),xa.STROKE),s){const o=new Path2D;o.addPath(e,r.getTransform().invertSelf().multiplySelf(s)),e=o}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(xa.STROKE,Ms(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const l=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=i.getPattern(r,this,gd(r),xa.FILL),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),o&&r.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=Nve}eoClip(){this.pendingClip=a6}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:o,y:a,fontSize:l,path:c}of e)c&&r.addPath(c,new DOMMatrix(s).preMultiplySelf(i).translate(o,a).scale(l,-l));t.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||VI,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Pr("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((u=r.systemFontInfo)==null?void 0:u.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<e6?c=e6:t>t6&&(c=t6),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i,s){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,A=c&Ka.FILL_STROKE_MASK,h=!!(c&Ka.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile,v=a.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||h||f||v)&&!l.missingFile&&(g=l.getPathGenerator(this.commonObjs,e)),g&&(l.disableFontFace||f||v)){o.save(),o.translate(t,r),o.scale(u,-u);let x;if((A===Ka.FILL||A===Ka.FILL_STROKE)&&(i?(x=o.getTransform(),o.setTransform(...i),o.fill(ne(this,$A,y3).call(this,g,x,i))):o.fill(g)),A===Ka.STROKE||A===Ka.FILL_STROKE)if(s){x||(x=o.getTransform()),o.setTransform(...s);const{a:b,b:S,c:E,d:k}=x,P=Xn.inverseTransform(s),N=Xn.transform([b,S,E,k,0,0],P);Xn.singularValueDecompose2dScale(N,Hc),o.lineWidth*=Math.max(Hc[0],Hc[1])/u,o.stroke(ne(this,$A,y3).call(this,g,x,s))}else o.lineWidth/=u,o.stroke(g);o.restore()}else(A===Ka.FILL||A===Ka.FILL_STROKE)&&o.fillText(e,t,r),(A===Ka.STROKE||A===Ka.FILL_STROKE)&&o.strokeText(e,t,r);h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ms(o),x:t,y:r,fontSize:u,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Yr(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,A=e.length,h=r.vertical,f=h?1:-1,v=r.defaultVMetrics,g=i*t.fontMatrix[0],x=t.textRenderingMode===Ka.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),t.textMatrix&&s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let b,S;if(t.patternFill){s.save();const I=t.fillColor.getPattern(s,this,gd(s),xa.FILL);b=Ms(s),s.restore(),s.fillStyle=I}if(t.patternStroke){s.save();const I=t.strokeColor.getPattern(s,this,gd(s),xa.STROKE);S=Ms(s),s.restore(),s.strokeStyle=I}let E=t.lineWidth;const k=t.textMatrixScale;if(k===0||E===0){const I=t.textRenderingMode&Ka.FILL_STROKE_MASK;(I===Ka.STROKE||I===Ka.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=k;if(o!==1&&(s.scale(o,o),E/=o),s.lineWidth=E,r.isInvalidPDFjsFont){const I=[];let U=0;for(const V of e)I.push(V.unicode),U+=V.width;s.fillText(I.join(""),0,0),t.x+=U*g*u,s.restore(),this.compose();return}let P=0,N;for(N=0;N<A;++N){const I=e[N];if(typeof I=="number"){P+=f*I*i/1e3;continue}let U=!1;const V=(I.isSpace?l:0)+a,W=I.fontChar,L=I.accent;let D,z,G=I.width;if(h){const J=I.vmetric||v,$=-(I.vmetric?J[1]:G*.5)*g,X=J[2]*g;G=J?-J[0]:G,D=$/o,z=(P+X)/o}else D=P/o,z=0;if(r.remeasure&&G>0){const J=s.measureText(W).width*1e3/i*o;if(G<J&&this.isFontSubpixelAAEnabled){const $=G/J;U=!0,s.save(),s.scale($,1),D/=$}else G!==J&&(D+=(G-J)/2e3*i/o)}if(this.contentVisible&&(I.isInFont||r.missingFile)){if(x&&!L)s.fillText(W,D,z);else if(this.paintChar(W,D,z,b,S),L){const J=D+i*L.offset.x/o,$=z-i*L.offset.y/o;this.paintChar(L.fontChar,J,$,b,S)}}const ve=h?G*g-V*c:G*g+V*c;P+=ve,U&&s.restore()}h?t.y-=P:t.x+=P*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,A=r.fontMatrix||VI,h=e.length,f=r.textRenderingMode===Ka.INVISIBLE;let v,g,x,b;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),r.textMatrix&&t.transform(...r.textMatrix),t.translate(r.x,r.y+r.textRise),t.scale(u,o),v=0;v<h;++v){if(g=e[v],typeof g=="number"){b=a*g*s/1e3,this.ctx.translate(b,0),r.x+=b*u;continue}const S=(g.isSpace?c:0)+l,E=i.charProcOperatorList[g.operatorListId];E?this.contentVisible&&(this.save(),t.scale(s,s),t.transform(...A),this.executeOperatorList(E),this.restore()):Pr(`Type3 character "${g.operatorListId}" is not available.`);const k=[g.width,0];Xn.applyTransform(k,A),x=k[0]*s+S,t.translate(x,0),r.x+=x*u}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){const a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=this.baseTransform||Ms(this.ctx),i={createCanvasGraphics:s=>new UD(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new m3(e,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=xve(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,gd(t),xa.SHADING);const i=gd(t);if(i){const{width:s,height:o}=t.canvas,a=E1.slice();Xn.axialAlignedBoundingBox([0,0,s,o],i,a);const[l,c,u,A]=a;this.ctx.fillRect(l,c,u-l,A-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ji("Should not call beginInlineImage")}beginImageData(){Ji("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ms(this.ctx),t)){Xn.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[r,i,s,o]=t,a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||nk("TODO: Support non-isolated groups."),e.knockout&&Pr("Knockout groups not supported.");const r=Ms(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=E1.slice();Xn.axialAlignedBoundingBox(e.bbox,Ms(t),i);const s=[0,0,t.canvas.width,t.canvas.height];i=Xn.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const A=this.cachedCanvases.getCanvas(u,l,c),h=A.context;h.translate(-o,-a),h.transform(...r);let f=new Path2D;const[v,g,x,b]=e.bbox;if(f.rect(v,g,x-v,b-g),e.matrix){const S=new Path2D;S.addPath(f,new DOMMatrix(e.matrix)),f=S}h.clip(f),e.smask?this.smaskStack.push({canvas:A.canvas,context:h,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Ax(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ms(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=E1.slice();Xn.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,s),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(ne(this,$A,g3).call(this),Q5(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a,Xn.singularValueDecompose2dScale(Ms(this.ctx),Hc);const{viewportScale:l}=this,c=Math.ceil(o*this.outputScaleX*l),u=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,u);const{canvas:A,context:h}=this.annotationCanvas;this.annotationCanvasMap.set(e,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=h,this.ctx.save(),this.ctx.setTransform(Hc[0],0,0,-Hc[1],0,a*Hc[1]),Q5(this.ctx)}else{Q5(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],o,a),this.ctx.clip(l)}}this.current=new r6(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ne(this,$A,v3).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ms(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,A=o.length;u<A;u+=2){const h=Xn.transform(l,[t,r,i,s,o[u],o[u+1]]);a.drawImage(c.canvas,h[4],h[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),A=u.context;A.save();const h=this.getObject(o,s);s6(A,h),A.globalCompositeOperation="source-in",A.fillStyle=i?r.getPattern(A,this,gd(t),xa.FILL):r,A.fillRect(0,0,a,l),A.restore(),t.save(),t.transform(...c),t.scale(1,-1),j5(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Pr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Pr("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/t,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;i6(c,e),o=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(o,gd(i));i.imageSmoothingEnabled=o6(Ms(i),e.interpolate),j5(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;i6(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),j5(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(r||(this.pendingClip===a6?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ms(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,A=c*e;o=u<1?1/u:1,a=A<1?1/A:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const A=e*l;o=u>A?u/A:1,a=c>A?c/A:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(e);return}const a=r.getLineDash();t&&r.save(),r.scale(s,o),G4.a=1/s,G4.d=1/o;const l=new Path2D;if(l.addPath(e,G4),a.length>0){const c=Math.max(s,o);r.setLineDash(a.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};$A=new WeakSet,g3=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},v3=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},y3=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let j1=UD;for(const n in dT)j1.prototype[n]!==void 0&&(j1.prototype[dT[n]]=j1.prototype[n]);var DC,_C;class KA{static get workerPort(){return m(this,DC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");Q(this,DC,e)}static get workerSrc(){return m(this,_C)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");Q(this,_C,e)}}DC=new WeakMap,_C=new WeakMap,Z(KA,DC,null),Z(KA,_C,"");var bb,OC;class kve{constructor({parsedData:e,rawData:t}){Z(this,bb);Z(this,OC);Q(this,bb,e),Q(this,OC,t)}getRaw(){return m(this,OC)}get(e){return m(this,bb).get(e)??null}[Symbol.iterator](){return m(this,bb).entries()}}bb=new WeakMap,OC=new WeakMap;const b1=Symbol("INTERNAL");var UC,HC,jC,wb;class Pve{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){Z(this,UC,!1);Z(this,HC,!1);Z(this,jC,!1);Z(this,wb,!0);Q(this,UC,!!(e&Uc.DISPLAY)),Q(this,HC,!!(e&Uc.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(m(this,jC))return m(this,wb);if(!m(this,wb))return!1;const{print:e,view:t}=this.usage;return m(this,UC)?(t==null?void 0:t.viewState)!=="OFF":m(this,HC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==b1&&Ji("Internal method `_setVisible` called."),Q(this,jC,r),Q(this,wb,t)}}UC=new WeakMap,HC=new WeakMap,jC=new WeakMap,wb=new WeakMap;var fm,qi,xb,Cb,QC,b3;class Lve{constructor(e,t=Uc.DISPLAY){Z(this,QC);Z(this,fm,null);Z(this,qi,new Map);Z(this,xb,null);Z(this,Cb,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,Q(this,Cb,e.order);for(const r of e.groups)m(this,qi).set(r.id,new Pve(t,r));if(e.baseState==="OFF")for(const r of m(this,qi).values())r._setVisible(b1,!1);for(const r of e.on)m(this,qi).get(r)._setVisible(b1,!0);for(const r of e.off)m(this,qi).get(r)._setVisible(b1,!1);Q(this,xb,this.getHash())}}isVisible(e){if(m(this,qi).size===0)return!0;if(!e)return nk("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,qi).has(e.id)?m(this,qi).get(e.id).visible:(Pr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ne(this,QC,b3).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,qi).has(t))return Pr(`Optional content group not found: ${t}`),!0;if(m(this,qi).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,qi).has(t))return Pr(`Optional content group not found: ${t}`),!0;if(!m(this,qi).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,qi).has(t))return Pr(`Optional content group not found: ${t}`),!0;if(!m(this,qi).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,qi).has(t))return Pr(`Optional content group not found: ${t}`),!0;if(m(this,qi).get(t).visible)return!1}return!0}return Pr(`Unknown optional content policy ${e.policy}.`),!0}return Pr(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=m(this,qi).get(e);if(!i){Pr(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=m(this,qi).get(a))==null||s._setVisible(b1,!1,!0));i._setVisible(b1,!!t,!0),Q(this,fm,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=m(this,qi).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}Q(this,fm,null)}get hasInitialVisibility(){return m(this,xb)===null||this.getHash()===m(this,xb)}getOrder(){return m(this,qi).size?m(this,Cb)?m(this,Cb).slice():[...m(this,qi).keys()]:null}getGroup(e){return m(this,qi).get(e)||null}getHash(){if(m(this,fm)!==null)return m(this,fm);const e=new vW;for(const[t,r]of m(this,qi))e.update(`${t}:${r.visible}`);return Q(this,fm,e.hexdigest())}[Symbol.iterator](){return m(this,qi).entries()}}fm=new WeakMap,qi=new WeakMap,xb=new WeakMap,Cb=new WeakMap,QC=new WeakSet,b3=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=ne(this,QC,b3).call(this,s);else if(m(this,qi).has(s))o=m(this,qi).get(s).visible;else return Pr(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class Ive{constructor(e,{disableRange:t=!1,disableStream:r=!1}){mo(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});mo(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){mo(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Mve(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Rve(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Mve{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=$R(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Rve{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Dve(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function r(u,A){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',A)}function i(u,A){if(u){if(!/^[\x00-\xFF]+$/.test(A))return A;try{const h=new TextDecoder(u,{fatal:!0}),f=YS(A);A=h.decode(f),e=!1}catch{}}return A}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const A=[];let h;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(u))!==null;){let[,g,x,b]=h;if(g=parseInt(g,10),g in A){if(g===0)break;continue}A[g]=[x,b]}const v=[];for(let g=0;g<A.length&&g in A;++g){let[x,b]=A[g];b=a(b),x&&(b=unescape(b),g===0&&(b=l(b))),v.push(b)}return v.join("")}function a(u){if(u.startsWith('"')){const A=u.slice(1).split('\\"');for(let h=0;h<A.length;++h){const f=A[h].indexOf('"');f!==-1&&(A[h]=A[h].slice(0,f),A.length=h+1),A[h]=A[h].replaceAll(/\\(.)/g,"$1")}u=A.join('"')}return u}function l(u){const A=u.indexOf("'");if(A===-1)return u;const h=u.slice(0,A),v=u.slice(A+1).replace(/^[^']*'/,"");return i(h,v)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(A,h,f,v){if(f==="q"||f==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,x){return String.fromCharCode(parseInt(x,16))}),i(h,v);try{v=atob(v)}catch{}return i(h,v)})}return""}function kW(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function sk(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function PW({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function LW(n){const e=n.get("Content-Disposition");if(e){let t=Dve(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if($R(t))return t}return null}function eB(n,e){return new hT(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function IW(n){return n===200||n===206}function MW(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function RW(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Pr(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class _ve{constructor(e){Wt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=kW(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mo(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ove(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Uve(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Ove{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,MW(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=sk(s.url),!IW(s.status))throw eB(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=PW({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=LW(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new hg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:RW(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Uve{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,MW(s,this._withCredentials,this._abortController)).then(a=>{const l=sk(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!IW(a.status))throw eB(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:RW(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const W4=200,q4=206;function Hve(n){const e=n.response;return typeof e!="string"?e:YS(e).buffer}class jve{constructor({url:e,httpHeaders:t,withCredentials:r}){Wt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=kW(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=q4):i.expectedStatus=W4,t.responseType="arraybuffer",mo(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||W4;if(!(s===W4&&r.expectedStatus===q4)&&s!==r.expectedStatus){r.onError(i.status);return}const a=Hve(i);if(s===q4){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:a}):(Pr('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Qve{constructor(e){this._source=e,this._manager=new jve(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return mo(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new zve(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new Kve(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class zve{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=sk(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=PW({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=LW(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=eB(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Kve{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=sk((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=eB(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Vve=/^[a-z][a-z0-9\-+.]+:/i;function Gve(n){if(Vve.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Wve{constructor(e){this.source=e,this.url=Gve(e.url),mo(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return mo(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new qve(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Xve(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class qve{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=eB(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new hg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Xve{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const dx=Symbol("INITIAL_DATA");var Fc,zC,w3;class DW{constructor(){Z(this,zC);Z(this,Fc,Object.create(null))}get(e,t=null){if(t){const i=ne(this,zC,w3).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=m(this,Fc)[e];if(!r||r.data===dx)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=m(this,Fc)[e];return!!t&&t.data!==dx}delete(e){const t=m(this,Fc)[e];return!t||t.data===dx?!1:(delete m(this,Fc)[e],!0)}resolve(e,t=null){const r=ne(this,zC,w3).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in m(this,Fc)){const{data:r}=m(this,Fc)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}Q(this,Fc,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Fc)){const{data:t}=m(this,Fc)[e];t!==dx&&(yield[e,t])}}}Fc=new WeakMap,zC=new WeakSet,w3=function(e){var t;return(t=m(this,Fc))[e]||(t[e]={...Promise.withResolvers(),data:dx})};const Yve=1e5,l6=30;var vj,pm,rc,KC,VC,tv,uf,GC,WC,nv,Sb,Bb,mm,Eb,qC,Fb,rv,XC,YC,Tb,iv,ZC,gm,Nb,jf,_W,OW,x3,Yc,kE,C3,UW,HW;const Eo=class Eo{constructor({textContentSource:e,container:t,viewport:r}){Z(this,jf);Z(this,pm,Promise.withResolvers());Z(this,rc,null);Z(this,KC,!1);Z(this,VC,!!((vj=globalThis.FontInspector)!=null&&vj.enabled));Z(this,tv,null);Z(this,uf,null);Z(this,GC,0);Z(this,WC,0);Z(this,nv,null);Z(this,Sb,null);Z(this,Bb,0);Z(this,mm,0);Z(this,Eb,Object.create(null));Z(this,qC,[]);Z(this,Fb,null);Z(this,rv,[]);Z(this,XC,new WeakMap);Z(this,YC,null);var l;if(e instanceof ReadableStream)Q(this,Fb,e);else if(typeof e=="object")Q(this,Fb,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');Q(this,rc,Q(this,Sb,t)),Q(this,mm,r.scale*rh.pixelRatio),Q(this,Bb,r.rotation),Q(this,uf,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;Q(this,YC,[1,0,0,-1,-o,a+s]),Q(this,WC,i),Q(this,GC,s),ne(l=Eo,Yc,UW).call(l),ny(t,r),m(this,pm).promise.finally(()=>{m(Eo,Nb).delete(this),Q(this,uf,null),Q(this,Eb,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Na.platform;return Yr(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,nv).read().then(({value:t,done:r})=>{if(r){m(this,pm).resolve();return}m(this,tv)??Q(this,tv,t.lang),Object.assign(m(this,Eb),t.styles),ne(this,jf,_W).call(this,t.items),e()},m(this,pm).reject)};return Q(this,nv,m(this,Fb).getReader()),m(Eo,Nb).add(this),e(),m(this,pm).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*rh.pixelRatio,i=e.rotation;if(i!==m(this,Bb)&&(t==null||t(),Q(this,Bb,i),ny(m(this,Sb),{rotation:i})),r!==m(this,mm)){t==null||t(),Q(this,mm,r);const o={div:null,properties:null,ctx:ne(s=Eo,Yc,kE).call(s,m(this,tv))};for(const a of m(this,rv))o.properties=m(this,XC).get(a),o.div=a,ne(this,jf,x3).call(this,o)}}cancel(){var t;const e=new hg("TextLayer task cancelled.");(t=m(this,nv))==null||t.cancel(e).catch(()=>{}),Q(this,nv,null),m(this,pm).reject(e)}get textDivs(){return m(this,rv)}get textContentItemsStr(){return m(this,qC)}static cleanup(){if(!(m(this,Nb).size>0)){m(this,Tb).clear();for(const{canvas:e}of m(this,iv).values())e.remove();m(this,iv).clear()}}};pm=new WeakMap,rc=new WeakMap,KC=new WeakMap,VC=new WeakMap,tv=new WeakMap,uf=new WeakMap,GC=new WeakMap,WC=new WeakMap,nv=new WeakMap,Sb=new WeakMap,Bb=new WeakMap,mm=new WeakMap,Eb=new WeakMap,qC=new WeakMap,Fb=new WeakMap,rv=new WeakMap,XC=new WeakMap,YC=new WeakMap,Tb=new WeakMap,iv=new WeakMap,ZC=new WeakMap,gm=new WeakMap,Nb=new WeakMap,jf=new WeakSet,_W=function(e){var i,s;if(m(this,KC))return;(s=m(this,uf)).ctx??(s.ctx=ne(i=Eo,Yc,kE).call(i,m(this,tv)));const t=m(this,rv),r=m(this,qC);for(const o of e){if(t.length>Yve){Pr("Ignoring additional textDivs for performance reasons."),Q(this,KC,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=m(this,rc);Q(this,rc,document.createElement("span")),m(this,rc).classList.add("markedContent"),o.id&&m(this,rc).setAttribute("id",`${o.id}`),a.append(m(this,rc))}else o.type==="endMarkedContent"&&Q(this,rc,m(this,rc).parentNode);continue}r.push(o.str),ne(this,jf,OW).call(this,o)}},OW=function(e){var g;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,rv).push(t);const i=Xn.transform(m(this,YC),e.transform);let s=Math.atan2(i[1],i[0]);const o=m(this,Eb)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=m(this,VC)&&o.fontSubstitution||o.fontFamily;a=Eo.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*ne(g=Eo,Yc,HW).call(g,a,o,m(this,tv));let u,A;s===0?(u=i[4],A=i[5]-c):(u=i[4]+c*Math.sin(s),A=i[5]-c*Math.cos(s));const h="calc(var(--total-scale-factor) *",f=t.style;m(this,rc)===m(this,Sb)?(f.left=`${(100*u/m(this,WC)).toFixed(2)}%`,f.top=`${(100*A/m(this,GC)).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${A.toFixed(2)}px)`),f.fontSize=`${h}${(m(Eo,gm)*l).toFixed(2)}px)`,f.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,VC)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);x!==b&&Math.max(x,b)/Math.min(x,b)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?e.height:e.width),m(this,XC).set(t,r),m(this,uf).div=t,m(this,uf).properties=r,ne(this,jf,x3).call(this,m(this,uf)),r.hasText&&m(this,rc).append(t),r.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),m(this,rc).append(x)}},x3=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(m(Eo,gm)>1&&(o=`scale(${1/m(Eo,gm)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=r;ne(a=Eo,Yc,C3).call(a,i,u*m(this,mm),l);const{width:A}=i.measureText(t.textContent);A>0&&(o=`scaleX(${c*m(this,mm)/A}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Yc=new WeakSet,kE=function(e=null){let t=m(this,iv).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,iv).set(e,t),m(this,ZC).set(t,{size:0,family:""})}return t},C3=function(e,t,r){const i=m(this,ZC).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},UW=function(){if(m(this,gm)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Q(this,gm,e.getBoundingClientRect().height),e.remove()},HW=function(e,t,r){const i=m(this,Tb).get(e);if(i)return i;const s=ne(this,Yc,kE).call(this,r);s.canvas.width=s.canvas.height=l6,ne(this,Yc,C3).call(this,s,l6,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+l):(Na.platform.isFirefox&&Pr("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),m(this,Tb).set(e,c),c},Z(Eo,Yc),Z(Eo,Tb,new Map),Z(Eo,iv,new Map),Z(Eo,ZC,new WeakMap),Z(Eo,gm,null),Z(Eo,Nb,new Set);let J2=Eo;class $2{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if($2.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Zve=100;function Jve(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new S3,{docId:t}=e,r=n.url?ove(n.url):null,i=n.data?ave(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof jW?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof eC?n.worker:null;const A=n.verbosity,h=typeof n.docBaseUrl=="string"&&!rk(n.docBaseUrl)?n.docBaseUrl:null,f=U5(n.cMapUrl),v=n.cMapPacked!==!1,g=n.CMapReaderFactory||(Cl?pve:YH),x=U5(n.iccUrl),b=U5(n.standardFontDataUrl),S=n.StandardFontDataFactory||(Cl?mve:ZH),E=U5(n.wasmUrl),k=n.WasmFactory||(Cl?gve:JH),P=n.stopAtErrors!==!0,N=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,I=n.isEvalSupported!==!1,U=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Cl,V=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Cl&&(Na.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,L=typeof n.disableFontFace=="boolean"?n.disableFontFace:Cl,D=n.fontExtraProperties===!0,z=n.enableXfa===!0,G=n.ownerDocument||globalThis.document,ve=n.disableRange===!0,J=n.disableStream===!0,$=n.disableAutoFetch===!0,X=n.pdfBug===!0,ie=n.CanvasFactory||(Cl?fve:Ave),pe=n.FilterFactory||(Cl?hve:dve),te=n.enableHWA===!0,H=n.useWasm!==!1,q=l?l.length:n.length??NaN,re=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Cl&&!L,he=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===YH&&S===ZH&&k===JH&&f&&b&&E&&Rx(f,document.baseURI)&&Rx(b,document.baseURI)&&Rx(E,document.baseURI)),Ae=null;O0e(A);const ge={canvasFactory:new ie({ownerDocument:G,enableHWA:te}),filterFactory:new pe({docId:t,ownerDocument:G}),cMapReaderFactory:he?null:new g({baseUrl:f,isCompressed:v}),standardFontDataFactory:he?null:new S({baseUrl:b}),wasmFactory:he?null:new k({baseUrl:E})};u||(u=eC.create({verbosity:A,port:KA.workerPort}),e._worker=u);const we={docId:t,apiVersion:"5.4.54",data:i,password:a,disableAutoFetch:$,rangeChunkSize:c,length:q,docBaseUrl:h,enableXfa:z,evaluatorOptions:{maxImageSize:N,disableFontFace:L,ignoreErrors:P,isEvalSupported:I,isOffscreenCanvasSupported:U,isImageDecoderSupported:V,canvasMaxAreaInBytes:W,fontExtraProperties:D,useSystemFonts:re,useWasm:H,useWorkerFetch:he,cMapUrl:f,iccUrl:x,standardFontDataUrl:b,wasmUrl:E}},ke={ownerDocument:G,pdfBug:X,styleElement:Ae,loadingParams:{disableAutoFetch:$,enableXfa:z}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ze=u.messageHandler.sendWithPromise("GetDocRequest",we,i?[i.buffer]:null);let Ve;if(l)Ve=new Ive(l,{disableRange:ve,disableStream:J});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const Ue=Rx(r)?_ve:Cl?Wve:Qve;Ve=new Ue({url:r,length:q,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:ve,disableStream:J})}return ze.then(Ue=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ft=new Hx(t,Ue,u.port),Kt=new tye(ft,e,Ve,ke,ge,te);e._transport=Kt,ft.send("Ready",null)})}).catch(e._capability.reject),e}var qT;const XT=class XT{constructor(){Wt(this,"_capability",Promise.withResolvers());Wt(this,"_transport",null);Wt(this,"_worker",null);Wt(this,"docId",`d${Ko(XT,qT)._++}`);Wt(this,"destroyed",!1);Wt(this,"onPassword",null);Wt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};qT=new WeakMap,Z(XT,qT,0);let S3=XT;var sv,JC,$C,eS,tS;class jW{constructor(e,t,r=!1,i=null){Z(this,sv,Promise.withResolvers());Z(this,JC,[]);Z(this,$C,[]);Z(this,eS,[]);Z(this,tS,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){m(this,tS).push(e)}addProgressListener(e){m(this,eS).push(e)}addProgressiveReadListener(e){m(this,$C).push(e)}addProgressiveDoneListener(e){m(this,JC).push(e)}onDataRange(e,t){for(const r of m(this,tS))r(e,t)}onDataProgress(e,t){m(this,sv).promise.then(()=>{for(const r of m(this,eS))r(e,t)})}onDataProgressiveRead(e){m(this,sv).promise.then(()=>{for(const t of m(this,$C))t(e)})}onDataProgressiveDone(){m(this,sv).promise.then(()=>{for(const e of m(this,JC))e()})}transportReady(){m(this,sv).resolve()}requestDataRange(e,t){Ji("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}sv=new WeakMap,JC=new WeakMap,$C=new WeakMap,eS=new WeakMap,tS=new WeakMap;class $ve{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Yr(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Af,ov,Vx;class eye{constructor(e,t,r,i=!1){Z(this,ov);Z(this,Af,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new WH:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new DW,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new JS({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Yr(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=Vp.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:A=null,isEditing:h=!1}){var P,N;(P=this._stats)==null||P.time("Overall");const f=this._transport.getRenderingIntent(i,s,A,h),{renderingIntent:v,cacheKey:g}=f;Q(this,Af,!1),l||(l=this._transport.getOptionalContentConfig(v));let x=this._intentStates.get(g);x||(x=Object.create(null),this._intentStates.set(g,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const b=!!(v&Uc.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(f));const S=I=>{var U;x.renderTasks.delete(E),b&&Q(this,Af,!0),ne(this,ov,Vx).call(this),I?(E.capability.reject(I),this._abortOperatorList({intentState:x,reason:I instanceof Error?I:new Error(I)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(U=globalThis.Stats)!=null&&U.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},E=new B3({callback:S,params:{canvas:t,canvasContext:e,viewport:r,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA});(x.renderTasks||(x.renderTasks=new Set)).add(E);const k=E.task;return Promise.all([x.displayReadyCapability.promise,l]).then(([I,U])=>{var V;if(this.destroyed){S();return}if((V=this._stats)==null||V.time("Rendering"),!(U.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");E.initializeGraphics({transparency:I,optionalContentConfig:U}),E.operatorListChanged()}).catch(S),k}getOperatorList({intent:e="display",annotationMode:t=Vp.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>$2.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),Q(this,Af,!1),Promise.all(e)}cleanup(e=!1){Q(this,Af,!0);const t=ne(this,ov,Vx).call(this);return e&&t&&this._stats&&(this._stats=new WH),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&ne(this,ov,Vx).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:A,done:h})=>{if(h){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(A,c),u())},A=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();ne(this,ov,Vx).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(A);else if(c.opListReadCapability)c.opListReadCapability.reject(A);else throw A}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof JR){let i=Zve;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new hg(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Af=new WeakMap,ov=new WeakSet,Vx=function(){if(!m(this,Af)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Q(this,Af,!1),!0};var vm,RA,df,av,YT,lv,cv,Tl,PE,QW,zW,Gx,kb,LE;const Ss=class Ss{constructor({name:e=null,port:t=null,verbosity:r=U0e()}={}){Z(this,Tl);Z(this,vm,Promise.withResolvers());Z(this,RA,null);Z(this,df,null);Z(this,av,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(m(Ss,cv).has(t))throw new Error("Cannot use more than one PDFWorker per port.");m(Ss,cv).set(t,this),ne(this,Tl,QW).call(this,t)}else ne(this,Tl,zW).call(this)}get promise(){return m(this,vm).promise}get port(){return m(this,df)}get messageHandler(){return m(this,RA)}destroy(){var e,t;this.destroyed=!0,(e=m(this,av))==null||e.terminate(),Q(this,av,null),m(Ss,cv).delete(m(this,df)),Q(this,df,null),(t=m(this,RA))==null||t.destroy(),Q(this,RA,null)}static create(e){const t=m(this,cv).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ss(e)}static get workerSrc(){if(KA.workerSrc)return KA.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Yr(this,"_setupFakeWorkerGlobal",(async()=>m(this,kb,LE)?m(this,kb,LE):(await import(this.workerSrc)).WorkerMessageHandler)())}};vm=new WeakMap,RA=new WeakMap,df=new WeakMap,av=new WeakMap,YT=new WeakMap,lv=new WeakMap,cv=new WeakMap,Tl=new WeakSet,PE=function(){m(this,vm).resolve(),m(this,RA).send("configure",{verbosity:this.verbosity})},QW=function(e){Q(this,df,e),Q(this,RA,new Hx("main","worker",e)),m(this,RA).on("ready",()=>{}),ne(this,Tl,PE).call(this)},zW=function(){if(m(Ss,lv)||m(Ss,kb,LE)){ne(this,Tl,Gx).call(this);return}let{workerSrc:e}=Ss;try{Ss._isSameOrigin(window.location,e)||(e=Ss._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Hx("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?m(this,vm).reject(new Error("Worker was destroyed")):ne(this,Tl,Gx).call(this)},s=new AbortController;t.addEventListener("error",()=>{m(this,av)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}Q(this,RA,r),Q(this,df,t),Q(this,av,t),ne(this,Tl,PE).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{ne(this,Tl,Gx).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{nk("The worker has been disabled.")}ne(this,Tl,Gx).call(this)},Gx=function(){m(Ss,lv)||(Pr("Setting up fake worker."),Q(Ss,lv,!0)),Ss._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){m(this,vm).reject(new Error("Worker was destroyed"));return}const t=new uve;Q(this,df,t);const r=`fake${Ko(Ss,YT)._++}`,i=new Hx(r+"_worker",r,t);e.setup(i,t),Q(this,RA,new Hx(r,r+"_worker",t)),ne(this,Tl,PE).call(this)}).catch(e=>{m(this,vm).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},kb=new WeakSet,LE=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Z(Ss,kb),Z(Ss,YT,0),Z(Ss,lv,!1),Z(Ss,cv,new WeakMap),Cl&&(Q(Ss,lv,!0),KA.workerSrc||(KA.workerSrc="./pdf.worker.mjs")),Ss._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},Ss._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Ss.fromPort=e=>{if(Z0e("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ss.create(e)};let eC=Ss;var hf,_d,Pb,Lb,ff,uv,Wx;class tye{constructor(e,t,r,i,s,o){Z(this,uv);Z(this,hf,new Map);Z(this,_d,new Map);Z(this,Pb,new Map);Z(this,Lb,new Map);Z(this,ff,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new DW,this.fontLoader=new ive({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return Yr(this,"annotationStorage",new eD)}getRenderingIntent(e,t=Vp.ENABLE,r=null,i=!1,s=!1){let o=Uc.DISPLAY,a=A3;switch(e){case"any":o=Uc.ANY;break;case"display":break;case"print":o=Uc.PRINT;break;default:Pr(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Uc.PRINT&&r instanceof bW?r:this.annotationStorage;switch(t){case Vp.DISABLE:o+=Uc.ANNOTATIONS_DISABLE;break;case Vp.ENABLE:break;case Vp.ENABLE_FORMS:o+=Uc.ANNOTATIONS_FORMS;break;case Vp.ENABLE_STORAGE:o+=Uc.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Pr(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Uc.IS_EDITING),s&&(o+=Uc.OPLIST);const{ids:c,hash:u}=l.modifiedIds,A=[o,a.hash,u];return{renderingIntent:o,cacheKey:A.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,ff))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,_d).values())e.push(i._destroy());m(this,_d).clear(),m(this,Pb).clear(),m(this,Lb).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),m(this,hf).clear(),this.filterFactory.destroy(),J2.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new hg("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{mo(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}mo(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{mo(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}mo(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new $ve(r,this))}),e.on("DocException",r=>{t._capability.reject(ec(r))}),e.on("PasswordRequest",r=>{Q(this,ff,Promise.withResolvers());try{if(!t.onPassword)throw ec(r);const i=s=>{s instanceof Error?m(this,ff).reject(s):m(this,ff).resolve({password:s})};t.onPassword(i,r.code)}catch(i){m(this,ff).reject(i)}return m(this,ff).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,_d).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const u=s.error;Pr(`Error during font loading: ${u}`),this.commonObjs.resolve(r,u);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(u,A)=>globalThis.FontInspector.fontAdded(u,A):null,l=new sve(s,a);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;mo(c,"The imageRef must be defined.");for(const u of m(this,_d).values())for(const[,A]of u.objs)if((A==null?void 0:A.ref)===c)return A.dataLen?(this.commonObjs.resolve(r,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=m(this,_d).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Pr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=m(this,Pb).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,Lb).set(s.refStr,e);const o=new eye(t,s,this,this._params.pdfBug);return m(this,_d).set(t,o),o});return m(this,Pb).set(t,i),i}getPageIndex(e){return d3(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ne(this,uv,Wx).call(this,"GetFieldObjects")}hasJSActions(){return ne(this,uv,Wx).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ne(this,uv,Wx).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ne(this,uv,Wx).call(this,"GetOptionalContentConfig").then(t=>new Lve(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,hf).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new kve(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,hf).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,_d).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,hf).clear(),this.filterFactory.destroy(!0),J2.cleanup()}}cachedPageNumber(e){if(!d3(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,Lb).get(t)??null}}hf=new WeakMap,_d=new WeakMap,Pb=new WeakMap,Lb=new WeakMap,ff=new WeakMap,uv=new WeakSet,Wx=function(e,t=null){const r=m(this,hf).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return m(this,hf).set(e,i),i};var ym;class nye{constructor(e){Z(this,ym,null);Wt(this,"onContinue",null);Wt(this,"onError",null);Q(this,ym,e)}get promise(){return m(this,ym).capability.promise}cancel(e=0){m(this,ym).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,ym).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,ym);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ym=new WeakMap;var bm,Av;const y0=class y0{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:A=!1,pageColors:h=null,enableHWA:f=!1}){Z(this,bm,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=A,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new nye(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=f}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(m(y0,Av).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(y0,Av).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new j1(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,bm)&&(window.cancelAnimationFrame(m(this,bm)),Q(this,bm,null)),m(y0,Av).delete(this._canvas),e||(e=new JR(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Q(this,bm,window.requestAnimationFrame(()=>{Q(this,bm,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(y0,Av).delete(this._canvas),this.callback())))}};bm=new WeakMap,Av=new WeakMap,Z(y0,Av,new WeakSet);let B3=y0;const rye="5.4.54",iye="295fb3ec4";var Tc,dv,Ib,No,nS,Mb,pf,rS,wm,DA,iS,Yi,E3,F3,T3,A0,KW,_p;const tc=class tc{constructor({editor:e=null,uiManager:t=null}){Z(this,Yi);Z(this,Tc,null);Z(this,dv,null);Z(this,Ib);Z(this,No,null);Z(this,nS,!1);Z(this,Mb,!1);Z(this,pf,null);Z(this,rS);Z(this,wm,null);Z(this,DA,null);var r,i;e?(Q(this,Mb,!1),Q(this,pf,e)):Q(this,Mb,!0),Q(this,DA,(e==null?void 0:e._uiManager)||t),Q(this,rS,m(this,DA)._eventBus),Q(this,Ib,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=m(this,DA))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),m(tc,iS)||Q(tc,iS,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Yr(this,"_keyboardManager",new $S([[["Escape","mac+Escape"],tc.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],tc.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],tc.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],tc.prototype._moveToPrevious],[["Home","mac+Home"],tc.prototype._moveToBeginning],[["End","mac+End"],tc.prototype._moveToEnd]]))}renderButton(){const e=Q(this,Tc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",m(this,pf)&&(e.ariaControls=`${m(this,pf).id}_colorpicker_dropdown`);const t=m(this,DA)._signal;e.addEventListener("click",ne(this,Yi,A0).bind(this),{signal:t}),e.addEventListener("keydown",ne(this,Yi,T3).bind(this),{signal:t});const r=Q(this,dv,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=m(this,Ib),e.append(r),e}renderMainDropdown(){const e=Q(this,No,ne(this,Yi,E3).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===m(this,Tc)){ne(this,Yi,A0).call(this,e);return}const t=e.target.getAttribute("data-color");t&&ne(this,Yi,F3).call(this,t,e)}_moveToNext(e){var t,r;if(!m(this,Yi,_p)){ne(this,Yi,A0).call(this,e);return}if(e.target===m(this,Tc)){(t=m(this,No).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=m(this,No))==null?void 0:t.firstChild)||e.target===m(this,Tc)){m(this,Yi,_p)&&this._hideDropdownFromKeyboard();return}m(this,Yi,_p)||ne(this,Yi,A0).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!m(this,Yi,_p)){ne(this,Yi,A0).call(this,e);return}(t=m(this,No).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,Yi,_p)){ne(this,Yi,A0).call(this,e);return}(t=m(this,No).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,No))==null||e.classList.add("hidden"),m(this,Tc).ariaExpanded="false",(t=m(this,wm))==null||t.abort(),Q(this,wm,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,Mb)){if(!m(this,Yi,_p)){(e=m(this,pf))==null||e.unselect();return}this.hideDropdown(),m(this,Tc).focus({preventScroll:!0,focusVisible:m(this,nS)})}}updateColor(e){if(m(this,dv)&&(m(this,dv).style.backgroundColor=e),!m(this,No))return;const t=m(this,DA).highlightColors.values();for(const r of m(this,No).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=m(this,Tc))==null||e.remove(),Q(this,Tc,null),Q(this,dv,null),(t=m(this,No))==null||t.remove(),Q(this,No,null)}};Tc=new WeakMap,dv=new WeakMap,Ib=new WeakMap,No=new WeakMap,nS=new WeakMap,Mb=new WeakMap,pf=new WeakMap,rS=new WeakMap,wm=new WeakMap,DA=new WeakMap,iS=new WeakMap,Yi=new WeakSet,E3=function(){const e=document.createElement("div"),t=m(this,DA)._signal;e.addEventListener("contextmenu",Ku,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),m(this,pf)&&(e.id=`${m(this,pf).id}_colorpicker_dropdown`);for(const[r,i]of m(this,DA).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",m(tc,iS)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.ariaSelected=i===m(this,Ib),s.addEventListener("click",ne(this,Yi,F3).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",ne(this,Yi,T3).bind(this),{signal:t}),e},F3=function(e,t){t.stopPropagation(),m(this,rS).dispatch("switchannotationeditorparams",{source:this,type:oi.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},T3=function(e){tc._keyboardManager.exec(this,e)},A0=function(e){if(m(this,Yi,_p)){this.hideDropdown();return}if(Q(this,nS,e.detail===0),m(this,wm)||(Q(this,wm,new AbortController),window.addEventListener("pointerdown",ne(this,Yi,KW).bind(this),{signal:m(this,DA).combinedSignal(m(this,wm))})),m(this,Tc).ariaExpanded="true",m(this,No)){m(this,No).classList.remove("hidden");return}const t=Q(this,No,ne(this,Yi,E3).call(this));m(this,Tc).append(t)},KW=function(e){var t;(t=m(this,No))!=null&&t.contains(e.target)||this.hideDropdown()},_p=function(){return m(this,No)&&!m(this,No).classList.contains("hidden")},Z(tc,iS,null);let gT=tc;var Od,sS,Rb,oS;const b0=class b0{constructor(e){Z(this,Od,null);Z(this,sS,null);Z(this,Rb,null);Q(this,sS,e),Q(this,Rb,e._uiManager),m(b0,oS)||Q(b0,oS,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(m(this,Od))return m(this,Od);const{editorType:e,colorType:t,colorValue:r}=m(this,sS),i=Q(this,Od,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",m(b0,oS)[e]),i.addEventListener("input",()=>{m(this,Rb).updateParams(t,i.value)},{signal:m(this,Rb)._signal}),i}update(e){m(this,Od)&&(m(this,Od).value=e)}destroy(){var e;(e=m(this,Od))==null||e.remove(),Q(this,Od,null)}hideDropdown(){}};Od=new WeakMap,sS=new WeakMap,Rb=new WeakMap,oS=new WeakMap,Z(b0,oS,null);let vT=b0;function c6(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function hx(n){return Math.max(0,Math.min(255,255*n))}class u6{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=hx(e),[e,e,e]}static G_HTML([e]){const t=c6(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(hx)}static RGB_HTML(e){return`#${e.map(c6).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[hx(1-Math.min(1,e+i)),hx(1-Math.min(1,r+i)),hx(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class sye{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ji("Abstract method `_createSVG` called.")}}class yT extends sye{_createSVG(e){return document.createElementNS(Hh,e)}}class VW{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var A,h;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);o.append(f),a&&$2.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[f,v,g]=u.at(-1);if(v+1===f.children.length){u.pop();continue}const x=f.children[++u.at(-1)[1]];if(x===null)continue;const{name:b}=x;if(b==="#text"){const E=document.createTextNode(x.value);c.push(E),g.append(E);continue}const S=(A=x==null?void 0:x.attributes)!=null&&A.xmlns?document.createElementNS(x.attributes.xmlns,b):document.createElement(b);if(g.append(S),x.attributes&&this.setAttributes({html:S,element:x,storage:t,intent:s,linkService:r}),((h=x.children)==null?void 0:h.length)>0)u.push([x,-1,S]);else if(x.value){const E=document.createTextNode(x.value);a&&$2.shouldBuildText(b)&&c.push(E),S.append(E)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const oye=9,iy=new WeakSet,aye=new Date().getTimezoneOffset()*60*1e3;class A6{static create(e){switch(e.data.annotationType){case Ao.LINK:return new rD(e);case Ao.TEXT:return new lye(e);case Ao.WIDGET:switch(e.data.fieldType){case"Tx":return new cye(e);case"Btn":return e.data.radioButton?new qW(e):e.data.checkBox?new Aye(e):new dye(e);case"Ch":return new hye(e);case"Sig":return new uye(e)}return new Ay(e);case Ao.POPUP:return new k3(e);case Ao.FREETEXT:return new $W(e);case Ao.LINE:return new pye(e);case Ao.SQUARE:return new mye(e);case Ao.CIRCLE:return new gye(e);case Ao.POLYLINE:return new eq(e);case Ao.CARET:return new yye(e);case Ao.INK:return new iD(e);case Ao.POLYGON:return new vye(e);case Ao.HIGHLIGHT:return new tq(e);case Ao.UNDERLINE:return new bye(e);case Ao.SQUIGGLY:return new wye(e);case Ao.STRIKEOUT:return new xye(e);case Ao.STAMP:return new nq(e);case Ao.FILEATTACHMENT:return new Cye(e);default:return new ao(e)}}}var hv,Db,mf,aS,N3;const HD=class HD{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){Z(this,aS);Z(this,hv,null);Z(this,Db,!1);Z(this,mf,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return HD._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;e.rect&&(m(this,hv)||Q(this,hv,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&ne(this,aS,N3).call(this,t);let i=((s=m(this,mf))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=m(this,mf).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),Q(this,mf,null),this.popup=null))}resetEdited(){var e;m(this,hv)&&(ne(this,aS,N3).call(this,m(this,hv).rect),(e=m(this,mf))==null||e.popup.resetEdited(),Q(this,hv,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Ay)&&!(this instanceof rD)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof k3){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(g>0||x>0){const S=`calc(${g}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;o.borderRadius=S}else if(this instanceof qW){const S=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=S}switch(t.borderStyle.style){case p1.SOLID:o.borderStyle="solid";break;case p1.DASHED:o.borderStyle="dashed";break;case p1.BEVELED:Pr("Unimplemented border style: beveled");break;case p1.INSET:Pr("Unimplemented border style: inset");break;case p1.UNDERLINE:o.borderBottomStyle="solid";break}const b=t.borderColor||null;b?(Q(this,Db,!0),o.borderColor=Xn.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):o.borderWidth=0}const c=Xn.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:A,pageX:h,pageY:f}=i.rawDims;o.left=`${100*(c[0]-h)/u}%`,o.top=`${100*(c[1]-f)/A}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*a/u}%`,o.height=`${100*l/A}%`):this.setRotation(v,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=u6[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:u6[`${o}_rgb`](a)})};return Yr(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,x,b,S]=e.subarray(2,6);if(i===g&&s===x&&t===b&&r===S)return}const{style:o}=this.container;let a;if(m(this,Db)){const{borderColor:g,borderWidth:x}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,A=u.createElement("svg");A.classList.add("quadrilateralsContainer"),A.setAttribute("width",0),A.setAttribute("height",0),A.role="none";const h=u.createElement("defs");A.append(h);const f=u.createElement("clipPath"),v=`clippath_${this.data.id}`;f.setAttribute("id",v),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let g=2,x=e.length;g<x;g+=8){const b=e[g],S=e[g+1],E=e[g+2],k=e[g+3],P=u.createElement("rect"),N=(E-t)/l,I=(s-S)/c,U=(b-E)/l,V=(S-k)/c;P.setAttribute("x",N),P.setAttribute("y",I),P.setAttribute("width",U),P.setAttribute("height",V),f.append(P),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${I}" width="${U}" height="${V}"/>`)}m(this,Db)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(A),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate);const s=Q(this,mf,new k3({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}get hasPopupElement(){return!!(m(this,mf)||this.popup||this.data.popupRef)}render(){Ji("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!iy.has(c)){Pr(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&iy.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};hv=new WeakMap,Db=new WeakMap,mf=new WeakMap,aS=new WeakSet,N3=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let ao=HD;var Qc,d0,GW,WW;class rD extends ao{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});Z(this,Qc);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(ne(this,Qc,GW).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(ne(this,Qc,WW).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&ne(this,Qc,d0).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),ne(this,Qc,d0).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),ne(this,Qc,d0).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),ne(this,Qc,d0).call(this),!this._fieldObjects){Pr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var A;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const h=new Set(o);for(const f of s){const v=this._fieldObjects[f]||[];for(const{id:g}of v)h.add(g)}for(const f of Object.values(this._fieldObjects))for(const v of f)h.has(v.id)===a&&l.push(v)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,u=[];for(const h of l){const{id:f}=h;switch(u.push(f),h.type){case"text":{const g=h.defaultValue||"";c.setValue(f,{value:g});break}case"checkbox":case"radiobutton":{const g=h.defaultValue===h.exportValues;c.setValue(f,{value:g});break}case"combobox":case"listbox":{const g=h.defaultValue||"";c.setValue(f,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${f}"]`);if(v){if(!iy.has(v)){Pr(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Qc=new WeakSet,d0=function(){this.container.setAttribute("data-internal-link","")},GW=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,s),!1},ne(this,Qc,d0).call(this)},WW=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),ne(this,Qc,d0).call(this)};class lye extends ao{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ay extends ao{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Na.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Xn.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||oye,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(j4*i))||1,A=c/u;o=Math.min(i,l(A/j4))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/j4))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Xn.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class cye extends Ay{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),iy.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:A,datetimeType:h,timeStep:f}=this.data,v=!!h&&this.enableScripting;A&&(r.title=A),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",x=>{e.setValue(t,{value:x.target.value}),this.setPropertyOnSiblings(r,"value",x.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",x=>{const b=this.data.defaultFieldValue??"";r.value=u.userValue=b,u.formattedValue=null});let g=x=>{const{formattedValue:b}=u;b!=null&&(x.target.value=b),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",b=>{var E;if(u.focused)return;const{target:S}=b;if(v&&(S.type=h,f&&(S.step=f)),u.userValue){const k=u.userValue;if(v)if(h==="time"){const P=new Date(k),N=[P.getHours(),P.getMinutes(),P.getSeconds()];S.value=N.map(I=>I.toString().padStart(2,"0")).join(":")}else S.value=new Date(k-aye).toISOString().split(h==="date"?"T":".",1)[0];else S.value=k}u.lastCommittedValue=S.value,u.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const S={value(E){u.userValue=E.detail.value??"",v||e.setValue(t,{value:u.userValue.toString()}),E.target.value=u.userValue},formattedValue(E){const{formattedValue:k}=E.detail;u.formattedValue=k,k!=null&&E.target!==document.activeElement&&(E.target.value=k);const P={formattedValue:k};v&&(P.value=k),e.setValue(t,P)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var I;const{charLimit:k}=E.detail,{target:P}=E;if(k===0){P.removeAttribute("maxLength");return}P.setAttribute("maxLength",k);let N=u.userValue;!N||N.length<=k||(N=N.slice(0,k),P.value=u.userValue=N,e.setValue(t,{value:N}),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:P.selectionStart,selEnd:P.selectionEnd}}))}};this._dispatchEventFromSandbox(S,b)}),r.addEventListener("keydown",b=>{var k;u.commitKey=1;let S=-1;if(b.key==="Escape"?S=0:b.key==="Enter"&&!this.data.multiLine?S=2:b.key==="Tab"&&(u.commitKey=3),S===-1)return;const{value:E}=b.target;u.lastCommittedValue!==E&&(u.lastCommittedValue=E,u.userValue=E,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:S,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const x=g;g=null,r.addEventListener("blur",b=>{var k,P;if(!u.focused||!b.relatedTarget)return;(k=this.data.actions)!=null&&k.Blur||(u.focused=!1);const{target:S}=b;let{value:E}=S;if(v){if(E&&h==="time"){const N=E.split(":").map(I=>parseInt(I,10));E=new Date(2e3,0,1,N[0],N[1],N[2]||0).valueOf(),S.step=""}else E=new Date(E).valueOf();S.type="text"}u.userValue=E,u.lastCommittedValue!==E&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:u.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),x(b)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",b=>{var V;u.lastCommittedValue=null;const{data:S,target:E}=b,{value:k,selectionStart:P,selectionEnd:N}=E;let I=P,U=N;switch(b.inputType){case"deleteWordBackward":{const W=k.substring(0,P).match(/\w*[^\w]*$/);W&&(I-=W[0].length);break}case"deleteWordForward":{const W=k.substring(P).match(/^[^\w]*\w*/);W&&(U+=W[0].length);break}case"deleteContentBackward":P===N&&(I-=1);break;case"deleteContentForward":P===N&&(U+=1);break}b.preventDefault(),(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,change:S||"",willCommit:!1,selStart:I,selEnd:U}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class uye extends Ay{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Aye extends Ay{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return iy.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qW extends Ay{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(iy.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const A of this._getElementsByName(c.target.name)){const h=u&&A.id===r;A.domElement&&(A.domElement.checked=h),e.setValue(A.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class dye extends rD{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class hye extends Ay{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");iy.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const A=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===A});for(const u of this.data.options){const A=document.createElement("option");A.textContent=u.displayValue,A.value=u.exportValue,r.value.includes(u.exportValue)&&(A.setAttribute("selected",!0),s=!1),i.append(A)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const A=u?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,v=>v.selected).map(v=>v[A]):h.selectedIndex===-1?null:h[h.selectedIndex][A]};let l=a(!1);const c=u=>{const A=u.target.options;return Array.prototype.map.call(A,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const A={value(h){o==null||o();const f=h.detail.value,v=new Set(Array.isArray(f)?f:[f]);for(const g of i.options)g.selected=v.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,v=h.detail.remove;f[v].selected=!1,i.remove(v),f.length>0&&Array.prototype.findIndex.call(f,x=>x.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){const{index:f,displayValue:v,exportValue:g}=h.detail.insert,x=i.children[f],b=document.createElement("option");b.textContent=v,b.value=g,x?x.before(b):i.append(b),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const v of f){const{displayValue:g,exportValue:x}=v,b=document.createElement("option");b.textContent=g,b.value=x,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},indices(h){const f=new Set(h.detail.indices);for(const v of h.target.options)v.selected=f.has(v.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(A,u)}),i.addEventListener("input",u=>{var f;const A=a(!0),h=a(!1);e.setValue(t,{value:A}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:A,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class k3 extends ao{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:ao._hasPopupData(t)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new fye({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${ZR}${i}`).join(",")),this.container}}var _b,ZT,JT,Ob,Ub,Ks,gf,xm,Hb,lS,jb,Ud,Nc,Cm,vf,cS,yf,Qb,fv,Sm,Ci,IE,ME,P3,XW,YW,ZW,JW,RE,DE,L3;class fye{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:A}){Z(this,Ci);Z(this,_b,ne(this,Ci,ZW).bind(this));Z(this,ZT,ne(this,Ci,L3).bind(this));Z(this,JT,ne(this,Ci,DE).bind(this));Z(this,Ob,ne(this,Ci,RE).bind(this));Z(this,Ub,null);Z(this,Ks,null);Z(this,gf,null);Z(this,xm,null);Z(this,Hb,null);Z(this,lS,null);Z(this,jb,null);Z(this,Ud,!1);Z(this,Nc,null);Z(this,Cm,null);Z(this,vf,null);Z(this,cS,null);Z(this,yf,null);Z(this,Qb,null);Z(this,fv,null);Z(this,Sm,!1);Q(this,Ks,e),Q(this,Qb,i),Q(this,gf,o),Q(this,yf,a),Q(this,lS,l),Q(this,Ub,t),Q(this,cS,c),Q(this,jb,u),Q(this,Hb,r),Q(this,xm,fT.toDateObject(s)),this.trigger=r.flatMap(h=>h.getElementsToTriggerPopup()),ne(this,Ci,IE).call(this),m(this,Ks).hidden=!0,A&&ne(this,Ci,RE).call(this)}render(){var i;if(m(this,Nc))return;const e=Q(this,Nc,document.createElement("div"));if(e.className="popup",m(this,Ub)){const s=e.style.outlineColor=Xn.makeHexColor(...m(this,Ub));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=m(this,Qb))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=m(this,Qb)}if(e.append(t),m(this,xm)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,xm).valueOf()})),s.dateTime=m(this,xm).toISOString(),t.append(s)}const r=m(this,Ci,ME);if(r)VW.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,gf));e.append(s)}m(this,Ks).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popup:t,deleted:r}){var i;if(r||t!=null&&t.deleted){this.remove();return}ne(this,Ci,IE).call(this),m(this,fv)||Q(this,fv,{contentsObj:m(this,gf),richText:m(this,yf)}),e&&Q(this,vf,null),t&&(Q(this,yf,ne(this,Ci,YW).call(this,t.text)),Q(this,xm,fT.toDateObject(t.date)),Q(this,gf,null)),(i=m(this,Nc))==null||i.remove(),Q(this,Nc,null)}resetEdited(){var e;m(this,fv)&&({contentsObj:Ko(this,gf)._,richText:Ko(this,yf)._}=m(this,fv),Q(this,fv,null),(e=m(this,Nc))==null||e.remove(),Q(this,Nc,null),Q(this,vf,null))}remove(){var e,t;(e=m(this,Cm))==null||e.abort(),Q(this,Cm,null),(t=m(this,Nc))==null||t.remove(),Q(this,Nc,null),Q(this,Sm,!1),Q(this,Ud,!1);for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){Q(this,Sm,this.isVisible),m(this,Sm)&&(m(this,Ks).hidden=!0)}maybeShow(){ne(this,Ci,IE).call(this),m(this,Sm)&&(m(this,Nc)||ne(this,Ci,DE).call(this),Q(this,Sm,!1),m(this,Ks).hidden=!1)}get isVisible(){return m(this,Ks).hidden===!1}}_b=new WeakMap,ZT=new WeakMap,JT=new WeakMap,Ob=new WeakMap,Ub=new WeakMap,Ks=new WeakMap,gf=new WeakMap,xm=new WeakMap,Hb=new WeakMap,lS=new WeakMap,jb=new WeakMap,Ud=new WeakMap,Nc=new WeakMap,Cm=new WeakMap,vf=new WeakMap,cS=new WeakMap,yf=new WeakMap,Qb=new WeakMap,fv=new WeakMap,Sm=new WeakMap,Ci=new WeakSet,IE=function(){var t;if(m(this,Cm))return;Q(this,Cm,new AbortController);const{signal:e}=m(this,Cm);for(const r of this.trigger)r.addEventListener("click",m(this,Ob),{signal:e}),r.addEventListener("mouseenter",m(this,JT),{signal:e}),r.addEventListener("mouseleave",m(this,ZT),{signal:e}),r.classList.add("popupTriggerArea");for(const r of m(this,Hb))(t=r.container)==null||t.addEventListener("keydown",m(this,_b),{signal:e})},ME=function(){const e=m(this,yf),t=m(this,gf);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,yf).html||null},P3=function(){var e,t,r;return((r=(t=(e=m(this,Ci,ME))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},XW=function(){var e,t,r;return((r=(t=(e=m(this,Ci,ME))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},YW=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,Ci,XW),fontSize:m(this,Ci,P3)?`calc(${m(this,Ci,P3)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},ZW=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,Ud))&&ne(this,Ci,RE).call(this)},JW=function(){if(m(this,vf)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=m(this,lS);let o=!!m(this,jb),a=o?m(this,jb):m(this,cS);for(const v of m(this,Hb))if(!a||Xn.intersect(v.data.rect,a)!==null){a=v.data.rect,o=!0;break}const l=Xn.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,A=l[0]+u,h=l[1];Q(this,vf,[100*(A-i)/t,100*(h-s)/r]);const{style:f}=m(this,Ks);f.left=`${m(this,vf)[0]}%`,f.top=`${m(this,vf)[1]}%`},RE=function(){Q(this,Ud,!m(this,Ud)),m(this,Ud)?(ne(this,Ci,DE).call(this),m(this,Ks).addEventListener("click",m(this,Ob)),m(this,Ks).addEventListener("keydown",m(this,_b))):(ne(this,Ci,L3).call(this),m(this,Ks).removeEventListener("click",m(this,Ob)),m(this,Ks).removeEventListener("keydown",m(this,_b)))},DE=function(){m(this,Nc)||this.render(),this.isVisible?m(this,Ud)&&m(this,Ks).classList.add("focused"):(ne(this,Ci,JW).call(this),m(this,Ks).hidden=!1,m(this,Ks).style.zIndex=parseInt(m(this,Ks).style.zIndex)+1e3)},L3=function(){m(this,Ks).classList.remove("focused"),!(m(this,Ud)||!this.isVisible)&&(m(this,Ks).hidden=!0,m(this,Ks).style.zIndex=parseInt(m(this,Ks).style.zIndex)-1e3)};class $W extends ao{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Nr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var uS;class pye extends ao{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,uS,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=Q(this,uS,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,uS)}addHighlightArea(){this.container.classList.add("highlightArea")}}uS=new WeakMap;var AS;class mye extends ao{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,AS,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=Q(this,AS,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,AS)}addHighlightArea(){this.container.classList.add("highlightArea")}}AS=new WeakMap;var dS;class gye extends ao{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,dS,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=Q(this,dS,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,dS)}addHighlightArea(){this.container.classList.add("highlightArea")}}dS=new WeakMap;var hS;class eq extends ao{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,hS,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:o,height:a}=this;if(!r)return this.container;const l=this.svgFactory.create(o,a,!0);let c=[];for(let A=0,h=r.length;A<h;A+=2){const f=r[A]-t[0],v=t[3]-r[A+1];c.push(`${f},${v}`)}c=c.join(" ");const u=Q(this,hS,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,hS)}addHighlightArea(){this.container.classList.add("highlightArea")}}hS=new WeakMap;class vye extends eq{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class yye extends ao{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var fS,pv,pS,I3;class iD extends ao{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});Z(this,pS);Z(this,fS,null);Z(this,pv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nr.HIGHLIGHT:Nr.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:c}=ne(this,pS,I3).call(this,r,t),u=this.svgFactory.create(l,c,!0),A=Q(this,fS,this.svgFactory.createElement("svg:g"));u.append(A),A.setAttribute("stroke-width",s.width||1),A.setAttribute("stroke-linecap","round"),A.setAttribute("stroke-linejoin","round"),A.setAttribute("stroke-miterlimit",10),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),A.setAttribute("transform",a);for(let h=0,f=i.length;h<f;h++){const v=this.svgFactory.createElement(this.svgElementName);m(this,pv).push(v),v.setAttribute("points",i[h].join(",")),A.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,o=m(this,fS);if(r>=0&&o.setAttribute("stroke-width",r||1),i)for(let a=0,l=m(this,pv).length;a<l;a++)m(this,pv)[a].setAttribute("points",i[a].join(","));if(s){const{transform:a,width:l,height:c}=ne(this,pS,I3).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return m(this,pv)}addHighlightArea(){this.container.classList.add("highlightArea")}}fS=new WeakMap,pv=new WeakMap,pS=new WeakSet,I3=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class tq extends ao{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nr.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class bye extends ao{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class wye extends ao{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class xye extends ao{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nq extends ao{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mS,gS,M3;class Cye extends ao{constructor(t){var i;super(t,{isRenderable:!0});Z(this,gS);Z(this,mS,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ne(this,gS,M3).bind(this)),Q(this,mS,i);const{isMac:s}=Na.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&ne(this,gS,M3).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,mS)}addHighlightArea(){this.container.classList.add("highlightArea")}}mS=new WeakMap,gS=new WeakSet,M3=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var vS,mv,Bm,yS,wg,D3,_3;const jD=class jD{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){Z(this,wg);Z(this,vS,null);Z(this,mv,null);Z(this,Bm,new Map);Z(this,yS,null);this.div=e,Q(this,vS,t),Q(this,mv,r),Q(this,yS,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,Bm).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;ny(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new yT,annotationStorage:e.annotationStorage||new eD,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Ao.POPUP;if(l){const A=i.get(a.id);if(!A)continue;s.elements=A}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const c=A6.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const A=i.get(a.popupRef);A?A.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),await ne(this,wg,D3).call(this,u,a.id,s.elements),c._isEditable&&(m(this,Bm).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}ne(this,wg,_3).call(this)}async addLinkAnnotations(e,t){const r={data:null,layer:this.div,linkService:t,svgFactory:new yT,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=jD._defaultBorderStyle),r.data=i;const s=A6.create(r);if(!s.isRenderable)continue;const o=s.render();await ne(this,wg,D3).call(this,o,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,ny(t,{rotation:e.rotation}),ne(this,wg,_3).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,Bm).values())}getEditableAnnotation(e){return m(this,Bm).get(e)}static get _defaultBorderStyle(){return Yr(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:p1.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};vS=new WeakMap,mv=new WeakMap,Bm=new WeakMap,yS=new WeakMap,wg=new WeakSet,D3=async function(e,t,r){var a,l;const i=e.firstChild||e,s=i.id=`${ZR}${t}`,o=await((a=m(this,yS))==null?void 0:a.getAriaAttributes(s));if(o)for(const[c,u]of o)i.setAttribute(c,u);r?r.at(-1).container.after(e):(this.div.append(e),(l=m(this,vS))==null||l.moveElementInDOM(this.div,e,i,!1))},_3=function(){var t;if(!m(this,mv))return;const e=this.div;for(const[r,i]of m(this,mv)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const a=m(this,Bm).get(r);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),a._hasNoCanvas=!1):a.canvas=i)}m(this,mv).clear()};let R3=jD;const z5=/\r\n?|\n/g;var Fu,kc,bS,gv,Pc,yo,rq,iq,sq,_E,_f,OE,UE,oq,U3,aq;const is=class is extends as{constructor(t){super({...t,name:"freeTextEditor"});Z(this,yo);Z(this,Fu);Z(this,kc,"");Z(this,bS,`${this.id}-editor`);Z(this,gv,null);Z(this,Pc);Wt(this,"_colorPicker",null);Q(this,Fu,t.color||is._defaultColor||as._defaultLineColor),Q(this,Pc,t.fontSize||is._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=is.prototype,r=o=>o.isEmpty(),i=ry.TRANSLATE_SMALL,s=ry.TRANSLATE_BIG;return Yr(this,"_keyboardManager",new $S([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){as.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case oi.FREETEXT_SIZE:is._defaultFontSize=r;break;case oi.FREETEXT_COLOR:is._defaultColor=r;break}}updateParams(t,r){switch(t){case oi.FREETEXT_SIZE:ne(this,yo,rq).call(this,r);break;case oi.FREETEXT_COLOR:ne(this,yo,iq).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oi.FREETEXT_SIZE,is._defaultFontSize],[oi.FREETEXT_COLOR,is._defaultColor||as._defaultLineColor]]}get propertiesToUpdate(){return[[oi.FREETEXT_SIZE,m(this,Pc)],[oi.FREETEXT_COLOR,m(this,Fu)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new vT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return oi.FREETEXT_COLOR}get colorValue(){return m(this,Fu)}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-is._internalPadding*t,-(is._internalPadding+m(this,Pc))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Q(this,gv,new AbortController);const t=this._uiManager.combinedSignal(m(this,gv));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,bS)),this._isDraggable=!0,(t=m(this,gv))==null||t.abort(),Q(this,gv,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,kc),r=Q(this,kc,ne(this,yo,sq).call(this).trimEnd());if(t===r)return;const i=s=>{if(Q(this,kc,s),!s){this.remove();return}ne(this,yo,UE).call(this),this._uiManager.rebuild(this),ne(this,yo,_E).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),ne(this,yo,_E).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){is._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,bS)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Pc)}px * var(--total-scale-factor))`,i.color=m(this,Fu),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,A]=this.pageDimensions,[h,f]=this.pageTranslation;let v,g;switch(this.rotation){case 0:v=t+(a[0]-h)/u,g=r+this.height-(a[1]-f)/A;break;case 90:v=t+(a[0]-h)/u,g=r-(a[1]-f)/A,[l,c]=[c,-l];break;case 180:v=t-this.width+(a[0]-h)/u,g=r-(a[1]-f)/A,[l,c]=[-l,-c];break;case 270:v=t+(a[0]-h-this.height*A)/u,g=r+(a[1]-f-this.width*u)/A,[l,c]=[-c,l];break}this.setAt(v*s,g*o,l,c)}else this._moveAfterPaste(t,r);ne(this,yo,UE).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,g,x;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=ne(v=is,_f,U3).call(v,r.getData("text")||"").replaceAll(z5,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],A=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(A.push(l.nodeValue.slice(c).replaceAll(z5,"")),b!==this.editorDiv){let S=u;for(const E of this.editorDiv.childNodes){if(E===b){S=A;continue}S.push(ne(g=is,_f,OE).call(g,E))}}u.push(l.nodeValue.slice(0,c).replaceAll(z5,""))}else if(l===this.editorDiv){let b=u,S=0;for(const E of this.editorDiv.childNodes)S++===c&&(b=A),b.push(ne(x=is,_f,OE).call(x,E))}Q(this,kc,`${u.join(`
`)}${s}${A.join(`
`)}`),ne(this,yo,UE).call(this);const h=new Range;let f=Math.sumPrecise(u.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(f<=S){h.setStart(b,f),h.setEnd(b,f);break}f-=S}o.removeAllRanges(),o.addRange(h)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var a;let s=null;if(t instanceof $W){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:A,id:h,popupRef:f,contentsObj:v},textContent:g,textPosition:x,parent:{page:{pageNumber:b}}}=t;if(!g||g.length===0)return null;s=t={annotationType:Nr.FREETEXT,color:Array.from(c),fontSize:l,value:g.join(`
`),position:x,pageIndex:b-1,rect:u.slice(0),rotation:A,annotationElementId:h,id:h,deleted:!1,popupRef:f,comment:(v==null?void 0:v.str)||null}}const o=await super.deserialize(t,r,i);return Q(o,Pc,t.fontSize),Q(o,Fu,Xn.makeHexColor(...t.color)),Q(o,kc,ne(a=is,_f,U3).call(a,t.value)),o._initialData=s,t.comment&&o.setCommentData(t.comment),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=is._internalPadding*this.parentScale,i=this.getRect(r,r),s=as._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Fu)),o={annotationType:Nr.FREETEXT,color:s,fontSize:m(this,Pc),value:ne(this,yo,oq).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),t?(o.isCopy=!0,o):this.annotationElementId&&!ne(this,yo,aq).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t),{style:i}=r;i.fontSize=`calc(${m(this,Pc)}px * var(--total-scale-factor))`,i.color=m(this,Fu),r.replaceChildren();for(const a of m(this,kc).split(`
`)){const l=document.createElement("div");l.append(a?document.createTextNode(a):document.createElement("br")),r.append(l)}const s=is._internalPadding*this.parentScale,o={rect:this.getRect(s,s)};return o.popup=this.hasEditedComment?this.comment:{text:m(this,kc)},t.updateEdited(o),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Fu=new WeakMap,kc=new WeakMap,bS=new WeakMap,gv=new WeakMap,Pc=new WeakMap,yo=new WeakSet,rq=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-m(this,Pc))*this.parentScale),Q(this,Pc,s),ne(this,yo,_E).call(this)},i=m(this,Pc);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oi.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},iq=function(t){const r=s=>{var o;Q(this,Fu,this.editorDiv.style.color=s),(o=this._colorPicker)==null||o.update(s)},i=m(this,Fu);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oi.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},sq=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(ne(i=is,_f,OE).call(i,s)),r=s);return t.join(`
`)},_E=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},_f=new WeakSet,OE=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(z5,"")},UE=function(){if(this.editorDiv.replaceChildren(),!!m(this,kc))for(const t of m(this,kc).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},oq=function(){return m(this,kc).replaceAll(""," ")},U3=function(t){return t.replaceAll(" ","")},aq=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},Z(is,_f),Wt(is,"_freeTextDefaultContent",""),Wt(is,"_internalPadding",0),Wt(is,"_defaultColor",null),Wt(is,"_defaultFontSize",10),Wt(is,"_type","freetext"),Wt(is,"_editorType",Nr.FREETEXT);let O3=is;class kn{toSVGPath(){Ji("Abstract method `toSVGPath` must be implemented.")}get box(){Ji("Abstract getter `box` must be implemented.")}serialize(e,t){Ji("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*i,o[a+1]=r+e[a+1]*s;return o}static _rescaleAndSwap(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*i,o[a+1]=r+e[a]*s;return o}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,o){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}Wt(kn,"PRECISION",1e-4);var Lc,_A,zb,Kb,Hd,Xr,vv,yv,wS,xS,Vb,Gb,Em,CS,$T,eN,Io,qx,lq,cq,uq,Aq,dq,hq;const Wh=class Wh{constructor({x:e,y:t},r,i,s,o,a=0){Z(this,Io);Z(this,Lc);Z(this,_A,[]);Z(this,zb);Z(this,Kb);Z(this,Hd,[]);Z(this,Xr,new Float32Array(18));Z(this,vv);Z(this,yv);Z(this,wS);Z(this,xS);Z(this,Vb);Z(this,Gb);Z(this,Em,[]);Q(this,Lc,r),Q(this,Gb,s*i),Q(this,Kb,o),m(this,Xr).set([NaN,NaN,NaN,NaN,e,t],6),Q(this,zb,a),Q(this,xS,m(Wh,CS)*i),Q(this,wS,m(Wh,eN)*i),Q(this,Vb,i),m(this,Em).push(e,t)}isEmpty(){return isNaN(m(this,Xr)[8])}add({x:e,y:t}){var V;Q(this,vv,e),Q(this,yv,t);const[r,i,s,o]=m(this,Lc);let[a,l,c,u]=m(this,Xr).subarray(8,12);const A=e-c,h=t-u,f=Math.hypot(A,h);if(f<m(this,wS))return!1;const v=f-m(this,xS),g=v/f,x=g*A,b=g*h;let S=a,E=l;a=c,l=u,c+=x,u+=b,(V=m(this,Em))==null||V.push(e,t);const k=-b/v,P=x/v,N=k*m(this,Gb),I=P*m(this,Gb);return m(this,Xr).set(m(this,Xr).subarray(2,8),0),m(this,Xr).set([c+N,u+I],4),m(this,Xr).set(m(this,Xr).subarray(14,18),12),m(this,Xr).set([c-N,u-I],16),isNaN(m(this,Xr)[6])?(m(this,Hd).length===0&&(m(this,Xr).set([a+N,l+I],2),m(this,Hd).push(NaN,NaN,NaN,NaN,(a+N-r)/s,(l+I-i)/o),m(this,Xr).set([a-N,l-I],14),m(this,_A).push(NaN,NaN,NaN,NaN,(a-N-r)/s,(l-I-i)/o)),m(this,Xr).set([S,E,a,l,c,u],6),!this.isEmpty()):(m(this,Xr).set([S,E,a,l,c,u],6),Math.abs(Math.atan2(E-l,S-a)-Math.atan2(b,x))<Math.PI/2?([a,l,c,u]=m(this,Xr).subarray(2,6),m(this,Hd).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+u)/2-i)/o),[a,l,S,E]=m(this,Xr).subarray(14,18),m(this,_A).push(NaN,NaN,NaN,NaN,((S+a)/2-r)/s,((E+l)/2-i)/o),!0):([S,E,a,l,c,u]=m(this,Xr).subarray(0,6),m(this,Hd).push(((S+5*a)/6-r)/s,((E+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),[c,u,a,l,S,E]=m(this,Xr).subarray(12,18),m(this,_A).push(((S+5*a)/6-r)/s,((E+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,Hd),t=m(this,_A);if(isNaN(m(this,Xr)[6])&&!this.isEmpty())return ne(this,Io,lq).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);ne(this,Io,uq).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return ne(this,Io,cq).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new fq(e,t,r,i,s,o)}getOutlines(){var A;const e=m(this,Hd),t=m(this,_A),r=m(this,Xr),[i,s,o,a]=m(this,Lc),l=new Float32Array((((A=m(this,Em))==null?void 0:A.length)??0)+2);for(let h=0,f=l.length-2;h<f;h+=2)l[h]=(m(this,Em)[h]-i)/o,l[h+1]=(m(this,Em)[h+1]-s)/a;if(l[l.length-2]=(m(this,vv)-i)/o,l[l.length-1]=(m(this,yv)-s)/a,isNaN(r[6])&&!this.isEmpty())return ne(this,Io,Aq).call(this,l);const c=new Float32Array(m(this,Hd).length+24+m(this,_A).length);let u=e.length;for(let h=0;h<u;h+=2){if(isNaN(e[h])){c[h]=c[h+1]=NaN;continue}c[h]=e[h],c[h+1]=e[h+1]}u=ne(this,Io,hq).call(this,c,u);for(let h=t.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(t[h+f])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[h+f],c[u+1]=t[h+f+1],u+=2}return ne(this,Io,dq).call(this,c,u),this.newFreeDrawOutline(c,l,m(this,Lc),m(this,Vb),m(this,zb),m(this,Kb))}};Lc=new WeakMap,_A=new WeakMap,zb=new WeakMap,Kb=new WeakMap,Hd=new WeakMap,Xr=new WeakMap,vv=new WeakMap,yv=new WeakMap,wS=new WeakMap,xS=new WeakMap,Vb=new WeakMap,Gb=new WeakMap,Em=new WeakMap,CS=new WeakMap,$T=new WeakMap,eN=new WeakMap,Io=new WeakSet,qx=function(){const e=m(this,Xr).subarray(4,6),t=m(this,Xr).subarray(16,18),[r,i,s,o]=m(this,Lc);return[(m(this,vv)+(e[0]-t[0])/2-r)/s,(m(this,yv)+(e[1]-t[1])/2-i)/o,(m(this,vv)+(t[0]-e[0])/2-r)/s,(m(this,yv)+(t[1]-e[1])/2-i)/o]},lq=function(){const[e,t,r,i]=m(this,Lc),[s,o,a,l]=ne(this,Io,qx).call(this);return`M${(m(this,Xr)[2]-e)/r} ${(m(this,Xr)[3]-t)/i} L${(m(this,Xr)[4]-e)/r} ${(m(this,Xr)[5]-t)/i} L${s} ${o} L${a} ${l} L${(m(this,Xr)[16]-e)/r} ${(m(this,Xr)[17]-t)/i} L${(m(this,Xr)[14]-e)/r} ${(m(this,Xr)[15]-t)/i} Z`},cq=function(e){const t=m(this,_A);e.push(`L${t[4]} ${t[5]} Z`)},uq=function(e){const[t,r,i,s]=m(this,Lc),o=m(this,Xr).subarray(4,6),a=m(this,Xr).subarray(16,18),[l,c,u,A]=ne(this,Io,qx).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${c} L${u} ${A} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},Aq=function(e){const t=m(this,Xr),[r,i,s,o]=m(this,Lc),[a,l,c,u]=ne(this,Io,qx).call(this),A=new Float32Array(36);return A.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(A,e,m(this,Lc),m(this,Vb),m(this,zb),m(this,Kb))},dq=function(e,t){const r=m(this,_A);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},hq=function(e,t){const r=m(this,Xr).subarray(4,6),i=m(this,Xr).subarray(16,18),[s,o,a,l]=m(this,Lc),[c,u,A,h]=ne(this,Io,qx).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,A,h,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24},Z(Wh,CS,8),Z(Wh,$T,2),Z(Wh,eN,m(Wh,CS)+m(Wh,$T));let bT=Wh;var Wb,bv,bf,SS,Ic,BS,to,tN,pq;class fq extends kn{constructor(t,r,i,s,o,a){super();Z(this,tN);Z(this,Wb);Z(this,bv,new Float32Array(4));Z(this,bf);Z(this,SS);Z(this,Ic);Z(this,BS);Z(this,to);Q(this,to,t),Q(this,Ic,r),Q(this,Wb,i),Q(this,BS,s),Q(this,bf,o),Q(this,SS,a),this.lastPoint=[NaN,NaN],ne(this,tN,pq).call(this,a);const[l,c,u,A]=m(this,bv);for(let h=0,f=t.length;h<f;h+=2)t[h]=(t[h]-l)/u,t[h+1]=(t[h+1]-c)/A;for(let h=0,f=r.length;h<f;h+=2)r[h]=(r[h]-l)/u,r[h+1]=(r[h+1]-c)/A}toSVGPath(){const t=[`M${m(this,to)[4]} ${m(this,to)[5]}`];for(let r=6,i=m(this,to).length;r<i;r+=6){if(isNaN(m(this,to)[r])){t.push(`L${m(this,to)[r+4]} ${m(this,to)[r+5]}`);continue}t.push(`C${m(this,to)[r]} ${m(this,to)[r+1]} ${m(this,to)[r+2]} ${m(this,to)[r+3]} ${m(this,to)[r+4]} ${m(this,to)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,u;switch(o){case 0:c=kn._rescale(m(this,to),t,s,a,-l),u=kn._rescale(m(this,Ic),t,s,a,-l);break;case 90:c=kn._rescaleAndSwap(m(this,to),t,r,a,l),u=kn._rescaleAndSwap(m(this,Ic),t,r,a,l);break;case 180:c=kn._rescale(m(this,to),i,r,-a,l),u=kn._rescale(m(this,Ic),i,r,-a,l);break;case 270:c=kn._rescaleAndSwap(m(this,to),i,s,-a,-l),u=kn._rescaleAndSwap(m(this,Ic),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return m(this,bv)}newOutliner(t,r,i,s,o,a=0){return new bT(t,r,i,s,o,a)}getNewOutline(t,r){const[i,s,o,a]=m(this,bv),[l,c,u,A]=m(this,Wb),h=o*u,f=a*A,v=i*u+l,g=s*A+c,x=this.newOutliner({x:m(this,Ic)[0]*h+v,y:m(this,Ic)[1]*f+g},m(this,Wb),m(this,BS),t,m(this,SS),r??m(this,bf));for(let b=2;b<m(this,Ic).length;b+=2)x.add({x:m(this,Ic)[b]*h+v,y:m(this,Ic)[b+1]*f+g});return x.getOutlines()}}Wb=new WeakMap,bv=new WeakMap,bf=new WeakMap,SS=new WeakMap,Ic=new WeakMap,BS=new WeakMap,to=new WeakMap,tN=new WeakSet,pq=function(t){const r=m(this,to);let i=r[4],s=r[5];const o=[i,s,i,s];let a=i,l=s;const c=t?Math.max:Math.min;for(let A=6,h=r.length;A<h;A+=6){const f=r[A+4],v=r[A+5];if(isNaN(r[A]))Xn.pointBoundingBox(f,v,o),l<v?(a=f,l=v):l===v&&(a=c(a,f));else{const g=[1/0,1/0,-1/0,-1/0];Xn.bezierBoundingBox(i,s,...r.slice(A,A+6),g),Xn.rectBoundingBox(...g,o),l<g[3]?(a=g[2],l=g[3]):l===g[3]&&(a=c(a,g[2]))}i=f,s=v}const u=m(this,bv);u[0]=o[0]-m(this,bf),u[1]=o[1]-m(this,bf),u[2]=o[2]-o[0]+2*m(this,bf),u[3]=o[3]-o[1]+2*m(this,bf),this.lastPoint=[a,l]};var ES,FS,Fm,OA,Ll,mq,HE,gq,vq,j3;class H3{constructor(e,t=0,r=0,i=!0){Z(this,Ll);Z(this,ES);Z(this,FS);Z(this,Fm,[]);Z(this,OA,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:f,y:v,width:g,height:x}of e){const b=Math.floor((f-t)/o)*o,S=Math.ceil((f+g+t)/o)*o,E=Math.floor((v-t)/o)*o,k=Math.ceil((v+x+t)/o)*o,P=[b,E,k,!0],N=[S,E,k,!1];m(this,Fm).push(P,N),Xn.rectBoundingBox(b,E,S,k,s)}const a=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,u=s[1]-r,A=m(this,Fm).at(i?-1:-2),h=[A[0],A[2]];for(const f of m(this,Fm)){const[v,g,x]=f;f[0]=(v-c)/a,f[1]=(g-u)/l,f[2]=(x-u)/l}Q(this,ES,new Float32Array([c,u,a,l])),Q(this,FS,h)}getOutlines(){m(this,Fm).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of m(this,Fm))t[3]?(e.push(...ne(this,Ll,j3).call(this,t)),ne(this,Ll,gq).call(this,t)):(ne(this,Ll,vq).call(this,t),e.push(...ne(this,Ll,j3).call(this,t)));return ne(this,Ll,mq).call(this,e)}}ES=new WeakMap,FS=new WeakMap,Fm=new WeakMap,OA=new WeakMap,Ll=new WeakSet,mq=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,u,A]=o;r.delete(o);let h=a,f=l;for(s=[a,c],i.push(s);;){let v;if(r.has(u))v=u;else if(r.has(A))v=A;else break;r.delete(v),[a,l,c,u,A]=v,h!==a&&(s.push(h,f,a,f===l?l:c),h=a),f=f===l?c:l}s.push(h,f)}return new Sye(i,m(this,ES),m(this,FS))},HE=function(e){const t=m(this,OA);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},gq=function([,e,t]){const r=ne(this,Ll,HE).call(this,e);m(this,OA).splice(r,0,[e,t])},vq=function([,e,t]){const r=ne(this,Ll,HE).call(this,e);for(let i=r;i<m(this,OA).length;i++){const[s,o]=m(this,OA)[i];if(s!==e)break;if(s===e&&o===t){m(this,OA).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=m(this,OA)[i];if(s!==e)break;if(s===e&&o===t){m(this,OA).splice(i,1);return}}},j3=function(e){const[t,r,i]=e,s=[[t,r,i]],o=ne(this,Ll,HE).call(this,i);for(let a=0;a<o;a++){const[l,c]=m(this,OA)[a];for(let u=0,A=s.length;u<A;u++){const[,h,f]=s[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)s[u][1]=c;else{if(A===1)return[];s.splice(u,1),u--,A--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s};var TS,qb;class Sye extends kn{constructor(t,r,i){super();Z(this,TS);Z(this,qb);Q(this,qb,t),Q(this,TS,r),this.lastPoint=i}toSVGPath(){const t=[];for(const r of m(this,qb)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const u of m(this,qb)){const A=new Array(u.length);for(let h=0;h<u.length;h+=2)A[h]=t+u[h]*l,A[h+1]=s-u[h+1]*c;a.push(A)}return a}get box(){return m(this,TS)}get classNamesForOutlining(){return["highlightOutline"]}}TS=new WeakMap,qb=new WeakMap;class Q3 extends bT{newFreeDrawOutline(e,t,r,i,s,o){return new Bye(e,t,r,i,s,o)}}class Bye extends fq{newOutliner(e,t,r,i,s,o=0){return new Q3(e,t,r,i,s,o)}}var Xb,NS,wf,wv,kS,ic,PS,LS,xv,Tu,Mc,va,Yb,xf,Xa,Zb,Nu,IS,_r,z3,jE,yq,bq,wq,K3,h0,Du,w1,xq,QE,Xx,Cq,Sq,Bq,Eq,Fq;const Ni=class Ni extends as{constructor(t){super({...t,name:"highlightEditor"});Z(this,_r);Z(this,Xb,null);Z(this,NS,0);Z(this,wf);Z(this,wv,null);Z(this,kS,null);Z(this,ic,null);Z(this,PS,null);Z(this,LS,0);Z(this,xv,null);Z(this,Tu,null);Z(this,Mc,null);Z(this,va,!1);Z(this,Yb,null);Z(this,xf);Z(this,Xa,null);Z(this,Zb,"");Z(this,Nu);Z(this,IS,"");this.color=t.color||Ni._defaultColor,Q(this,Nu,t.thickness||Ni._defaultThickness),Q(this,xf,t.opacity||Ni._defaultOpacity),Q(this,wf,t.boxes||null),Q(this,IS,t.methodOfCreation||""),Q(this,Zb,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(Q(this,va,!0),ne(this,_r,jE).call(this,t),ne(this,_r,h0).call(this)):m(this,wf)&&(Q(this,Xb,t.anchorNode),Q(this,NS,t.anchorOffset),Q(this,PS,t.focusNode),Q(this,LS,t.focusOffset),ne(this,_r,z3).call(this),ne(this,_r,h0).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ni.prototype;return Yr(this,"_keyboardManager",new $S([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,va)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:m(this,Nu),methodOfCreation:m(this,IS)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;as.initialize(t,r),Ni._defaultColor||(Ni._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case oi.HIGHLIGHT_COLOR:Ni._defaultColor=r;break;case oi.HIGHLIGHT_THICKNESS:Ni._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return m(this,Yb)}updateParams(t,r){switch(t){case oi.HIGHLIGHT_COLOR:ne(this,_r,yq).call(this,r);break;case oi.HIGHLIGHT_THICKNESS:ne(this,_r,bq).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oi.HIGHLIGHT_COLOR,Ni._defaultColor],[oi.HIGHLIGHT_THICKNESS,Ni._defaultThickness]]}get propertiesToUpdate(){return[[oi.HIGHLIGHT_COLOR,this.color||Ni._defaultColor],[oi.HIGHLIGHT_THICKNESS,m(this,Nu)||Ni._defaultThickness],[oi.HIGHLIGHT_FREE,m(this,va)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",Q(this,kS,new gT({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ne(this,_r,Xx).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,ne(this,_r,Xx).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ne(this,_r,K3).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ne(this,_r,h0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?ne(this,_r,K3).call(this):t&&(ne(this,_r,h0).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;m(this,va)?(t=(t-this.rotation+360)%360,i=ne(s=Ni,Du,w1).call(s,m(this,Tu).box,t)):i=ne(o=Ni,Du,w1).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(m(this,Mc),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(m(this,Xa),{bbox:ne(a=Ni,Du,w1).call(a,m(this,ic).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();m(this,Zb)&&(t.setAttribute("aria-label",m(this,Zb)),t.setAttribute("role","mark")),m(this,va)?t.classList.add("free"):this.div.addEventListener("keydown",ne(this,_r,xq).bind(this),{signal:this._uiManager._signal});const r=Q(this,xv,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,wv);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),qG(this,m(this,xv),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(m(this,Xa),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(m(this,Xa),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ne(this,_r,QE).call(this,!0);break;case 1:case 3:ne(this,_r,QE).call(this,!1);break}}select(){var t;super.select(),m(this,Xa)&&((t=this.parent)==null||t.drawLayer.updateProperties(m(this,Xa),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),m(this,Xa)&&((t=this.parent)==null||t.drawLayer.updateProperties(m(this,Xa),{rootClass:{selected:!1}}),m(this,va)||ne(this,_r,QE).call(this,!1))}get _mustFixPosition(){return!m(this,va)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(m(this,Mc),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(m(this,Xa),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),A=new AbortController,h=t.combinedSignal(A),f=v=>{A.abort(),ne(this,Du,Eq).call(this,t,v)};window.addEventListener("blur",f,{signal:h}),window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("pointerdown",ho,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ku,{signal:h}),i.addEventListener("pointermove",ne(this,Du,Bq).bind(this,t),{signal:h}),this._freeHighlight=new Q3({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var g,x,b,S;let s=null;if(t instanceof tq){const{data:{quadPoints:E,rect:k,rotation:P,id:N,color:I,opacity:U,popupRef:V,contentsObj:W},parent:{page:{pageNumber:L}}}=t;s=t={annotationType:Nr.HIGHLIGHT,color:Array.from(I),opacity:U,quadPoints:E,boxes:null,pageIndex:L-1,rect:k.slice(0),rotation:P,annotationElementId:N,id:N,deleted:!1,popupRef:V,comment:(W==null?void 0:W.str)||null}}else if(t instanceof iD){const{data:{inkLists:E,rect:k,rotation:P,id:N,color:I,borderStyle:{rawWidth:U},popupRef:V,contentsObj:W},parent:{page:{pageNumber:L}}}=t;s=t={annotationType:Nr.HIGHLIGHT,color:Array.from(I),thickness:U,inkLists:E,boxes:null,pageIndex:L-1,rect:k.slice(0),rotation:P,annotationElementId:N,id:N,deleted:!1,popupRef:V,comment:(W==null?void 0:W.str)||null}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,u=await super.deserialize(t,r,i);u.color=Xn.makeHexColor(...o),Q(u,xf,c||1),l&&Q(u,Nu,t.thickness),u._initialData=s,t.comment&&u.setCommentData(t.comment);const[A,h]=u.pageDimensions,[f,v]=u.pageTranslation;if(a){const E=Q(u,wf,[]);for(let k=0;k<a.length;k+=8)E.push({x:(a[k]-f)/A,y:1-(a[k+1]-v)/h,width:(a[k+2]-a[k])/A,height:(a[k+1]-a[k+5])/h});ne(g=u,_r,z3).call(g),ne(x=u,_r,h0).call(x),u.rotate(u.rotation)}else if(l){Q(u,va,!0);const E=l[0],k={x:E[0]-f,y:h-(E[1]-v)},P=new Q3(k,[0,0,A,h],1,m(u,Nu)/2,!0,.001);for(let U=0,V=E.length;U<V;U+=2)k.x=E[U]-f,k.y=h-(E[U+1]-v),P.add(k);const{id:N,clipPathId:I}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);ne(b=u,_r,jE).call(b,{highlightOutlines:P.getOutlines(),highlightId:N,clipPathId:I}),ne(S=u,_r,h0).call(S),u.rotate(u.parentRotation)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=as._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s={annotationType:Nr.HIGHLIGHT,color:i,opacity:m(this,xf),thickness:m(this,Nu),quadPoints:ne(this,_r,Cq).call(this),outlines:ne(this,_r,Sq).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:ne(this,_r,Xx).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(s),this.annotationElementId&&!ne(this,_r,Fq).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){const r={rect:this.getRect(0,0)};return this.hasEditedComment&&(r.popup=this.comment),t.updateEdited(r),null}static canCreateNewEmptyEditor(){return!1}};Xb=new WeakMap,NS=new WeakMap,wf=new WeakMap,wv=new WeakMap,kS=new WeakMap,ic=new WeakMap,PS=new WeakMap,LS=new WeakMap,xv=new WeakMap,Tu=new WeakMap,Mc=new WeakMap,va=new WeakMap,Yb=new WeakMap,xf=new WeakMap,Xa=new WeakMap,Zb=new WeakMap,Nu=new WeakMap,IS=new WeakMap,_r=new WeakSet,z3=function(){const t=new H3(m(this,wf),.001);Q(this,Tu,t.getOutlines()),[this.x,this.y,this.width,this.height]=m(this,Tu).box;const r=new H3(m(this,wf),.0025,.001,this._uiManager.direction==="ltr");Q(this,ic,r.getOutlines());const{lastPoint:i}=m(this,ic);Q(this,Yb,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},jE=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var A,h;if(Q(this,Tu,t),Q(this,ic,t.getNewOutline(m(this,Nu)/2+1.5,.0025)),r>=0)Q(this,Mc,r),Q(this,wv,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),Q(this,Xa,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:m(this,ic).box,path:{d:m(this,ic).toSVGPath()}},!0));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(m(this,Mc),{bbox:ne(A=Ni,Du,w1).call(A,m(this,Tu).box,(f-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(m(this,Xa),{bbox:ne(h=Ni,Du,w1).call(h,m(this,ic).box,f),path:{d:m(this,ic).toSVGPath()}})}const[o,a,l,c]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[f,v]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*v/f,this.height=c*f/v;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[f,v]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*v/f,this.height=c*f/v;break}}const{lastPoint:u}=m(this,ic);Q(this,Yb,[(u[0]-o)/l,(u[1]-a)/c])},yq=function(t){const r=(o,a)=>{var l,c;this.color=o,Q(this,xf,a),(l=this.parent)==null||l.drawLayer.updateProperties(m(this,Mc),{root:{fill:o,"fill-opacity":a}}),(c=m(this,kS))==null||c.updateColor(o)},i=this.color,s=m(this,xf);this.addCommands({cmd:r.bind(this,t,Ni._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oi.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},bq=function(t){const r=m(this,Nu),i=s=>{Q(this,Nu,s),ne(this,_r,wq).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oi.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},wq=function(t){if(!m(this,va))return;ne(this,_r,jE).call(this,{highlightOutlines:m(this,Tu).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},K3=function(){m(this,Mc)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Mc)),Q(this,Mc,null),this.parent.drawLayer.remove(m(this,Xa)),Q(this,Xa,null))},h0=function(t=this.parent){m(this,Mc)===null&&({id:Ko(this,Mc)._,clipPathId:Ko(this,wv)._}=t.drawLayer.draw({bbox:m(this,Tu).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":m(this,xf)},rootClass:{highlight:!0,free:m(this,va)},path:{d:m(this,Tu).toSVGPath()}},!1,!0),Q(this,Xa,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:m(this,va)},bbox:m(this,ic).box,path:{d:m(this,ic).toSVGPath()}},m(this,va))),m(this,xv)&&(m(this,xv).style.clipPath=m(this,wv)))},Du=new WeakSet,w1=function([t,r,i,s],o){switch(o){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},xq=function(t){Ni._keyboardManager.exec(this,t)},QE=function(t){if(!m(this,Xb))return;const r=window.getSelection();t?r.setPosition(m(this,Xb),m(this,NS)):r.setPosition(m(this,PS),m(this,LS))},Xx=function(){return m(this,va)?this.rotation:0},Cq=function(){if(m(this,va))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=m(this,wf),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:A,height:h}of o){const f=c*t+i,v=(1-u)*r+s;a[l]=a[l+4]=f,a[l+1]=a[l+3]=v,a[l+2]=a[l+6]=f+A*t,a[l+5]=a[l+7]=v-h*r,l+=8}return a},Sq=function(t){return m(this,Tu).serialize(t,ne(this,_r,Xx).call(this))},Bq=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Eq=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Fq=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},Z(Ni,Du),Wt(Ni,"_defaultColor",null),Wt(Ni,"_defaultOpacity",1),Wt(Ni,"_defaultThickness",12),Wt(Ni,"_type","highlight"),Wt(Ni,"_editorType",Nr.HIGHLIGHT),Wt(Ni,"_freeHighlightId",-1),Wt(Ni,"_freeHighlight",null),Wt(Ni,"_freeHighlightClipId","");let wT=Ni;var Cv;class Tq{constructor(){Z(this,Cv,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){m(this,Cv)[e]=t}toSVGProperties(){const e=m(this,Cv);return Q(this,Cv,Object.create(null)),{root:e}}reset(){Q(this,Cv,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ji("Not implemented")}}Cv=new WeakMap;var Rc,Jb,qo,Sv,Bv,Tm,Nm,km,Ev,pi,V3,G3,W3,Yx,Nq,zE,Zx,x1;const Mn=class Mn extends as{constructor(t){super(t);Z(this,pi);Z(this,Rc,null);Z(this,Jb);Wt(this,"_colorPicker",null);Wt(this,"_drawId",null);Q(this,Jb,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(ne(this,pi,V3).call(this,t),ne(this,pi,Yx).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,o]of Object.entries(r))i.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){Ji("Not implemented")}static get typesMap(){Ji("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(m(Mn,qo).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,o=s[r],a=l=>{var u,A;s.updateProperty(r,l);const c=m(this,Rc).updateProperty(r,l);c&&ne(this,pi,Zx).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&((A=this._colorPicker)==null||A.update(l))};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Mn._mergeSVGProperties(m(this,Rc).getPathResizingSVGProperties(ne(this,pi,zE).call(this)),{bbox:ne(this,pi,x1).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Mn._mergeSVGProperties(m(this,Rc).getPathResizedSVGProperties(ne(this,pi,zE).call(this)),{bbox:ne(this,pi,x1).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:ne(this,pi,x1).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Mn._mergeSVGProperties(m(this,Rc).getPathTranslatedSVGProperties(ne(this,pi,zE).call(this),this.parentDimensions),{bbox:ne(this,pi,x1).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,m(this,Jb)&&(Q(this,Jb,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ne(this,pi,W3).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ne(this,pi,Yx).call(this),ne(this,pi,Zx).call(this,m(this,Rc).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ne(this,pi,W3).call(this)):t&&(this._uiManager.addShouldRescale(this),ne(this,pi,Yx).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Mn._mergeSVGProperties({bbox:ne(this,pi,x1).call(this)},m(this,Rc).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ne(this,pi,Zx).call(this,m(this,Rc).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,o){Ji("Not implemented")}static startDrawing(t,r,i,s){var x;const{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:u}=s;if(m(Mn,Nm)&&m(Mn,Nm)!==u)return;const{viewport:{rotation:A}}=t,{width:h,height:f}=o.getBoundingClientRect(),v=Q(Mn,Sv,new AbortController),g=t.combinedSignal(v);if(m(Mn,Tm)||Q(Mn,Tm,c),m(Mn,Nm)??Q(Mn,Nm,u),window.addEventListener("pointerup",b=>{var S;m(Mn,Tm)===b.pointerId?this._endDraw(b):(S=m(Mn,km))==null||S.delete(b.pointerId)},{signal:g}),window.addEventListener("pointercancel",b=>{var S;m(Mn,Tm)===b.pointerId?this._currentParent.endDrawingSession():(S=m(Mn,km))==null||S.delete(b.pointerId)},{signal:g}),window.addEventListener("pointerdown",b=>{m(Mn,Nm)===b.pointerType&&((m(Mn,km)||Q(Mn,km,new Set)).add(b.pointerId),m(Mn,qo).isCancellable()&&(m(Mn,qo).removeLastElement(),m(Mn,qo).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Ku,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",b=>{b.timeStamp===m(Mn,Ev)&&ho(b)},{signal:g}),t.toggleDrawing(),(x=r._editorUndoBar)==null||x.hide(),m(Mn,qo)){t.drawLayer.updateProperties(this._currentDrawId,m(Mn,qo).startNew(a,l,h,f,A));return}r.updateUIForDefaultProperties(this),Q(Mn,qo,this.createDrawerInstance(a,l,h,f,A)),Q(Mn,Bv,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(m(Mn,Bv).toSVGProperties(),m(Mn,qo).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(Q(Mn,Ev,-1),!m(Mn,qo))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(m(Mn,Tm)===s){if(((o=m(Mn,km))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,m(Mn,qo).add(r,i)),Q(Mn,Ev,t.timeStamp),ho(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Q(Mn,qo,null),Q(Mn,Bv,null),Q(Mn,Nm,null),Q(Mn,Ev,NaN)),m(Mn,Sv)&&(m(Mn,Sv).abort(),Q(Mn,Sv,null),Q(Mn,Tm,NaN),Q(Mn,km,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,m(Mn,qo).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=m(Mn,qo),s=this._currentDrawId,o=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:oi.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(oi.DRAW_STEP),!m(Mn,qo).isEmpty()){const{pageDimensions:[i,s],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:m(Mn,qo).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:m(Mn,Bv),mustBeCommitted:!t});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,o,a){Ji("Not implemented")}static async deserialize(t,r,i){var A,h;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=r.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,t),u=await super.deserialize(t,r,i);return u.createDrawingOptions(t),ne(A=u,pi,V3).call(A,{drawOutlines:c}),ne(h=u,pi,Yx).call(h),u.onScaleChanging(),u.rotate(),u}serializeDraw(t){const[r,i]=this.pageTranslation,[s,o]=this.pageDimensions;return m(this,Rc).serialize([r,i,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Rc=new WeakMap,Jb=new WeakMap,qo=new WeakMap,Sv=new WeakMap,Bv=new WeakMap,Tm=new WeakMap,Nm=new WeakMap,km=new WeakMap,Ev=new WeakMap,pi=new WeakSet,V3=function({drawOutlines:t,drawId:r,drawingOptions:i}){Q(this,Rc,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=ne(this,pi,G3).call(this,t,this.parent),ne(this,pi,Zx).call(this,t.box)},G3=function(t,r){const{id:i}=r.drawLayer.draw(Mn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},W3=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Yx=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ne(this,pi,G3).call(this,m(this,Rc),t)}},Nq=function([t,r,i,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},zE=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},Zx=function(t){if([this.x,this.y,this.width,this.height]=ne(this,pi,Nq).call(this,t),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},x1=function(){const{x:t,y:r,width:i,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,t,i*(l/c),s*(c/l)];case 6:return[1-t-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-t-s*(c/l),i*(l/c),s*(c/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),t-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-t,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-t,i*(l/c),s*(c/l)];default:return[t,r,i,s]}},Wt(Mn,"_currentDrawId",-1),Wt(Mn,"_currentParent",null),Z(Mn,qo,null),Z(Mn,Sv,null),Z(Mn,Bv,null),Z(Mn,Tm,NaN),Z(Mn,Nm,null),Z(Mn,km,null),Z(Mn,Ev,NaN),Wt(Mn,"_INNER_MARGIN",3);let xT=Mn;var jd,Xo,Yo,Fv,$b,yl,ya,ku,Tv,Nv,kv,ew,KE;class Eye{constructor(e,t,r,i,s,o){Z(this,ew);Z(this,jd,new Float64Array(6));Z(this,Xo);Z(this,Yo);Z(this,Fv);Z(this,$b);Z(this,yl);Z(this,ya,"");Z(this,ku,0);Z(this,Tv,new tB);Z(this,Nv);Z(this,kv);Q(this,Nv,r),Q(this,kv,i),Q(this,Fv,s),Q(this,$b,o),[e,t]=ne(this,ew,KE).call(this,e,t);const a=Q(this,Xo,[NaN,NaN,NaN,NaN,e,t]);Q(this,yl,[e,t]),Q(this,Yo,[{line:a,points:m(this,yl)}]),m(this,jd).set(a,0)}updateProperty(e,t){e==="stroke-width"&&Q(this,$b,t)}isEmpty(){return!m(this,Yo)||m(this,Yo).length===0}isCancellable(){return m(this,yl).length<=10}add(e,t){[e,t]=ne(this,ew,KE).call(this,e,t);const[r,i,s,o]=m(this,jd).subarray(2,6),a=e-s,l=t-o;return Math.hypot(m(this,Nv)*a,m(this,kv)*l)<=2?null:(m(this,yl).push(e,t),isNaN(r)?(m(this,jd).set([s,o,e,t],2),m(this,Xo).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(m(this,jd)[0])&&m(this,Xo).splice(6,6),m(this,jd).set([r,i,s,o,e,t],0),m(this,Xo).push(...kn.createBezierPoints(r,i,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(m(this,yl).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){Q(this,Nv,r),Q(this,kv,i),Q(this,Fv,s),[e,t]=ne(this,ew,KE).call(this,e,t);const o=Q(this,Xo,[NaN,NaN,NaN,NaN,e,t]);Q(this,yl,[e,t]);const a=m(this,Yo).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),m(this,Yo).push({line:o,points:m(this,yl)}),m(this,jd).set(o,0),Q(this,ku,0),this.toSVGPath(),null}getLastElement(){return m(this,Yo).at(-1)}setLastElement(e){return m(this,Yo)?(m(this,Yo).push(e),Q(this,Xo,e.line),Q(this,yl,e.points),Q(this,ku,0),{path:{d:this.toSVGPath()}}):m(this,Tv).setLastElement(e)}removeLastElement(){if(!m(this,Yo))return m(this,Tv).removeLastElement();m(this,Yo).pop(),Q(this,ya,"");for(let e=0,t=m(this,Yo).length;e<t;e++){const{line:r,points:i}=m(this,Yo)[e];Q(this,Xo,r),Q(this,yl,i),Q(this,ku,0),this.toSVGPath()}return{path:{d:m(this,ya)}}}toSVGPath(){const e=kn.svgRound(m(this,Xo)[4]),t=kn.svgRound(m(this,Xo)[5]);if(m(this,yl).length===2)return Q(this,ya,`${m(this,ya)} M ${e} ${t} Z`),m(this,ya);if(m(this,yl).length<=6){const i=m(this,ya).lastIndexOf("M");Q(this,ya,`${m(this,ya).slice(0,i)} M ${e} ${t}`),Q(this,ku,6)}if(m(this,yl).length===4){const i=kn.svgRound(m(this,Xo)[10]),s=kn.svgRound(m(this,Xo)[11]);return Q(this,ya,`${m(this,ya)} L ${i} ${s}`),Q(this,ku,12),m(this,ya)}const r=[];m(this,ku)===0&&(r.push(`M ${e} ${t}`),Q(this,ku,6));for(let i=m(this,ku),s=m(this,Xo).length;i<s;i+=6){const[o,a,l,c,u,A]=m(this,Xo).slice(i,i+6).map(kn.svgRound);r.push(`C${o} ${a} ${l} ${c} ${u} ${A}`)}return Q(this,ya,m(this,ya)+r.join(" ")),Q(this,ku,m(this,Xo).length),m(this,ya)}getOutlines(e,t,r,i){const s=m(this,Yo).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),m(this,Tv).build(m(this,Yo),e,t,r,m(this,Fv),m(this,$b),i),Q(this,jd,null),Q(this,Xo,null),Q(this,Yo,null),Q(this,ya,null),m(this,Tv)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}jd=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,Fv=new WeakMap,$b=new WeakMap,yl=new WeakMap,ya=new WeakMap,ku=new WeakMap,Tv=new WeakMap,Nv=new WeakMap,kv=new WeakMap,ew=new WeakSet,KE=function(e,t){return kn._normalizePoint(e,t,m(this,Nv),m(this,kv),m(this,Fv))};var bl,MS,RS,Dc,Qd,zd,tw,nw,Pv,Ca,Qh,kq,Pq,Lq;class tB extends kn{constructor(){super(...arguments);Z(this,Ca);Z(this,bl);Z(this,MS,0);Z(this,RS);Z(this,Dc);Z(this,Qd);Z(this,zd);Z(this,tw);Z(this,nw);Z(this,Pv)}build(t,r,i,s,o,a,l){Q(this,Qd,r),Q(this,zd,i),Q(this,tw,s),Q(this,nw,o),Q(this,Pv,a),Q(this,RS,l??0),Q(this,Dc,t),ne(this,Ca,Pq).call(this)}get thickness(){return m(this,Pv)}setLastElement(t){return m(this,Dc).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return m(this,Dc).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of m(this,Dc)){if(t.push(`M${kn.svgRound(r[4])} ${kn.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${kn.svgRound(r[10])} ${kn.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[o,a,l,c,u,A]=r.subarray(i,i+6).map(kn.svgRound);t.push(`C${o} ${a} ${l} ${c} ${u} ${A}`)}}return t.join("")}serialize([t,r,i,s],o){const a=[],l=[],[c,u,A,h]=ne(this,Ca,kq).call(this);let f,v,g,x,b,S,E,k,P;switch(m(this,nw)){case 0:P=kn._rescale,f=t,v=r+s,g=i,x=-s,b=t+c*i,S=r+(1-u-h)*s,E=t+(c+A)*i,k=r+(1-u)*s;break;case 90:P=kn._rescaleAndSwap,f=t,v=r,g=i,x=s,b=t+u*i,S=r+c*s,E=t+(u+h)*i,k=r+(c+A)*s;break;case 180:P=kn._rescale,f=t+i,v=r,g=-i,x=s,b=t+(1-c-A)*i,S=r+u*s,E=t+(1-c)*i,k=r+(u+h)*s;break;case 270:P=kn._rescaleAndSwap,f=t+i,v=r+s,g=-i,x=-s,b=t+(1-u-h)*i,S=r+(1-c-A)*s,E=t+(1-u)*i,k=r+(1-c)*s;break}for(const{line:N,points:I}of m(this,Dc))a.push(P(N,f,v,g,x,o?new Array(N.length):null)),l.push(P(I,f,v,g,x,o?new Array(I.length):null));return{lines:a,points:l,rect:[b,S,E,k]}}static deserialize(t,r,i,s,o,{paths:{lines:a,points:l},rotation:c,thickness:u}){const A=[];let h,f,v,g,x;switch(c){case 0:x=kn._rescale,h=-t/i,f=r/s+1,v=1/i,g=-1/s;break;case 90:x=kn._rescaleAndSwap,h=-r/s,f=-t/i,v=1/s,g=1/i;break;case 180:x=kn._rescale,h=t/i+1,f=-r/s,v=-1/i,g=1/s;break;case 270:x=kn._rescaleAndSwap,h=r/s+1,f=t/i+1,v=-1/s,g=-1/i;break}if(!a){a=[];for(const S of l){const E=S.length;if(E===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(E===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const k=new Float32Array(3*(E-2));a.push(k);let[P,N,I,U]=S.subarray(0,4);k.set([NaN,NaN,NaN,NaN,P,N],0);for(let V=4;V<E;V+=2){const W=S[V],L=S[V+1];k.set(kn.createBezierPoints(P,N,I,U,W,L),(V-2)*3),[P,N,I,U]=[I,U,W,L]}}}for(let S=0,E=a.length;S<E;S++)A.push({line:x(a[S].map(k=>k??NaN),h,f,v,g),points:x(l[S].map(k=>k??NaN),h,f,v,g)});const b=new this.prototype.constructor;return b.build(A,i,s,1,c,u,o),b}get box(){return m(this,bl)}updateProperty(t,r){return t==="stroke-width"?ne(this,Ca,Lq).call(this,r):null}updateParentDimensions([t,r],i){const[s,o]=ne(this,Ca,Qh).call(this);Q(this,Qd,t),Q(this,zd,r),Q(this,tw,i);const[a,l]=ne(this,Ca,Qh).call(this),c=a-s,u=l-o,A=m(this,bl);return A[0]-=c,A[1]-=u,A[2]+=2*c,A[3]+=2*u,A}updateRotation(t){return Q(this,MS,t),{path:{transform:this.rotationTransform}}}get viewBox(){return m(this,bl).map(kn.svgRound).join(" ")}get defaultProperties(){const[t,r]=m(this,bl);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${kn.svgRound(t)} ${kn.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=m(this,bl);let i=0,s=0,o=0,a=0,l=0,c=0;switch(m(this,MS)){case 90:s=r/t,o=-t/r,l=t;break;case 180:i=-1,a=-1,l=t,c=r;break;case 270:s=-r/t,o=t/r,c=r;break;default:return""}return`matrix(${i} ${s} ${o} ${a} ${kn.svgRound(l)} ${kn.svgRound(c)})`}getPathResizingSVGProperties([t,r,i,s]){const[o,a]=ne(this,Ca,Qh).call(this),[l,c,u,A]=m(this,bl);if(Math.abs(u-o)<=kn.PRECISION||Math.abs(A-a)<=kn.PRECISION){const x=t+i/2-(l+u/2),b=r+s/2-(c+A/2);return{path:{"transform-origin":`${kn.svgRound(t)} ${kn.svgRound(r)}`,transform:`${this.rotationTransform} translate(${x} ${b})`}}}const h=(i-2*o)/(u-2*o),f=(s-2*a)/(A-2*a),v=u/i,g=A/s;return{path:{"transform-origin":`${kn.svgRound(l)} ${kn.svgRound(c)}`,transform:`${this.rotationTransform} scale(${v} ${g}) translate(${kn.svgRound(o)} ${kn.svgRound(a)}) scale(${h} ${f}) translate(${kn.svgRound(-o)} ${kn.svgRound(-a)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[o,a]=ne(this,Ca,Qh).call(this),l=m(this,bl),[c,u,A,h]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(A-o)<=kn.PRECISION||Math.abs(h-a)<=kn.PRECISION){const b=t+i/2-(c+A/2),S=r+s/2-(u+h/2);for(const{line:E,points:k}of m(this,Dc))kn._translate(E,b,S,E),kn._translate(k,b,S,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${kn.svgRound(t)} ${kn.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(i-2*o)/(A-2*o),v=(s-2*a)/(h-2*a),g=-f*(c+o)+t+o,x=-v*(u+a)+r+a;if(f!==1||v!==1||g!==0||x!==0)for(const{line:b,points:S}of m(this,Dc))kn._rescale(b,g,x,f,v,b),kn._rescale(S,g,x,f,v,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${kn.svgRound(t)} ${kn.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,o]=i,a=m(this,bl),l=t-a[0],c=r-a[1];if(m(this,Qd)===s&&m(this,zd)===o)for(const{line:u,points:A}of m(this,Dc))kn._translate(u,l,c,u),kn._translate(A,l,c,A);else{const u=m(this,Qd)/s,A=m(this,zd)/o;Q(this,Qd,s),Q(this,zd,o);for(const{line:h,points:f}of m(this,Dc))kn._rescale(h,l,c,u,A,h),kn._rescale(f,l,c,u,A,f);a[2]*=u,a[3]*=A}return a[0]=t,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${kn.svgRound(t)} ${kn.svgRound(r)}`}}}get defaultSVGProperties(){const t=m(this,bl);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${kn.svgRound(t[0])} ${kn.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}bl=new WeakMap,MS=new WeakMap,RS=new WeakMap,Dc=new WeakMap,Qd=new WeakMap,zd=new WeakMap,tw=new WeakMap,nw=new WeakMap,Pv=new WeakMap,Ca=new WeakSet,Qh=function(t=m(this,Pv)){const r=m(this,RS)+t/2*m(this,tw);return m(this,nw)%180===0?[r/m(this,Qd),r/m(this,zd)]:[r/m(this,zd),r/m(this,Qd)]},kq=function(){const[t,r,i,s]=m(this,bl),[o,a]=ne(this,Ca,Qh).call(this,0);return[t+o,r+a,i-2*o,s-2*a]},Pq=function(){const t=Q(this,bl,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of m(this,Dc)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)Xn.pointBoundingBox(s[l],s[l+1],t);continue}let o=s[4],a=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,A,h,f,v,g]=s.subarray(l,l+6);Xn.bezierBoundingBox(o,a,u,A,h,f,v,g,t),o=v,a=g}}const[r,i]=ne(this,Ca,Qh).call(this);t[0]=Sl(t[0]-r,0,1),t[1]=Sl(t[1]-i,0,1),t[2]=Sl(t[2]+r,0,1),t[3]=Sl(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},Lq=function(t){const[r,i]=ne(this,Ca,Qh).call(this);Q(this,Pv,t);const[s,o]=ne(this,Ca,Qh).call(this),[a,l]=[s-r,o-i],c=m(this,bl);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};class ok extends Tq{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:as._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new ok(this._viewParameters);return e.updateAll(this),e}}var nN,Iq;const k1=class k1 extends xT{constructor(t){super({...t,name:"inkEditor"});Z(this,nN);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){as.initialize(t,r),this._defaultDrawingOptions=new ok(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Yr(this,"typesMap",new Map([[oi.INK_THICKNESS,"stroke-width"],[oi.INK_COLOR,"stroke"],[oi.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,o){return new Eye(t,r,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,o,a){return tB.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){let s=null;if(t instanceof iD){const{data:{inkLists:a,rect:l,rotation:c,id:u,color:A,opacity:h,borderStyle:{rawWidth:f},popupRef:v,contentsObj:g},parent:{page:{pageNumber:x}}}=t;s=t={annotationType:Nr.INK,color:Array.from(A),thickness:f,opacity:h,paths:{points:a},boxes:null,pageIndex:x-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:v,comment:(g==null?void 0:g.str)||null}}const o=await super.deserialize(t,r,i);return o._initialData=s,t.comment&&o.setCommentData(t.comment),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new vT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return oi.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=k1.getDefaultDrawingOptions({stroke:Xn.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,c={annotationType:Nr.INK,color:as._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!ne(this,nN,Iq).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){const{points:r,rect:i}=this.serializeDraw(!1),s={rect:i,thickness:this._drawingOptions["stroke-width"],points:r};return this.hasEditedComment&&(s.popup=this.comment),t.updateEdited(s),null}};nN=new WeakSet,Iq=function(t){const{color:r,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==o},Wt(k1,"_type","ink"),Wt(k1,"_editorType",Nr.INK),Wt(k1,"_defaultDrawingOptions",null);let q3=k1;class X3 extends tB{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const K5=8,fx=3;var Lv,Di,Y3,UA,Mq,Rq,Z3,VE,Dq,_q,Oq,J3,$3,Uq;class Tf{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,o,a,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const A=200,h=u.font=`${r} ${i} ${A}px ${t}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:v,actualBoundingBoxAscent:g,actualBoundingBoxDescent:x,fontBoundingBoxAscent:b,fontBoundingBoxDescent:S,width:E}=u.measureText(e),k=1.5,P=Math.ceil(Math.max(Math.abs(f)+Math.abs(v)||0,E)*k),N=Math.ceil(Math.max(Math.abs(g)+Math.abs(x)||A,Math.abs(b)+Math.abs(S)||A)*k);c=new OffscreenCanvas(P,N),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,P,N),u.fillStyle="black",u.fillText(e,P*(k-1)/2,N*(3-k)/2);const I=ne(this,Di,J3).call(this,u.getImageData(0,0,P,N).data),U=ne(this,Di,Oq).call(this,I),V=ne(this,Di,$3).call(this,U),W=ne(this,Di,Z3).call(this,I,P,N,V);return this.processDrawnLines({lines:{curves:W,width:P,height:N},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[o,a,l]=ne(this,Di,Uq).call(this,e),[c,u]=ne(this,Di,_q).call(this,o,a,l,Math.hypot(a,l)*m(this,Lv).sigmaSFactor,m(this,Lv).sigmaR,m(this,Lv).kernelSize),A=ne(this,Di,$3).call(this,u),h=ne(this,Di,Z3).call(this,c,a,l,A);return this.processDrawnLines({lines:{curves:h,width:a,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:c,height:u}=e,A=e.thickness??0,h=[],f=Math.min(t/c,r/u),v=f/t,g=f/r,x=[];for(const{points:S}of l){const E=o?ne(this,Di,Dq).call(this,S):S;if(!E)continue;x.push(E);const k=E.length,P=new Float32Array(k),N=new Float32Array(3*(k===2?2:k-2));if(h.push({line:N,points:P}),k===2){P[0]=E[0]*v,P[1]=E[1]*g,N.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[I,U,V,W]=E;I*=v,U*=g,V*=v,W*=g,P.set([I,U,V,W],0),N.set([NaN,NaN,NaN,NaN,I,U],0);for(let L=4;L<k;L+=2){const D=P[L]=E[L]*v,z=P[L+1]=E[L+1]*g;N.set(kn.createBezierPoints(I,U,V,W,D,z),(L-2)*3),[I,U,V,W]=[V,W,D,z]}}if(h.length===0)return null;const b=a?new X3:new tB;return b.build(h,t,r,1,i,a?0:A,s),{outline:b,newCurves:x,areContours:a,thickness:A,width:c,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,l=0;for(const E of e){l+=E.length;for(let k=2,P=E.length;k<P;k++){const N=E[k]-E[k-2];o=Math.min(o,N),a=Math.max(a,N)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const u=e.length,A=K5+fx*u,h=new Uint32Array(A);let f=0;h[f++]=A*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=i,h[f++]=s,h[f++]=t?0:1,h[f++]=Math.max(0,Math.floor(r??0)),h[f++]=u,h[f++]=c.BYTES_PER_ELEMENT;for(const E of e)h[f++]=E.length-2,h[f++]=E[0],h[f++]=E[1];const v=new CompressionStream("deflate-raw"),g=v.writable.getWriter();await g.ready,g.write(h);const x=c.prototype.constructor;for(const E of e){const k=new x(E.length-2);for(let P=2,N=E.length;P<N;P++)k[P-2]=E[P]-E[P-2];g.write(k)}g.close();const b=await new Response(v.readable).arrayBuffer(),S=new Uint8Array(b);return jG(S)}static async decompressSignature(e){try{const t=q0e(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const E of r)o||(o=new Uint8Array(new Uint32Array(E.buffer,0,4)[0])),o.set(E,a),a+=E.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],A=l[3],h=l[4]===0,f=l[5],v=l[6],g=l[7],x=[],b=(K5+fx*v)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(g){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(o.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(o.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(o.buffer,b);break}a=0;for(let E=0;E<v;E++){const k=l[fx*E+K5],P=new Float32Array(k+2);x.push(P);for(let N=0;N<fx-1;N++)P[N]=l[fx*E+K5+N+1];for(let N=0;N<k;N++)P[N+2]=P[N]+S[a++]}return{areContours:h,thickness:f,outlines:x,width:u,height:A}}catch(t){return Pr(`decompressSignature: ${t}`),null}}}Lv=new WeakMap,Di=new WeakSet,Y3=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},UA=new WeakMap,Mq=function(e,t,r,i,s,o,a){const l=ne(this,Di,Y3).call(this,r,i,s,o);for(let c=0;c<8;c++){const u=(-c+l-a+16)%8,A=m(this,UA)[2*u],h=m(this,UA)[2*u+1];if(e[(r+A)*t+(i+h)]!==0)return u}return-1},Rq=function(e,t,r,i,s,o,a){const l=ne(this,Di,Y3).call(this,r,i,s,o);for(let c=0;c<8;c++){const u=(c+l+a+16)%8,A=m(this,UA)[2*u],h=m(this,UA)[2*u+1];if(e[(r+A)*t+(i+h)]!==0)return u}return-1},Z3=function(e,t,r,i){const s=e.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)o[u*t]=o[u*t+t-1]=0;for(let u=0;u<t;u++)o[u]=o[t*r-1-u]=0;let a=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let A=1;A<t-1;A++){const h=u*t+A,f=o[h];if(f===0)continue;let v=u,g=A;if(f===1&&o[h-1]===0)a+=1,g-=1;else if(f>=1&&o[h+1]===0)a+=1,g+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const x=[A,u],b=g===A+1,S={isHole:b,points:x,id:a,parent:0};c.push(S);let E;for(const L of c)if(L.id===l){E=L;break}E?E.isHole?S.parent=b?E.parent:l:S.parent=b?l:E.parent:S.parent=b?l:0;const k=ne(this,Di,Mq).call(this,o,t,u,A,v,g,0);if(k===-1){o[h]=-a,o[h]!==1&&(l=Math.abs(o[h]));continue}let P=m(this,UA)[2*k],N=m(this,UA)[2*k+1];const I=u+P,U=A+N;v=I,g=U;let V=u,W=A;for(;;){const L=ne(this,Di,Rq).call(this,o,t,V,W,v,g,1);P=m(this,UA)[2*L],N=m(this,UA)[2*L+1];const D=V+P,z=W+N;x.push(z,D);const G=V*t+W;if(o[G+1]===0?o[G]=-a:o[G]===1&&(o[G]=a),D===u&&z===A&&V===I&&W===U){o[h]!==1&&(l=Math.abs(o[h]));break}else v=V,g=W,V=D,W=z}}}return c},VE=function(e,t,r,i){if(r-t<=4){for(let I=t;I<r-2;I+=2)i.push(e[I],e[I+1]);return}const s=e[t],o=e[t+1],a=e[r-4]-s,l=e[r-3]-o,c=Math.hypot(a,l),u=a/c,A=l/c,h=u*o-A*s,f=l/a,v=1/c,g=Math.atan(f),x=Math.cos(g),b=Math.sin(g),S=v*(Math.abs(x)+Math.abs(b)),E=v*(1-S+S**2),k=Math.max(Math.atan(Math.abs(b+x)*E),Math.atan(Math.abs(b-x)*E));let P=0,N=t;for(let I=t+2;I<r-2;I+=2){const U=Math.abs(h-u*e[I+1]+A*e[I]);U>P&&(N=I,P=U)}P>(c*k)**2?(ne(this,Di,VE).call(this,e,t,N+2,i),ne(this,Di,VE).call(this,e,N,r,i)):i.push(s,o)},Dq=function(e){const t=[],r=e.length;return ne(this,Di,VE).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},_q=function(e,t,r,i,s,o){const a=new Float32Array(o**2),l=-2*i**2,c=o>>1;for(let g=0;g<o;g++){const x=(g-c)**2;for(let b=0;b<o;b++)a[g*o+b]=Math.exp((x+(b-c)**2)/l)}const u=new Float32Array(256),A=-2*s**2;for(let g=0;g<256;g++)u[g]=Math.exp(g**2/A);const h=e.length,f=new Uint8Array(h),v=new Uint32Array(256);for(let g=0;g<r;g++)for(let x=0;x<t;x++){const b=g*t+x,S=e[b];let E=0,k=0;for(let N=0;N<o;N++){const I=g+N-c;if(!(I<0||I>=r))for(let U=0;U<o;U++){const V=x+U-c;if(V<0||V>=t)continue;const W=e[I*t+V],L=a[N*o+U]*u[Math.abs(W-S)];E+=W*L,k+=L}}const P=f[b]=Math.round(E/k);v[P]++}return[f,v]},Oq=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},J3=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let a=0,l=r.length;a<l;a++){const c=r[a]=e[a<<2];i=Math.max(i,c),s=Math.min(s,c)}const o=255/(i-s);for(let a=0,l=r.length;a<l;a++)r[a]=(r[a]-s)*o;return r},$3=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let o=s,a=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-o>i&&(i=t-o,a=t-1),r=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},Uq=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=m(this,Lv);let o=r,a=i;if(r>s||i>s){let h=r,f=i,v=Math.log2(Math.max(r,i)/s);const g=Math.floor(v);v=v===g?g-1:g;for(let b=0;b<v;b++){o=Math.ceil(h/2),a=Math.ceil(f/2);const S=new OffscreenCanvas(o,a);S.getContext("2d").drawImage(e,0,0,h,f,0,0,o,a),h=o,f=a,e!==t&&e.close(),e=S.transferToImageBitmap()}const x=Math.min(s/o,s/a);o=Math.round(o*x),a=Math.round(a*x)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,o,a),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,a);const u=c.getImageData(0,0,o,a).data;return[ne(this,Di,J3).call(this,u),o,a]},Z(Tf,Di),Z(Tf,Lv,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),Z(Tf,UA,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class sD extends Tq{constructor(){super(),super.updateProperties({fill:as._defaultLineColor,"stroke-width":0})}clone(){const e=new sD;return e.updateAll(this),e}}class oD extends ok{constructor(e){super(e),super.updateProperties({stroke:as._defaultLineColor,"stroke-width":1})}clone(){const e=new oD(this._viewParameters);return e.updateAll(this),e}}var Pm,Kd,Lm,Iv;const Cc=class Cc extends xT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});Z(this,Pm,!1);Z(this,Kd,null);Z(this,Lm,null);Z(this,Iv,null);this._willKeepAspectRatio=!0,Q(this,Lm,t.signatureData||null),Q(this,Kd,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){as.initialize(t,r),this._defaultDrawingOptions=new sD,this._defaultDrawnSignatureOptions=new oD(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Yr(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!m(this,Kd)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(m(this,Lm)){const{lines:s,mustSmooth:o,areContours:a,description:l,uuid:c,heightInPage:u}=m(this,Lm),{rawDims:{pageWidth:A,pageHeight:h},rotation:f}=this.parent.viewport,v=Tf.processDrawnLines({lines:s,pageWidth:A,pageHeight:h,rotation:f,innerMargin:Cc._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(v,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:m(this,Kd)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){Q(this,Iv,t),this.addEditToolbar()}getUuid(){return m(this,Iv)}get description(){return m(this,Kd)}set description(t){Q(this,Kd,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:o}=m(this,Lm),a=Math.max(s,o),l=Tf.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:o,y:a}=this,{outline:l}=Q(this,Lm,t);Q(this,Pm,l instanceof X3),this.description=i;let c;m(this,Pm)?c=Cc.getDefaultDrawingOptions():(c=Cc._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[u,A]=this.parentDimensions,[,h]=this.pageDimensions;let f=r/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(u*this.width,A*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Tf.process(t,r,i,s,Cc._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return Tf.extractContoursFromText(t,r,i,s,o,Cc._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Tf.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:Cc._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=Cc.getDefaultDrawingOptions():(this._drawingOptions=Cc._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:Nr.SIGNATURE,isSignature:!0,areContours:m(this,Pm),color:[0,0,0],thickness:m(this,Pm)?0:o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(a),t?(a.paths={lines:r,points:i},a.uuid=m(this,Iv),a.isCopy=!0):a.lines=r,m(this,Kd)&&(a.accessibilityData={type:"Figure",alt:m(this,Kd)}),a}static deserializeDraw(t,r,i,s,o,a){return a.areContours?X3.deserialize(t,r,i,s,o,a):tB.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){var o;const s=await super.deserialize(t,r,i);return Q(s,Pm,t.areContours),s.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",Q(s,Iv,t.uuid),s}};Pm=new WeakMap,Kd=new WeakMap,Lm=new WeakMap,Iv=new WeakMap,Wt(Cc,"_type","signature"),Wt(Cc,"_editorType",Nr.SIGNATURE),Wt(Cc,"_defaultDrawingOptions",null);let eM=Cc;var Es,Zo,Im,Cf,Mm,rw,Sf,Mv,Vd,_c,iw,mi,Jx,$x,GE,WE,qE,nM,XE,Hq;class tM extends as{constructor(t){super({...t,name:"stampEditor"});Z(this,mi);Z(this,Es,null);Z(this,Zo,null);Z(this,Im,null);Z(this,Cf,null);Z(this,Mm,null);Z(this,rw,"");Z(this,Sf,null);Z(this,Mv,!1);Z(this,Vd,null);Z(this,_c,!1);Z(this,iw,!1);Q(this,Cf,t.bitmapUrl),Q(this,Mm,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){as.initialize(t,r)}static isHandlingMimeForPasting(t){return qI.includes(t)}static paste(t,r){r.pasteEditor({mode:Nr.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;m(this,Zo)&&(Q(this,Es,null),this._uiManager.imageManager.deleteId(m(this,Zo)),(t=m(this,Sf))==null||t.remove(),Q(this,Sf,null),m(this,Vd)&&(clearTimeout(m(this,Vd)),Q(this,Vd,null))),super.remove()}rebuild(){if(!this.parent){m(this,Zo)&&ne(this,mi,GE).call(this);return}super.rebuild(),this.div!==null&&(m(this,Zo)&&m(this,Sf)===null&&ne(this,mi,GE).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(m(this,Im)||m(this,Es)||m(this,Cf)||m(this,Mm)||m(this,Zo)||m(this,Mv))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),m(this,Mv)||(m(this,Es)?ne(this,mi,WE).call(this):ne(this,mi,GE).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(Q(this,Zo,i),s&&Q(this,Es,s),Q(this,Mv,!1),ne(this,mi,WE).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;m(this,Vd)!==null&&clearTimeout(m(this,Vd)),Q(this,Vd,setTimeout(()=>{Q(this,Vd,null),ne(this,mi,nM).call(this)},200))}copyCanvas(t,r,i=!1){var f;t||(t=224);const{width:s,height:o}=m(this,Es),a=new rh;let l=m(this,Es),c=s,u=o,A=null;if(r){if(s>r||o>r){const U=Math.min(r/s,r/o);c=Math.floor(s*U),u=Math.floor(o*U)}A=document.createElement("canvas");const v=A.width=Math.ceil(c*a.sx),g=A.height=Math.ceil(u*a.sy);m(this,_c)||(l=ne(this,mi,qE).call(this,v,g));const x=A.getContext("2d");x.filter=this._uiManager.hcmFilter;let b="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(b="#8f8f9d",S="#42414d");const E=15,k=E*a.sx,P=E*a.sy,N=new OffscreenCanvas(k*2,P*2),I=N.getContext("2d");I.fillStyle=b,I.fillRect(0,0,k*2,P*2),I.fillStyle=S,I.fillRect(0,0,k,P),I.fillRect(k,P,k,P),x.fillStyle=x.createPattern(N,"repeat"),x.fillRect(0,0,v,g),x.drawImage(l,0,0,l.width,l.height,0,0,v,g)}let h=null;if(i){let v,g;if(a.symmetric&&l.width<t&&l.height<t)v=l.width,g=l.height;else if(l=m(this,Es),s>t||o>t){const S=Math.min(t/s,t/o);v=Math.floor(s*S),g=Math.floor(o*S),m(this,_c)||(l=ne(this,mi,qE).call(this,v,g))}const b=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,v,g),h={width:v,height:g,data:b.getImageData(0,0,v,g).data}}return{canvas:A,width:c,height:u,imageData:h}}static async deserialize(t,r,i){var x;let s=null,o=!1;if(t instanceof nq){const{data:{rect:b,rotation:S,id:E,structParent:k,popupRef:P,contentsObj:N},container:I,parent:{page:{pageNumber:U}},canvas:V}=t;let W,L;V?(delete t.canvas,{id:W,bitmap:L}=i.imageManager.getFromCanvas(I.id,V),V.remove()):(o=!0,t._hasNoCanvas=!0);const D=((x=await r._structTree.getAriaAttributes(`${ZR}${E}`))==null?void 0:x.get("aria-label"))||"";s=t={annotationType:Nr.STAMP,bitmapId:W,bitmap:L,pageIndex:U-1,rect:b.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:k,popupRef:P,comment:(N==null?void 0:N.str)||null}}const a=await super.deserialize(t,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:A,isSvg:h,accessibilityData:f}=t;o?(i.addMissingCanvas(t.id,a),Q(a,Mv,!0)):A&&i.imageManager.isValidId(A)?(Q(a,Zo,A),c&&Q(a,Es,c)):Q(a,Cf,u),Q(a,_c,h);const[v,g]=a.pageDimensions;return a.width=(l[2]-l[0])/v,a.height=(l[3]-l[1])/g,f&&(a.altTextData=f),a._initialData=s,t.comment&&a.setCommentData(t.comment),Q(a,iw,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Nr.STAMP,bitmapId:m(this,Zo),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,_c),structTreeParentId:this._structTreeParentId};if(this.addComment(i),t)return i.bitmapUrl=ne(this,mi,XE).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=ne(this,mi,Hq).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=m(this,_c)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,Zo)))r.stamps.set(m(this,Zo),{area:a,serialized:i}),i.bitmap=ne(this,mi,XE).call(this,!1);else if(m(this,_c)){const l=r.stamps.get(m(this,Zo));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=ne(this,mi,XE).call(this,!1))}return i}renderAnnotationElement(t){const r={rect:this.getRect(0,0)};return this.hasEditedComment&&(r.popup=this.comment),t.updateEdited(r),null}}Es=new WeakMap,Zo=new WeakMap,Im=new WeakMap,Cf=new WeakMap,Mm=new WeakMap,rw=new WeakMap,Sf=new WeakMap,Mv=new WeakMap,Vd=new WeakMap,_c=new WeakMap,iw=new WeakMap,mi=new WeakSet,Jx=function(t,r=!1){if(!t){this.remove();return}Q(this,Es,t.bitmap),r||(Q(this,Zo,t.id),Q(this,_c,t.isSvg)),t.file&&Q(this,rw,t.file.name),ne(this,mi,WE).call(this)},$x=function(){if(Q(this,Im,null),this._uiManager.enableWaiting(!1),!!m(this,Sf)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Es)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Es)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},GE=function(){if(m(this,Zo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Zo)).then(i=>ne(this,mi,Jx).call(this,i,!0)).finally(()=>ne(this,mi,$x).call(this));return}if(m(this,Cf)){const i=m(this,Cf);Q(this,Cf,null),this._uiManager.enableWaiting(!0),Q(this,Im,this._uiManager.imageManager.getFromUrl(i).then(s=>ne(this,mi,Jx).call(this,s)).finally(()=>ne(this,mi,$x).call(this)));return}if(m(this,Mm)){const i=m(this,Mm);Q(this,Mm,null),this._uiManager.enableWaiting(!0),Q(this,Im,this._uiManager.imageManager.getFromFile(i).then(s=>ne(this,mi,Jx).call(this,s)).finally(()=>ne(this,mi,$x).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=qI.join(",");const r=this._uiManager._signal;Q(this,Im,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ne(this,mi,Jx).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>ne(this,mi,$x).call(this))),t.click()},WE=function(){var A;const{div:t}=this;let{width:r,height:i}=m(this,Es);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const u=Q(this,Sf,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=r/s,this.height=i/o,(A=this._initialOptions)!=null&&A.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ne(this,mi,nM).call(this),m(this,iw)||(this.parent.addUndoableEditor(this),Q(this,iw,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,rw)&&this.div.setAttribute("aria-description",m(this,rw)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},qE=function(t,r){const{width:i,height:s}=m(this,Es);let o=i,a=s,l=m(this,Es);for(;o>2*t||a>2*r;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const A=new OffscreenCanvas(o,a);A.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=A.transferToImageBitmap()}return l},nM=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,o=new rh,a=Math.ceil(i*t*o.sx),l=Math.ceil(s*r*o.sy),c=m(this,Sf);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const u=m(this,_c)?m(this,Es):ne(this,mi,qE).call(this,a,l),A=c.getContext("2d");A.filter=this._uiManager.hcmFilter,A.drawImage(u,0,0,u.width,u.height,0,0,a,l)},XE=function(t){if(t){if(m(this,_c)){const s=this._uiManager.imageManager.getSvgUrl(m(this,Zo));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Es),r.getContext("2d").drawImage(m(this,Es),0,0),r.toDataURL()}if(m(this,_c)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*fg.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*fg.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(m(this,Es),0,0,m(this,Es).width,m(this,Es).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(m(this,Es))},Hq=function(t){var a;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},Wt(tM,"_type","stamp"),Wt(tM,"_editorType",Nr.STAMP);var Rv,sw,Gd,Rm,Bf,Oc,Dm,ow,Dv,HA,Ef,Jo,Ff,_m,aw,Qn,Om,Fs,jq,wd,iM,sM,YE;const EA=class EA{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){Z(this,Fs);Z(this,Rv);Z(this,sw,!1);Z(this,Gd,null);Z(this,Rm,null);Z(this,Bf,null);Z(this,Oc,new Map);Z(this,Dm,!1);Z(this,ow,!1);Z(this,Dv,!1);Z(this,HA,null);Z(this,Ef,null);Z(this,Jo,null);Z(this,Ff,null);Z(this,_m,null);Z(this,aw,-1);Z(this,Qn);const A=[...m(EA,Om).values()];if(!EA._initialized){EA._initialized=!0;for(const h of A)h.initialize(u,e)}e.registerEditorTypes(A),Q(this,Qn,e),this.pageIndex=t,this.div=r,Q(this,Rv,s),Q(this,Gd,o),this.viewport=c,Q(this,Jo,l),this.drawLayer=a,this._structTree=i,m(this,Qn).addLayer(this)}get isEmpty(){return m(this,Oc).size===0}get isInvisible(){return this.isEmpty&&m(this,Qn).getMode()===Nr.NONE}updateToolbar(e){m(this,Qn).updateToolbar(e)}updateMode(e=m(this,Qn).getMode()){switch(ne(this,Fs,YE).call(this),e){case Nr.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nr.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Nr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of m(EA,Om).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,Jo))==null?void 0:t.div)}setEditingState(e){m(this,Qn).setEditingState(e)}addCommands(e){m(this,Qn).addCommands(e)}cleanUndoStack(e){m(this,Qn).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,Gd))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;Q(this,Dv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(r=m(this,_m))==null||r.abort(),Q(this,_m,null);const e=new Set;for(const i of m(this,Oc).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(m(this,Qn).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!m(this,Gd)){Q(this,Dv,!1);return}const t=m(this,Gd).getEditableAnnotations();for(const i of t){if(i.hide(),m(this,Qn).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}Q(this,Dv,!1)}disable(){var i;if(Q(this,ow,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),m(this,Jo)&&!m(this,_m)){Q(this,_m,new AbortController);const s=m(this,Qn).combinedSignal(m(this,_m));m(this,Jo).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:c,timeStamp:u}=o,A=m(this,aw);if(u-A>500){Q(this,aw,u);return}Q(this,aw,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let v;const g=new RegExp(`^${DG}[0-9]+$`);for(const b of f)if(g.test(b.id)){v=b.id;break}if(!v)return;const x=m(this,Oc).get(v);(x==null?void 0:x.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),x.dblclick())},{signal:s,capture:!0})}const e=new Map,t=new Map;for(const s of m(this,Oc).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,Gd)){const s=m(this,Gd).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(m(this,Qn).isDeletedAnnotationElement(a)){o.updateEdited({deleted:!0});continue}let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(m(this,Qn).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}ne(this,Fs,YE).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of m(EA,Om).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Q(this,ow,!1)}getEditableAnnotation(e){var t;return((t=m(this,Gd))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Qn).getActive()!==e&&m(this,Qn).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Jo))!=null&&e.div&&!m(this,Ff)){Q(this,Ff,new AbortController);const t=m(this,Qn).combinedSignal(m(this,Ff));m(this,Jo).div.addEventListener("pointerdown",ne(this,Fs,jq).bind(this),{signal:t}),m(this,Jo).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Jo))!=null&&e.div&&m(this,Ff)&&(m(this,Ff).abort(),Q(this,Ff,null),m(this,Jo).div.classList.remove("highlighting"))}enableClick(){if(m(this,Rm))return;Q(this,Rm,new AbortController);const e=m(this,Qn).combinedSignal(m(this,Rm));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=m(this,Rm))==null||e.abort(),Q(this,Rm,null)}attach(e){m(this,Oc).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,Qn).isDeletedAnnotationElement(t)&&m(this,Qn).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,Oc).delete(e.id),(t=m(this,Rv))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,ow)&&e.annotationElementId&&m(this,Qn).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Qn).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Qn).addDeletedAnnotationElement(e.annotationElementId),as.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Qn).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!m(this,Dv)),m(this,Qn).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,Bf)&&(e._focusEventsAllowed=!1,Q(this,Bf,setTimeout(()=>{Q(this,Bf,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Qn)._signal}),t.focus())},0))),e._structTreeParentId=(r=m(this,Rv))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return m(this,Qn).getId()}combinedSignal(e){return m(this,Qn).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,Fs,wd))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await m(this,Qn).updateMode(e.mode);const{offsetX:r,offsetY:i}=ne(this,Fs,sM).call(this),s=this.getNextId(),o=ne(this,Fs,iM).call(this,{parent:this,id:s,x:r,y:i,uiManager:m(this,Qn),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=m(EA,Om).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,Qn)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=ne(this,Fs,iM).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Qn),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(e={}){this.createAndAddNewEditor(ne(this,Fs,sM).call(this),!0,e)}setSelected(e){m(this,Qn).setSelected(e)}toggleSelected(e){m(this,Qn).toggleSelected(e)}unselect(e){m(this,Qn).unselect(e)}pointerup(e){var i;const{isMac:t}=Na.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!m(this,Dm)||(Q(this,Dm,!1),(i=m(this,Fs,wd))!=null&&i.isDrawer&&m(this,Fs,wd).supportMultipleDrawings))return;if(!m(this,sw)){Q(this,sw,!0);return}const r=m(this,Qn).getMode();if(r===Nr.STAMP||r===Nr.SIGNATURE){m(this,Qn).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(m(this,Qn).getMode()===Nr.HIGHLIGHT&&this.enableTextSelection(),m(this,Dm)){Q(this,Dm,!1);return}const{isMac:t}=Na.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(Q(this,Dm,!0),(i=m(this,Fs,wd))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=m(this,Qn).getActive();Q(this,sw,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),m(this,HA)){m(this,Fs,wd).startDrawing(this,m(this,Qn),!1,e);return}m(this,Qn).setCurrentDrawingSession(this),Q(this,HA,new AbortController);const t=m(this,Qn).combinedSignal(m(this,HA));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(Q(this,Ef,null),this.commitOrRemove())},{signal:t}),m(this,Fs,wd).startDrawing(this,m(this,Qn),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&Q(this,Ef,t);return}m(this,Ef)&&setTimeout(()=>{var t;(t=m(this,Ef))==null||t.focus(),Q(this,Ef,null)},0)}endDrawingSession(e=!1){return m(this,HA)?(m(this,Qn).setCurrentDrawingSession(null),m(this,HA).abort(),Q(this,HA,null),Q(this,Ef,null),m(this,Fs,wd).endDrawing(e)):null}findNewParent(e,t,r){const i=m(this,Qn).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return m(this,HA)?(this.endDrawingSession(),!0):!1}onScaleChanging(){m(this,HA)&&m(this,Fs,wd).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=m(this,Qn).getActive())==null?void 0:e.parent)===this&&(m(this,Qn).commitOrRemove(),m(this,Qn).setActiveEditor(null)),m(this,Bf)&&(clearTimeout(m(this,Bf)),Q(this,Bf,null));for(const r of m(this,Oc).values())(t=m(this,Rv))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,Oc).clear(),m(this,Qn).removeLayer(this)}render({viewport:e}){this.viewport=e,ny(this.div,e);for(const t of m(this,Qn).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,Qn).commitOrRemove(),ne(this,Fs,YE).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ny(this.div,{rotation:r}),t!==r)for(const i of m(this,Oc).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,Qn).viewParameters.realScale}};Rv=new WeakMap,sw=new WeakMap,Gd=new WeakMap,Rm=new WeakMap,Bf=new WeakMap,Oc=new WeakMap,Dm=new WeakMap,ow=new WeakMap,Dv=new WeakMap,HA=new WeakMap,Ef=new WeakMap,Jo=new WeakMap,Ff=new WeakMap,_m=new WeakMap,aw=new WeakMap,Qn=new WeakMap,Om=new WeakMap,Fs=new WeakSet,jq=function(e){m(this,Qn).unselectAll();const{target:t}=e;if(t===m(this,Jo).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,Jo).div.contains(t)){const{isMac:r}=Na.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,Qn).showAllEditors("highlight",!0,!0),m(this,Jo).div.classList.add("free"),this.toggleDrawing(),wT.startHighlighting(this,m(this,Qn).direction==="ltr",{target:m(this,Jo).div,x:e.x,y:e.y}),m(this,Jo).div.addEventListener("pointerup",()=>{m(this,Jo).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,Qn)._signal}),e.preventDefault()}},wd=function(){return m(EA,Om).get(m(this,Qn).getMode())},iM=function(e){const t=m(this,Fs,wd);return t?new t.prototype.constructor(e):null},sM=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,u=(o+l)/2-t,[A,h]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:A,offsetY:h}},YE=function(){for(const e of m(this,Oc).values())e.isEmpty()&&e.remove()},Wt(EA,"_initialized",!1),Z(EA,Om,new Map([O3,q3,tM,wT,eM].map(e=>[e._editorType,e])));let rM=EA;var jA,wl,_v,DS,rN,Qq,sh,aM,zq,lM;const Fo=class Fo{constructor({pageIndex:e}){Z(this,sh);Z(this,jA,null);Z(this,wl,new Map);Z(this,_v,new Map);this.pageIndex=e}setParent(e){if(!m(this,jA)){Q(this,jA,e);return}if(m(this,jA)!==e){if(m(this,wl).size>0)for(const t of m(this,wl).values())t.remove(),e.append(t);Q(this,jA,e)}}static get _svgFactory(){return Yr(this,"_svgFactory",new yT)}draw(e,t=!1,r=!1){const i=Ko(Fo,DS)._++,s=ne(this,sh,aM).call(this),o=Fo._svgFactory.createElement("defs");s.append(o);const a=Fo._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&m(this,_v).set(i,a);const c=r?ne(this,sh,zq).call(this,o,l):null,u=Fo._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),m(this,wl).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const r=Ko(Fo,DS)._++,i=ne(this,sh,aM).call(this),s=Fo._svgFactory.createElement("defs");i.append(s);const o=Fo._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const A=Fo._svgFactory.createElement("mask");s.append(A),l=`mask_p${this.pageIndex}_${r}`,A.setAttribute("id",l),A.setAttribute("maskUnits","objectBoundingBox");const h=Fo._svgFactory.createElement("rect");A.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Fo._svgFactory.createElement("use");A.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=Fo._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),m(this,wl).set(r,i),r}finalizeDraw(e,t){m(this,_v).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:o}=t,a=typeof e=="number"?m(this,wl).get(e):e;if(a){if(r&&ne(this,sh,lM).call(this,a,r),i&&ne(l=Fo,rN,Qq).call(l,a,i),s){const{classList:c}=a;for(const[u,A]of Object.entries(s))c.toggle(u,A)}if(o){const u=a.firstChild.firstChild;ne(this,sh,lM).call(this,u,o)}}}updateParent(e,t){if(t===this)return;const r=m(this,wl).get(e);r&&(m(t,jA).append(r),m(this,wl).delete(e),m(t,wl).set(e,r))}remove(e){m(this,_v).delete(e),m(this,jA)!==null&&(m(this,wl).get(e).remove(),m(this,wl).delete(e))}destroy(){Q(this,jA,null);for(const e of m(this,wl).values())e.remove();m(this,wl).clear(),m(this,_v).clear()}};jA=new WeakMap,wl=new WeakMap,_v=new WeakMap,DS=new WeakMap,rN=new WeakSet,Qq=function(e,[t,r,i,s]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},sh=new WeakSet,aM=function(){const e=Fo._svgFactory.create(1,1,!0);return m(this,jA).append(e),e.setAttribute("aria-hidden",!0),e},zq=function(e,t){const r=Fo._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Fo._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},lM=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},Z(Fo,rN),Z(Fo,DS,0);let oM=Fo;globalThis._pdfjsTestingUtils={HighlightOutliner:H3};globalThis.pdfjsLib={AbortException:hg,AnnotationEditorLayer:rM,AnnotationEditorParamsType:oi,AnnotationEditorType:Nr,AnnotationEditorUIManager:ry,AnnotationLayer:R3,AnnotationMode:Vp,AnnotationType:Ao,build:iye,ColorPicker:gT,createValidAbsoluteUrl:_G,DOMSVGFactory:yT,DrawLayer:oM,FeatureTest:Na,fetchData:ZS,getDocument:Jve,getFilenameFromUrl:X0e,getPdfFilenameFromUrl:Y0e,getRGB:ik,getUuid:HG,getXfaPageViewport:J0e,GlobalWorkerOptions:KA,ImageKind:bE,InvalidPDFException:GI,isDataScheme:rk,isPdfFile:$R,isValidExplicitDest:cve,MathClamp:Sl,noContextMenu:Ku,normalizeUnicode:G0e,OPS:dT,OutputScale:rh,PasswordResponses:_0e,PDFDataRangeTransport:jW,PDFDateString:fT,PDFWorker:eC,PermissionFlag:D0e,PixelsPerInch:fg,RenderingCancelledException:JR,ResponseException:hT,setLayerDimensions:ny,shadow:Yr,SignatureExtractor:Tf,stopEvent:ho,SupportedImageMimeTypes:qI,TextLayer:J2,TouchManager:mT,updateUrlHash:OG,Util:Xn,VerbosityLevel:ek,version:rye,XfaLayer:VW};function kp(n){let e=n.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>");return e=e.split(/\n\s*\n/).map(t=>`<p style='margin-bottom: 1em;'>${t.trim()}</p>`).join(""),{__html:e}}function Fye(n){return n.toLowerCase().replace(/|/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function CT(n){return n.replace(/|/g,"").trim()}const Tye=({filled:n})=>y.jsx("span",{style:{fontSize:22,color:n?"#FFC107":"#E0E0E0",marginRight:2,display:"inline-block",verticalAlign:"middle"},children:""}),ST={"Nutri-Life BAM":{group:"Biological Fertigation Program",description:"A source of beneficial anaerobic (facultative) microbes that can increase organic matter decomposition levels and nutrient cycling, also helping enhance plant resilience."},"Nutri-Life Tricho-Shield":{group:"Biological Fertigation Program",description:"A combination of beneficial fungal species to enhance plant health and promote growth."},"Nutri-Life Platform":{group:"Biological Fertigation Program",description:"A Mycorrhizal fungi inoculum, also containing other beneficial microbes such as Trichoderma, enhancing nutrient uptake, root health, and plant resilience."},"Root & Shoot":{group:"Biological Fertigation Program",description:"A biological seed treatment containing beneficial microbes and biostimulants to enhance root development, early vigor, and plant resilience. Promotes strong germination and supports early plant health for improved crop establishment."},"Root & Shoot":{group:"Biological Fertigation Program",description:"A biological seed treatment containing beneficial microbes and biostimulants to enhance root development, early vigor, and plant resilience. Promotes strong germination and supports early plant health for improved crop establishment."},"K-Rich":{group:"Nutritional Fertigation/Foliar Spray Program",description:"High-analysis liquid potassium (K 33.29%) for foliar and fertigation use."},"Cal-Tech":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies N (11.71%), Ca (13.36%), and B (0.43%) for improved fruit set and quality."},"Calcium Fulvate":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Chelated calcium with fulvic acid, enriched with a broad spectrum of trace minerals to improve nutrient uptake."},"Citrus-Tech Triple Ten":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A complete NPK (N 10.48%, P 10.23%, K 10.69%) with trace elements for balanced nutrition."},"Cloak Spray Oil":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A high-quality spreader/sticker/synergist to improve the performance of all foliar applications."},"Nutri-Carb-N":{group:"Nutritional Fertigation/Foliar Spray Program",description:"High-analysis liquid N (15.18%) with K (1.1%) for rapid green-up and protein synthesis."},"Phos-Force":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Contains P (14.3%), Ca (4.3%), N (4.2%), and Fe (3.5%) for strong root and shoot growth."},"Photo-Finish":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A source of <b>Si</b> (10.38%) and <b>K</b> (10.6%) with humic acid and kelp for plant resilience."},"Potassium Silicate":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies K (15.3%) and Si (17.3%) to strengthen cell walls and improve stress tolerance."},"Seed-Start":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A starter fertilizer for seeds and seedlings."},"Trio (CMB)":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies N (13.73%), Ca (15.3%), Mg (2.38%), and trace elements for balanced nutrition."},"Triple Ten":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A complete NPK (N 10.48%, P 10.23%, K 10.69%) with trace elements for balanced nutrition."},"Tsunami Super Spreader":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A spreader that improves the foliar fertiliser response."},"Activated Char Condensate (ACC)":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A source of activated carbon for soil and plant health."},"Aloe-Tech":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Aloe-based biostimulant for improved plant vigor."},"Amino-Max":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A highamino acid concentrate. Ideal for supporting plant metabolism, stress recovery and microbial stimulation."},"Brix-Fix":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Improves brix (sugar) levels in crops."},"Nutri-Kelp":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A natural source of hormones (auxins, gibberellins, cytokinins) to enhance reproductive stage."},"Nutri-Sea Liquid Fish":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A high-analysis fish fertiliser containing amino acids, vitamins, macro, and micro nutrients."},"Nutri-Stim Saponins":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Saponin-based biostimulant for improved plant health."},"Nutri-Stim Triacontanol":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Triacontanol-based biostimulant for enhanced growth."},"Nutri-Tech Black Gold":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A premium humic acid concentrate for improved soil and plant health."},"SeaChange KFF":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Kelp and fish fertilizer for balanced nutrition."},"SeaChange Liquid Kelp":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Liquid kelp for plant growth and stress tolerance."},"Tri-Kelp":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A blend of three kelp species for root and shoot growth."},"Nutri-Key Boron Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A foliar chelated boron formulation containing 3.61% B, supported by a full background of synergistic nutrition."},"Nutri-Key Calcium Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Ca (9.81%), N (7.25%), and trace elements for calcium nutrition."},"Nutri-Key Cobalt Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Co (3.1%) and Zn (2.8%) for micronutrient support."},"Nutri-Key Copper Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Cu (7.64%), N (0.52%), S (4.29%), and trace elements for copper nutrition."},"Nutri-Key Hydro-Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies N (2.14%) and C (21.15%) for improved water and nutrient uptake."},"Nutri-Key Iron Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A chelated iron foliar (~7.2% Fe) supported by background nutrients to boost chlorophyll production and rapidly correct iron deficiency."},"Nutri-Key Magnesium Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Mg (4.44%), N (0.45%), S (6.24%), and trace elements for magnesium nutrition."},"Nutri-Key Manganese Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A high-analysis foliar Mn formulation (~13.2% Mn) featuring advanced chelation for improved uptake."},"Nutri-Key Moly Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Mo (4.76%), N (0.18%), and C (1.6%) for molybdenum nutrition."},"Nutri-Key Shuttle Seven":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A multi-nutrient blend with N, S, B, Mg, Co, Cu, Zn, Fe, K, Mn, Mo, Se, and C."},"Nutri-Key Zinc Shuttle":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Zn (8.17%), N (0.73%), S (4.35%), and trace elements for zinc nutrition."},"Boron Essentials":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies B (3.09%), N (0.05%), and Zn (0.04%) for boron nutrition."},"Copper Essentials":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Cu (4.9%), N (0.12%), S (2.55%), Ca (0.02%), Mg (0.04%), and K (0.14%)."},"Iron Essentials":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Fe (6%), N (0.12%), S (3.49%), Ca (0.02%), Mg (0.04%), and K (0.14%)."},"Manganese Essentials":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Mn (0.13%), Si (10.96%), N (0.12%), S (6.52%), Ca (0.02%), and Mg (0.04%)."},"Multi-Boost":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A multi-nutrient blend with N (2.29%), S (6.2%), Ca (5.96%), Mg (0.64%), and trace elements."},"Multi-Min":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A multi-nutrient blend with N (4.24%), S (4.12%), Mg (1.49%), Ca (0.02%), and trace elements."},"Multi-Plex":{group:"Nutritional Fertigation/Foliar Spray Program",description:"A multi-nutrient blend with N (10.22%), P (10.09%), K (10.04%), and trace elements."},"Zinc Essentials":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Zn (7.95%), N (0.12%), S (3.95%), Ca (0.02%), and Mg (0.04%)."},"CalMag-Life Organic":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Organic source of Ca (20.26%) and Mg (9.68%)."},"Dia-Life Organic":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Organic source of Si (12.51%), B (0.68%), Ca (0.16%), Mg (0.0277%), and Fe (0.32%)."},"Gyp-Life Organic":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Organic source of Ca (19.55%) and S (15.31%)."},"Lime-Life Organic":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Organic source of Ca (39.37%) and Mg (1.05%)."},"Mag-Life Organic":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Organic source of Mg (21.3%)."},"Phos-Life Organic":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Organic source of P (10.71%), Ca (24.56%), Si (10.73%), and trace elements."},"Sili-Cal (B)":{group:"Nutritional Fertigation/Foliar Spray Program",description:"Supplies Ca (21.59%), Si (3.34%), B (0.51%), S (0.13%), and Mg (0.64%)."}},Nye=[{key:"Biological Fertigation Program",title:"<b>Biological Fertigation Program:</b> This will provide and stimulate beneficial soil biology."},{key:"Nutritional Fertigation/Foliar Spray Program",title:"<b>The following recommendations have been included</b>"}],S2=({crop:n,date:e,summary:t,fertigationProducts:r=[],preFloweringFoliarProducts:i=[],nutritionalFoliarProducts:s=[],tankMixing:o=[],hideProductSummary:a=!1,agronomist:l,reportFooterText:c,plantHealthScore:u,isFirstPage:A=!0,isSoilReport:h=!1,somCecText:f="",baseSaturationText:v="",phText:g="",availableNutrientsText:x="",soilReservesText:b="",lamotteReamsText:S="",taeText:E=""})=>{const k=[...r,...i,...s],P=Array.from(new Set(k.map(V=>V.name))),N=Nye.map(V=>({...V,products:P.filter(W=>{var L;return((L=ST[CT(W)])==null?void 0:L.group)===V.key})})),I=5,U=u!==void 0?Math.floor(u/20):0;return n&&n.includes(" - ")&&n.split(" - ").pop().trim(),y.jsxs("div",{style:{background:"#fff",color:"#222",fontFamily:"Arial, sans-serif",padding:"40px",paddingTop:A?"40px":"64px",maxWidth:"900px",margin:"0 auto",position:"relative",minHeight:"1200px",lineHeight:"1.6",fontSize:"14px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[y.jsx("div",{style:{textAlign:"center",fontSize:"32px",fontWeight:900,color:"red",marginBottom:"16px",letterSpacing:"2px"},children:"TEST EXPORT HEADER"}),y.jsxs("h1",{style:{textAlign:"center",color:"#8cb43a",fontWeight:600,fontSize:"32px",margin:"16px 0",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:[h?"Soil Therapy":"Plant Therapy",y.jsx("sup",{style:{fontSize:"18px"},children:""})," Report"]}),y.jsx("div",{style:{margin:"24px 0",fontSize:"16px",lineHeight:"1.7",textAlign:"justify",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},dangerouslySetInnerHTML:kp(t)}),h&&y.jsxs(y.Fragment,{children:[f&&y.jsx("div",{style:{margin:"24px 0",fontSize:"16px",lineHeight:"1.7",textAlign:"justify",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},dangerouslySetInnerHTML:kp(f)}),v&&y.jsx("div",{style:{margin:"24px 0",fontSize:"16px",lineHeight:"1.7",textAlign:"justify",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},dangerouslySetInnerHTML:kp(v)}),g&&y.jsx("div",{style:{margin:"24px 0",fontSize:"16px",lineHeight:"1.7",textAlign:"justify",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},dangerouslySetInnerHTML:kp(g)}),x&&y.jsx("div",{style:{margin:"24px 0",fontSize:"16px",lineHeight:"1.7",textAlign:"justify",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},dangerouslySetInnerHTML:kp(x)}),b&&y.jsx("div",{style:{margin:"24px 0",fontSize:"16px",lineHeight:"1.7",textAlign:"justify",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},dangerouslySetInnerHTML:kp(b)}),S&&y.jsx("div",{style:{margin:"24px 0",fontSize:"16px",lineHeight:"1.7",textAlign:"justify",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},dangerouslySetInnerHTML:kp(S)}),E&&y.jsx("div",{style:{margin:"24px 0",fontSize:"16px",lineHeight:"1.7",textAlign:"justify",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},dangerouslySetInnerHTML:kp(E)})]}),r.length>0&&y.jsxs("div",{style:{margin:"24px 0",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[y.jsx("div",{style:{fontStyle:"italic",textDecoration:"underline",marginBottom:"8px",fontWeight:600,color:"#495057"},children:"In a single fertigation (drip irrigation) apply the following:"}),y.jsx("ul",{style:{margin:0,paddingLeft:24},children:r.map((V,W)=>y.jsxs("li",{style:{fontWeight:600,marginBottom:"4px",color:"#212529"},children:[V.name," ",y.jsxs("span",{style:{fontWeight:400,color:"#6c757d"},children:["at ",V.rate," ",V.unit]})]},W))})]}),i.length>0&&y.jsxs("div",{style:{margin:"24px 0",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[y.jsx("div",{style:{fontStyle:"italic",textDecoration:"underline",marginBottom:"8px",fontWeight:600,color:"#495057"},children:"In a single pre-flowering foliar spray apply the following:"}),y.jsx("ul",{style:{margin:0,paddingLeft:24},children:i.map((V,W)=>y.jsxs("li",{style:{fontWeight:600,marginBottom:"4px",color:"#212529"},children:[V.name," ",y.jsxs("span",{style:{fontWeight:400,color:"#6c757d"},children:["at ",V.rate," ",V.unit]})]},W))})]}),s.length>0&&y.jsxs("div",{style:{margin:"24px 0",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #dee2e6"},children:[y.jsx("div",{style:{fontStyle:"italic",textDecoration:"underline",marginBottom:"8px",fontWeight:600,color:"#495057"},children:"In a single nutritional foliar spray apply the following:"}),y.jsx("ul",{style:{margin:0,paddingLeft:24},children:s.map((V,W)=>y.jsxs("li",{style:{fontWeight:600,marginBottom:"4px",color:"#212529"},children:[V.name," ",y.jsxs("span",{style:{fontWeight:400,color:"#6c757d"},children:["at ",V.rate," ",V.unit]})]},W))})]}),!a&&N.some(V=>V.products.length>0)&&y.jsxs(y.Fragment,{children:[y.jsx("div",{style:{pageBreakBefore:"always"}}),y.jsx("div",{className:"keep-together",style:{marginBottom:"12px"},children:N.map(V=>V.products.length>0&&y.jsxs("div",{style:{marginBottom:16},children:[y.jsx("div",{style:{fontSize:18,marginBottom:8,color:"#495057",fontWeight:600,...V.key==="Nutritional Fertigation/Foliar Spray Program"?{textAlign:"center"}:{}},dangerouslySetInnerHTML:{__html:V.title}}),y.jsx("ul",{style:{margin:0,paddingLeft:24,fontSize:16,textAlign:"justify",backgroundColor:"#f8f9fa",padding:"16px",borderRadius:"6px",border:"1px solid #dee2e6"},children:V.products.map((W,L)=>{var G;const D=CT(W),z=(G=ST[D])==null?void 0:G.description;return y.jsx("li",{style:{marginBottom:4,lineHeight:"1.4"},children:y.jsxs("span",{style:{display:"inline"},children:[y.jsx("a",{href:`https://www.nutri-tech.com.au/products/${Fye(W)}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#1a0dab",textDecoration:"underline",fontWeight:500,fontStyle:"italic"},children:W}),z&&y.jsxs("span",{style:{color:"#222",fontWeight:400,fontStyle:"normal"},children:[":",y.jsx("span",{dangerouslySetInnerHTML:{__html:" "+z}})]})]})},L)})})]},V.key))})]}),o.length>0&&y.jsxs("div",{className:"keep-together",style:{margin:"24px 0"},children:[y.jsx("div",{style:{fontStyle:"italic",textDecoration:"underline",marginBottom:"8px",fontWeight:600,color:"#495057"},children:"General Tank Mixing Sequence Instructions:"}),y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,marginBottom:16},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{background:"#8cb43a",color:"#fff"},children:[y.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6",fontWeight:700},children:"SEQUENCE"}),y.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6",fontWeight:700},children:"PRODUCT DESCRIPTION"}),y.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6",fontWeight:700},children:"SELECT PRODUCTS"}),y.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6",fontWeight:700},children:"NOTES"})]})}),y.jsx("tbody",{children:(Array.isArray(o)?o:[]).map((V,W)=>y.jsxs("tr",{style:{breakInside:"avoid",pageBreakInside:"avoid"},children:[y.jsx("td",{style:{border:"1px solid #dee2e6",padding:"8px",textAlign:"center",fontWeight:600},children:V.sequence}),y.jsx("td",{style:{border:"1px solid #dee2e6",padding:"8px"},children:V.description}),y.jsx("td",{style:{border:"1px solid #dee2e6",padding:"8px"},children:V.products}),y.jsx("td",{style:{border:"1px solid #dee2e6",padding:"8px"},children:V.notes})]},W))})]})]}),u!==void 0&&y.jsxs("div",{style:{textAlign:"center",marginTop:"20px",marginBottom:"8px",padding:"14px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[y.jsx("div",{style:{display:"flex",justifyContent:"center",gap:2,marginBottom:6},children:[...Array(I)].map((V,W)=>y.jsx(Tye,{filled:W<U},W))}),y.jsxs("div",{style:{color:"#8cb43a",fontWeight:700,fontSize:"26px",marginTop:"8px"},children:[h?"Overall Soil Health Score:":"Overall Plant Health Score:"," ",u.toFixed(1)," / 100"]})]}),l&&y.jsxs("div",{style:{marginTop:"12px",textAlign:"center",padding:"12px",borderTop:"2px solid #dee2e6"},children:[y.jsx("div",{style:{fontWeight:600,fontSize:"18px",color:"#495057"},children:l.name}),l.role&&y.jsx("div",{style:{fontSize:"15px",color:"#6c757d",marginTop:"4px"},children:l.role}),l.email&&y.jsx("div",{style:{fontSize:"15px",color:"#6c757d",marginTop:"4px"},children:l.email})]}),y.jsx("div",{style:{flexGrow:1}}),y.jsx("div",{style:{marginTop:"16px",textAlign:"justify",fontSize:"13px",color:"#666",borderTop:"1px solid #eee",paddingTop:"10px",maxWidth:"800px",marginLeft:"auto",marginRight:"auto",fontStyle:"italic",minHeight:"24px"},children:c||""})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cM=function(n,e){return cM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},cM(n,e)};function Zt(n,e){cM(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Cr=function(){return Cr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Cr.apply(this,arguments)};function kye(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Mr(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,[])).next())})}function Rr(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ai(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var F1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e2=new Uint8Array(256);for(var V5=0;V5<F1.length;V5++)e2[F1.charCodeAt(V5)]=V5;var Pye=function(n){for(var e="",t=n.length,r=0;r<t;r+=3)e+=F1[n[r]>>2],e+=F1[(n[r]&3)<<4|n[r+1]>>4],e+=F1[(n[r+1]&15)<<2|n[r+2]>>6],e+=F1[n[r+2]&63];return t%3===2?e=e.substring(0,e.length-1)+"=":t%3===1&&(e=e.substring(0,e.length-2)+"=="),e},d6=function(n){var e=n.length*.75,t=n.length,r,i=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=new Uint8Array(e);for(r=0;r<t;r+=4)s=e2[n.charCodeAt(r)],o=e2[n.charCodeAt(r+1)],a=e2[n.charCodeAt(r+2)],l=e2[n.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return c},Lye=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,Iye=function(n){var e=n.trim(),t=e.substring(0,100),r=t.match(Lye);if(!r)return d6(e);var i=r[0],s=e.substring(i.length);return d6(s)},wr=function(n){return n.charCodeAt(0)},Mye=function(n){return n.codePointAt(0)},nB=function(n,e){return QA(n.toString(16),e,"0").toUpperCase()},ak=function(n){return nB(n,2)},If=function(n){return String.fromCharCode(n)},Rye=function(n){return If(parseInt(n,16))},QA=function(n,e,t){for(var r="",i=0,s=e-n.length;i<s;i++)r+=t;return r+n},Ta=function(n,e,t){for(var r=n.length,i=0;i<r;i++)e[t++]=n.charCodeAt(i);return r},Dye=function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},rB=function(n){return n.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},_ye=["\\n","\\f","\\r","\\u000B"],Kq=function(n){return/^[\n\f\r\u000B]$/.test(n)},Vq=function(n){return n.split(/[\n\f\r\u000B]/)},Gq=function(n){return n.replace(/[\n\f\r\u000B]/g," ")},Wq=function(n,e){var t=n.charCodeAt(e),r,i=e+1,s=1;return t>=55296&&t<=56319&&n.length>i&&(r=n.charCodeAt(i),r>=56320&&r<=57343&&(s=2)),[n.slice(e,e+s),s]},Oye=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=Wq(n,t),s=i[0],o=i[1];e.push(s),t+=o}return e},Uye=function(n){for(var e=_ye.join("|"),t=["$"],r=0,i=n.length;r<i;r++){var s=n[r];if(Kq(s))throw new TypeError("`wordBreak` must not include "+e);t.push(s===""?".":Dye(s))}var o=t.join("|");return new RegExp("("+e+")|((.*?)("+o+"))","gm")},Hye=function(n,e,t,r){for(var i=Uye(e),s=rB(n).match(i),o="",a=0,l=[],c=function(){o!==""&&l.push(o),o="",a=0},u=0,A=s.length;u<A;u++){var h=s[u];if(Kq(h))c();else{var f=r(h);a+f>t&&c(),o+=h,a+=f}}return c(),l},jye=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,qq=function(n){var e=n.match(jye);if(e){var t=e[1],r=e[2],i=r===void 0?"01":r,s=e[3],o=s===void 0?"01":s,a=e[4],l=a===void 0?"00":a,c=e[5],u=c===void 0?"00":c,A=e[6],h=A===void 0?"00":A,f=e[7],v=f===void 0?"Z":f,g=e[8],x=g===void 0?"00":g,b=e[9],S=b===void 0?"00":b,E=v==="Z"?"Z":""+v+x+":"+S,k=new Date(t+"-"+i+"-"+o+"T"+l+":"+u+":"+h+E);return k}},aD=function(n,e){for(var t,r=0,i;r<n.length;){var s=n.substring(r).match(e);if(!s)return{match:i,pos:r};i=s,r+=((t=s.index)!==null&&t!==void 0?t:0)+s[0].length}return{match:i,pos:r}},BT=function(n){return n[n.length-1]},uM=function(n){if(n instanceof Uint8Array)return n;for(var e=n.length,t=new Uint8Array(e),r=0;r<e;r++)t[r]=n.charCodeAt(r);return t},Qye=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=n.length,r=[],i=0;i<t;i++){var s=n[i];r[i]=s instanceof Uint8Array?s:uM(s)}for(var o=0,i=0;i<t;i++)o+=n[i].length;for(var a=new Uint8Array(o),l=0,c=0;c<t;c++)for(var u=r[c],A=0,h=u.length;A<h;A++)a[l++]=u[A];return a},zye=function(n){for(var e=0,t=0,r=n.length;t<r;t++)e+=n[t].length;for(var i=new Uint8Array(e),s=0,t=0,r=n.length;t<r;t++){var o=n[t];i.set(o,s),s+=o.length}return i},Xq=function(n){for(var e="",t=0,r=n.length;t<r;t++)e+=If(n[t]);return e},Kye=function(n,e){return n.id-e.id},Vye=function(n,e){for(var t=[],r=0,i=n.length;r<i;r++){var s=n[r],o=n[r-1];(r===0||e(s)!==e(o))&&t.push(s)}return t},Yy=function(n){for(var e=n.length,t=0,r=Math.floor(e/2);t<r;t++){var i=t,s=e-t-1,o=n[t];n[i]=n[s],n[s]=o}return n},Gye=function(n){for(var e=0,t=0,r=n.length;t<r;t++)e+=n[t];return e},Wye=function(n,e){for(var t=new Array(e-n),r=0,i=t.length;r<i;r++)t[r]=n+r;return t},qye=function(n,e){for(var t=new Array(e.length),r=0,i=e.length;r<i;r++)t[r]=n[e[r]];return t},Xye=function(n){return n instanceof Uint8Array||n instanceof ArrayBuffer||typeof n=="string"},px=function(n){if(typeof n=="string")return Iye(n);if(n instanceof ArrayBuffer)return new Uint8Array(n);if(n instanceof Uint8Array)return n;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},bw=function(){return new Promise(function(n){setTimeout(function(){return n()},0)})},Yye=function(n,e){e===void 0&&(e=!0);var t=[];e&&t.push(65279);for(var r=0,i=n.length;r<i;){var s=n.codePointAt(r);if(s<65536)t.push(s),r+=1;else if(s<1114112)t.push(Yq(s),Zq(s)),r+=2;else throw new Error("Invalid code point: 0x"+ak(s))}return new Uint16Array(t)},Zye=function(n){return n>=0&&n<=65535},Jye=function(n){return n>=65536&&n<=1114111},Yq=function(n){return Math.floor((n-65536)/1024)+55296},Zq=function(n){return(n-65536)%1024+56320},ig;(function(n){n.BigEndian="BigEndian",n.LittleEndian="LittleEndian"})(ig||(ig={}));var mx="".codePointAt(0),Jq=function(n,e){if(e===void 0&&(e=!0),n.length<=1)return String.fromCodePoint(mx);for(var t=e?e1e(n):ig.BigEndian,r=e?2:0,i=[];n.length-r>=2;){var s=f6(n[r++],n[r++],t);if($ye(s))if(n.length-r<2)i.push(mx);else{var o=f6(n[r++],n[r++],t);h6(o)?i.push(s,o):i.push(mx)}else h6(s)?(r+=2,i.push(mx)):i.push(s)}return r<n.length&&i.push(mx),String.fromCodePoint.apply(String,i)},$ye=function(n){return n>=55296&&n<=56319},h6=function(n){return n>=56320&&n<=57343},f6=function(n,e,t){if(t===ig.LittleEndian)return e<<8|n;if(t===ig.BigEndian)return n<<8|e;throw new Error("Invalid byteOrder: "+t)},e1e=function(n){return $q(n)?ig.BigEndian:eX(n)?ig.LittleEndian:ig.BigEndian},$q=function(n){return n[0]===254&&n[1]===255},eX=function(n){return n[0]===255&&n[1]===254},tX=function(n){return $q(n)||eX(n)},t1e=function(n){var e=String(n);if(Math.abs(n)<1){var t=parseInt(n.toString().split("e-")[1]);if(t){var r=n<0;r&&(n*=-1),n*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+n.toString().substring(2),r&&(e="-"+e)}}else{var t=parseInt(n.toString().split("+")[1]);t>20&&(t-=20,n/=Math.pow(10,t),e=n.toString()+new Array(t+1).join("0"))}return e},ZE=function(n){return Math.ceil(n.toString(2).length/8)},Zy=function(n){for(var e=new Uint8Array(ZE(n)),t=1;t<=e.length;t++)e[t-1]=n>>(e.length-t)*8;return e},iB=function(n){throw new Error(n)},X4={},p6;function Ng(){return p6||(p6=1,function(n){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function t(s,o){return Object.prototype.hasOwnProperty.call(s,o)}n.assign=function(s){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var a=o.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var l in a)t(a,l)&&(s[l]=a[l])}}return s},n.shrinkBuf=function(s,o){return s.length===o?s:s.subarray?s.subarray(0,o):(s.length=o,s)};var r={arraySet:function(s,o,a,l,c){if(o.subarray&&s.subarray){s.set(o.subarray(a,a+l),c);return}for(var u=0;u<l;u++)s[c+u]=o[a+u]},flattenChunks:function(s){var o,a,l,c,u,A;for(l=0,o=0,a=s.length;o<a;o++)l+=s[o].length;for(A=new Uint8Array(l),c=0,o=0,a=s.length;o<a;o++)u=s[o],A.set(u,c),c+=u.length;return A}},i={arraySet:function(s,o,a,l,c){for(var u=0;u<l;u++)s[c+u]=o[a+u]},flattenChunks:function(s){return[].concat.apply([],s)}};n.setTyped=function(s){s?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(e)}(X4)),X4}var Jy={},wA={},e0={},m6;function n1e(){if(m6)return e0;m6=1;var n=Ng(),e=4,t=0,r=1,i=2;function s(se){for(var ut=se.length;--ut>=0;)se[ut]=0}var o=0,a=1,l=2,c=3,u=258,A=29,h=256,f=h+1+A,v=30,g=19,x=2*f+1,b=15,S=16,E=7,k=256,P=16,N=17,I=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,z=new Array((f+2)*2);s(z);var G=new Array(v*2);s(G);var ve=new Array(D);s(ve);var J=new Array(u-c+1);s(J);var $=new Array(A);s($);var X=new Array(v);s(X);function ie(se,ut,At,Pt,Le){this.static_tree=se,this.extra_bits=ut,this.extra_base=At,this.elems=Pt,this.max_length=Le,this.has_stree=se&&se.length}var pe,te,H;function q(se,ut){this.dyn_tree=se,this.max_code=0,this.stat_desc=ut}function re(se){return se<256?ve[se]:ve[256+(se>>>7)]}function he(se,ut){se.pending_buf[se.pending++]=ut&255,se.pending_buf[se.pending++]=ut>>>8&255}function Ae(se,ut,At){se.bi_valid>S-At?(se.bi_buf|=ut<<se.bi_valid&65535,he(se,se.bi_buf),se.bi_buf=ut>>S-se.bi_valid,se.bi_valid+=At-S):(se.bi_buf|=ut<<se.bi_valid&65535,se.bi_valid+=At)}function ge(se,ut,At){Ae(se,At[ut*2],At[ut*2+1])}function we(se,ut){var At=0;do At|=se&1,se>>>=1,At<<=1;while(--ut>0);return At>>>1}function ke(se){se.bi_valid===16?(he(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):se.bi_valid>=8&&(se.pending_buf[se.pending++]=se.bi_buf&255,se.bi_buf>>=8,se.bi_valid-=8)}function ze(se,ut){var At=ut.dyn_tree,Pt=ut.max_code,Le=ut.stat_desc.static_tree,We=ut.stat_desc.has_stree,oe=ut.stat_desc.extra_bits,st=ut.stat_desc.extra_base,sn=ut.stat_desc.max_length,O,Xe,Ye,ae,Ee,Pe,Ft=0;for(ae=0;ae<=b;ae++)se.bl_count[ae]=0;for(At[se.heap[se.heap_max]*2+1]=0,O=se.heap_max+1;O<x;O++)Xe=se.heap[O],ae=At[At[Xe*2+1]*2+1]+1,ae>sn&&(ae=sn,Ft++),At[Xe*2+1]=ae,!(Xe>Pt)&&(se.bl_count[ae]++,Ee=0,Xe>=st&&(Ee=oe[Xe-st]),Pe=At[Xe*2],se.opt_len+=Pe*(ae+Ee),We&&(se.static_len+=Pe*(Le[Xe*2+1]+Ee)));if(Ft!==0){do{for(ae=sn-1;se.bl_count[ae]===0;)ae--;se.bl_count[ae]--,se.bl_count[ae+1]+=2,se.bl_count[sn]--,Ft-=2}while(Ft>0);for(ae=sn;ae!==0;ae--)for(Xe=se.bl_count[ae];Xe!==0;)Ye=se.heap[--O],!(Ye>Pt)&&(At[Ye*2+1]!==ae&&(se.opt_len+=(ae-At[Ye*2+1])*At[Ye*2],At[Ye*2+1]=ae),Xe--)}}function Ve(se,ut,At){var Pt=new Array(b+1),Le=0,We,oe;for(We=1;We<=b;We++)Pt[We]=Le=Le+At[We-1]<<1;for(oe=0;oe<=ut;oe++){var st=se[oe*2+1];st!==0&&(se[oe*2]=we(Pt[st]++,st))}}function Ue(){var se,ut,At,Pt,Le,We=new Array(b+1);for(At=0,Pt=0;Pt<A-1;Pt++)for($[Pt]=At,se=0;se<1<<U[Pt];se++)J[At++]=Pt;for(J[At-1]=Pt,Le=0,Pt=0;Pt<16;Pt++)for(X[Pt]=Le,se=0;se<1<<V[Pt];se++)ve[Le++]=Pt;for(Le>>=7;Pt<v;Pt++)for(X[Pt]=Le<<7,se=0;se<1<<V[Pt]-7;se++)ve[256+Le++]=Pt;for(ut=0;ut<=b;ut++)We[ut]=0;for(se=0;se<=143;)z[se*2+1]=8,se++,We[8]++;for(;se<=255;)z[se*2+1]=9,se++,We[9]++;for(;se<=279;)z[se*2+1]=7,se++,We[7]++;for(;se<=287;)z[se*2+1]=8,se++,We[8]++;for(Ve(z,f+1,We),se=0;se<v;se++)G[se*2+1]=5,G[se*2]=we(se,5);pe=new ie(z,U,h+1,f,b),te=new ie(G,V,0,v,b),H=new ie(new Array(0),W,0,g,E)}function ft(se){var ut;for(ut=0;ut<f;ut++)se.dyn_ltree[ut*2]=0;for(ut=0;ut<v;ut++)se.dyn_dtree[ut*2]=0;for(ut=0;ut<g;ut++)se.bl_tree[ut*2]=0;se.dyn_ltree[k*2]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function Kt(se){se.bi_valid>8?he(se,se.bi_buf):se.bi_valid>0&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function Ge(se,ut,At,Pt){Kt(se),he(se,At),he(se,~At),n.arraySet(se.pending_buf,se.window,ut,At,se.pending),se.pending+=At}function Se(se,ut,At,Pt){var Le=ut*2,We=At*2;return se[Le]<se[We]||se[Le]===se[We]&&Pt[ut]<=Pt[At]}function Nt(se,ut,At){for(var Pt=se.heap[At],Le=At<<1;Le<=se.heap_len&&(Le<se.heap_len&&Se(ut,se.heap[Le+1],se.heap[Le],se.depth)&&Le++,!Se(ut,Pt,se.heap[Le],se.depth));)se.heap[At]=se.heap[Le],At=Le,Le<<=1;se.heap[At]=Pt}function xt(se,ut,At){var Pt,Le,We=0,oe,st;if(se.last_lit!==0)do Pt=se.pending_buf[se.d_buf+We*2]<<8|se.pending_buf[se.d_buf+We*2+1],Le=se.pending_buf[se.l_buf+We],We++,Pt===0?ge(se,Le,ut):(oe=J[Le],ge(se,oe+h+1,ut),st=U[oe],st!==0&&(Le-=$[oe],Ae(se,Le,st)),Pt--,oe=re(Pt),ge(se,oe,At),st=V[oe],st!==0&&(Pt-=X[oe],Ae(se,Pt,st)));while(We<se.last_lit);ge(se,k,ut)}function at(se,ut){var At=ut.dyn_tree,Pt=ut.stat_desc.static_tree,Le=ut.stat_desc.has_stree,We=ut.stat_desc.elems,oe,st,sn=-1,O;for(se.heap_len=0,se.heap_max=x,oe=0;oe<We;oe++)At[oe*2]!==0?(se.heap[++se.heap_len]=sn=oe,se.depth[oe]=0):At[oe*2+1]=0;for(;se.heap_len<2;)O=se.heap[++se.heap_len]=sn<2?++sn:0,At[O*2]=1,se.depth[O]=0,se.opt_len--,Le&&(se.static_len-=Pt[O*2+1]);for(ut.max_code=sn,oe=se.heap_len>>1;oe>=1;oe--)Nt(se,At,oe);O=We;do oe=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Nt(se,At,1),st=se.heap[1],se.heap[--se.heap_max]=oe,se.heap[--se.heap_max]=st,At[O*2]=At[oe*2]+At[st*2],se.depth[O]=(se.depth[oe]>=se.depth[st]?se.depth[oe]:se.depth[st])+1,At[oe*2+1]=At[st*2+1]=O,se.heap[1]=O++,Nt(se,At,1);while(se.heap_len>=2);se.heap[--se.heap_max]=se.heap[1],ze(se,ut),Ve(At,sn,se.bl_count)}function Ct(se,ut,At){var Pt,Le=-1,We,oe=ut[1],st=0,sn=7,O=4;for(oe===0&&(sn=138,O=3),ut[(At+1)*2+1]=65535,Pt=0;Pt<=At;Pt++)We=oe,oe=ut[(Pt+1)*2+1],!(++st<sn&&We===oe)&&(st<O?se.bl_tree[We*2]+=st:We!==0?(We!==Le&&se.bl_tree[We*2]++,se.bl_tree[P*2]++):st<=10?se.bl_tree[N*2]++:se.bl_tree[I*2]++,st=0,Le=We,oe===0?(sn=138,O=3):We===oe?(sn=6,O=3):(sn=7,O=4))}function Et(se,ut,At){var Pt,Le=-1,We,oe=ut[1],st=0,sn=7,O=4;for(oe===0&&(sn=138,O=3),Pt=0;Pt<=At;Pt++)if(We=oe,oe=ut[(Pt+1)*2+1],!(++st<sn&&We===oe)){if(st<O)do ge(se,We,se.bl_tree);while(--st!==0);else We!==0?(We!==Le&&(ge(se,We,se.bl_tree),st--),ge(se,P,se.bl_tree),Ae(se,st-3,2)):st<=10?(ge(se,N,se.bl_tree),Ae(se,st-3,3)):(ge(se,I,se.bl_tree),Ae(se,st-11,7));st=0,Le=We,oe===0?(sn=138,O=3):We===oe?(sn=6,O=3):(sn=7,O=4)}}function mt(se){var ut;for(Ct(se,se.dyn_ltree,se.l_desc.max_code),Ct(se,se.dyn_dtree,se.d_desc.max_code),at(se,se.bl_desc),ut=g-1;ut>=3&&se.bl_tree[L[ut]*2+1]===0;ut--);return se.opt_len+=3*(ut+1)+5+5+4,ut}function Ut(se,ut,At,Pt){var Le;for(Ae(se,ut-257,5),Ae(se,At-1,5),Ae(se,Pt-4,4),Le=0;Le<Pt;Le++)Ae(se,se.bl_tree[L[Le]*2+1],3);Et(se,se.dyn_ltree,ut-1),Et(se,se.dyn_dtree,At-1)}function qe(se){var ut=4093624447,At;for(At=0;At<=31;At++,ut>>>=1)if(ut&1&&se.dyn_ltree[At*2]!==0)return t;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return r;for(At=32;At<h;At++)if(se.dyn_ltree[At*2]!==0)return r;return t}var Cn=!1;function zt(se){Cn||(Ue(),Cn=!0),se.l_desc=new q(se.dyn_ltree,pe),se.d_desc=new q(se.dyn_dtree,te),se.bl_desc=new q(se.bl_tree,H),se.bi_buf=0,se.bi_valid=0,ft(se)}function vn(se,ut,At,Pt){Ae(se,(o<<1)+(Pt?1:0),3),Ge(se,ut,At)}function mn(se){Ae(se,a<<1,3),ge(se,k,z),ke(se)}function ln(se,ut,At,Pt){var Le,We,oe=0;se.level>0?(se.strm.data_type===i&&(se.strm.data_type=qe(se)),at(se,se.l_desc),at(se,se.d_desc),oe=mt(se),Le=se.opt_len+3+7>>>3,We=se.static_len+3+7>>>3,We<=Le&&(Le=We)):Le=We=At+5,At+4<=Le&&ut!==-1?vn(se,ut,At,Pt):se.strategy===e||We===Le?(Ae(se,(a<<1)+(Pt?1:0),3),xt(se,z,G)):(Ae(se,(l<<1)+(Pt?1:0),3),Ut(se,se.l_desc.max_code+1,se.d_desc.max_code+1,oe+1),xt(se,se.dyn_ltree,se.dyn_dtree)),ft(se),Pt&&Kt(se)}function Fn(se,ut,At){return se.pending_buf[se.d_buf+se.last_lit*2]=ut>>>8&255,se.pending_buf[se.d_buf+se.last_lit*2+1]=ut&255,se.pending_buf[se.l_buf+se.last_lit]=At&255,se.last_lit++,ut===0?se.dyn_ltree[At*2]++:(se.matches++,ut--,se.dyn_ltree[(J[At]+h+1)*2]++,se.dyn_dtree[re(ut)*2]++),se.last_lit===se.lit_bufsize-1}return e0._tr_init=zt,e0._tr_stored_block=vn,e0._tr_flush_block=ln,e0._tr_tally=Fn,e0._tr_align=mn,e0}var Y4,g6;function nX(){if(g6)return Y4;g6=1;function n(e,t,r,i){for(var s=e&65535|0,o=e>>>16&65535|0,a=0;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[i++]|0,o=o+s|0;while(--a);s%=65521,o%=65521}return s|o<<16|0}return Y4=n,Y4}var Z4,v6;function rX(){if(v6)return Z4;v6=1;function n(){for(var r,i=[],s=0;s<256;s++){r=s;for(var o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;i[s]=r}return i}var e=n();function t(r,i,s,o){var a=e,l=o+s;r^=-1;for(var c=o;c<l;c++)r=r>>>8^a[(r^i[c])&255];return r^-1}return Z4=t,Z4}var J4,y6;function lD(){return y6||(y6=1,J4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),J4}var b6;function r1e(){if(b6)return wA;b6=1;var n=Ng(),e=n1e(),t=nX(),r=rX(),i=lD(),s=0,o=1,a=3,l=4,c=5,u=0,A=1,h=-2,f=-3,v=-5,g=-1,x=1,b=2,S=3,E=4,k=0,P=2,N=8,I=9,U=15,V=8,W=29,L=256,D=L+1+W,z=30,G=19,ve=2*D+1,J=15,$=3,X=258,ie=X+$+1,pe=32,te=42,H=69,q=73,re=91,he=103,Ae=113,ge=666,we=1,ke=2,ze=3,Ve=4,Ue=3;function ft(O,Xe){return O.msg=i[Xe],Xe}function Kt(O){return(O<<1)-(O>4?9:0)}function Ge(O){for(var Xe=O.length;--Xe>=0;)O[Xe]=0}function Se(O){var Xe=O.state,Ye=Xe.pending;Ye>O.avail_out&&(Ye=O.avail_out),Ye!==0&&(n.arraySet(O.output,Xe.pending_buf,Xe.pending_out,Ye,O.next_out),O.next_out+=Ye,Xe.pending_out+=Ye,O.total_out+=Ye,O.avail_out-=Ye,Xe.pending-=Ye,Xe.pending===0&&(Xe.pending_out=0))}function Nt(O,Xe){e._tr_flush_block(O,O.block_start>=0?O.block_start:-1,O.strstart-O.block_start,Xe),O.block_start=O.strstart,Se(O.strm)}function xt(O,Xe){O.pending_buf[O.pending++]=Xe}function at(O,Xe){O.pending_buf[O.pending++]=Xe>>>8&255,O.pending_buf[O.pending++]=Xe&255}function Ct(O,Xe,Ye,ae){var Ee=O.avail_in;return Ee>ae&&(Ee=ae),Ee===0?0:(O.avail_in-=Ee,n.arraySet(Xe,O.input,O.next_in,Ee,Ye),O.state.wrap===1?O.adler=t(O.adler,Xe,Ee,Ye):O.state.wrap===2&&(O.adler=r(O.adler,Xe,Ee,Ye)),O.next_in+=Ee,O.total_in+=Ee,Ee)}function Et(O,Xe){var Ye=O.max_chain_length,ae=O.strstart,Ee,Pe,Ft=O.prev_length,vt=O.nice_match,Lt=O.strstart>O.w_size-ie?O.strstart-(O.w_size-ie):0,Ze=O.window,Oe=O.w_mask,St=O.prev,Ke=O.strstart+X,lt=Ze[ae+Ft-1],pt=Ze[ae+Ft];O.prev_length>=O.good_match&&(Ye>>=2),vt>O.lookahead&&(vt=O.lookahead);do if(Ee=Xe,!(Ze[Ee+Ft]!==pt||Ze[Ee+Ft-1]!==lt||Ze[Ee]!==Ze[ae]||Ze[++Ee]!==Ze[ae+1])){ae+=2,Ee++;do;while(Ze[++ae]===Ze[++Ee]&&Ze[++ae]===Ze[++Ee]&&Ze[++ae]===Ze[++Ee]&&Ze[++ae]===Ze[++Ee]&&Ze[++ae]===Ze[++Ee]&&Ze[++ae]===Ze[++Ee]&&Ze[++ae]===Ze[++Ee]&&Ze[++ae]===Ze[++Ee]&&ae<Ke);if(Pe=X-(Ke-ae),ae=Ke-X,Pe>Ft){if(O.match_start=Xe,Ft=Pe,Pe>=vt)break;lt=Ze[ae+Ft-1],pt=Ze[ae+Ft]}}while((Xe=St[Xe&Oe])>Lt&&--Ye!==0);return Ft<=O.lookahead?Ft:O.lookahead}function mt(O){var Xe=O.w_size,Ye,ae,Ee,Pe,Ft;do{if(Pe=O.window_size-O.lookahead-O.strstart,O.strstart>=Xe+(Xe-ie)){n.arraySet(O.window,O.window,Xe,Xe,0),O.match_start-=Xe,O.strstart-=Xe,O.block_start-=Xe,ae=O.hash_size,Ye=ae;do Ee=O.head[--Ye],O.head[Ye]=Ee>=Xe?Ee-Xe:0;while(--ae);ae=Xe,Ye=ae;do Ee=O.prev[--Ye],O.prev[Ye]=Ee>=Xe?Ee-Xe:0;while(--ae);Pe+=Xe}if(O.strm.avail_in===0)break;if(ae=Ct(O.strm,O.window,O.strstart+O.lookahead,Pe),O.lookahead+=ae,O.lookahead+O.insert>=$)for(Ft=O.strstart-O.insert,O.ins_h=O.window[Ft],O.ins_h=(O.ins_h<<O.hash_shift^O.window[Ft+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[Ft+$-1])&O.hash_mask,O.prev[Ft&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=Ft,Ft++,O.insert--,!(O.lookahead+O.insert<$)););}while(O.lookahead<ie&&O.strm.avail_in!==0)}function Ut(O,Xe){var Ye=65535;for(Ye>O.pending_buf_size-5&&(Ye=O.pending_buf_size-5);;){if(O.lookahead<=1){if(mt(O),O.lookahead===0&&Xe===s)return we;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var ae=O.block_start+Ye;if((O.strstart===0||O.strstart>=ae)&&(O.lookahead=O.strstart-ae,O.strstart=ae,Nt(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-ie&&(Nt(O,!1),O.strm.avail_out===0))return we}return O.insert=0,Xe===l?(Nt(O,!0),O.strm.avail_out===0?ze:Ve):(O.strstart>O.block_start&&(Nt(O,!1),O.strm.avail_out===0),we)}function qe(O,Xe){for(var Ye,ae;;){if(O.lookahead<ie){if(mt(O),O.lookahead<ie&&Xe===s)return we;if(O.lookahead===0)break}if(Ye=0,O.lookahead>=$&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+$-1])&O.hash_mask,Ye=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),Ye!==0&&O.strstart-Ye<=O.w_size-ie&&(O.match_length=Et(O,Ye)),O.match_length>=$)if(ae=e._tr_tally(O,O.strstart-O.match_start,O.match_length-$),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=$){O.match_length--;do O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+$-1])&O.hash_mask,Ye=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart;while(--O.match_length!==0);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else ae=e._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(ae&&(Nt(O,!1),O.strm.avail_out===0))return we}return O.insert=O.strstart<$-1?O.strstart:$-1,Xe===l?(Nt(O,!0),O.strm.avail_out===0?ze:Ve):O.last_lit&&(Nt(O,!1),O.strm.avail_out===0)?we:ke}function Cn(O,Xe){for(var Ye,ae,Ee;;){if(O.lookahead<ie){if(mt(O),O.lookahead<ie&&Xe===s)return we;if(O.lookahead===0)break}if(Ye=0,O.lookahead>=$&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+$-1])&O.hash_mask,Ye=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=$-1,Ye!==0&&O.prev_length<O.max_lazy_match&&O.strstart-Ye<=O.w_size-ie&&(O.match_length=Et(O,Ye),O.match_length<=5&&(O.strategy===x||O.match_length===$&&O.strstart-O.match_start>4096)&&(O.match_length=$-1)),O.prev_length>=$&&O.match_length<=O.prev_length){Ee=O.strstart+O.lookahead-$,ae=e._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-$),O.lookahead-=O.prev_length-1,O.prev_length-=2;do++O.strstart<=Ee&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+$-1])&O.hash_mask,Ye=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart);while(--O.prev_length!==0);if(O.match_available=0,O.match_length=$-1,O.strstart++,ae&&(Nt(O,!1),O.strm.avail_out===0))return we}else if(O.match_available){if(ae=e._tr_tally(O,0,O.window[O.strstart-1]),ae&&Nt(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return we}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(ae=e._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<$-1?O.strstart:$-1,Xe===l?(Nt(O,!0),O.strm.avail_out===0?ze:Ve):O.last_lit&&(Nt(O,!1),O.strm.avail_out===0)?we:ke}function zt(O,Xe){for(var Ye,ae,Ee,Pe,Ft=O.window;;){if(O.lookahead<=X){if(mt(O),O.lookahead<=X&&Xe===s)return we;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=$&&O.strstart>0&&(Ee=O.strstart-1,ae=Ft[Ee],ae===Ft[++Ee]&&ae===Ft[++Ee]&&ae===Ft[++Ee])){Pe=O.strstart+X;do;while(ae===Ft[++Ee]&&ae===Ft[++Ee]&&ae===Ft[++Ee]&&ae===Ft[++Ee]&&ae===Ft[++Ee]&&ae===Ft[++Ee]&&ae===Ft[++Ee]&&ae===Ft[++Ee]&&Ee<Pe);O.match_length=X-(Pe-Ee),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=$?(Ye=e._tr_tally(O,1,O.match_length-$),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(Ye=e._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),Ye&&(Nt(O,!1),O.strm.avail_out===0))return we}return O.insert=0,Xe===l?(Nt(O,!0),O.strm.avail_out===0?ze:Ve):O.last_lit&&(Nt(O,!1),O.strm.avail_out===0)?we:ke}function vn(O,Xe){for(var Ye;;){if(O.lookahead===0&&(mt(O),O.lookahead===0)){if(Xe===s)return we;break}if(O.match_length=0,Ye=e._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,Ye&&(Nt(O,!1),O.strm.avail_out===0))return we}return O.insert=0,Xe===l?(Nt(O,!0),O.strm.avail_out===0?ze:Ve):O.last_lit&&(Nt(O,!1),O.strm.avail_out===0)?we:ke}function mn(O,Xe,Ye,ae,Ee){this.good_length=O,this.max_lazy=Xe,this.nice_length=Ye,this.max_chain=ae,this.func=Ee}var ln;ln=[new mn(0,0,0,0,Ut),new mn(4,4,8,4,qe),new mn(4,5,16,8,qe),new mn(4,6,32,32,qe),new mn(4,4,16,16,Cn),new mn(8,16,32,32,Cn),new mn(8,16,128,128,Cn),new mn(8,32,128,256,Cn),new mn(32,128,258,1024,Cn),new mn(32,258,258,4096,Cn)];function Fn(O){O.window_size=2*O.w_size,Ge(O.head),O.max_lazy_match=ln[O.level].max_lazy,O.good_match=ln[O.level].good_length,O.nice_match=ln[O.level].nice_length,O.max_chain_length=ln[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=$-1,O.match_available=0,O.ins_h=0}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(ve*2),this.dyn_dtree=new n.Buf16((2*z+1)*2),this.bl_tree=new n.Buf16((2*G+1)*2),Ge(this.dyn_ltree),Ge(this.dyn_dtree),Ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(J+1),this.heap=new n.Buf16(2*D+1),Ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*D+1),Ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ut(O){var Xe;return!O||!O.state?ft(O,h):(O.total_in=O.total_out=0,O.data_type=P,Xe=O.state,Xe.pending=0,Xe.pending_out=0,Xe.wrap<0&&(Xe.wrap=-Xe.wrap),Xe.status=Xe.wrap?te:Ae,O.adler=Xe.wrap===2?0:1,Xe.last_flush=s,e._tr_init(Xe),u)}function At(O){var Xe=ut(O);return Xe===u&&Fn(O.state),Xe}function Pt(O,Xe){return!O||!O.state||O.state.wrap!==2?h:(O.state.gzhead=Xe,u)}function Le(O,Xe,Ye,ae,Ee,Pe){if(!O)return h;var Ft=1;if(Xe===g&&(Xe=6),ae<0?(Ft=0,ae=-ae):ae>15&&(Ft=2,ae-=16),Ee<1||Ee>I||Ye!==N||ae<8||ae>15||Xe<0||Xe>9||Pe<0||Pe>E)return ft(O,h);ae===8&&(ae=9);var vt=new se;return O.state=vt,vt.strm=O,vt.wrap=Ft,vt.gzhead=null,vt.w_bits=ae,vt.w_size=1<<vt.w_bits,vt.w_mask=vt.w_size-1,vt.hash_bits=Ee+7,vt.hash_size=1<<vt.hash_bits,vt.hash_mask=vt.hash_size-1,vt.hash_shift=~~((vt.hash_bits+$-1)/$),vt.window=new n.Buf8(vt.w_size*2),vt.head=new n.Buf16(vt.hash_size),vt.prev=new n.Buf16(vt.w_size),vt.lit_bufsize=1<<Ee+6,vt.pending_buf_size=vt.lit_bufsize*4,vt.pending_buf=new n.Buf8(vt.pending_buf_size),vt.d_buf=1*vt.lit_bufsize,vt.l_buf=3*vt.lit_bufsize,vt.level=Xe,vt.strategy=Pe,vt.method=Ye,At(O)}function We(O,Xe){return Le(O,Xe,N,U,V,k)}function oe(O,Xe){var Ye,ae,Ee,Pe;if(!O||!O.state||Xe>c||Xe<0)return O?ft(O,h):h;if(ae=O.state,!O.output||!O.input&&O.avail_in!==0||ae.status===ge&&Xe!==l)return ft(O,O.avail_out===0?v:h);if(ae.strm=O,Ye=ae.last_flush,ae.last_flush=Xe,ae.status===te)if(ae.wrap===2)O.adler=0,xt(ae,31),xt(ae,139),xt(ae,8),ae.gzhead?(xt(ae,(ae.gzhead.text?1:0)+(ae.gzhead.hcrc?2:0)+(ae.gzhead.extra?4:0)+(ae.gzhead.name?8:0)+(ae.gzhead.comment?16:0)),xt(ae,ae.gzhead.time&255),xt(ae,ae.gzhead.time>>8&255),xt(ae,ae.gzhead.time>>16&255),xt(ae,ae.gzhead.time>>24&255),xt(ae,ae.level===9?2:ae.strategy>=b||ae.level<2?4:0),xt(ae,ae.gzhead.os&255),ae.gzhead.extra&&ae.gzhead.extra.length&&(xt(ae,ae.gzhead.extra.length&255),xt(ae,ae.gzhead.extra.length>>8&255)),ae.gzhead.hcrc&&(O.adler=r(O.adler,ae.pending_buf,ae.pending,0)),ae.gzindex=0,ae.status=H):(xt(ae,0),xt(ae,0),xt(ae,0),xt(ae,0),xt(ae,0),xt(ae,ae.level===9?2:ae.strategy>=b||ae.level<2?4:0),xt(ae,Ue),ae.status=Ae);else{var Ft=N+(ae.w_bits-8<<4)<<8,vt=-1;ae.strategy>=b||ae.level<2?vt=0:ae.level<6?vt=1:ae.level===6?vt=2:vt=3,Ft|=vt<<6,ae.strstart!==0&&(Ft|=pe),Ft+=31-Ft%31,ae.status=Ae,at(ae,Ft),ae.strstart!==0&&(at(ae,O.adler>>>16),at(ae,O.adler&65535)),O.adler=1}if(ae.status===H)if(ae.gzhead.extra){for(Ee=ae.pending;ae.gzindex<(ae.gzhead.extra.length&65535)&&!(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>Ee&&(O.adler=r(O.adler,ae.pending_buf,ae.pending-Ee,Ee)),Se(O),Ee=ae.pending,ae.pending===ae.pending_buf_size));)xt(ae,ae.gzhead.extra[ae.gzindex]&255),ae.gzindex++;ae.gzhead.hcrc&&ae.pending>Ee&&(O.adler=r(O.adler,ae.pending_buf,ae.pending-Ee,Ee)),ae.gzindex===ae.gzhead.extra.length&&(ae.gzindex=0,ae.status=q)}else ae.status=q;if(ae.status===q)if(ae.gzhead.name){Ee=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>Ee&&(O.adler=r(O.adler,ae.pending_buf,ae.pending-Ee,Ee)),Se(O),Ee=ae.pending,ae.pending===ae.pending_buf_size)){Pe=1;break}ae.gzindex<ae.gzhead.name.length?Pe=ae.gzhead.name.charCodeAt(ae.gzindex++)&255:Pe=0,xt(ae,Pe)}while(Pe!==0);ae.gzhead.hcrc&&ae.pending>Ee&&(O.adler=r(O.adler,ae.pending_buf,ae.pending-Ee,Ee)),Pe===0&&(ae.gzindex=0,ae.status=re)}else ae.status=re;if(ae.status===re)if(ae.gzhead.comment){Ee=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>Ee&&(O.adler=r(O.adler,ae.pending_buf,ae.pending-Ee,Ee)),Se(O),Ee=ae.pending,ae.pending===ae.pending_buf_size)){Pe=1;break}ae.gzindex<ae.gzhead.comment.length?Pe=ae.gzhead.comment.charCodeAt(ae.gzindex++)&255:Pe=0,xt(ae,Pe)}while(Pe!==0);ae.gzhead.hcrc&&ae.pending>Ee&&(O.adler=r(O.adler,ae.pending_buf,ae.pending-Ee,Ee)),Pe===0&&(ae.status=he)}else ae.status=he;if(ae.status===he&&(ae.gzhead.hcrc?(ae.pending+2>ae.pending_buf_size&&Se(O),ae.pending+2<=ae.pending_buf_size&&(xt(ae,O.adler&255),xt(ae,O.adler>>8&255),O.adler=0,ae.status=Ae)):ae.status=Ae),ae.pending!==0){if(Se(O),O.avail_out===0)return ae.last_flush=-1,u}else if(O.avail_in===0&&Kt(Xe)<=Kt(Ye)&&Xe!==l)return ft(O,v);if(ae.status===ge&&O.avail_in!==0)return ft(O,v);if(O.avail_in!==0||ae.lookahead!==0||Xe!==s&&ae.status!==ge){var Lt=ae.strategy===b?vn(ae,Xe):ae.strategy===S?zt(ae,Xe):ln[ae.level].func(ae,Xe);if((Lt===ze||Lt===Ve)&&(ae.status=ge),Lt===we||Lt===ze)return O.avail_out===0&&(ae.last_flush=-1),u;if(Lt===ke&&(Xe===o?e._tr_align(ae):Xe!==c&&(e._tr_stored_block(ae,0,0,!1),Xe===a&&(Ge(ae.head),ae.lookahead===0&&(ae.strstart=0,ae.block_start=0,ae.insert=0))),Se(O),O.avail_out===0))return ae.last_flush=-1,u}return Xe!==l?u:ae.wrap<=0?A:(ae.wrap===2?(xt(ae,O.adler&255),xt(ae,O.adler>>8&255),xt(ae,O.adler>>16&255),xt(ae,O.adler>>24&255),xt(ae,O.total_in&255),xt(ae,O.total_in>>8&255),xt(ae,O.total_in>>16&255),xt(ae,O.total_in>>24&255)):(at(ae,O.adler>>>16),at(ae,O.adler&65535)),Se(O),ae.wrap>0&&(ae.wrap=-ae.wrap),ae.pending!==0?u:A)}function st(O){var Xe;return!O||!O.state?h:(Xe=O.state.status,Xe!==te&&Xe!==H&&Xe!==q&&Xe!==re&&Xe!==he&&Xe!==Ae&&Xe!==ge?ft(O,h):(O.state=null,Xe===Ae?ft(O,f):u))}function sn(O,Xe){var Ye=Xe.length,ae,Ee,Pe,Ft,vt,Lt,Ze,Oe;if(!O||!O.state||(ae=O.state,Ft=ae.wrap,Ft===2||Ft===1&&ae.status!==te||ae.lookahead))return h;for(Ft===1&&(O.adler=t(O.adler,Xe,Ye,0)),ae.wrap=0,Ye>=ae.w_size&&(Ft===0&&(Ge(ae.head),ae.strstart=0,ae.block_start=0,ae.insert=0),Oe=new n.Buf8(ae.w_size),n.arraySet(Oe,Xe,Ye-ae.w_size,ae.w_size,0),Xe=Oe,Ye=ae.w_size),vt=O.avail_in,Lt=O.next_in,Ze=O.input,O.avail_in=Ye,O.next_in=0,O.input=Xe,mt(ae);ae.lookahead>=$;){Ee=ae.strstart,Pe=ae.lookahead-($-1);do ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[Ee+$-1])&ae.hash_mask,ae.prev[Ee&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=Ee,Ee++;while(--Pe);ae.strstart=Ee,ae.lookahead=$-1,mt(ae)}return ae.strstart+=ae.lookahead,ae.block_start=ae.strstart,ae.insert=ae.lookahead,ae.lookahead=0,ae.match_length=ae.prev_length=$-1,ae.match_available=0,O.next_in=Lt,O.input=Ze,O.avail_in=vt,ae.wrap=Ft,u}return wA.deflateInit=We,wA.deflateInit2=Le,wA.deflateReset=At,wA.deflateResetKeep=ut,wA.deflateSetHeader=Pt,wA.deflate=oe,wA.deflateEnd=st,wA.deflateSetDictionary=sn,wA.deflateInfo="pako deflate (from Nodeca project)",wA}var t0={},w6;function iX(){if(w6)return t0;w6=1;var n=Ng(),e=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var r=new n.Buf8(256),i=0;i<256;i++)r[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;r[254]=r[254]=1,t0.string2buf=function(o){var a,l,c,u,A,h=o.length,f=0;for(u=0;u<h;u++)l=o.charCodeAt(u),(l&64512)===55296&&u+1<h&&(c=o.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),f+=l<128?1:l<2048?2:l<65536?3:4;for(a=new n.Buf8(f),A=0,u=0;A<f;u++)l=o.charCodeAt(u),(l&64512)===55296&&u+1<h&&(c=o.charCodeAt(u+1),(c&64512)===56320&&(l=65536+(l-55296<<10)+(c-56320),u++)),l<128?a[A++]=l:l<2048?(a[A++]=192|l>>>6,a[A++]=128|l&63):l<65536?(a[A++]=224|l>>>12,a[A++]=128|l>>>6&63,a[A++]=128|l&63):(a[A++]=240|l>>>18,a[A++]=128|l>>>12&63,a[A++]=128|l>>>6&63,a[A++]=128|l&63);return a};function s(o,a){if(a<65534&&(o.subarray&&t||!o.subarray&&e))return String.fromCharCode.apply(null,n.shrinkBuf(o,a));for(var l="",c=0;c<a;c++)l+=String.fromCharCode(o[c]);return l}return t0.buf2binstring=function(o){return s(o,o.length)},t0.binstring2buf=function(o){for(var a=new n.Buf8(o.length),l=0,c=a.length;l<c;l++)a[l]=o.charCodeAt(l);return a},t0.buf2string=function(o,a){var l,c,u,A,h=a||o.length,f=new Array(h*2);for(c=0,l=0;l<h;){if(u=o[l++],u<128){f[c++]=u;continue}if(A=r[u],A>4){f[c++]=65533,l+=A-1;continue}for(u&=A===2?31:A===3?15:7;A>1&&l<h;)u=u<<6|o[l++]&63,A--;if(A>1){f[c++]=65533;continue}u<65536?f[c++]=u:(u-=65536,f[c++]=55296|u>>10&1023,f[c++]=56320|u&1023)}return s(f,c)},t0.utf8border=function(o,a){var l;for(a=a||o.length,a>o.length&&(a=o.length),l=a-1;l>=0&&(o[l]&192)===128;)l--;return l<0||l===0?a:l+r[o[l]]>a?l:a},t0}var $4,x6;function sX(){if(x6)return $4;x6=1;function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return $4=n,$4}var C6;function i1e(){if(C6)return Jy;C6=1;var n=r1e(),e=Ng(),t=iX(),r=lD(),i=sX(),s=Object.prototype.toString,o=0,a=4,l=0,c=1,u=2,A=-1,h=0,f=8;function v(S){if(!(this instanceof v))return new v(S);this.options=e.assign({level:A,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},S||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var k=n.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(k!==l)throw new Error(r[k]);if(E.header&&n.deflateSetHeader(this.strm,E.header),E.dictionary){var P;if(typeof E.dictionary=="string"?P=t.string2buf(E.dictionary):s.call(E.dictionary)==="[object ArrayBuffer]"?P=new Uint8Array(E.dictionary):P=E.dictionary,k=n.deflateSetDictionary(this.strm,P),k!==l)throw new Error(r[k]);this._dict_set=!0}}v.prototype.push=function(S,E){var k=this.strm,P=this.options.chunkSize,N,I;if(this.ended)return!1;I=E===~~E?E:E===!0?a:o,typeof S=="string"?k.input=t.string2buf(S):s.call(S)==="[object ArrayBuffer]"?k.input=new Uint8Array(S):k.input=S,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new e.Buf8(P),k.next_out=0,k.avail_out=P),N=n.deflate(k,I),N!==c&&N!==l)return this.onEnd(N),this.ended=!0,!1;(k.avail_out===0||k.avail_in===0&&(I===a||I===u))&&(this.options.to==="string"?this.onData(t.buf2binstring(e.shrinkBuf(k.output,k.next_out))):this.onData(e.shrinkBuf(k.output,k.next_out)))}while((k.avail_in>0||k.avail_out===0)&&N!==c);return I===a?(N=n.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===l):(I===u&&(this.onEnd(l),k.avail_out=0),!0)},v.prototype.onData=function(S){this.chunks.push(S)},v.prototype.onEnd=function(S){S===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg};function g(S,E){var k=new v(E);if(k.push(S,!0),k.err)throw k.msg||r[k.err];return k.result}function x(S,E){return E=E||{},E.raw=!0,g(S,E)}function b(S,E){return E=E||{},E.gzip=!0,g(S,E)}return Jy.Deflate=v,Jy.deflate=g,Jy.deflateRaw=x,Jy.gzip=b,Jy}var $y={},vu={},eL,S6;function s1e(){if(S6)return eL;S6=1;var n=30,e=12;return eL=function(r,i){var s,o,a,l,c,u,A,h,f,v,g,x,b,S,E,k,P,N,I,U,V,W,L,D,z;s=r.state,o=r.next_in,D=r.input,a=o+(r.avail_in-5),l=r.next_out,z=r.output,c=l-(i-r.avail_out),u=l+(r.avail_out-257),A=s.dmax,h=s.wsize,f=s.whave,v=s.wnext,g=s.window,x=s.hold,b=s.bits,S=s.lencode,E=s.distcode,k=(1<<s.lenbits)-1,P=(1<<s.distbits)-1;e:do{b<15&&(x+=D[o++]<<b,b+=8,x+=D[o++]<<b,b+=8),N=S[x&k];t:for(;;){if(I=N>>>24,x>>>=I,b-=I,I=N>>>16&255,I===0)z[l++]=N&65535;else if(I&16){U=N&65535,I&=15,I&&(b<I&&(x+=D[o++]<<b,b+=8),U+=x&(1<<I)-1,x>>>=I,b-=I),b<15&&(x+=D[o++]<<b,b+=8,x+=D[o++]<<b,b+=8),N=E[x&P];n:for(;;){if(I=N>>>24,x>>>=I,b-=I,I=N>>>16&255,I&16){if(V=N&65535,I&=15,b<I&&(x+=D[o++]<<b,b+=8,b<I&&(x+=D[o++]<<b,b+=8)),V+=x&(1<<I)-1,V>A){r.msg="invalid distance too far back",s.mode=n;break e}if(x>>>=I,b-=I,I=l-c,V>I){if(I=V-I,I>f&&s.sane){r.msg="invalid distance too far back",s.mode=n;break e}if(W=0,L=g,v===0){if(W+=h-I,I<U){U-=I;do z[l++]=g[W++];while(--I);W=l-V,L=z}}else if(v<I){if(W+=h+v-I,I-=v,I<U){U-=I;do z[l++]=g[W++];while(--I);if(W=0,v<U){I=v,U-=I;do z[l++]=g[W++];while(--I);W=l-V,L=z}}}else if(W+=v-I,I<U){U-=I;do z[l++]=g[W++];while(--I);W=l-V,L=z}for(;U>2;)z[l++]=L[W++],z[l++]=L[W++],z[l++]=L[W++],U-=3;U&&(z[l++]=L[W++],U>1&&(z[l++]=L[W++]))}else{W=l-V;do z[l++]=z[W++],z[l++]=z[W++],z[l++]=z[W++],U-=3;while(U>2);U&&(z[l++]=z[W++],U>1&&(z[l++]=z[W++]))}}else if((I&64)===0){N=E[(N&65535)+(x&(1<<I)-1)];continue n}else{r.msg="invalid distance code",s.mode=n;break e}break}}else if((I&64)===0){N=S[(N&65535)+(x&(1<<I)-1)];continue t}else if(I&32){s.mode=e;break e}else{r.msg="invalid literal/length code",s.mode=n;break e}break}}while(o<a&&l<u);U=b>>3,o-=U,b-=U<<3,x&=(1<<b)-1,r.next_in=o,r.next_out=l,r.avail_in=o<a?5+(a-o):5-(o-a),r.avail_out=l<u?257+(u-l):257-(l-u),s.hold=x,s.bits=b},eL}var tL,B6;function o1e(){if(B6)return tL;B6=1;var n=Ng(),e=15,t=852,r=592,i=0,s=1,o=2,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return tL=function(h,f,v,g,x,b,S,E){var k=E.bits,P=0,N=0,I=0,U=0,V=0,W=0,L=0,D=0,z=0,G=0,ve,J,$,X,ie,pe=null,te=0,H,q=new n.Buf16(e+1),re=new n.Buf16(e+1),he=null,Ae=0,ge,we,ke;for(P=0;P<=e;P++)q[P]=0;for(N=0;N<g;N++)q[f[v+N]]++;for(V=k,U=e;U>=1&&q[U]===0;U--);if(V>U&&(V=U),U===0)return x[b++]=1<<24|64<<16|0,x[b++]=1<<24|64<<16|0,E.bits=1,0;for(I=1;I<U&&q[I]===0;I++);for(V<I&&(V=I),D=1,P=1;P<=e;P++)if(D<<=1,D-=q[P],D<0)return-1;if(D>0&&(h===i||U!==1))return-1;for(re[1]=0,P=1;P<e;P++)re[P+1]=re[P]+q[P];for(N=0;N<g;N++)f[v+N]!==0&&(S[re[f[v+N]]++]=N);if(h===i?(pe=he=S,H=19):h===s?(pe=a,te-=257,he=l,Ae-=257,H=256):(pe=c,he=u,H=-1),G=0,N=0,P=I,ie=b,W=V,L=0,$=-1,z=1<<V,X=z-1,h===s&&z>t||h===o&&z>r)return 1;for(;;){ge=P-L,S[N]<H?(we=0,ke=S[N]):S[N]>H?(we=he[Ae+S[N]],ke=pe[te+S[N]]):(we=96,ke=0),ve=1<<P-L,J=1<<W,I=J;do J-=ve,x[ie+(G>>L)+J]=ge<<24|we<<16|ke|0;while(J!==0);for(ve=1<<P-1;G&ve;)ve>>=1;if(ve!==0?(G&=ve-1,G+=ve):G=0,N++,--q[P]===0){if(P===U)break;P=f[v+S[N]]}if(P>V&&(G&X)!==$){for(L===0&&(L=V),ie+=I,W=P-L,D=1<<W;W+L<U&&(D-=q[W+L],!(D<=0));)W++,D<<=1;if(z+=1<<W,h===s&&z>t||h===o&&z>r)return 1;$=G&X,x[$]=V<<24|W<<16|ie-b|0}}return G!==0&&(x[ie+G]=P-L<<24|64<<16|0),E.bits=V,0},tL}var E6;function a1e(){if(E6)return vu;E6=1;var n=Ng(),e=nX(),t=rX(),r=s1e(),i=o1e(),s=0,o=1,a=2,l=4,c=5,u=6,A=0,h=1,f=2,v=-2,g=-3,x=-4,b=-5,S=8,E=1,k=2,P=3,N=4,I=5,U=6,V=7,W=8,L=9,D=10,z=11,G=12,ve=13,J=14,$=15,X=16,ie=17,pe=18,te=19,H=20,q=21,re=22,he=23,Ae=24,ge=25,we=26,ke=27,ze=28,Ve=29,Ue=30,ft=31,Kt=32,Ge=852,Se=592,Nt=15,xt=Nt;function at(Le){return(Le>>>24&255)+(Le>>>8&65280)+((Le&65280)<<8)+((Le&255)<<24)}function Ct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Et(Le){var We;return!Le||!Le.state?v:(We=Le.state,Le.total_in=Le.total_out=We.total=0,Le.msg="",We.wrap&&(Le.adler=We.wrap&1),We.mode=E,We.last=0,We.havedict=0,We.dmax=32768,We.head=null,We.hold=0,We.bits=0,We.lencode=We.lendyn=new n.Buf32(Ge),We.distcode=We.distdyn=new n.Buf32(Se),We.sane=1,We.back=-1,A)}function mt(Le){var We;return!Le||!Le.state?v:(We=Le.state,We.wsize=0,We.whave=0,We.wnext=0,Et(Le))}function Ut(Le,We){var oe,st;return!Le||!Le.state||(st=Le.state,We<0?(oe=0,We=-We):(oe=(We>>4)+1,We<48&&(We&=15)),We&&(We<8||We>15))?v:(st.window!==null&&st.wbits!==We&&(st.window=null),st.wrap=oe,st.wbits=We,mt(Le))}function qe(Le,We){var oe,st;return Le?(st=new Ct,Le.state=st,st.window=null,oe=Ut(Le,We),oe!==A&&(Le.state=null),oe):v}function Cn(Le){return qe(Le,xt)}var zt=!0,vn,mn;function ln(Le){if(zt){var We;for(vn=new n.Buf32(512),mn=new n.Buf32(32),We=0;We<144;)Le.lens[We++]=8;for(;We<256;)Le.lens[We++]=9;for(;We<280;)Le.lens[We++]=7;for(;We<288;)Le.lens[We++]=8;for(i(o,Le.lens,0,288,vn,0,Le.work,{bits:9}),We=0;We<32;)Le.lens[We++]=5;i(a,Le.lens,0,32,mn,0,Le.work,{bits:5}),zt=!1}Le.lencode=vn,Le.lenbits=9,Le.distcode=mn,Le.distbits=5}function Fn(Le,We,oe,st){var sn,O=Le.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new n.Buf8(O.wsize)),st>=O.wsize?(n.arraySet(O.window,We,oe-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(sn=O.wsize-O.wnext,sn>st&&(sn=st),n.arraySet(O.window,We,oe-st,sn,O.wnext),st-=sn,st?(n.arraySet(O.window,We,oe-st,st,0),O.wnext=st,O.whave=O.wsize):(O.wnext+=sn,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=sn))),0}function se(Le,We){var oe,st,sn,O,Xe,Ye,ae,Ee,Pe,Ft,vt,Lt,Ze,Oe,St=0,Ke,lt,pt,qt,on,Gt,en,Tt,tn=new n.Buf8(4),yn,Yt,cn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Le||!Le.state||!Le.output||!Le.input&&Le.avail_in!==0)return v;oe=Le.state,oe.mode===G&&(oe.mode=ve),Xe=Le.next_out,sn=Le.output,ae=Le.avail_out,O=Le.next_in,st=Le.input,Ye=Le.avail_in,Ee=oe.hold,Pe=oe.bits,Ft=Ye,vt=ae,Tt=A;e:for(;;)switch(oe.mode){case E:if(oe.wrap===0){oe.mode=ve;break}for(;Pe<16;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if(oe.wrap&2&&Ee===35615){oe.check=0,tn[0]=Ee&255,tn[1]=Ee>>>8&255,oe.check=t(oe.check,tn,2,0),Ee=0,Pe=0,oe.mode=k;break}if(oe.flags=0,oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((Ee&255)<<8)+(Ee>>8))%31){Le.msg="incorrect header check",oe.mode=Ue;break}if((Ee&15)!==S){Le.msg="unknown compression method",oe.mode=Ue;break}if(Ee>>>=4,Pe-=4,en=(Ee&15)+8,oe.wbits===0)oe.wbits=en;else if(en>oe.wbits){Le.msg="invalid window size",oe.mode=Ue;break}oe.dmax=1<<en,Le.adler=oe.check=1,oe.mode=Ee&512?D:G,Ee=0,Pe=0;break;case k:for(;Pe<16;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if(oe.flags=Ee,(oe.flags&255)!==S){Le.msg="unknown compression method",oe.mode=Ue;break}if(oe.flags&57344){Le.msg="unknown header flags set",oe.mode=Ue;break}oe.head&&(oe.head.text=Ee>>8&1),oe.flags&512&&(tn[0]=Ee&255,tn[1]=Ee>>>8&255,oe.check=t(oe.check,tn,2,0)),Ee=0,Pe=0,oe.mode=P;case P:for(;Pe<32;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}oe.head&&(oe.head.time=Ee),oe.flags&512&&(tn[0]=Ee&255,tn[1]=Ee>>>8&255,tn[2]=Ee>>>16&255,tn[3]=Ee>>>24&255,oe.check=t(oe.check,tn,4,0)),Ee=0,Pe=0,oe.mode=N;case N:for(;Pe<16;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}oe.head&&(oe.head.xflags=Ee&255,oe.head.os=Ee>>8),oe.flags&512&&(tn[0]=Ee&255,tn[1]=Ee>>>8&255,oe.check=t(oe.check,tn,2,0)),Ee=0,Pe=0,oe.mode=I;case I:if(oe.flags&1024){for(;Pe<16;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}oe.length=Ee,oe.head&&(oe.head.extra_len=Ee),oe.flags&512&&(tn[0]=Ee&255,tn[1]=Ee>>>8&255,oe.check=t(oe.check,tn,2,0)),Ee=0,Pe=0}else oe.head&&(oe.head.extra=null);oe.mode=U;case U:if(oe.flags&1024&&(Lt=oe.length,Lt>Ye&&(Lt=Ye),Lt&&(oe.head&&(en=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Array(oe.head.extra_len)),n.arraySet(oe.head.extra,st,O,Lt,en)),oe.flags&512&&(oe.check=t(oe.check,st,Lt,O)),Ye-=Lt,O+=Lt,oe.length-=Lt),oe.length))break e;oe.length=0,oe.mode=V;case V:if(oe.flags&2048){if(Ye===0)break e;Lt=0;do en=st[O+Lt++],oe.head&&en&&oe.length<65536&&(oe.head.name+=String.fromCharCode(en));while(en&&Lt<Ye);if(oe.flags&512&&(oe.check=t(oe.check,st,Lt,O)),Ye-=Lt,O+=Lt,en)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=W;case W:if(oe.flags&4096){if(Ye===0)break e;Lt=0;do en=st[O+Lt++],oe.head&&en&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(en));while(en&&Lt<Ye);if(oe.flags&512&&(oe.check=t(oe.check,st,Lt,O)),Ye-=Lt,O+=Lt,en)break e}else oe.head&&(oe.head.comment=null);oe.mode=L;case L:if(oe.flags&512){for(;Pe<16;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if(Ee!==(oe.check&65535)){Le.msg="header crc mismatch",oe.mode=Ue;break}Ee=0,Pe=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),Le.adler=oe.check=0,oe.mode=G;break;case D:for(;Pe<32;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}Le.adler=oe.check=at(Ee),Ee=0,Pe=0,oe.mode=z;case z:if(oe.havedict===0)return Le.next_out=Xe,Le.avail_out=ae,Le.next_in=O,Le.avail_in=Ye,oe.hold=Ee,oe.bits=Pe,f;Le.adler=oe.check=1,oe.mode=G;case G:if(We===c||We===u)break e;case ve:if(oe.last){Ee>>>=Pe&7,Pe-=Pe&7,oe.mode=ke;break}for(;Pe<3;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}switch(oe.last=Ee&1,Ee>>>=1,Pe-=1,Ee&3){case 0:oe.mode=J;break;case 1:if(ln(oe),oe.mode=H,We===u){Ee>>>=2,Pe-=2;break e}break;case 2:oe.mode=ie;break;case 3:Le.msg="invalid block type",oe.mode=Ue}Ee>>>=2,Pe-=2;break;case J:for(Ee>>>=Pe&7,Pe-=Pe&7;Pe<32;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if((Ee&65535)!==(Ee>>>16^65535)){Le.msg="invalid stored block lengths",oe.mode=Ue;break}if(oe.length=Ee&65535,Ee=0,Pe=0,oe.mode=$,We===u)break e;case $:oe.mode=X;case X:if(Lt=oe.length,Lt){if(Lt>Ye&&(Lt=Ye),Lt>ae&&(Lt=ae),Lt===0)break e;n.arraySet(sn,st,O,Lt,Xe),Ye-=Lt,O+=Lt,ae-=Lt,Xe+=Lt,oe.length-=Lt;break}oe.mode=G;break;case ie:for(;Pe<14;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if(oe.nlen=(Ee&31)+257,Ee>>>=5,Pe-=5,oe.ndist=(Ee&31)+1,Ee>>>=5,Pe-=5,oe.ncode=(Ee&15)+4,Ee>>>=4,Pe-=4,oe.nlen>286||oe.ndist>30){Le.msg="too many length or distance symbols",oe.mode=Ue;break}oe.have=0,oe.mode=pe;case pe:for(;oe.have<oe.ncode;){for(;Pe<3;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}oe.lens[cn[oe.have++]]=Ee&7,Ee>>>=3,Pe-=3}for(;oe.have<19;)oe.lens[cn[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,yn={bits:oe.lenbits},Tt=i(s,oe.lens,0,19,oe.lencode,0,oe.work,yn),oe.lenbits=yn.bits,Tt){Le.msg="invalid code lengths set",oe.mode=Ue;break}oe.have=0,oe.mode=te;case te:for(;oe.have<oe.nlen+oe.ndist;){for(;St=oe.lencode[Ee&(1<<oe.lenbits)-1],Ke=St>>>24,lt=St>>>16&255,pt=St&65535,!(Ke<=Pe);){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if(pt<16)Ee>>>=Ke,Pe-=Ke,oe.lens[oe.have++]=pt;else{if(pt===16){for(Yt=Ke+2;Pe<Yt;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if(Ee>>>=Ke,Pe-=Ke,oe.have===0){Le.msg="invalid bit length repeat",oe.mode=Ue;break}en=oe.lens[oe.have-1],Lt=3+(Ee&3),Ee>>>=2,Pe-=2}else if(pt===17){for(Yt=Ke+3;Pe<Yt;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}Ee>>>=Ke,Pe-=Ke,en=0,Lt=3+(Ee&7),Ee>>>=3,Pe-=3}else{for(Yt=Ke+7;Pe<Yt;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}Ee>>>=Ke,Pe-=Ke,en=0,Lt=11+(Ee&127),Ee>>>=7,Pe-=7}if(oe.have+Lt>oe.nlen+oe.ndist){Le.msg="invalid bit length repeat",oe.mode=Ue;break}for(;Lt--;)oe.lens[oe.have++]=en}}if(oe.mode===Ue)break;if(oe.lens[256]===0){Le.msg="invalid code -- missing end-of-block",oe.mode=Ue;break}if(oe.lenbits=9,yn={bits:oe.lenbits},Tt=i(o,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,yn),oe.lenbits=yn.bits,Tt){Le.msg="invalid literal/lengths set",oe.mode=Ue;break}if(oe.distbits=6,oe.distcode=oe.distdyn,yn={bits:oe.distbits},Tt=i(a,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,yn),oe.distbits=yn.bits,Tt){Le.msg="invalid distances set",oe.mode=Ue;break}if(oe.mode=H,We===u)break e;case H:oe.mode=q;case q:if(Ye>=6&&ae>=258){Le.next_out=Xe,Le.avail_out=ae,Le.next_in=O,Le.avail_in=Ye,oe.hold=Ee,oe.bits=Pe,r(Le,vt),Xe=Le.next_out,sn=Le.output,ae=Le.avail_out,O=Le.next_in,st=Le.input,Ye=Le.avail_in,Ee=oe.hold,Pe=oe.bits,oe.mode===G&&(oe.back=-1);break}for(oe.back=0;St=oe.lencode[Ee&(1<<oe.lenbits)-1],Ke=St>>>24,lt=St>>>16&255,pt=St&65535,!(Ke<=Pe);){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if(lt&&(lt&240)===0){for(qt=Ke,on=lt,Gt=pt;St=oe.lencode[Gt+((Ee&(1<<qt+on)-1)>>qt)],Ke=St>>>24,lt=St>>>16&255,pt=St&65535,!(qt+Ke<=Pe);){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}Ee>>>=qt,Pe-=qt,oe.back+=qt}if(Ee>>>=Ke,Pe-=Ke,oe.back+=Ke,oe.length=pt,lt===0){oe.mode=we;break}if(lt&32){oe.back=-1,oe.mode=G;break}if(lt&64){Le.msg="invalid literal/length code",oe.mode=Ue;break}oe.extra=lt&15,oe.mode=re;case re:if(oe.extra){for(Yt=oe.extra;Pe<Yt;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}oe.length+=Ee&(1<<oe.extra)-1,Ee>>>=oe.extra,Pe-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=he;case he:for(;St=oe.distcode[Ee&(1<<oe.distbits)-1],Ke=St>>>24,lt=St>>>16&255,pt=St&65535,!(Ke<=Pe);){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if((lt&240)===0){for(qt=Ke,on=lt,Gt=pt;St=oe.distcode[Gt+((Ee&(1<<qt+on)-1)>>qt)],Ke=St>>>24,lt=St>>>16&255,pt=St&65535,!(qt+Ke<=Pe);){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}Ee>>>=qt,Pe-=qt,oe.back+=qt}if(Ee>>>=Ke,Pe-=Ke,oe.back+=Ke,lt&64){Le.msg="invalid distance code",oe.mode=Ue;break}oe.offset=pt,oe.extra=lt&15,oe.mode=Ae;case Ae:if(oe.extra){for(Yt=oe.extra;Pe<Yt;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}oe.offset+=Ee&(1<<oe.extra)-1,Ee>>>=oe.extra,Pe-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){Le.msg="invalid distance too far back",oe.mode=Ue;break}oe.mode=ge;case ge:if(ae===0)break e;if(Lt=vt-ae,oe.offset>Lt){if(Lt=oe.offset-Lt,Lt>oe.whave&&oe.sane){Le.msg="invalid distance too far back",oe.mode=Ue;break}Lt>oe.wnext?(Lt-=oe.wnext,Ze=oe.wsize-Lt):Ze=oe.wnext-Lt,Lt>oe.length&&(Lt=oe.length),Oe=oe.window}else Oe=sn,Ze=Xe-oe.offset,Lt=oe.length;Lt>ae&&(Lt=ae),ae-=Lt,oe.length-=Lt;do sn[Xe++]=Oe[Ze++];while(--Lt);oe.length===0&&(oe.mode=q);break;case we:if(ae===0)break e;sn[Xe++]=oe.length,ae--,oe.mode=q;break;case ke:if(oe.wrap){for(;Pe<32;){if(Ye===0)break e;Ye--,Ee|=st[O++]<<Pe,Pe+=8}if(vt-=ae,Le.total_out+=vt,oe.total+=vt,vt&&(Le.adler=oe.check=oe.flags?t(oe.check,sn,vt,Xe-vt):e(oe.check,sn,vt,Xe-vt)),vt=ae,(oe.flags?Ee:at(Ee))!==oe.check){Le.msg="incorrect data check",oe.mode=Ue;break}Ee=0,Pe=0}oe.mode=ze;case ze:if(oe.wrap&&oe.flags){for(;Pe<32;){if(Ye===0)break e;Ye--,Ee+=st[O++]<<Pe,Pe+=8}if(Ee!==(oe.total&4294967295)){Le.msg="incorrect length check",oe.mode=Ue;break}Ee=0,Pe=0}oe.mode=Ve;case Ve:Tt=h;break e;case Ue:Tt=g;break e;case ft:return x;case Kt:default:return v}return Le.next_out=Xe,Le.avail_out=ae,Le.next_in=O,Le.avail_in=Ye,oe.hold=Ee,oe.bits=Pe,(oe.wsize||vt!==Le.avail_out&&oe.mode<Ue&&(oe.mode<ke||We!==l))&&Fn(Le,Le.output,Le.next_out,vt-Le.avail_out),Ft-=Le.avail_in,vt-=Le.avail_out,Le.total_in+=Ft,Le.total_out+=vt,oe.total+=vt,oe.wrap&&vt&&(Le.adler=oe.check=oe.flags?t(oe.check,sn,vt,Le.next_out-vt):e(oe.check,sn,vt,Le.next_out-vt)),Le.data_type=oe.bits+(oe.last?64:0)+(oe.mode===G?128:0)+(oe.mode===H||oe.mode===$?256:0),(Ft===0&&vt===0||We===l)&&Tt===A&&(Tt=b),Tt}function ut(Le){if(!Le||!Le.state)return v;var We=Le.state;return We.window&&(We.window=null),Le.state=null,A}function At(Le,We){var oe;return!Le||!Le.state||(oe=Le.state,(oe.wrap&2)===0)?v:(oe.head=We,We.done=!1,A)}function Pt(Le,We){var oe=We.length,st,sn,O;return!Le||!Le.state||(st=Le.state,st.wrap!==0&&st.mode!==z)?v:st.mode===z&&(sn=1,sn=e(sn,We,oe,0),sn!==st.check)?g:(O=Fn(Le,We,oe,oe),O?(st.mode=ft,x):(st.havedict=1,A))}return vu.inflateReset=mt,vu.inflateReset2=Ut,vu.inflateResetKeep=Et,vu.inflateInit=Cn,vu.inflateInit2=qe,vu.inflate=se,vu.inflateEnd=ut,vu.inflateGetHeader=At,vu.inflateSetDictionary=Pt,vu.inflateInfo="pako inflate (from Nodeca project)",vu}var nL,F6;function oX(){return F6||(F6=1,nL={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),nL}var rL,T6;function l1e(){if(T6)return rL;T6=1;function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return rL=n,rL}var N6;function c1e(){if(N6)return $y;N6=1;var n=a1e(),e=Ng(),t=iX(),r=oX(),i=lD(),s=sX(),o=l1e(),a=Object.prototype.toString;function l(A){if(!(this instanceof l))return new l(A);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},A||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(A&&A.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15)===0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var f=n.inflateInit2(this.strm,h.windowBits);if(f!==r.Z_OK)throw new Error(i[f]);if(this.header=new o,n.inflateGetHeader(this.strm,this.header),h.dictionary&&(typeof h.dictionary=="string"?h.dictionary=t.string2buf(h.dictionary):a.call(h.dictionary)==="[object ArrayBuffer]"&&(h.dictionary=new Uint8Array(h.dictionary)),h.raw&&(f=n.inflateSetDictionary(this.strm,h.dictionary),f!==r.Z_OK)))throw new Error(i[f])}l.prototype.push=function(A,h){var f=this.strm,v=this.options.chunkSize,g=this.options.dictionary,x,b,S,E,k,P=!1;if(this.ended)return!1;b=h===~~h?h:h===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof A=="string"?f.input=t.binstring2buf(A):a.call(A)==="[object ArrayBuffer]"?f.input=new Uint8Array(A):f.input=A,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new e.Buf8(v),f.next_out=0,f.avail_out=v),x=n.inflate(f,r.Z_NO_FLUSH),x===r.Z_NEED_DICT&&g&&(x=n.inflateSetDictionary(this.strm,g)),x===r.Z_BUF_ERROR&&P===!0&&(x=r.Z_OK,P=!1),x!==r.Z_STREAM_END&&x!==r.Z_OK)return this.onEnd(x),this.ended=!0,!1;f.next_out&&(f.avail_out===0||x===r.Z_STREAM_END||f.avail_in===0&&(b===r.Z_FINISH||b===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(S=t.utf8border(f.output,f.next_out),E=f.next_out-S,k=t.buf2string(f.output,S),f.next_out=E,f.avail_out=v-E,E&&e.arraySet(f.output,f.output,S,E,0),this.onData(k)):this.onData(e.shrinkBuf(f.output,f.next_out))),f.avail_in===0&&f.avail_out===0&&(P=!0)}while((f.avail_in>0||f.avail_out===0)&&x!==r.Z_STREAM_END);return x===r.Z_STREAM_END&&(b=r.Z_FINISH),b===r.Z_FINISH?(x=n.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===r.Z_OK):(b===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),f.avail_out=0),!0)},l.prototype.onData=function(A){this.chunks.push(A)},l.prototype.onEnd=function(A){A===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};function c(A,h){var f=new l(h);if(f.push(A,!0),f.err)throw f.msg||i[f.err];return f.result}function u(A,h){return h=h||{},h.raw=!0,c(A,h)}return $y.Inflate=l,$y.inflate=c,$y.inflateRaw=u,$y.ungzip=c,$y}var iL,k6;function u1e(){if(k6)return iL;k6=1;var n=Ng().assign,e=i1e(),t=c1e(),r=oX(),i={};return n(i,e,t,r),iL=i,iL}var A1e=u1e();const lk=iN(A1e);var P6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t2=new Uint8Array(256);for(var G5=0;G5<P6.length;G5++)t2[P6.charCodeAt(G5)]=G5;var d1e=function(n){var e=n.length*.75,t=n.length,r,i=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=new Uint8Array(e);for(r=0;r<t;r+=4)s=t2[n.charCodeAt(r)],o=t2[n.charCodeAt(r+1)],a=t2[n.charCodeAt(r+2)],l=t2[n.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return c},h1e=function(n){for(var e="",t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},aX=function(n){return h1e(lk.inflate(d1e(n)))},f1e=function(n,e,t){for(var r="",i=0,s=e-n.length;i<s;i++)r+=t;return r+n};const p1e="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",m1e="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",g1e="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",v1e="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",y1e=JSON.parse('"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"'),b1e=JSON.parse('"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"'),w1e=JSON.parse('"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"'),x1e=JSON.parse('"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"'),C1e=JSON.parse('"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"'),S1e=JSON.parse('"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"'),B1e=JSON.parse('"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"'),E1e=JSON.parse('"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"'),F1e="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",T1e="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var N1e={Courier:v1e,"Courier-Bold":p1e,"Courier-Oblique":g1e,"Courier-BoldOblique":m1e,Helvetica:x1e,"Helvetica-Bold":y1e,"Helvetica-Oblique":w1e,"Helvetica-BoldOblique":b1e,"Times-Roman":E1e,"Times-Bold":C1e,"Times-Italic":B1e,"Times-BoldItalic":S1e,Symbol:F1e,ZapfDingbats:T1e},tC;(function(n){n.Courier="Courier",n.CourierBold="Courier-Bold",n.CourierOblique="Courier-Oblique",n.CourierBoldOblique="Courier-BoldOblique",n.Helvetica="Helvetica",n.HelveticaBold="Helvetica-Bold",n.HelveticaOblique="Helvetica-Oblique",n.HelveticaBoldOblique="Helvetica-BoldOblique",n.TimesRoman="Times-Roman",n.TimesRomanBold="Times-Bold",n.TimesRomanItalic="Times-Italic",n.TimesRomanBoldItalic="Times-BoldItalic",n.Symbol="Symbol",n.ZapfDingbats="ZapfDingbats"})(tC||(tC={}));var L6={},k1e=function(){function n(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,r){return(e.KernPairXAmounts[t]||{})[r]}}return n.load=function(e){var t=L6[e];if(t)return t;var r=aX(N1e[e]),i=Object.assign(new n,JSON.parse(r));return i.CharWidths=i.CharMetrics.reduce(function(s,o){return s[o.N]=o.WX,s},{}),i.KernPairXAmounts=i.KernPairs.reduce(function(s,o){var a=o[0],l=o[1],c=o[2];return s[a]||(s[a]={}),s[a][l]=c,s},{}),L6[e]=i,i},n}();const P1e="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";var L1e=aX(P1e),sL=JSON.parse(L1e),oL=function(){function n(e,t){var r=this;this.canEncodeUnicodeCodePoint=function(i){return i in r.unicodeMappings},this.encodeUnicodeCodePoint=function(i){var s=r.unicodeMappings[i];if(!s){var o=String.fromCharCode(i),a="0x"+f1e(i.toString(16),4,"0"),l=r.name+' cannot encode "'+o+'" ('+a+")";throw new Error(l)}return{code:s[0],name:s[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort(function(i,s){return i-s}),this.unicodeMappings=t}return n}(),W5={Symbol:new oL("Symbol",sL.symbol),ZapfDingbats:new oL("ZapfDingbats",sL.zapfdingbats),WinAnsi:new oL("WinAnsi",sL.win1252)},ck=function(n){return Object.keys(n).map(function(e){return n[e]})},I1e=ck(tC),I6=function(n){return I1e.includes(n)},q5=function(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height},ko=function(n){return"`"+n+"`"},M1e=function(n){return"'"+n+"'"},M6=function(n){var e=typeof n;return e==="string"?M1e(n):e==="undefined"?ko(n):n},R1e=function(n,e,t){for(var r=new Array(t.length),i=0,s=t.length;i<s;i++){var o=t[i];r[i]=M6(o)}var a=r.join(" or ");return ko(e)+" must be one of "+a+", but was actually "+M6(n)},qm=function(n,e,t){Array.isArray(t)||(t=ck(t));for(var r=0,i=t.length;r<i;r++)if(n===t[r])return;throw new TypeError(R1e(n,e,t))},yu=function(n,e,t){Array.isArray(t)||(t=ck(t)),qm(n,e,t.concat(void 0))},D1e=function(n,e,t){Array.isArray(t)||(t=ck(t));for(var r=0,i=n.length;r<i;r++)qm(n[r],e,t)},_1e=function(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?"string":isNaN(n)?"NaN":typeof n=="number"?"number":typeof n=="boolean"?"boolean":typeof n=="symbol"?"symbol":typeof n=="bigint"?"bigint":n.constructor&&n.constructor.name?n.constructor.name:n.name?n.name:n.constructor?String(n.constructor):String(n)},O1e=function(n,e){return e==="null"?n===null:e==="undefined"?n===void 0:e==="string"?typeof n=="string":e==="number"?typeof n=="number"&&!isNaN(n):e==="boolean"?typeof n=="boolean":e==="symbol"?typeof n=="symbol":e==="bigint"?typeof n=="bigint":e===Date?n instanceof Date:e===Array?n instanceof Array:e===Uint8Array?n instanceof Uint8Array:e===ArrayBuffer?n instanceof ArrayBuffer:e===Function?n instanceof Function:n instanceof e[0]},U1e=function(n,e,t){for(var r=new Array(t.length),i=0,s=t.length;i<s;i++){var o=t[i];o==="null"&&(r[i]=ko("null")),o==="undefined"&&(r[i]=ko("undefined")),o==="string"?r[i]=ko("string"):o==="number"?r[i]=ko("number"):o==="boolean"?r[i]=ko("boolean"):o==="symbol"?r[i]=ko("symbol"):o==="bigint"?r[i]=ko("bigint"):o===Array?r[i]=ko("Array"):o===Uint8Array?r[i]=ko("Uint8Array"):o===ArrayBuffer?r[i]=ko("ArrayBuffer"):r[i]=ko(o[1])}var a=r.join(" or ");return ko(e)+" must be of type "+a+", but was actually of type "+ko(_1e(n))},et=function(n,e,t){for(var r=0,i=t.length;r<i;r++)if(O1e(n,t[r]))return;throw new TypeError(U1e(n,e,t))},Xt=function(n,e,t){et(n,e,t.concat("undefined"))},lX=function(n,e,t){for(var r=0,i=n.length;r<i;r++)et(n[r],e,t)},Vc=function(n,e,t,r){if(et(n,e,["number"]),et(t,"min",["number"]),et(r,"max",["number"]),r=Math.max(t,r),n<t||n>r)throw new Error(ko(e)+" must be at least "+t+" and at most "+r+", but was actually "+n)},CA=function(n,e,t,r){et(n,e,["number","undefined"]),typeof n=="number"&&Vc(n,e,t,r)},cX=function(n,e,t){if(et(n,e,["number"]),n%t!==0)throw new Error(ko(e)+" must be a multiple of "+t+", but was actually "+n)},H1e=function(n,e){if(!Number.isInteger(n))throw new Error(ko(e)+" must be an integer, but was actually "+n)},uk=function(n,e){if(![1,0].includes(Math.sign(n)))throw new Error(ko(e)+" must be a positive number or 0, but was actually "+n)},Br=new Uint16Array(256);for(var X5=0;X5<256;X5++)Br[X5]=X5;Br[22]=wr("");Br[24]=wr("");Br[25]=wr("");Br[26]=wr("");Br[27]=wr("");Br[28]=wr("");Br[29]=wr("");Br[30]=wr("");Br[31]=wr("");Br[127]=wr("");Br[128]=wr("");Br[129]=wr("");Br[130]=wr("");Br[131]=wr("");Br[132]=wr("");Br[133]=wr("");Br[134]=wr("");Br[135]=wr("");Br[136]=wr("");Br[137]=wr("");Br[138]=wr("");Br[139]=wr("");Br[140]=wr("");Br[141]=wr("");Br[142]=wr("");Br[143]=wr("");Br[144]=wr("");Br[145]=wr("");Br[146]=wr("");Br[147]=wr("");Br[148]=wr("");Br[149]=wr("");Br[150]=wr("");Br[151]=wr("");Br[152]=wr("");Br[153]=wr("");Br[154]=wr("");Br[155]=wr("");Br[156]=wr("");Br[157]=wr("");Br[158]=wr("");Br[159]=wr("");Br[160]=wr("");Br[173]=wr("");var uX=function(n){for(var e=new Array(n.length),t=0,r=n.length;t<r;t++)e[t]=Br[n[t]];return String.fromCodePoint.apply(String,e)},Mf=function(){function n(e){this.populate=e,this.value=void 0}return n.prototype.getValue=function(){return this.value},n.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},n.prototype.invalidate=function(){this.value=void 0},n.populatedBy=function(e){return new n(e)},n}(),Uu=function(n){Zt(e,n);function e(t,r){var i=this,s="Method "+t+"."+r+"() not implemented";return i=n.call(this,s)||this,i}return e}(Error),cD=function(n){Zt(e,n);function e(t){var r=this,i="Cannot construct "+t+" - it has a private constructor";return r=n.call(this,i)||this,r}return e}(Error),ET=function(n){Zt(e,n);function e(t,r){var i=this,s=function(l){var c,u;return(c=l==null?void 0:l.name)!==null&&c!==void 0?c:(u=l==null?void 0:l.constructor)===null||u===void 0?void 0:u.name},o=Array.isArray(t)?t.map(s):[s(t)],a="Expected instance of "+o.join(" or ")+", "+("but got instance of "+(r&&s(r)));return i=n.call(this,a)||this,i}return e}(Error),j1e=function(n){Zt(e,n);function e(t){var r=this,i=t+" stream encoding not supported";return r=n.call(this,i)||this,r}return e}(Error),uD=function(n){Zt(e,n);function e(t,r){var i=this,s="Cannot call "+t+"."+r+"() more than once";return i=n.call(this,s)||this,i}return e}(Error);(function(n){Zt(e,n);function e(t){var r=this,i="Missing catalog (ref="+t+")";return r=n.call(this,i)||this,r}return e})(Error);var Q1e=function(n){Zt(e,n);function e(){var t=this,r="Can't embed page with missing Contents";return t=n.call(this,r)||this,t}return e}(Error),z1e=function(n){Zt(e,n);function e(t){var r,i,s,o=this,a=(s=(i=(r=t==null?void 0:t.contructor)===null||r===void 0?void 0:r.name)!==null&&i!==void 0?i:t==null?void 0:t.name)!==null&&s!==void 0?s:t,l="Unrecognized stream type: "+a;return o=n.call(this,l)||this,o}return e}(Error),K1e=function(n){Zt(e,n);function e(){var t=this,r="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return t=n.call(this,r)||this,t}return e}(Error),V1e=function(n){Zt(e,n);function e(t){var r=this,i="Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.";return r=n.call(this,i)||this,r}return e}(Error),AX=function(n){Zt(e,n);function e(t){var r=this,i='Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.';return r=n.call(this,i)||this,r}return e}(Error),R6=function(n){Zt(e,n);function e(t,r){var i=this,s="Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+r;return i=n.call(this,s)||this,i}return e}(Error),D6=function(n){Zt(e,n);function e(t,r){var i=this,s="Failed to "+r+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return i=n.call(this,s)||this,i}return e}(Error),FT=function(n){Zt(e,n);function e(t,r,i){var s=this,o="index should be at least "+r+" and at most "+i+", but was actually "+t;return s=n.call(this,o)||this,s}return e}(Error),AD=function(n){Zt(e,n);function e(){var t=this,r="Attempted to set invalid field value";return t=n.call(this,r)||this,t}return e}(Error),G1e=function(n){Zt(e,n);function e(){var t=this,r="Attempted to select multiple values for single-select field";return t=n.call(this,r)||this,t}return e}(Error),W1e=function(n){Zt(e,n);function e(t){var r=this,i="No /DA (default appearance) entry found for field: "+t;return r=n.call(this,i)||this,r}return e}(Error),q1e=function(n){Zt(e,n);function e(t){var r=this,i="No Tf operator found for DA of field: "+t;return r=n.call(this,i)||this,r}return e}(Error),_6=function(n){Zt(e,n);function e(t,r){var i=this,s="Failed to parse number "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "'+r+'"');return i=n.call(this,s)||this,i}return e}(Error),kg=function(n){Zt(e,n);function e(t,r){var i=this,s="Failed to parse PDF document "+("(line:"+t.line+" col:"+t.column+" offset="+t.offset+"): "+r);return i=n.call(this,s)||this,i}return e}(Error),X1e=function(n){Zt(e,n);function e(t,r,i){var s=this,o="Expected next byte to be "+r+" but it was actually "+i;return s=n.call(this,t,o)||this,s}return e}(kg),Y1e=function(n){Zt(e,n);function e(t,r){var i=this,s="Failed to parse PDF object starting with the following byte: "+r;return i=n.call(this,t,s)||this,i}return e}(kg),Z1e=function(n){Zt(e,n);function e(t){var r=this,i="Failed to parse invalid PDF object";return r=n.call(this,t,i)||this,r}return e}(kg),J1e=function(n){Zt(e,n);function e(t){var r=this,i="Failed to parse PDF stream";return r=n.call(this,t,i)||this,r}return e}(kg),$1e=function(n){Zt(e,n);function e(t){var r=this,i="Failed to parse PDF literal string due to unbalanced parenthesis";return r=n.call(this,t,i)||this,r}return e}(kg),ebe=function(n){Zt(e,n);function e(t){var r=this,i="Parser stalled";return r=n.call(this,t,i)||this,r}return e}(kg),tbe=function(n){Zt(e,n);function e(t){var r=this,i="No PDF header found";return r=n.call(this,t,i)||this,r}return e}(kg),nbe=function(n){Zt(e,n);function e(t,r){var i=this,s="Did not find expected keyword '"+Xq(r)+"'";return i=n.call(this,t,s)||this,i}return e}(kg),AM;(function(n){n[n.Null=0]="Null",n[n.Backspace=8]="Backspace",n[n.Tab=9]="Tab",n[n.Newline=10]="Newline",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationPoint=33]="ExclamationPoint",n[n.Hash=35]="Hash",n[n.Percent=37]="Percent",n[n.LeftParen=40]="LeftParen",n[n.RightParen=41]="RightParen",n[n.Plus=43]="Plus",n[n.Minus=45]="Minus",n[n.Dash=45]="Dash",n[n.Period=46]="Period",n[n.ForwardSlash=47]="ForwardSlash",n[n.Zero=48]="Zero",n[n.One=49]="One",n[n.Two=50]="Two",n[n.Three=51]="Three",n[n.Four=52]="Four",n[n.Five=53]="Five",n[n.Six=54]="Six",n[n.Seven=55]="Seven",n[n.Eight=56]="Eight",n[n.Nine=57]="Nine",n[n.LessThan=60]="LessThan",n[n.GreaterThan=62]="GreaterThan",n[n.A=65]="A",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.O=79]="O",n[n.P=80]="P",n[n.R=82]="R",n[n.LeftSquareBracket=91]="LeftSquareBracket",n[n.BackSlash=92]="BackSlash",n[n.RightSquareBracket=93]="RightSquareBracket",n[n.a=97]="a",n[n.b=98]="b",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.i=105]="i",n[n.j=106]="j",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.x=120]="x",n[n.LeftCurly=123]="LeftCurly",n[n.RightCurly=125]="RightCurly",n[n.Tilde=126]="Tilde"})(AM||(AM={}));const Be=AM;var Ak=function(){function n(e,t){this.major=String(e),this.minor=String(t)}return n.prototype.toString=function(){var e=If(129);return"%PDF-"+this.major+"."+this.minor+`
%`+e+e+e+e},n.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},n.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=Be.Percent,e[t++]=Be.P,e[t++]=Be.D,e[t++]=Be.F,e[t++]=Be.Dash,t+=Ta(this.major,e,t),e[t++]=Be.Period,t+=Ta(this.minor,e,t),e[t++]=Be.Newline,e[t++]=Be.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-r},n.forVersion=function(e,t){return new n(e,t)},n}(),kl=function(){function n(){}return n.prototype.clone=function(e){throw new Uu(this.constructor.name,"clone")},n.prototype.toString=function(){throw new Uu(this.constructor.name,"toString")},n.prototype.sizeInBytes=function(){throw new Uu(this.constructor.name,"sizeInBytes")},n.prototype.copyBytesInto=function(e,t){throw new Uu(this.constructor.name,"copyBytesInto")},n}(),gr=function(n){Zt(e,n);function e(t){var r=n.call(this)||this;return r.numberValue=t,r.stringValue=t1e(t),r}return e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(t,r){return r+=Ta(this.stringValue,t,r),this.stringValue.length},e.of=function(t){return new e(t)},e}(kl),Gr=function(n){Zt(e,n);function e(t){var r=n.call(this)||this;return r.array=[],r.context=t,r}return e.prototype.size=function(){return this.array.length},e.prototype.push=function(t){this.array.push(t)},e.prototype.insert=function(t,r){this.array.splice(t,0,r)},e.prototype.indexOf=function(t){var r=this.array.indexOf(t);return r===-1?void 0:r},e.prototype.remove=function(t){this.array.splice(t,1)},e.prototype.set=function(t,r){this.array[t]=r},e.prototype.get=function(t){return this.array[t]},e.prototype.lookupMaybe=function(t){for(var r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return(r=this.context).lookupMaybe.apply(r,ai([this.get(t)],i))},e.prototype.lookup=function(t){for(var r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return(r=this.context).lookup.apply(r,ai([this.get(t)],i))},e.prototype.asRectangle=function(){if(this.size()!==4)throw new V1e(this.size());var t=this.lookup(0,gr).asNumber(),r=this.lookup(1,gr).asNumber(),i=this.lookup(2,gr).asNumber(),s=this.lookup(3,gr).asNumber(),o=t,a=r,l=i-t,c=s-r;return{x:o,y:a,width:l,height:c}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(t){for(var r=e.withContext(t||this.context),i=0,s=this.size();i<s;i++)r.push(this.array[i]);return r},e.prototype.toString=function(){for(var t="[ ",r=0,i=this.size();r<i;r++)t+=this.get(r).toString(),t+=" ";return t+="]",t},e.prototype.sizeInBytes=function(){for(var t=3,r=0,i=this.size();r<i;r++)t+=this.get(r).sizeInBytes()+1;return t},e.prototype.copyBytesInto=function(t,r){var i=r;t[r++]=Be.LeftSquareBracket,t[r++]=Be.Space;for(var s=0,o=this.size();s<o;s++)r+=this.get(s).copyBytesInto(t,r),t[r++]=Be.Space;return t[r++]=Be.RightSquareBracket,r-i},e.prototype.scalePDFNumbers=function(t,r){for(var i=0,s=this.size();i<s;i++){var o=this.lookup(i);if(o instanceof gr){var a=i%2===0?t:r;this.set(i,gr.of(o.asNumber()*a))}}},e.withContext=function(t){return new e(t)},e}(kl),aL={},nC=function(n){Zt(e,n);function e(t,r){var i=this;if(t!==aL)throw new cD("PDFBool");return i=n.call(this)||this,i.value=r,i}return e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(t,r){return this.value?(t[r++]=Be.t,t[r++]=Be.r,t[r++]=Be.u,t[r++]=Be.e,4):(t[r++]=Be.f,t[r++]=Be.a,t[r++]=Be.l,t[r++]=Be.s,t[r++]=Be.e,5)},e.True=new e(aL,!0),e.False=new e(aL,!1),e}(kl),Wu=new Uint8Array(256);Wu[Be.LeftParen]=1;Wu[Be.RightParen]=1;Wu[Be.LessThan]=1;Wu[Be.GreaterThan]=1;Wu[Be.LeftSquareBracket]=1;Wu[Be.RightSquareBracket]=1;Wu[Be.LeftCurly]=1;Wu[Be.RightCurly]=1;Wu[Be.ForwardSlash]=1;Wu[Be.Percent]=1;var Vf=new Uint8Array(256);Vf[Be.Null]=1;Vf[Be.Tab]=1;Vf[Be.Newline]=1;Vf[Be.FormFeed]=1;Vf[Be.CarriageReturn]=1;Vf[Be.Space]=1;var dD=new Uint8Array(256);for(var gx=0,rbe=256;gx<rbe;gx++)dD[gx]=Vf[gx]||Wu[gx]?1:0;dD[Be.Hash]=1;var ibe=function(n){return n.replace(/#([\dABCDEF]{2})/g,function(e,t){return Rye(t)})},sbe=function(n){return n>=Be.ExclamationPoint&&n<=Be.Tilde&&!dD[n]},O6={},U6=new Map,be=function(n){Zt(e,n);function e(t,r){var i=this;if(t!==O6)throw new cD("PDFName");i=n.call(this)||this;for(var s="/",o=0,a=r.length;o<a;o++){var l=r[o],c=wr(l);s+=sbe(c)?l:"#"+ak(c)}return i.encodedName=s,i}return e.prototype.asBytes=function(){for(var t=[],r="",i=!1,s=function(A){A!==void 0&&t.push(A),i=!1},o=1,a=this.encodedName.length;o<a;o++){var l=this.encodedName[o],c=wr(l),u=this.encodedName[o+1];i?c>=Be.Zero&&c<=Be.Nine||c>=Be.a&&c<=Be.f||c>=Be.A&&c<=Be.F?(r+=l,(r.length===2||!(u>="0"&&u<="9"||u>="a"&&u<="f"||u>="A"&&u<="F"))&&(s(parseInt(r,16)),r="")):s(c):c===Be.Hash?i=!0:s(c)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return String.fromCharCode.apply(String,Array.from(t))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(t,r){return r+=Ta(this.encodedName,t,r),this.encodedName.length},e.of=function(t){var r=ibe(t),i=U6.get(r);return i||(i=new e(O6,r),U6.set(r,i)),i},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e}(kl),obe=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(t,r){return t[r++]=Be.n,t[r++]=Be.u,t[r++]=Be.l,t[r++]=Be.l,4},e}(kl);const cc=new obe;var kr=function(n){Zt(e,n);function e(t,r){var i=n.call(this)||this;return i.dict=t,i.context=r,i}return e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(t,r){this.dict.set(t,r)},e.prototype.get=function(t,r){r===void 0&&(r=!1);var i=this.dict.get(t);if(!(i===cc&&!r))return i},e.prototype.has=function(t){var r=this.dict.get(t);return r!==void 0&&r!==cc},e.prototype.lookupMaybe=function(t){for(var r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];var o=i.includes(cc),a=(r=this.context).lookupMaybe.apply(r,ai([this.get(t,o)],i));if(!(a===cc&&!o))return a},e.prototype.lookup=function(t){for(var r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];var o=i.includes(cc),a=(r=this.context).lookup.apply(r,ai([this.get(t,o)],i));if(!(a===cc&&!o))return a},e.prototype.delete=function(t){return this.dict.delete(t)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(t){t===void 0&&(t="");for(var r=this.keys(),i=be.of(this.context.addRandomSuffix(t,10));r.includes(i);)i=be.of(this.context.addRandomSuffix(t,10));return i},e.prototype.clone=function(t){for(var r=e.withContext(t||this.context),i=this.entries(),s=0,o=i.length;s<o;s++){var a=i[s],l=a[0],c=a[1];r.set(l,c)}return r},e.prototype.toString=function(){for(var t=`<<
`,r=this.entries(),i=0,s=r.length;i<s;i++){var o=r[i],a=o[0],l=o[1];t+=a.toString()+" "+l.toString()+`
`}return t+=">>",t},e.prototype.sizeInBytes=function(){for(var t=5,r=this.entries(),i=0,s=r.length;i<s;i++){var o=r[i],a=o[0],l=o[1];t+=a.sizeInBytes()+l.sizeInBytes()+2}return t},e.prototype.copyBytesInto=function(t,r){var i=r;t[r++]=Be.LessThan,t[r++]=Be.LessThan,t[r++]=Be.Newline;for(var s=this.entries(),o=0,a=s.length;o<a;o++){var l=s[o],c=l[0],u=l[1];r+=c.copyBytesInto(t,r),t[r++]=Be.Space,r+=u.copyBytesInto(t,r),t[r++]=Be.Newline}return t[r++]=Be.GreaterThan,t[r++]=Be.GreaterThan,r-i},e.withContext=function(t){return new e(new Map,t)},e.fromMapWithContext=function(t,r){return new e(t,r)},e}(kl),Xc=function(n){Zt(e,n);function e(t){var r=n.call(this)||this;return r.dict=t,r}return e.prototype.clone=function(t){throw new Uu(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new Uu(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new Uu(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new Uu(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var t=this.getContentsSize();this.dict.set(be.Length,gr.of(t))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var t=this.dict.toString();return t+=`
stream
`,t+=this.getContentsString(),t+=`
endstream`,t},e.prototype.copyBytesInto=function(t,r){this.updateDict();var i=r;r+=this.dict.copyBytesInto(t,r),t[r++]=Be.Newline,t[r++]=Be.s,t[r++]=Be.t,t[r++]=Be.r,t[r++]=Be.e,t[r++]=Be.a,t[r++]=Be.m,t[r++]=Be.Newline;for(var s=this.getContents(),o=0,a=s.length;o<a;o++)t[r++]=s[o];return t[r++]=Be.Newline,t[r++]=Be.e,t[r++]=Be.n,t[r++]=Be.d,t[r++]=Be.s,t[r++]=Be.t,t[r++]=Be.r,t[r++]=Be.e,t[r++]=Be.a,t[r++]=Be.m,r-i},e}(kl),rC=function(n){Zt(e,n);function e(t,r){var i=n.call(this,t)||this;return i.contents=r,i}return e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(t){return e.of(this.dict.clone(t),this.contents.slice())},e.prototype.getContentsString=function(){return Xq(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(t,r){return new e(t,r)},e}(Xc),H6={},j6=new Map,Pi=function(n){Zt(e,n);function e(t,r,i){var s=this;if(t!==H6)throw new cD("PDFRef");return s=n.call(this)||this,s.objectNumber=r,s.generationNumber=i,s.tag=r+" "+i+" R",s}return e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(t,r){return r+=Ta(this.tag,t,r),this.tag.length},e.of=function(t,r){r===void 0&&(r=0);var i=t+" "+r+" R",s=j6.get(i);return s||(s=new e(H6,t,r),j6.set(i,s)),s},e}(kl),ni=function(){function n(e,t){this.name=e,this.args=t||[]}return n.prototype.clone=function(e){for(var t=new Array(this.args.length),r=0,i=t.length;r<i;r++){var s=this.args[r];t[r]=s instanceof kl?s.clone(e):s}return n.of(this.name,t)},n.prototype.toString=function(){for(var e="",t=0,r=this.args.length;t<r;t++)e+=String(this.args[t])+" ";return e+=this.name,e},n.prototype.sizeInBytes=function(){for(var e=0,t=0,r=this.args.length;t<r;t++){var i=this.args[t];e+=(i instanceof kl?i.sizeInBytes():i.length)+1}return e+=this.name.length,e},n.prototype.copyBytesInto=function(e,t){for(var r=t,i=0,s=this.args.length;i<s;i++){var o=this.args[i];o instanceof kl?t+=o.copyBytesInto(e,t):t+=Ta(o,e,t),e[t++]=Be.Space}return t+=Ta(this.name,e,t),t-r},n.of=function(e,t){return new n(e,t)},n}(),dM;(function(n){n.NonStrokingColor="sc",n.NonStrokingColorN="scn",n.NonStrokingColorRgb="rg",n.NonStrokingColorGray="g",n.NonStrokingColorCmyk="k",n.NonStrokingColorspace="cs",n.StrokingColor="SC",n.StrokingColorN="SCN",n.StrokingColorRgb="RG",n.StrokingColorGray="G",n.StrokingColorCmyk="K",n.StrokingColorspace="CS",n.BeginMarkedContentSequence="BDC",n.BeginMarkedContent="BMC",n.EndMarkedContent="EMC",n.MarkedContentPointWithProps="DP",n.MarkedContentPoint="MP",n.DrawObject="Do",n.ConcatTransformationMatrix="cm",n.PopGraphicsState="Q",n.PushGraphicsState="q",n.SetFlatness="i",n.SetGraphicsStateParams="gs",n.SetLineCapStyle="J",n.SetLineDashPattern="d",n.SetLineJoinStyle="j",n.SetLineMiterLimit="M",n.SetLineWidth="w",n.SetTextMatrix="Tm",n.SetRenderingIntent="ri",n.AppendRectangle="re",n.BeginInlineImage="BI",n.BeginInlineImageData="ID",n.EndInlineImage="EI",n.ClipEvenOdd="W*",n.ClipNonZero="W",n.CloseAndStroke="s",n.CloseFillEvenOddAndStroke="b*",n.CloseFillNonZeroAndStroke="b",n.ClosePath="h",n.AppendBezierCurve="c",n.CurveToReplicateFinalPoint="y",n.CurveToReplicateInitialPoint="v",n.EndPath="n",n.FillEvenOddAndStroke="B*",n.FillEvenOdd="f*",n.FillNonZeroAndStroke="B",n.FillNonZero="f",n.LegacyFillNonZero="F",n.LineTo="l",n.MoveTo="m",n.ShadingFill="sh",n.StrokePath="S",n.BeginText="BT",n.EndText="ET",n.MoveText="Td",n.MoveTextSetLeading="TD",n.NextLine="T*",n.SetCharacterSpacing="Tc",n.SetFontAndSize="Tf",n.SetTextHorizontalScaling="Tz",n.SetTextLineHeight="TL",n.SetTextRenderingMode="Tr",n.SetTextRise="Ts",n.SetWordSpacing="Tw",n.ShowText="Tj",n.ShowTextAdjusted="TJ",n.ShowTextLine="'",n.ShowTextLineAndSpace='"',n.Type3D0="d0",n.Type3D1="d1",n.BeginCompatibilitySection="BX",n.EndCompatibilitySection="EX"})(dM||(dM={}));const li=dM;var hD=function(n){Zt(e,n);function e(t,r){var i=n.call(this,t)||this;return i.computeContents=function(){var s=i.getUnencodedContents();return i.encode?lk.deflate(s):s},i.encode=r,r&&t.set(be.of("Filter"),be.of("FlateDecode")),i.contentsCache=Mf.populatedBy(i.computeContents),i}return e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new Uu(this.constructor.name,"getUnencodedContents")},e}(Xc),B2=function(n){Zt(e,n);function e(t,r,i){i===void 0&&(i=!0);var s=n.call(this,t,i)||this;return s.operators=r,s}return e.prototype.push=function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];(t=this.operators).push.apply(t,r)},e.prototype.clone=function(t){for(var r=new Array(this.operators.length),i=0,s=this.operators.length;i<s;i++)r[i]=this.operators[i].clone(t);var o=this,a=o.dict,l=o.encode;return e.of(a.clone(t),r,l)},e.prototype.getContentsString=function(){for(var t="",r=0,i=this.operators.length;r<i;r++)t+=this.operators[r]+`
`;return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),r=0,i=0,s=this.operators.length;i<s;i++)r+=this.operators[i].copyBytesInto(t,r),t[r++]=Be.Newline;return t},e.prototype.getUnencodedContentsSize=function(){for(var t=0,r=0,i=this.operators.length;r<i;r++)t+=this.operators[r].sizeInBytes()+1;return t},e.of=function(t,r,i){return i===void 0&&(i=!0),new e(t,r,i)},e}(hD),abe=function(){function n(e){this.seed=e}return n.prototype.nextInt=function(){var e=Math.sin(this.seed++)*1e4;return e-Math.floor(e)},n.withSeed=function(e){return new n(e)},n}(),lbe=function(n,e){var t=n[0],r=e[0];return t.objectNumber-r.objectNumber},hM=function(){function n(){this.largestObjectNumber=0,this.header=Ak.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=abe.withSeed(1)}return n.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},n.prototype.nextRef=function(){return this.largestObjectNumber+=1,Pi.of(this.largestObjectNumber)},n.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},n.prototype.delete=function(e){return this.indirectObjects.delete(e)},n.prototype.lookupMaybe=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=t.includes(cc),s=e instanceof Pi?this.indirectObjects.get(e):e;if(!(!s||s===cc&&!i)){for(var o=0,a=t.length;o<a;o++){var l=t[o];if(l===cc){if(s===cc)return s}else if(s instanceof l)return s}throw new ET(t,s)}},n.prototype.lookup=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=e instanceof Pi?this.indirectObjects.get(e):e;if(t.length===0)return i;for(var s=0,o=t.length;s<o;s++){var a=t[s];if(a===cc){if(i===cc)return i}else if(i instanceof a)return i}throw new ET(t,i)},n.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),r=0,i=t.length;r<i;r++){var s=t[r],o=s[0],a=s[1];if(a===e)return o}},n.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(lbe)},n.prototype.obj=function(e){if(e instanceof kl)return e;if(e==null)return cc;if(typeof e=="string")return be.of(e);if(typeof e=="number")return gr.of(e);if(typeof e=="boolean")return e?nC.True:nC.False;if(Array.isArray(e)){for(var t=Gr.withContext(this),r=0,i=e.length;r<i;r++)t.push(this.obj(e[r]));return t}else{for(var s=kr.withContext(this),o=Object.keys(e),r=0,i=o.length;r<i;r++){var a=o[r],l=e[a];l!==void 0&&s.set(be.of(a),this.obj(l))}return s}},n.prototype.stream=function(e,t){return t===void 0&&(t={}),rC.of(this.obj(t),uM(e))},n.prototype.flateStream=function(e,t){return t===void 0&&(t={}),this.stream(lk.deflate(uM(e)),Cr(Cr({},t),{Filter:"FlateDecode"}))},n.prototype.contentStream=function(e,t){return t===void 0&&(t={}),B2.of(this.obj(t),e)},n.prototype.formXObject=function(e,t){return t===void 0&&(t={}),this.contentStream(e,Cr(Cr({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},n.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=ni.of(li.PushGraphicsState),r=B2.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(r),this.pushGraphicsStateContentStreamRef},n.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=ni.of(li.PopGraphicsState),r=B2.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(r),this.popGraphicsStateContentStreamRef},n.prototype.addRandomSuffix=function(e,t){return t===void 0&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},n.create=function(){return new n},n}(),Rf=function(n){Zt(e,n);function e(t,r,i){i===void 0&&(i=!0);var s=n.call(this,t,r)||this;return s.normalized=!1,s.autoNormalizeCTM=i,s}return e.prototype.clone=function(t){for(var r=e.fromMapWithContext(new Map,t||this.context,this.autoNormalizeCTM),i=this.entries(),s=0,o=i.length;s<o;s++){var a=i[s],l=a[0],c=a[1];r.set(l,c)}return r},e.prototype.Parent=function(){return this.lookupMaybe(be.Parent,kr)},e.prototype.Contents=function(){return this.lookup(be.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(be.Annots,Gr)},e.prototype.BleedBox=function(){return this.lookupMaybe(be.BleedBox,Gr)},e.prototype.TrimBox=function(){return this.lookupMaybe(be.TrimBox,Gr)},e.prototype.ArtBox=function(){return this.lookupMaybe(be.ArtBox,Gr)},e.prototype.Resources=function(){var t=this.getInheritableAttribute(be.Resources);return this.context.lookupMaybe(t,kr)},e.prototype.MediaBox=function(){var t=this.getInheritableAttribute(be.MediaBox);return this.context.lookup(t,Gr)},e.prototype.CropBox=function(){var t=this.getInheritableAttribute(be.CropBox);return this.context.lookupMaybe(t,Gr)},e.prototype.Rotate=function(){var t=this.getInheritableAttribute(be.Rotate);return this.context.lookupMaybe(t,gr)},e.prototype.getInheritableAttribute=function(t){var r;return this.ascend(function(i){r||(r=i.get(t))}),r},e.prototype.setParent=function(t){this.set(be.Parent,t)},e.prototype.addContentStream=function(t){var r=this.normalizedEntries().Contents||this.context.obj([]);this.set(be.Contents,r),r.push(t)},e.prototype.wrapContentStreams=function(t,r){var i=this.Contents();return i instanceof Gr?(i.insert(0,t),i.push(r),!0):!1},e.prototype.addAnnot=function(t){var r=this.normalizedEntries().Annots;r.push(t)},e.prototype.removeAnnot=function(t){var r=this.normalizedEntries().Annots,i=r.indexOf(t);i!==void 0&&r.remove(i)},e.prototype.setFontDictionary=function(t,r){var i=this.normalizedEntries().Font;i.set(t,r)},e.prototype.newFontDictionaryKey=function(t){var r=this.normalizedEntries().Font;return r.uniqueKey(t)},e.prototype.newFontDictionary=function(t,r){var i=this.newFontDictionaryKey(t);return this.setFontDictionary(i,r),i},e.prototype.setXObject=function(t,r){var i=this.normalizedEntries().XObject;i.set(t,r)},e.prototype.newXObjectKey=function(t){var r=this.normalizedEntries().XObject;return r.uniqueKey(t)},e.prototype.newXObject=function(t,r){var i=this.newXObjectKey(t);return this.setXObject(i,r),i},e.prototype.setExtGState=function(t,r){var i=this.normalizedEntries().ExtGState;i.set(t,r)},e.prototype.newExtGStateKey=function(t){var r=this.normalizedEntries().ExtGState;return r.uniqueKey(t)},e.prototype.newExtGState=function(t,r){var i=this.newExtGStateKey(t);return this.setExtGState(i,r),i},e.prototype.ascend=function(t){t(this);var r=this.Parent();r&&r.ascend(t)},e.prototype.normalize=function(){if(!this.normalized){var t=this.context,r=this.get(be.Contents),i=this.context.lookup(r);i instanceof Xc&&this.set(be.Contents,t.obj([r])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var s=this.getInheritableAttribute(be.Resources),o=t.lookupMaybe(s,kr)||t.obj({});this.set(be.Resources,o);var a=o.lookupMaybe(be.Font,kr)||t.obj({});o.set(be.Font,a);var l=o.lookupMaybe(be.XObject,kr)||t.obj({});o.set(be.XObject,l);var c=o.lookupMaybe(be.ExtGState,kr)||t.obj({});o.set(be.ExtGState,c);var u=this.Annots()||t.obj([]);this.set(be.Annots,u),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var t=this.Annots(),r=this.Resources(),i=this.Contents();return{Annots:t,Resources:r,Contents:i,Font:r.lookup(be.Font,kr),XObject:r.lookup(be.XObject,kr),ExtGState:r.lookup(be.ExtGState,kr)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(t,r){var i=new Map;return i.set(be.Type,be.Page),i.set(be.Parent,r),i.set(be.Resources,t.obj({})),i.set(be.MediaBox,t.obj([0,0,612,792])),new e(i,t,!1)},e.fromMapWithContext=function(t,r,i){return i===void 0&&(i=!0),new e(t,r,i)},e}(kr),Q6=function(){function n(e,t){var r=this;this.traversedObjects=new Map,this.copy=function(i){return i instanceof Rf?r.copyPDFPage(i):i instanceof kr?r.copyPDFDict(i):i instanceof Gr?r.copyPDFArray(i):i instanceof Xc?r.copyPDFStream(i):i instanceof Pi?r.copyPDFIndirectObject(i):i.clone()},this.copyPDFPage=function(i){for(var s=i.clone(),o=Rf.InheritableEntries,a=0,l=o.length;a<l;a++){var c=be.of(o[a]),u=s.getInheritableAttribute(c);!s.get(c)&&u&&s.set(c,u)}return s.delete(be.of("Parent")),r.copyPDFDict(s)},this.copyPDFDict=function(i){if(r.traversedObjects.has(i))return r.traversedObjects.get(i);var s=i.clone(r.dest);r.traversedObjects.set(i,s);for(var o=i.entries(),a=0,l=o.length;a<l;a++){var c=o[a],u=c[0],A=c[1];s.set(u,r.copy(A))}return s},this.copyPDFArray=function(i){if(r.traversedObjects.has(i))return r.traversedObjects.get(i);var s=i.clone(r.dest);r.traversedObjects.set(i,s);for(var o=0,a=i.size();o<a;o++){var l=i.get(o);s.set(o,r.copy(l))}return s},this.copyPDFStream=function(i){if(r.traversedObjects.has(i))return r.traversedObjects.get(i);var s=i.clone(r.dest);r.traversedObjects.set(i,s);for(var o=i.dict.entries(),a=0,l=o.length;a<l;a++){var c=o[a],u=c[0],A=c[1];s.dict.set(u,r.copy(A))}return s},this.copyPDFIndirectObject=function(i){var s=r.traversedObjects.has(i);if(!s){var o=r.dest.nextRef();r.traversedObjects.set(i,o);var a=r.src.lookup(i);if(a){var l=r.copy(a);r.dest.assign(o,l)}}return r.traversedObjects.get(i)},this.src=e,this.dest=t}return n.for=function(e,t){return new n(e,t)},n}(),dX=function(){function n(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return n.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},n.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},n.prototype.toString=function(){for(var e=`xref
`,t=0,r=this.subsections.length;t<r;t++){var i=this.subsections[t];e+=i[0].ref.objectNumber+" "+i.length+`
`;for(var s=0,o=i.length;s<o;s++){var a=i[s];e+=QA(String(a.offset),10,"0"),e+=" ",e+=QA(String(a.ref.generationNumber),5,"0"),e+=" ",e+=a.deleted?"f":"n",e+=` 
`}}return e},n.prototype.sizeInBytes=function(){for(var e=5,t=0,r=this.subsections.length;t<r;t++){var i=this.subsections[t],s=i.length,o=i[0];e+=2,e+=String(o.ref.objectNumber).length,e+=String(s).length,e+=20*s}return e},n.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=Be.x,e[t++]=Be.r,e[t++]=Be.e,e[t++]=Be.f,e[t++]=Be.Newline,t+=this.copySubsectionsIntoBuffer(this.subsections,e,t),t-r},n.prototype.copySubsectionsIntoBuffer=function(e,t,r){for(var i=r,s=e.length,o=0;o<s;o++){var a=this.subsections[o],l=String(a[0].ref.objectNumber);r+=Ta(l,t,r),t[r++]=Be.Space;var c=String(a.length);r+=Ta(c,t,r),t[r++]=Be.Newline,r+=this.copyEntriesIntoBuffer(a,t,r)}return r-i},n.prototype.copyEntriesIntoBuffer=function(e,t,r){for(var i=e.length,s=0;s<i;s++){var o=e[s],a=QA(String(o.offset),10,"0");r+=Ta(a,t,r),t[r++]=Be.Space;var l=QA(String(o.ref.generationNumber),5,"0");r+=Ta(l,t,r),t[r++]=Be.Space,t[r++]=o.deleted?Be.f:Be.n,t[r++]=Be.Space,t[r++]=Be.Newline}return 20*i},n.prototype.append=function(e){if(this.chunkLength===0){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var t=this.subsections[this.chunkIdx],r=t[this.chunkLength-1];e.ref.objectNumber-r.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},n.create=function(){return new n({ref:Pi.of(0,65535),offset:0,deleted:!0})},n.createEmpty=function(){return new n},n}(),fD=function(){function n(e){this.lastXRefOffset=String(e)}return n.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},n.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},n.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=Be.s,e[t++]=Be.t,e[t++]=Be.a,e[t++]=Be.r,e[t++]=Be.t,e[t++]=Be.x,e[t++]=Be.r,e[t++]=Be.e,e[t++]=Be.f,e[t++]=Be.Newline,t+=Ta(this.lastXRefOffset,e,t),e[t++]=Be.Newline,e[t++]=Be.Percent,e[t++]=Be.Percent,e[t++]=Be.E,e[t++]=Be.O,e[t++]=Be.F,t-r},n.forLastCrossRefSectionOffset=function(e){return new n(e)},n}(),cbe=function(){function n(e){this.dict=e}return n.prototype.toString=function(){return`trailer
`+this.dict.toString()},n.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},n.prototype.copyBytesInto=function(e,t){var r=t;return e[t++]=Be.t,e[t++]=Be.r,e[t++]=Be.a,e[t++]=Be.i,e[t++]=Be.l,e[t++]=Be.e,e[t++]=Be.r,e[t++]=Be.Newline,t+=this.dict.copyBytesInto(e,t),t-r},n.of=function(e){return new n(e)},n}(),hX=function(n){Zt(e,n);function e(t,r,i){i===void 0&&(i=!0);var s=n.call(this,t.obj({}),i)||this;return s.objects=r,s.offsets=s.computeObjectOffsets(),s.offsetsString=s.computeOffsetsString(),s.dict.set(be.of("Type"),be.of("ObjStm")),s.dict.set(be.of("N"),gr.of(s.objects.length)),s.dict.set(be.of("First"),gr.of(s.offsetsString.length)),s}return e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(t){return e.withContextAndObjects(t||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var t=this.offsetsString,r=0,i=this.objects.length;r<i;r++){var s=this.objects[r],o=s[1];t+=o+`
`}return t},e.prototype.getUnencodedContents=function(){for(var t=new Uint8Array(this.getUnencodedContentsSize()),r=Ta(this.offsetsString,t,0),i=0,s=this.objects.length;i<s;i++){var o=this.objects[i],a=o[1];r+=a.copyBytesInto(t,r),t[r++]=Be.Newline}return t},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+BT(this.offsets)[1]+BT(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var t="",r=0,i=this.offsets.length;r<i;r++){var s=this.offsets[r],o=s[0],a=s[1];t+=o+" "+a+" "}return t},e.prototype.computeObjectOffsets=function(){for(var t=0,r=new Array(this.objects.length),i=0,s=this.objects.length;i<s;i++){var o=this.objects[i],a=o[0],l=o[1];r[i]=[a.objectNumber,t],t+=l.sizeInBytes()+1}return r},e.withContextAndObjects=function(t,r,i){return i===void 0&&(i=!0),new e(t,r,i)},e}(hD),fX=function(){function n(e,t){var r=this;this.parsedObjects=0,this.shouldWaitForTick=function(i){return r.parsedObjects+=i,r.parsedObjects%r.objectsPerTick===0},this.context=e,this.objectsPerTick=t}return n.prototype.serializeToBuffer=function(){return Mr(this,void 0,void 0,function(){var e,t,r,i,s,o,a,l,c,u,A,h,f,v,g,x,b;return Rr(this,function(S){switch(S.label){case 0:return[4,this.computeBufferSize()];case 1:e=S.sent(),t=e.size,r=e.header,i=e.indirectObjects,s=e.xref,o=e.trailerDict,a=e.trailer,l=0,c=new Uint8Array(t),l+=r.copyBytesInto(c,l),c[l++]=Be.Newline,c[l++]=Be.Newline,u=0,A=i.length,S.label=2;case 2:return u<A?(h=i[u],f=h[0],v=h[1],g=String(f.objectNumber),l+=Ta(g,c,l),c[l++]=Be.Space,x=String(f.generationNumber),l+=Ta(x,c,l),c[l++]=Be.Space,c[l++]=Be.o,c[l++]=Be.b,c[l++]=Be.j,c[l++]=Be.Newline,l+=v.copyBytesInto(c,l),c[l++]=Be.Newline,c[l++]=Be.e,c[l++]=Be.n,c[l++]=Be.d,c[l++]=Be.o,c[l++]=Be.b,c[l++]=Be.j,c[l++]=Be.Newline,c[l++]=Be.Newline,b=v instanceof hX?v.getObjectsCount():1,this.shouldWaitForTick(b)?[4,bw()]:[3,4]):[3,5];case 3:S.sent(),S.label=4;case 4:return u++,[3,2];case 5:return s&&(l+=s.copyBytesInto(c,l),c[l++]=Be.Newline),o&&(l+=o.copyBytesInto(c,l),c[l++]=Be.Newline,c[l++]=Be.Newline),l+=a.copyBytesInto(c,l),[2,c]}})})},n.prototype.computeIndirectObjectSize=function(e){var t=e[0],r=e[1],i=t.sizeInBytes()+3,s=r.sizeInBytes()+9;return i+s},n.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},n.prototype.computeBufferSize=function(){return Mr(this,void 0,void 0,function(){var e,t,r,i,s,o,a,l,c,u,A;return Rr(this,function(h){switch(h.label){case 0:e=Ak.forVersion(1,7),t=e.sizeInBytes()+2,r=dX.create(),i=this.context.enumerateIndirectObjects(),s=0,o=i.length,h.label=1;case 1:return s<o?(a=i[s],l=a[0],r.addEntry(l,t),t+=this.computeIndirectObjectSize(a),this.shouldWaitForTick(1)?[4,bw()]:[3,3]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return c=t,t+=r.sizeInBytes()+1,u=cbe.of(this.createTrailerDict()),t+=u.sizeInBytes()+2,A=fD.forLastCrossRefSectionOffset(c),t+=A.sizeInBytes(),[2,{size:t,header:e,indirectObjects:i,xref:r,trailerDict:u,trailer:A}]}})})},n.forContext=function(e,t){return new n(e,t)},n}(),pX=function(n){Zt(e,n);function e(t){var r=n.call(this)||this;return r.data=t,r}return e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(t,r){for(var i=this.data.length,s=0;s<i;s++)t[r++]=this.data[s];return i},e.of=function(t){return new e(t)},e}(kl),Qp;(function(n){n[n.Deleted=0]="Deleted",n[n.Uncompressed=1]="Uncompressed",n[n.Compressed=2]="Compressed"})(Qp||(Qp={}));var ube=function(n){Zt(e,n);function e(t,r,i){i===void 0&&(i=!0);var s=n.call(this,t,i)||this;return s.computeIndex=function(){for(var o=[],a=0,l=0,c=s.entries.length;l<c;l++){var u=s.entries[l],A=s.entries[l-1];l===0?o.push(u.ref.objectNumber):u.ref.objectNumber-A.ref.objectNumber>1&&(o.push(a),o.push(u.ref.objectNumber),a=0),a+=1}return o.push(a),o},s.computeEntryTuples=function(){for(var o=new Array(s.entries.length),a=0,l=s.entries.length;a<l;a++){var c=s.entries[a];if(c.type===Qp.Deleted){var u=c.type,A=c.nextFreeObjectNumber,h=c.ref;o[a]=[u,A,h.generationNumber]}if(c.type===Qp.Uncompressed){var u=c.type,f=c.offset,h=c.ref;o[a]=[u,f,h.generationNumber]}if(c.type===Qp.Compressed){var u=c.type,v=c.objectStreamRef,g=c.index;o[a]=[u,v.objectNumber,g]}}return o},s.computeMaxEntryByteWidths=function(){for(var o=s.entryTuplesCache.access(),a=[0,0,0],l=0,c=o.length;l<c;l++){var u=o[l],A=u[0],h=u[1],f=u[2],v=ZE(A),g=ZE(h),x=ZE(f);v>a[0]&&(a[0]=v),g>a[1]&&(a[1]=g),x>a[2]&&(a[2]=x)}return a},s.entries=r||[],s.entryTuplesCache=Mf.populatedBy(s.computeEntryTuples),s.maxByteWidthsCache=Mf.populatedBy(s.computeMaxEntryByteWidths),s.indexCache=Mf.populatedBy(s.computeIndex),t.set(be.of("Type"),be.of("XRef")),s}return e.prototype.addDeletedEntry=function(t,r){var i=Qp.Deleted;this.entries.push({type:i,ref:t,nextFreeObjectNumber:r}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(t,r){var i=Qp.Uncompressed;this.entries.push({type:i,ref:t,offset:r}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(t,r,i){var s=Qp.Compressed;this.entries.push({type:s,ref:t,objectStreamRef:r,index:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(t){var r=this,i=r.dict,s=r.entries,o=r.encode;return e.of(i.clone(t),s.slice(),o)},e.prototype.getContentsString=function(){for(var t=this.entryTuplesCache.access(),r=this.maxByteWidthsCache.access(),i="",s=0,o=t.length;s<o;s++){for(var a=t[s],l=a[0],c=a[1],u=a[2],A=Yy(Zy(l)),h=Yy(Zy(c)),f=Yy(Zy(u)),v=r[0]-1;v>=0;v--)i+=(A[v]||0).toString(2);for(var v=r[1]-1;v>=0;v--)i+=(h[v]||0).toString(2);for(var v=r[2]-1;v>=0;v--)i+=(f[v]||0).toString(2)}return i},e.prototype.getUnencodedContents=function(){for(var t=this.entryTuplesCache.access(),r=this.maxByteWidthsCache.access(),i=new Uint8Array(this.getUnencodedContentsSize()),s=0,o=0,a=t.length;o<a;o++){for(var l=t[o],c=l[0],u=l[1],A=l[2],h=Yy(Zy(c)),f=Yy(Zy(u)),v=Yy(Zy(A)),g=r[0]-1;g>=0;g--)i[s++]=h[g]||0;for(var g=r[1]-1;g>=0;g--)i[s++]=f[g]||0;for(var g=r[2]-1;g>=0;g--)i[s++]=v[g]||0}return i},e.prototype.getUnencodedContentsSize=function(){var t=this.maxByteWidthsCache.access(),r=Gye(t);return r*this.entries.length},e.prototype.updateDict=function(){n.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),r=this.indexCache.access(),i=this.dict.context;this.dict.set(be.of("W"),i.obj(t)),this.dict.set(be.of("Index"),i.obj(r))},e.create=function(t,r){r===void 0&&(r=!0);var i=new e(t,[],r);return i.addDeletedEntry(Pi.of(0,65535),0),i},e.of=function(t,r,i){return i===void 0&&(i=!0),new e(t,r,i)},e}(hD),Abe=function(n){Zt(e,n);function e(t,r,i,s){var o=n.call(this,t,r)||this;return o.encodeStreams=i,o.objectsPerStream=s,o}return e.prototype.computeBufferSize=function(){return Mr(this,void 0,void 0,function(){var t,r,i,s,o,a,l,c,v,g,u,b,A,h,x,f,v,g,x,b,S,E,k,P;return Rr(this,function(N){switch(N.label){case 0:t=this.context.largestObjectNumber+1,r=Ak.forVersion(1,7),i=r.sizeInBytes()+2,s=ube.create(this.createTrailerDict(),this.encodeStreams),o=[],a=[],l=[],c=this.context.enumerateIndirectObjects(),v=0,g=c.length,N.label=1;case 1:return v<g?(u=c[v],b=u[0],A=u[1],h=b===this.context.trailerInfo.Encrypt||A instanceof Xc||A instanceof pX||b.generationNumber!==0,h?(o.push(u),s.addUncompressedEntry(b,i),i+=this.computeIndirectObjectSize(u),this.shouldWaitForTick(1)?[4,bw()]:[3,3]):[3,4]):[3,6];case 2:N.sent(),N.label=3;case 3:return[3,5];case 4:x=BT(a),f=BT(l),(!x||x.length%this.objectsPerStream===0)&&(x=[],a.push(x),f=Pi.of(t++),l.push(f)),s.addCompressedEntry(b,f,x.length),x.push(u),N.label=5;case 5:return v++,[3,1];case 6:v=0,g=a.length,N.label=7;case 7:return v<g?(x=a[v],b=l[v],S=hX.withContextAndObjects(this.context,x,this.encodeStreams),s.addUncompressedEntry(b,i),i+=this.computeIndirectObjectSize([b,S]),o.push([b,S]),this.shouldWaitForTick(x.length)?[4,bw()]:[3,9]):[3,10];case 8:N.sent(),N.label=9;case 9:return v++,[3,7];case 10:return E=Pi.of(t++),s.dict.set(be.of("Size"),gr.of(t)),s.addUncompressedEntry(E,i),k=i,i+=this.computeIndirectObjectSize([E,s]),o.push([E,s]),P=fD.forLastCrossRefSectionOffset(k),i+=P.sizeInBytes(),[2,{size:i,header:r,indirectObjects:o,trailer:P}]}})})},e.forContext=function(t,r,i,s){return i===void 0&&(i=!0),s===void 0&&(s=50),new e(t,r,i,s)},e}(fX),ar=function(n){Zt(e,n);function e(t){var r=n.call(this)||this;return r.value=t,r}return e.prototype.asBytes=function(){for(var t=this.value+(this.value.length%2===1?"0":""),r=t.length,i=new Uint8Array(t.length/2),s=0,o=0;s<r;){var a=parseInt(t.substring(s,s+2),16);i[o]=a,s+=2,o+=1}return i},e.prototype.decodeText=function(){var t=this.asBytes();return tX(t)?Jq(t):uX(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),r=qq(t);if(!r)throw new AX(t);return r},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,r){return t[r++]=Be.LessThan,r+=Ta(this.value,t,r),t[r++]=Be.GreaterThan,this.value.length+2},e.of=function(t){return new e(t)},e.fromText=function(t){for(var r=Yye(t),i="",s=0,o=r.length;s<o;s++)i+=nB(r[s],4);return new e(i)},e}(kl),TT=function(){function n(e,t){this.encoding=e===tC.ZapfDingbats?W5.ZapfDingbats:e===tC.Symbol?W5.Symbol:W5.WinAnsi,this.font=k1e.load(e),this.fontName=this.font.FontName,this.customName=t}return n.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),r=new Array(t.length),i=0,s=t.length;i<s;i++)r[i]=ak(t[i].code);return ar.of(r.join(""))},n.prototype.widthOfTextAtSize=function(e,t){for(var r=this.encodeTextAsGlyphs(e),i=0,s=0,o=r.length;s<o;s++){var a=r[s].name,l=(r[s+1]||{}).name,c=this.font.getXAxisKerningForPair(a,l)||0;i+=this.widthOfGlyph(a)+c}var u=t/1e3;return i*u},n.prototype.heightOfFontAtSize=function(e,t){t===void 0&&(t={});var r=t.descender,i=r===void 0?!0:r,s=this.font,o=s.Ascender,a=s.Descender,l=s.FontBBox,c=o||l[3],u=a||l[1],A=c-u;return i||(A+=a||0),A/1e3*e},n.prototype.sizeOfFontAtHeight=function(e){var t=this.font,r=t.Ascender,i=t.Descender,s=t.FontBBox,o=r||s[3],a=i||s[1];return 1e3*e/(o-a)},n.prototype.embedIntoContext=function(e,t){var r=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===W5.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,r),t):e.register(r)},n.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},n.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),r=new Array(t.length),i=0,s=t.length;i<s;i++){var o=Mye(t[i]);r[i]=this.encoding.encodeUnicodeCodePoint(o)}return r},n.for=function(e,t){return new n(e,t)},n}(),dbe=function(n,e){for(var t=new Array(n.length),r=0,i=n.length;r<i;r++){var s=n[r],o=z6(JE(e(s))),a=z6.apply(void 0,s.codePoints.map(fbe));t[r]=[o,a]}return hbe(t)},hbe=function(n){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+n.length+` beginbfchar
`+n.map(function(e){var t=e[0],r=e[1];return t+" "+r}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},z6=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return"<"+n.join("")+">"},JE=function(n){return nB(n,4)},fbe=function(n){if(Zye(n))return JE(n);if(Jye(n)){var e=Yq(n),t=Zq(n);return""+JE(e)+JE(t)}var r=ak(n),i="0x"+r+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(i)},pbe=function(n){var e=0,t=function(r){e|=1<<r-1};return n.fixedPitch&&t(1),n.serif&&t(2),t(3),n.script&&t(4),n.nonsymbolic&&t(6),n.italic&&t(7),n.allCap&&t(17),n.smallCap&&t(18),n.forceBold&&t(19),e},mbe=function(n){var e=n["OS/2"]?n["OS/2"].sFamilyClass:0,t=pbe({fixedPitch:n.post.isFixedPitch,serif:1<=e&&e<=7,script:e===10,italic:n.head.macStyle.italic});return t},Zr=function(n){Zt(e,n);function e(t){var r=n.call(this)||this;return r.value=t,r}return e.prototype.asBytes=function(){for(var t=[],r="",i=!1,s=function(A){A!==void 0&&t.push(A),i=!1},o=0,a=this.value.length;o<a;o++){var l=this.value[o],c=wr(l),u=this.value[o+1];i?c===Be.Newline||c===Be.CarriageReturn?s():c===Be.n?s(Be.Newline):c===Be.r?s(Be.CarriageReturn):c===Be.t?s(Be.Tab):c===Be.b?s(Be.Backspace):c===Be.f?s(Be.FormFeed):c===Be.LeftParen?s(Be.LeftParen):c===Be.RightParen?s(Be.RightParen):c===Be.Backspace?s(Be.BackSlash):c>=Be.Zero&&c<=Be.Seven?(r+=l,(r.length===3||!(u>="0"&&u<="7"))&&(s(parseInt(r,8)),r="")):s(c):c===Be.BackSlash?i=!0:s(c)}return new Uint8Array(t)},e.prototype.decodeText=function(){var t=this.asBytes();return tX(t)?Jq(t):uX(t)},e.prototype.decodeDate=function(){var t=this.decodeText(),r=qq(t);if(!r)throw new AX(t);return r},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(t,r){return t[r++]=Be.LeftParen,r+=Ta(this.value,t,r),t[r++]=Be.RightParen,this.value.length+2},e.of=function(t){return new e(t)},e.fromDate=function(t){var r=QA(String(t.getUTCFullYear()),4,"0"),i=QA(String(t.getUTCMonth()+1),2,"0"),s=QA(String(t.getUTCDate()),2,"0"),o=QA(String(t.getUTCHours()),2,"0"),a=QA(String(t.getUTCMinutes()),2,"0"),l=QA(String(t.getUTCSeconds()),2,"0");return new e("D:"+r+i+s+o+a+l+"Z")},e}(kl),pD=function(){function n(e,t,r,i){var s=this;this.allGlyphsInFontSortedById=function(){for(var o=new Array(s.font.characterSet.length),a=0,l=o.length;a<l;a++){var c=s.font.characterSet[a];o[a]=s.font.glyphForCodePoint(c)}return Vye(o.sort(Kye),function(u){return u.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=r,this.fontFeatures=i,this.baseFontName="",this.glyphCache=Mf.populatedBy(this.allGlyphsInFontSortedById)}return n.for=function(e,t,r,i){return Mr(this,void 0,void 0,function(){var s;return Rr(this,function(o){switch(o.label){case 0:return[4,e.create(t)];case 1:return s=o.sent(),[2,new n(s,t,r,i)]}})})},n.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,r=new Array(t.length),i=0,s=t.length;i<s;i++)r[i]=nB(t[i].id,4);return ar.of(r.join(""))},n.prototype.widthOfTextAtSize=function(e,t){for(var r=this.font.layout(e,this.fontFeatures).glyphs,i=0,s=0,o=r.length;s<o;s++)i+=r[s].advanceWidth*this.scale;var a=t/1e3;return i*a},n.prototype.heightOfFontAtSize=function(e,t){t===void 0&&(t={});var r=t.descender,i=r===void 0?!0:r,s=this.font,o=s.ascent,a=s.descent,l=s.bbox,c=(o||l.maxY)*this.scale,u=(a||l.minY)*this.scale,A=c-u;return i||(A-=Math.abs(a)||0),A/1e3*e},n.prototype.sizeOfFontAtHeight=function(e){var t=this.font,r=t.ascent,i=t.descent,s=t.bbox,o=(r||s.maxY)*this.scale,a=(i||s.minY)*this.scale;return 1e3*e/(o-a)},n.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},n.prototype.embedFontDict=function(e,t){return Mr(this,void 0,void 0,function(){var r,i,s;return Rr(this,function(o){switch(o.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return r=o.sent(),i=this.embedUnicodeCmap(e),s=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[r],ToUnicode:i}),t?(e.assign(t,s),[2,t]):[2,e.register(s)]}})})},n.prototype.isCFF=function(){return this.font.cff},n.prototype.embedCIDFontDict=function(e){return Mr(this,void 0,void 0,function(){var t,r;return Rr(this,function(i){switch(i.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=i.sent(),r=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:Zr.of("Adobe"),Ordering:Zr.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(r)]}})})},n.prototype.embedFontDescriptor=function(e){return Mr(this,void 0,void 0,function(){var t,r,i,s,o,a,l,c,u,A,h,f,v,g,x;return Rr(this,function(b){switch(b.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=b.sent(),r=this.scale,i=this.font,s=i.italicAngle,o=i.ascent,a=i.descent,l=i.capHeight,c=i.xHeight,u=this.font.bbox,A=u.minX,h=u.minY,f=u.maxX,v=u.maxY,g=e.obj((x={Type:"FontDescriptor",FontName:this.baseFontName,Flags:mbe(this.font),FontBBox:[A*r,h*r,f*r,v*r],ItalicAngle:s,Ascent:o*r,Descent:a*r,CapHeight:(l||o)*r,XHeight:(c||0)*r,StemV:0},x[this.isCFF()?"FontFile3":"FontFile2"]=t,x)),[2,e.register(g)]}})})},n.prototype.serializeFont=function(){return Mr(this,void 0,void 0,function(){return Rr(this,function(e){return[2,this.fontData]})})},n.prototype.embedFontStream=function(e){return Mr(this,void 0,void 0,function(){var t,r,i;return Rr(this,function(s){switch(s.label){case 0:return i=(r=e).flateStream,[4,this.serializeFont()];case 1:return t=i.apply(r,[s.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}})})},n.prototype.embedUnicodeCmap=function(e){var t=dbe(this.glyphCache.access(),this.glyphId.bind(this)),r=e.flateStream(t);return e.register(r)},n.prototype.glyphId=function(e){return e?e.id:-1},n.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],r=[],i=0,s=e.length;i<s;i++){var o=e[i],a=e[i-1],l=this.glyphId(o),c=this.glyphId(a);i===0?t.push(l):l-c!==1&&(t.push(r),t.push(l),r=[]),r.push(o.advanceWidth*this.scale)}return t.push(r),t},n}(),gbe=function(n){Zt(e,n);function e(t,r,i,s){var o=n.call(this,t,r,i,s)||this;return o.subset=o.font.createSubset(),o.glyphs=[],o.glyphCache=Mf.populatedBy(function(){return o.glyphs}),o.glyphIdMap=new Map,o}return e.for=function(t,r,i,s){return Mr(this,void 0,void 0,function(){var o;return Rr(this,function(a){switch(a.label){case 0:return[4,t.create(r)];case 1:return o=a.sent(),[2,new e(o,r,i,s)]}})})},e.prototype.encodeText=function(t){for(var r=this.font.layout(t,this.fontFeatures).glyphs,i=new Array(r.length),s=0,o=r.length;s<o;s++){var a=r[s],l=this.subset.includeGlyph(a);this.glyphs[l-1]=a,this.glyphIdMap.set(a.id,l),i[s]=nB(l,4)}return this.glyphCache.invalidate(),ar.of(i.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(t){return t?this.glyphIdMap.get(t.id):-1},e.prototype.serializeFont=function(){var t=this;return new Promise(function(r,i){var s=[];t.subset.encodeStream().on("data",function(o){return s.push(o)}).on("end",function(){return r(zye(s))}).on("error",function(o){return i(o)})})},e}(pD),fM;(function(n){n.Source="Source",n.Data="Data",n.Alternative="Alternative",n.Supplement="Supplement",n.EncryptedPayload="EncryptedPayload",n.FormData="EncryptedPayload",n.Schema="Schema",n.Unspecified="Unspecified"})(fM||(fM={}));var vbe=function(){function n(e,t,r){r===void 0&&(r={}),this.fileData=e,this.fileName=t,this.options=r}return n.for=function(e,t,r){return r===void 0&&(r={}),new n(e,t,r)},n.prototype.embedIntoContext=function(e,t){return Mr(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,A;return Rr(this,function(h){return r=this.options,i=r.mimeType,s=r.description,o=r.creationDate,a=r.modificationDate,l=r.afRelationship,c=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:i??void 0,Params:{Size:this.fileData.length,CreationDate:o?Zr.fromDate(o):void 0,ModDate:a?Zr.fromDate(a):void 0}}),u=e.register(c),A=e.obj({Type:"Filespec",F:Zr.of(this.fileName),UF:ar.fromText(this.fileName),EF:{F:u},Desc:s?ar.fromText(s):void 0,AFRelationship:l??void 0}),t?(e.assign(t,A),[2,t]):[2,e.register(A)]})})},n}(),K6=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],Q1;(function(n){n.DeviceGray="DeviceGray",n.DeviceRGB="DeviceRGB",n.DeviceCMYK="DeviceCMYK"})(Q1||(Q1={}));var ybe={1:Q1.DeviceGray,3:Q1.DeviceRGB,4:Q1.DeviceCMYK},mX=function(){function n(e,t,r,i,s){this.imageData=e,this.bitsPerComponent=t,this.width=r,this.height=i,this.colorSpace=s}return n.for=function(e){return Mr(this,void 0,void 0,function(){var t,r,i,s,o,a,l,c,u,A;return Rr(this,function(h){if(t=new DataView(e.buffer),r=t.getUint16(0),r!==65496)throw new Error("SOI not found in JPEG");for(i=2;i<t.byteLength&&(s=t.getUint16(i),i+=2,!K6.includes(s));)i+=t.getUint16(i);if(!K6.includes(s))throw new Error("Invalid JPEG");if(i+=2,o=t.getUint8(i++),a=t.getUint16(i),i+=2,l=t.getUint16(i),i+=2,c=t.getUint8(i++),u=ybe[c],!u)throw new Error("Unknown JPEG channel.");return A=u,[2,new n(e,o,l,a,A)]})})},n.prototype.embedIntoContext=function(e,t){return Mr(this,void 0,void 0,function(){var r;return Rr(this,function(i){return r=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===Q1.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t?(e.assign(t,r),[2,t]):[2,e.register(r)]})})},n}(),Mt={};Mt.toRGBA8=function(n){var e=n.width,t=n.height;if(n.tabs.acTL==null)return[Mt.toRGBA8.decodeImage(n.data,e,t,n).buffer];var r=[];n.frames[0].data==null&&(n.frames[0].data=n.data);for(var i=e*t*4,s=new Uint8Array(i),o=new Uint8Array(i),a=new Uint8Array(i),l=0;l<n.frames.length;l++){var c=n.frames[l],u=c.rect.x,A=c.rect.y,h=c.rect.width,f=c.rect.height,v=Mt.toRGBA8.decodeImage(c.data,h,f,n);if(l!=0)for(var g=0;g<i;g++)a[g]=s[g];if(c.blend==0?Mt._copyTile(v,h,f,s,e,t,u,A,0):c.blend==1&&Mt._copyTile(v,h,f,s,e,t,u,A,1),r.push(s.buffer.slice(0)),c.dispose!=0){if(c.dispose==1)Mt._copyTile(o,h,f,s,e,t,u,A,0);else if(c.dispose==2)for(var g=0;g<i;g++)s[g]=a[g]}}return r};Mt.toRGBA8.decodeImage=function(n,e,t,r){var i=e*t,s=Mt.decode._getBPP(r),o=Math.ceil(e*s/8),a=new Uint8Array(i*4),l=new Uint32Array(a.buffer),c=r.ctype,u=r.depth,A=Mt._bin.readUshort;if(c==6){var h=i<<2;if(u==8)for(var f=0;f<h;f+=4)a[f]=n[f],a[f+1]=n[f+1],a[f+2]=n[f+2],a[f+3]=n[f+3];if(u==16)for(var f=0;f<h;f++)a[f]=n[f<<1]}else if(c==2){var v=r.tabs.tRNS;if(v==null){if(u==8)for(var f=0;f<i;f++){var g=f*3;l[f]=255<<24|n[g+2]<<16|n[g+1]<<8|n[g]}if(u==16)for(var f=0;f<i;f++){var g=f*6;l[f]=255<<24|n[g+4]<<16|n[g+2]<<8|n[g]}}else{var x=v[0],b=v[1],S=v[2];if(u==8)for(var f=0;f<i;f++){var E=f<<2,g=f*3;l[f]=255<<24|n[g+2]<<16|n[g+1]<<8|n[g],n[g]==x&&n[g+1]==b&&n[g+2]==S&&(a[E+3]=0)}if(u==16)for(var f=0;f<i;f++){var E=f<<2,g=f*6;l[f]=255<<24|n[g+4]<<16|n[g+2]<<8|n[g],A(n,g)==x&&A(n,g+2)==b&&A(n,g+4)==S&&(a[E+3]=0)}}}else if(c==3){var k=r.tabs.PLTE,P=r.tabs.tRNS,N=P?P.length:0;if(u==1)for(var I=0;I<t;I++)for(var U=I*o,V=I*e,f=0;f<e;f++){var E=V+f<<2,W=n[U+(f>>3)]>>7-((f&7)<<0)&1,L=3*W;a[E]=k[L],a[E+1]=k[L+1],a[E+2]=k[L+2],a[E+3]=W<N?P[W]:255}if(u==2)for(var I=0;I<t;I++)for(var U=I*o,V=I*e,f=0;f<e;f++){var E=V+f<<2,W=n[U+(f>>2)]>>6-((f&3)<<1)&3,L=3*W;a[E]=k[L],a[E+1]=k[L+1],a[E+2]=k[L+2],a[E+3]=W<N?P[W]:255}if(u==4)for(var I=0;I<t;I++)for(var U=I*o,V=I*e,f=0;f<e;f++){var E=V+f<<2,W=n[U+(f>>1)]>>4-((f&1)<<2)&15,L=3*W;a[E]=k[L],a[E+1]=k[L+1],a[E+2]=k[L+2],a[E+3]=W<N?P[W]:255}if(u==8)for(var f=0;f<i;f++){var E=f<<2,W=n[f],L=3*W;a[E]=k[L],a[E+1]=k[L+1],a[E+2]=k[L+2],a[E+3]=W<N?P[W]:255}}else if(c==4){if(u==8)for(var f=0;f<i;f++){var E=f<<2,D=f<<1,z=n[D];a[E]=z,a[E+1]=z,a[E+2]=z,a[E+3]=n[D+1]}if(u==16)for(var f=0;f<i;f++){var E=f<<2,D=f<<2,z=n[D];a[E]=z,a[E+1]=z,a[E+2]=z,a[E+3]=n[D+2]}}else if(c==0)for(var x=r.tabs.tRNS?r.tabs.tRNS:-1,I=0;I<t;I++){var G=I*o,ve=I*e;if(u==1)for(var J=0;J<e;J++){var z=255*(n[G+(J>>>3)]>>>7-(J&7)&1),$=z==x*255?0:255;l[ve+J]=$<<24|z<<16|z<<8|z}else if(u==2)for(var J=0;J<e;J++){var z=85*(n[G+(J>>>2)]>>>6-((J&3)<<1)&3),$=z==x*85?0:255;l[ve+J]=$<<24|z<<16|z<<8|z}else if(u==4)for(var J=0;J<e;J++){var z=17*(n[G+(J>>>1)]>>>4-((J&1)<<2)&15),$=z==x*17?0:255;l[ve+J]=$<<24|z<<16|z<<8|z}else if(u==8)for(var J=0;J<e;J++){var z=n[G+J],$=z==x?0:255;l[ve+J]=$<<24|z<<16|z<<8|z}else if(u==16)for(var J=0;J<e;J++){var z=n[G+(J<<1)],$=A(n,G+(J<<f))==x?0:255;l[ve+J]=$<<24|z<<16|z<<8|z}}return a};Mt.decode=function(n){for(var e=new Uint8Array(n),t=8,r=Mt._bin,i=r.readUshort,s=r.readUint,o={tabs:{},frames:[]},a=new Uint8Array(e.length),l=0,c,u=0,A=[137,80,78,71,13,10,26,10],h=0;h<8;h++)if(e[h]!=A[h])throw"The input is not a PNG file!";for(;t<e.length;){var f=r.readUint(e,t);t+=4;var v=r.readASCII(e,t,4);if(t+=4,v=="IHDR")Mt.decode._IHDR(e,t,o);else if(v=="IDAT"){for(var h=0;h<f;h++)a[l+h]=e[t+h];l+=f}else if(v=="acTL")o.tabs[v]={num_frames:s(e,t),num_plays:s(e,t+4)},c=new Uint8Array(e.length);else if(v=="fcTL"){if(u!=0){var g=o.frames[o.frames.length-1];g.data=Mt.decode._decompress(o,c.slice(0,u),g.rect.width,g.rect.height),u=0}var x={x:s(e,t+12),y:s(e,t+16),width:s(e,t+4),height:s(e,t+8)},b=i(e,t+22);b=i(e,t+20)/(b==0?100:b);var S={rect:x,delay:Math.round(b*1e3),dispose:e[t+24],blend:e[t+25]};o.frames.push(S)}else if(v=="fdAT"){for(var h=0;h<f-4;h++)c[u+h]=e[t+h+4];u+=f-4}else if(v=="pHYs")o.tabs[v]=[r.readUint(e,t),r.readUint(e,t+4),e[t+8]];else if(v=="cHRM"){o.tabs[v]=[];for(var h=0;h<8;h++)o.tabs[v].push(r.readUint(e,t+h*4))}else if(v=="tEXt"){o.tabs[v]==null&&(o.tabs[v]={});var E=r.nextZero(e,t),k=r.readASCII(e,t,E-t),P=r.readASCII(e,E+1,t+f-E-1);o.tabs[v][k]=P}else if(v=="iTXt"){o.tabs[v]==null&&(o.tabs[v]={});var E=0,N=t;E=r.nextZero(e,N);var k=r.readASCII(e,N,E-N);N=E+1,e[N],e[N+1],N+=2,E=r.nextZero(e,N),r.readASCII(e,N,E-N),N=E+1,E=r.nextZero(e,N),r.readUTF8(e,N,E-N),N=E+1;var P=r.readUTF8(e,N,f-(N-t));o.tabs[v][k]=P}else if(v=="PLTE")o.tabs[v]=r.readBytes(e,t,f);else if(v=="hIST"){var I=o.tabs.PLTE.length/3;o.tabs[v]=[];for(var h=0;h<I;h++)o.tabs[v].push(i(e,t+h*2))}else if(v=="tRNS")o.ctype==3?o.tabs[v]=r.readBytes(e,t,f):o.ctype==0?o.tabs[v]=i(e,t):o.ctype==2&&(o.tabs[v]=[i(e,t),i(e,t+2),i(e,t+4)]);else if(v=="gAMA")o.tabs[v]=r.readUint(e,t)/1e5;else if(v=="sRGB")o.tabs[v]=e[t];else if(v=="bKGD")o.ctype==0||o.ctype==4?o.tabs[v]=[i(e,t)]:o.ctype==2||o.ctype==6?o.tabs[v]=[i(e,t),i(e,t+2),i(e,t+4)]:o.ctype==3&&(o.tabs[v]=e[t]);else if(v=="IEND")break;t+=f,r.readUint(e,t),t+=4}if(u!=0){var g=o.frames[o.frames.length-1];g.data=Mt.decode._decompress(o,c.slice(0,u),g.rect.width,g.rect.height),u=0}return o.data=Mt.decode._decompress(o,a,o.width,o.height),delete o.compress,delete o.interlace,delete o.filter,o};Mt.decode._decompress=function(n,e,t,r){var i=Mt.decode._getBPP(n),s=Math.ceil(t*i/8),o=new Uint8Array((s+1+n.interlace)*r);return e=Mt.decode._inflate(e,o),n.interlace==0?e=Mt.decode._filterZero(e,n,0,t,r):n.interlace==1&&(e=Mt.decode._readInterlace(e,n)),e};Mt.decode._inflate=function(n,e){var t=Mt.inflateRaw(new Uint8Array(n.buffer,2,n.length-6),e);return t};Mt.inflateRaw=function(){var n={};return n.H={},n.H.N=function(e,t){var r=Uint8Array,i=0,s=0,o=0,a=0,l=0,c=0,u=0,A=0,h=0,f,v;if(e[0]==3&&e[1]==0)return t||new r(0);var g=n.H,x=g.b,b=g.e,S=g.R,E=g.n,k=g.A,P=g.Z,N=g.m,I=t==null;for(I&&(t=new r(e.length>>>2<<3));i==0;){if(i=x(e,h,1),s=x(e,h+1,2),h+=3,s==0){(h&7)!=0&&(h+=8-(h&7));var U=(h>>>3)+4,V=e[U-4]|e[U-3]<<8;I&&(t=n.H.W(t,A+V)),t.set(new r(e.buffer,e.byteOffset+U,V),A),h=U+V<<3,A+=V;continue}if(I&&(t=n.H.W(t,A+(1<<17))),s==1&&(f=N.J,v=N.h,c=511,u=31),s==2){o=b(e,h,5)+257,a=b(e,h+5,5)+1,l=b(e,h+10,4)+4,h+=14;for(var W=1,L=0;L<38;L+=2)N.Q[L]=0,N.Q[L+1]=0;for(var L=0;L<l;L++){var D=b(e,h+L*3,3);N.Q[(N.X[L]<<1)+1]=D,D>W&&(W=D)}h+=3*l,E(N.Q,W),k(N.Q,W,N.u),f=N.w,v=N.d,h=S(N.u,(1<<W)-1,o+a,e,h,N.v);var z=g.V(N.v,0,o,N.C);c=(1<<z)-1;var G=g.V(N.v,o,a,N.D);u=(1<<G)-1,E(N.C,z),k(N.C,z,f),E(N.D,G),k(N.D,G,v)}for(;;){var ve=f[P(e,h)&c];h+=ve&15;var J=ve>>>4;if(!(J>>>8))t[A++]=J;else{if(J==256)break;var $=A+J-254;if(J>264){var X=N.q[J-257];$=A+(X>>>3)+b(e,h,X&7),h+=X&7}var ie=v[P(e,h)&u];h+=ie&15;var pe=ie>>>4,te=N.c[pe],H=(te>>>4)+x(e,h,te&15);for(h+=te&15;A<$;)t[A]=t[A++-H],t[A]=t[A++-H],t[A]=t[A++-H],t[A]=t[A++-H];A=$}}}return t.length==A?t:t.slice(0,A)},n.H.W=function(e,t){var r=e.length;if(t<=r)return e;var i=new Uint8Array(r<<1);return i.set(e,0),i},n.H.R=function(e,t,r,i,s,o){for(var a=n.H.e,l=n.H.Z,c=0;c<r;){var u=e[l(i,s)&t];s+=u&15;var A=u>>>4;if(A<=15)o[c]=A,c++;else{var h=0,f=0;A==16?(f=3+a(i,s,2),s+=2,h=o[c-1]):A==17?(f=3+a(i,s,3),s+=3):A==18&&(f=11+a(i,s,7),s+=7);for(var v=c+f;c<v;)o[c]=h,c++}}return s},n.H.V=function(e,t,r,i){for(var s=0,o=0,a=i.length>>>1;o<r;){var l=e[o+t];i[o<<1]=0,i[(o<<1)+1]=l,l>s&&(s=l),o++}for(;o<a;)i[o<<1]=0,i[(o<<1)+1]=0,o++;return s},n.H.n=function(e,t){for(var r=n.H.m,i=e.length,s,o,a,l,c,u=r.j,l=0;l<=t;l++)u[l]=0;for(l=1;l<i;l+=2)u[e[l]]++;var A=r.K;for(s=0,u[0]=0,o=1;o<=t;o++)s=s+u[o-1]<<1,A[o]=s;for(a=0;a<i;a+=2)c=e[a+1],c!=0&&(e[a]=A[c],A[c]++)},n.H.A=function(e,t,r){for(var i=e.length,s=n.H.m,o=s.r,a=0;a<i;a+=2)if(e[a+1]!=0)for(var l=a>>1,c=e[a+1],u=l<<4|c,A=t-c,h=e[a]<<A,f=h+(1<<A);h!=f;){var v=o[h]>>>15-t;r[v]=u,h++}},n.H.l=function(e,t){for(var r=n.H.m.r,i=15-t,s=0;s<e.length;s+=2){var o=e[s]<<t-e[s+1];e[s]=r[o]>>>i}},n.H.M=function(e,t,r){r=r<<(t&7);var i=t>>>3;e[i]|=r,e[i+1]|=r>>>8},n.H.I=function(e,t,r){r=r<<(t&7);var i=t>>>3;e[i]|=r,e[i+1]|=r>>>8,e[i+2]|=r>>>16},n.H.e=function(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(t&7)&(1<<r)-1},n.H.b=function(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)&(1<<r)-1},n.H.Z=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)},n.H.i=function(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16|e[(t>>>3)+3]<<24)>>>(t&7)},n.H.m=function(){var e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var e=n.H.m,t=32768,r=0;r<t;r++){var i=r;i=(i&2863311530)>>>1|(i&1431655765)<<1,i=(i&3435973836)>>>2|(i&858993459)<<2,i=(i&4042322160)>>>4|(i&252645135)<<4,i=(i&4278255360)>>>8|(i&16711935)<<8,e.r[r]=(i>>>16|i<<16)>>>17}function s(o,a,l){for(;a--!=0;)o.push(0,l)}for(var r=0;r<32;r++)e.q[r]=e.S[r]<<3|e.T[r],e.c[r]=e.p[r]<<4|e.z[r];s(e._,144,8),s(e._,112,9),s(e._,24,7),s(e._,8,8),n.H.n(e._,9),n.H.A(e._,9,e.J),n.H.l(e._,9),s(e.$,32,5),n.H.n(e.$,5),n.H.A(e.$,5,e.h),n.H.l(e.$,5),s(e.Q,19,0),s(e.C,286,0),s(e.D,30,0),s(e.v,320,0)}(),n.H.N}();Mt.decode._readInterlace=function(n,e){for(var t=e.width,r=e.height,i=Mt.decode._getBPP(e),s=i>>3,o=Math.ceil(t*i/8),a=new Uint8Array(r*o),l=0,c=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],A=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],f=0;f<7;){for(var v=A[f],g=h[f],x=0,b=0,S=c[f];S<r;)S+=v,b++;for(var E=u[f];E<t;)E+=g,x++;var k=Math.ceil(x*i/8);Mt.decode._filterZero(n,e,l,x,b);for(var P=0,N=c[f];N<r;){for(var I=u[f],U=l+P*k<<3;I<t;){if(i==1){var V=n[U>>3];V=V>>7-(U&7)&1,a[N*o+(I>>3)]|=V<<7-((I&7)<<0)}if(i==2){var V=n[U>>3];V=V>>6-(U&7)&3,a[N*o+(I>>2)]|=V<<6-((I&3)<<1)}if(i==4){var V=n[U>>3];V=V>>4-(U&7)&15,a[N*o+(I>>1)]|=V<<4-((I&1)<<2)}if(i>=8)for(var W=N*o+I*s,L=0;L<s;L++)a[W+L]=n[(U>>3)+L];U+=i,I+=g}P++,N+=v}x*b!=0&&(l+=b*(1+k)),f=f+1}return a};Mt.decode._getBPP=function(n){var e=[1,null,3,1,2,null,4][n.ctype];return e*n.depth};Mt.decode._filterZero=function(n,e,t,r,i){var s=Mt.decode._getBPP(e),o=Math.ceil(r*s/8),a=Mt.decode._paeth;s=Math.ceil(s/8);var l=0,c=1,u=n[t],A=0;if(u>1&&(n[t]=[0,0,1][u-2]),u==3)for(A=s;A<o;A++)n[A+1]=n[A+1]+(n[A+1-s]>>>1)&255;for(var h=0;h<i;h++)if(l=t+h*o,c=l+h+1,u=n[c-1],A=0,u==0)for(;A<o;A++)n[l+A]=n[c+A];else if(u==1){for(;A<s;A++)n[l+A]=n[c+A];for(;A<o;A++)n[l+A]=n[c+A]+n[l+A-s]}else if(u==2)for(;A<o;A++)n[l+A]=n[c+A]+n[l+A-o];else if(u==3){for(;A<s;A++)n[l+A]=n[c+A]+(n[l+A-o]>>>1);for(;A<o;A++)n[l+A]=n[c+A]+(n[l+A-o]+n[l+A-s]>>>1)}else{for(;A<s;A++)n[l+A]=n[c+A]+a(0,n[l+A-o],0);for(;A<o;A++)n[l+A]=n[c+A]+a(n[l+A-s],n[l+A-o],n[l+A-s-o])}return n};Mt.decode._paeth=function(n,e,t){var r=n+e-t,i=r-n,s=r-e,o=r-t;return i*i<=s*s&&i*i<=o*o?n:s*s<=o*o?e:t};Mt.decode._IHDR=function(n,e,t){var r=Mt._bin;t.width=r.readUint(n,e),e+=4,t.height=r.readUint(n,e),e+=4,t.depth=n[e],e++,t.ctype=n[e],e++,t.compress=n[e],e++,t.filter=n[e],e++,t.interlace=n[e],e++};Mt._bin={nextZero:function(n,e){for(;n[e]!=0;)e++;return e},readUshort:function(n,e){return n[e]<<8|n[e+1]},writeUshort:function(n,e,t){n[e]=t>>8&255,n[e+1]=t&255},readUint:function(n,e){return n[e]*(256*256*256)+(n[e+1]<<16|n[e+2]<<8|n[e+3])},writeUint:function(n,e,t){n[e]=t>>24&255,n[e+1]=t>>16&255,n[e+2]=t>>8&255,n[e+3]=t&255},readASCII:function(n,e,t){for(var r="",i=0;i<t;i++)r+=String.fromCharCode(n[e+i]);return r},writeASCII:function(n,e,t){for(var r=0;r<t.length;r++)n[e+r]=t.charCodeAt(r)},readBytes:function(n,e,t){for(var r=[],i=0;i<t;i++)r.push(n[e+i]);return r},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,e,t){for(var r="",i,s=0;s<t;s++)r+="%"+Mt._bin.pad(n[e+s].toString(16));try{i=decodeURIComponent(r)}catch{return Mt._bin.readASCII(n,e,t)}return i}};Mt._copyTile=function(n,e,t,r,i,s,o,a,l){for(var c=Math.min(e,i),u=Math.min(t,s),A=0,h=0,f=0;f<u;f++)for(var v=0;v<c;v++)if(o>=0&&a>=0?(A=f*e+v<<2,h=(a+f)*i+o+v<<2):(A=(-a+f)*e-o+v<<2,h=f*i+v<<2),l==0)r[h]=n[A],r[h+1]=n[A+1],r[h+2]=n[A+2],r[h+3]=n[A+3];else if(l==1){var g=n[A+3]*.00392156862745098,x=n[A]*g,b=n[A+1]*g,S=n[A+2]*g,E=r[h+3]*(1/255),k=r[h]*E,P=r[h+1]*E,N=r[h+2]*E,I=1-g,U=g+E*I,V=U==0?0:1/U;r[h+3]=255*U,r[h+0]=(x+k*I)*V,r[h+1]=(b+P*I)*V,r[h+2]=(S+N*I)*V}else if(l==2){var g=n[A+3],x=n[A],b=n[A+1],S=n[A+2],E=r[h+3],k=r[h],P=r[h+1],N=r[h+2];g==E&&x==k&&b==P&&S==N?(r[h]=0,r[h+1]=0,r[h+2]=0,r[h+3]=0):(r[h]=x,r[h+1]=b,r[h+2]=S,r[h+3]=g)}else if(l==3){var g=n[A+3],x=n[A],b=n[A+1],S=n[A+2],E=r[h+3],k=r[h],P=r[h+1],N=r[h+2];if(g==E&&x==k&&b==P&&S==N)continue;if(g<220&&E>20)return!1}return!0};Mt.encode=function(n,e,t,r,i,s,o){r==null&&(r=0),o==null&&(o=!1);var a=Mt.encode.compress(n,e,t,r,[!1,!1,!1,0,o]);return Mt.encode.compressPNG(a,-1),Mt.encode._main(a,e,t,i,s)};Mt.encodeLL=function(n,e,t,r,i,s,o,a){for(var l={ctype:0+(r==1?0:2)+(i==0?0:4),depth:s,frames:[]},c=(r+i)*s,u=c*e,A=0;A<n.length;A++)l.frames.push({rect:{x:0,y:0,width:e,height:t},img:new Uint8Array(n[A]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(u/8)});Mt.encode.compressPNG(l,0,!0);var h=Mt.encode._main(l,e,t,o,a);return h};Mt.encode._main=function(n,e,t,r,i){i==null&&(i={});var s=Mt.crc.crc,o=Mt._bin.writeUint,a=Mt._bin.writeUshort,l=Mt._bin.writeASCII,c=8,u=n.frames.length>1,A=!1,h=33+(u?20:0);if(i.sRGB!=null&&(h+=13),i.pHYs!=null&&(h+=21),n.ctype==3){for(var f=n.plte.length,v=0;v<f;v++)n.plte[v]>>>24!=255&&(A=!0);h+=8+f*3+4+(A?8+f*1+4:0)}for(var g=0;g<n.frames.length;g++){var x=n.frames[g];u&&(h+=38),h+=x.cimg.length+12,g!=0&&(h+=4)}h+=12;for(var b=new Uint8Array(h),S=[137,80,78,71,13,10,26,10],v=0;v<8;v++)b[v]=S[v];if(o(b,c,13),c+=4,l(b,c,"IHDR"),c+=4,o(b,c,e),c+=4,o(b,c,t),c+=4,b[c]=n.depth,c++,b[c]=n.ctype,c++,b[c]=0,c++,b[c]=0,c++,b[c]=0,c++,o(b,c,s(b,c-17,17)),c+=4,i.sRGB!=null&&(o(b,c,1),c+=4,l(b,c,"sRGB"),c+=4,b[c]=i.sRGB,c++,o(b,c,s(b,c-5,5)),c+=4),i.pHYs!=null&&(o(b,c,9),c+=4,l(b,c,"pHYs"),c+=4,o(b,c,i.pHYs[0]),c+=4,o(b,c,i.pHYs[1]),c+=4,b[c]=i.pHYs[2],c++,o(b,c,s(b,c-13,13)),c+=4),u&&(o(b,c,8),c+=4,l(b,c,"acTL"),c+=4,o(b,c,n.frames.length),c+=4,o(b,c,i.loop!=null?i.loop:0),c+=4,o(b,c,s(b,c-12,12)),c+=4),n.ctype==3){var f=n.plte.length;o(b,c,f*3),c+=4,l(b,c,"PLTE"),c+=4;for(var v=0;v<f;v++){var E=v*3,k=n.plte[v],P=k&255,N=k>>>8&255,I=k>>>16&255;b[c+E+0]=P,b[c+E+1]=N,b[c+E+2]=I}if(c+=f*3,o(b,c,s(b,c-f*3-4,f*3+4)),c+=4,A){o(b,c,f),c+=4,l(b,c,"tRNS"),c+=4;for(var v=0;v<f;v++)b[c+v]=n.plte[v]>>>24&255;c+=f,o(b,c,s(b,c-f-4,f+4)),c+=4}}for(var U=0,g=0;g<n.frames.length;g++){var x=n.frames[g];u&&(o(b,c,26),c+=4,l(b,c,"fcTL"),c+=4,o(b,c,U++),c+=4,o(b,c,x.rect.width),c+=4,o(b,c,x.rect.height),c+=4,o(b,c,x.rect.x),c+=4,o(b,c,x.rect.y),c+=4,a(b,c,r[g]),c+=2,a(b,c,1e3),c+=2,b[c]=x.dispose,c++,b[c]=x.blend,c++,o(b,c,s(b,c-30,30)),c+=4);var V=x.cimg,f=V.length;o(b,c,f+(g==0?0:4)),c+=4;var W=c;l(b,c,g==0?"IDAT":"fdAT"),c+=4,g!=0&&(o(b,c,U++),c+=4),b.set(V,c),c+=f,o(b,c,s(b,W,c-W)),c+=4}return o(b,c,0),c+=4,l(b,c,"IEND"),c+=4,o(b,c,s(b,c-4,4)),c+=4,b.buffer};Mt.encode.compressPNG=function(n,e,t){for(var r=0;r<n.frames.length;r++){var i=n.frames[r];i.rect.width;var s=i.rect.height,o=new Uint8Array(s*i.bpl+s);i.cimg=Mt.encode._filterZero(i.img,s,i.bpp,i.bpl,o,e,t)}};Mt.encode.compress=function(n,e,t,r,i){for(var s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=6,A=8,h=255,f=0;f<n.length;f++)for(var v=new Uint8Array(n[f]),g=v.length,x=0;x<g;x+=4)h&=v[x+3];var b=h!=255,S=Mt.encode.framize(n,e,t,s,o,a),E={},k=[],P=[];if(r!=0){for(var N=[],x=0;x<S.length;x++)N.push(S[x].img.buffer);for(var I=Mt.encode.concatRGBA(N),U=Mt.quantize(I,r),V=0,W=new Uint8Array(U.abuf),x=0;x<S.length;x++){var L=S[x].img,D=L.length;P.push(new Uint8Array(U.inds.buffer,V>>2,D>>2));for(var f=0;f<D;f+=4)L[f]=W[V+f],L[f+1]=W[V+f+1],L[f+2]=W[V+f+2],L[f+3]=W[V+f+3];V+=D}for(var x=0;x<U.plte.length;x++)k.push(U.plte[x].est.rgba)}else for(var f=0;f<S.length;f++){var z=S[f],G=new Uint32Array(z.img.buffer),ve=z.rect.width,g=G.length,J=new Uint8Array(g);P.push(J);for(var x=0;x<g;x++){var $=G[x];if(x!=0&&$==G[x-1])J[x]=J[x-1];else if(x>ve&&$==G[x-ve])J[x]=J[x-ve];else{var X=E[$];if(X==null&&(E[$]=X=k.length,k.push($),k.length>=300))break;J[x]=X}}}var ie=k.length;ie<=256&&c==!1&&(ie<=2?A=1:ie<=4?A=2:ie<=16?A=4:A=8,A=Math.max(A,l));for(var f=0;f<S.length;f++){var z=S[f];z.rect.x,z.rect.y;var ve=z.rect.width,pe=z.rect.height,te=z.img;new Uint32Array(te.buffer);var H=4*ve,q=4;if(ie<=256&&c==!1){H=Math.ceil(A*ve/8);for(var re=new Uint8Array(H*pe),he=P[f],Ae=0;Ae<pe;Ae++){var x=Ae*H,ge=Ae*ve;if(A==8)for(var we=0;we<ve;we++)re[x+we]=he[ge+we];else if(A==4)for(var we=0;we<ve;we++)re[x+(we>>1)]|=he[ge+we]<<4-(we&1)*4;else if(A==2)for(var we=0;we<ve;we++)re[x+(we>>2)]|=he[ge+we]<<6-(we&3)*2;else if(A==1)for(var we=0;we<ve;we++)re[x+(we>>3)]|=he[ge+we]<<7-(we&7)*1}te=re,u=3,q=1}else if(b==!1&&S.length==1){for(var re=new Uint8Array(ve*pe*3),ke=ve*pe,x=0;x<ke;x++){var L=x*3,ze=x*4;re[L]=te[ze],re[L+1]=te[ze+1],re[L+2]=te[ze+2]}te=re,u=2,q=3,H=3*ve}z.img=te,z.bpl=H,z.bpp=q}return{ctype:u,depth:A,plte:k,frames:S}};Mt.encode.framize=function(n,e,t,r,i,s){for(var o=[],a=0;a<n.length;a++){var l=new Uint8Array(n[a]),c=new Uint32Array(l.buffer),u,A=0,h=0,f=e,v=t,g=r?1:0;if(a!=0){for(var x=s||r||a==1||o[a-2].dispose!=0?1:2,b=0,S=1e9,E=0;E<x;E++){for(var z=new Uint8Array(n[a-1-E]),k=new Uint32Array(n[a-1-E]),P=e,N=t,I=-1,U=-1,V=0;V<t;V++)for(var W=0;W<e;W++){var L=V*e+W;c[L]!=k[L]&&(W<P&&(P=W),W>I&&(I=W),V<N&&(N=V),V>U&&(U=V))}I==-1&&(P=N=I=U=0),i&&((P&1)==1&&P--,(N&1)==1&&N--);var D=(I-P+1)*(U-N+1);D<S&&(S=D,b=E,A=P,h=N,f=I-P+1,v=U-N+1)}var z=new Uint8Array(n[a-1-b]);b==1&&(o[a-1].dispose=2),u=new Uint8Array(f*v*4),Mt._copyTile(z,e,t,u,f,v,-A,-h,0),g=Mt._copyTile(l,e,t,u,f,v,-A,-h,3)?1:0,g==1?Mt.encode._prepareDiff(l,e,t,u,{x:A,y:h,width:f,height:v}):Mt._copyTile(l,e,t,u,f,v,-A,-h,0)}else u=l.slice(0);o.push({rect:{x:A,y:h,width:f,height:v},img:u,blend:g,dispose:0})}if(r)for(var a=0;a<o.length;a++){var G=o[a];if(G.blend!=1){var ve=G.rect,J=o[a-1].rect,$=Math.min(ve.x,J.x),X=Math.min(ve.y,J.y),ie=Math.max(ve.x+ve.width,J.x+J.width),pe=Math.max(ve.y+ve.height,J.y+J.height),te={x:$,y:X,width:ie-$,height:pe-X};o[a-1].dispose=1,a-1!=0&&Mt.encode._updateFrame(n,e,t,o,a-1,te,i),Mt.encode._updateFrame(n,e,t,o,a,te,i)}}var H=0;if(n.length!=1)for(var L=0;L<o.length;L++){var G=o[L];H+=G.rect.width*G.rect.height}return o};Mt.encode._updateFrame=function(n,e,t,r,i,s,o){for(var a=Uint8Array,l=Uint32Array,c=new a(n[i-1]),u=new l(n[i-1]),A=i+1<n.length?new a(n[i+1]):null,h=new a(n[i]),f=new l(h.buffer),v=e,g=t,x=-1,b=-1,S=0;S<s.height;S++)for(var E=0;E<s.width;E++){var k=s.x+E,P=s.y+S,N=P*e+k,I=f[N];I==0||r[i-1].dispose==0&&u[N]==I&&(A==null||A[N*4+3]!=0)||(k<v&&(v=k),k>x&&(x=k),P<g&&(g=P),P>b&&(b=P))}x==-1&&(v=g=x=b=0),o&&((v&1)==1&&v--,(g&1)==1&&g--),s={x:v,y:g,width:x-v+1,height:b-g+1};var U=r[i];U.rect=s,U.blend=1,U.img=new Uint8Array(s.width*s.height*4),r[i-1].dispose==0?(Mt._copyTile(c,e,t,U.img,s.width,s.height,-s.x,-s.y,0),Mt.encode._prepareDiff(h,e,t,U.img,s)):Mt._copyTile(h,e,t,U.img,s.width,s.height,-s.x,-s.y,0)};Mt.encode._prepareDiff=function(n,e,t,r,i){Mt._copyTile(n,e,t,r,i.width,i.height,-i.x,-i.y,2)};Mt.encode._filterZero=function(n,e,t,r,i,s,o){var a=[],l=[0,1,2,3,4];s!=-1?l=[s]:(e*r>5e5||t==1)&&(l=[0]);var c;o&&(c={level:0});for(var u=o&&UZIP!=null?UZIP:lk,A=0;A<l.length;A++){for(var h=0;h<e;h++)Mt.encode._filterLine(i,n,h,r,t,l[A]);a.push(u.deflate(i,c))}for(var f,v=1e9,A=0;A<a.length;A++)a[A].length<v&&(f=A,v=a[A].length);return a[f]};Mt.encode._filterLine=function(n,e,t,r,i,s){var o=t*r,a=o+t,l=Mt.decode._paeth;if(n[a]=s,a++,s==0)if(r<500)for(var c=0;c<r;c++)n[a+c]=e[o+c];else n.set(new Uint8Array(e.buffer,o,r),a);else if(s==1){for(var c=0;c<i;c++)n[a+c]=e[o+c];for(var c=i;c<r;c++)n[a+c]=e[o+c]-e[o+c-i]+256&255}else if(t==0){for(var c=0;c<i;c++)n[a+c]=e[o+c];if(s==2)for(var c=i;c<r;c++)n[a+c]=e[o+c];if(s==3)for(var c=i;c<r;c++)n[a+c]=e[o+c]-(e[o+c-i]>>1)+256&255;if(s==4)for(var c=i;c<r;c++)n[a+c]=e[o+c]-l(e[o+c-i],0,0)+256&255}else{if(s==2)for(var c=0;c<r;c++)n[a+c]=e[o+c]+256-e[o+c-r]&255;if(s==3){for(var c=0;c<i;c++)n[a+c]=e[o+c]+256-(e[o+c-r]>>1)&255;for(var c=i;c<r;c++)n[a+c]=e[o+c]+256-(e[o+c-r]+e[o+c-i]>>1)&255}if(s==4){for(var c=0;c<i;c++)n[a+c]=e[o+c]+256-l(0,e[o+c-r],0)&255;for(var c=i;c<r;c++)n[a+c]=e[o+c]+256-l(e[o+c-i],e[o+c-r],e[o+c-i-r])&255}}};Mt.crc={table:function(){for(var n=new Uint32Array(256),e=0;e<256;e++){for(var t=e,r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;n[e]=t}return n}(),update:function(n,e,t,r){for(var i=0;i<r;i++)n=Mt.crc.table[(n^e[t+i])&255]^n>>>8;return n},crc:function(n,e,t){return Mt.crc.update(4294967295,n,e,t)^4294967295}};Mt.quantize=function(n,e){var t=new Uint8Array(n),r=t.slice(0),i=new Uint32Array(r.buffer),s=Mt.quantize.getKDtree(r,e),o=s[0],a=s[1];Mt.quantize.planeDst;for(var l=t,c=i,u=l.length,A=new Uint8Array(t.length>>2),h=0;h<u;h+=4){var f=l[h]*.00392156862745098,v=l[h+1]*(1/255),g=l[h+2]*(1/255),x=l[h+3]*(1/255),b=Mt.quantize.getNearest(o,f,v,g,x);A[h>>2]=b.ind,c[h>>2]=b.est.rgba}return{abuf:r.buffer,inds:A,plte:a}};Mt.quantize.getKDtree=function(n,e,t){t==null&&(t=1e-4);var r=new Uint32Array(n.buffer),i={i0:0,i1:n.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=Mt.quantize.stats(n,i.i0,i.i1),i.est=Mt.quantize.estats(i.bst);for(var s=[i];s.length<e;){for(var o=0,a=0,l=0;l<s.length;l++)s[l].est.L>o&&(o=s[l].est.L,a=l);if(o<t)break;var c=s[a],u=Mt.quantize.splitPixels(n,r,c.i0,c.i1,c.est.e,c.est.eMq255),A=c.i0>=u||c.i1<=u;if(A){c.est.L=0;continue}var h={i0:c.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};h.bst=Mt.quantize.stats(n,h.i0,h.i1),h.est=Mt.quantize.estats(h.bst);var f={i0:u,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};f.bst={R:[],m:[],N:c.bst.N-h.bst.N};for(var l=0;l<16;l++)f.bst.R[l]=c.bst.R[l]-h.bst.R[l];for(var l=0;l<4;l++)f.bst.m[l]=c.bst.m[l]-h.bst.m[l];f.est=Mt.quantize.estats(f.bst),c.left=h,c.right=f,s[a]=h,s.push(f)}s.sort(function(v,g){return g.bst.N-v.bst.N});for(var l=0;l<s.length;l++)s[l].ind=l;return[i,s]};Mt.quantize.getNearest=function(n,e,t,r,i){if(n.left==null)return n.tdst=Mt.quantize.dist(n.est.q,e,t,r,i),n;var s=Mt.quantize.planeDst(n.est,e,t,r,i),o=n.left,a=n.right;s>0&&(o=n.right,a=n.left);var l=Mt.quantize.getNearest(o,e,t,r,i);if(l.tdst<=s*s)return l;var c=Mt.quantize.getNearest(a,e,t,r,i);return c.tdst<l.tdst?c:l};Mt.quantize.planeDst=function(n,e,t,r,i){var s=n.e;return s[0]*e+s[1]*t+s[2]*r+s[3]*i-n.eMq};Mt.quantize.dist=function(n,e,t,r,i){var s=e-n[0],o=t-n[1],a=r-n[2],l=i-n[3];return s*s+o*o+a*a+l*l};Mt.quantize.splitPixels=function(n,e,t,r,i,s){var o=Mt.quantize.vecDot;for(r-=4;t<r;){for(;o(n,t,i)<=s;)t+=4;for(;o(n,r,i)>s;)r-=4;if(t>=r)break;var a=e[t>>2];e[t>>2]=e[r>>2],e[r>>2]=a,t+=4,r-=4}for(;o(n,t,i)>s;)t-=4;return t+4};Mt.quantize.vecDot=function(n,e,t){return n[e]*t[0]+n[e+1]*t[1]+n[e+2]*t[2]+n[e+3]*t[3]};Mt.quantize.stats=function(n,e,t){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],s=t-e>>2,o=e;o<t;o+=4){var a=n[o]*.00392156862745098,l=n[o+1]*(1/255),c=n[o+2]*(1/255),u=n[o+3]*(1/255);i[0]+=a,i[1]+=l,i[2]+=c,i[3]+=u,r[0]+=a*a,r[1]+=a*l,r[2]+=a*c,r[3]+=a*u,r[5]+=l*l,r[6]+=l*c,r[7]+=l*u,r[10]+=c*c,r[11]+=c*u,r[15]+=u*u}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:s}};Mt.quantize.estats=function(n){var e=n.R,t=n.m,r=n.N,i=t[0],s=t[1],o=t[2],a=t[3],l=r==0?0:1/r,c=[e[0]-i*i*l,e[1]-i*s*l,e[2]-i*o*l,e[3]-i*a*l,e[4]-s*i*l,e[5]-s*s*l,e[6]-s*o*l,e[7]-s*a*l,e[8]-o*i*l,e[9]-o*s*l,e[10]-o*o*l,e[11]-o*a*l,e[12]-a*i*l,e[13]-a*s*l,e[14]-a*o*l,e[15]-a*a*l],u=c,A=Mt.M4,h=[.5,.5,.5,.5],f=0,v=0;if(r!=0)for(var g=0;g<10&&(h=A.multVec(u,h),v=Math.sqrt(A.dot(h,h)),h=A.sml(1/v,h),!(Math.abs(v-f)<1e-9));g++)f=v;var x=[i*l,s*l,o*l,a*l],b=A.dot(A.sml(255,x),h);return{Cov:c,q:x,e:h,L:f,eMq255:b,eMq:A.dot(h,x),rgba:(Math.round(255*x[3])<<24|Math.round(255*x[2])<<16|Math.round(255*x[1])<<8|Math.round(255*x[0])<<0)>>>0}};Mt.M4={multVec:function(n,e){return[n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3],n[4]*e[0]+n[5]*e[1]+n[6]*e[2]+n[7]*e[3],n[8]*e[0]+n[9]*e[1]+n[10]*e[2]+n[11]*e[3],n[12]*e[0]+n[13]*e[1]+n[14]*e[2]+n[15]*e[3]]},dot:function(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]},sml:function(n,e){return[n*e[0],n*e[1],n*e[2],n*e[3]]}};Mt.encode.concatRGBA=function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t].byteLength;for(var r=new Uint8Array(e),i=0,t=0;t<n.length;t++){for(var s=new Uint8Array(n[t]),o=s.length,a=0;a<o;a+=4){var l=s[a],c=s[a+1],u=s[a+2],A=s[a+3];A==0&&(l=c=u=0),r[i+a]=l,r[i+a+1]=c,r[i+a+2]=u,r[i+a+3]=A}i+=o}return r.buffer};var bbe=function(n){if(n===0)return g0.Greyscale;if(n===2)return g0.Truecolour;if(n===3)return g0.IndexedColour;if(n===4)return g0.GreyscaleWithAlpha;if(n===6)return g0.TruecolourWithAlpha;throw new Error("Unknown color type: "+n)},wbe=function(n){for(var e=Math.floor(n.length/4),t=new Uint8Array(e*3),r=new Uint8Array(e*1),i=0,s=0,o=0;i<n.length;)t[s++]=n[i++],t[s++]=n[i++],t[s++]=n[i++],r[o++]=n[i++];return{rgbChannel:t,alphaChannel:r}},g0;(function(n){n.Greyscale="Greyscale",n.Truecolour="Truecolour",n.IndexedColour="IndexedColour",n.GreyscaleWithAlpha="GreyscaleWithAlpha",n.TruecolourWithAlpha="TruecolourWithAlpha"})(g0||(g0={}));var xbe=function(){function n(e){var t=Mt.decode(e),r=Mt.toRGBA8(t);if(r.length>1)throw new Error("Animated PNGs are not supported");var i=new Uint8Array(r[0]),s=wbe(i),o=s.rgbChannel,a=s.alphaChannel;this.rgbChannel=o;var l=a.some(function(c){return c<255});l&&(this.alphaChannel=a),this.type=bbe(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return n.load=function(e){return new n(e)},n}(),gX=function(){function n(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return n.for=function(e){return Mr(this,void 0,void 0,function(){var t;return Rr(this,function(r){return t=xbe.load(e),[2,new n(t)]})})},n.prototype.embedIntoContext=function(e,t){return Mr(this,void 0,void 0,function(){var r,i;return Rr(this,function(s){return r=this.embedAlphaChannel(e),i=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:r}),t?(e.assign(t,i),[2,t]):[2,e.register(i)]})})},n.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},n}(),vX=function(){function n(e,t,r){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&r?t+r:this.bytes.length}return Object.defineProperty(n.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),n.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},n.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t},n.prototype.getInt32=function(){var e=this.getByte(),t=this.getByte(),r=this.getByte(),i=this.getByte();return(e<<24)+(t<<16)+(r<<8)+i},n.prototype.getBytes=function(e,t){t===void 0&&(t=!1);var r=this.bytes,i=this.pos,s=this.end;if(e){var a=i+e;a>s&&(a=s),this.pos=a;var o=r.subarray(i,a);return t?new Uint8ClampedArray(o):o}else{var o=r.subarray(i,s);return t?new Uint8ClampedArray(o):o}},n.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},n.prototype.peekBytes=function(e,t){t===void 0&&(t=!1);var r=this.getBytes(e,t);return this.pos-=r.length,r},n.prototype.skip=function(e){e||(e=1),this.pos+=e},n.prototype.reset=function(){this.pos=this.start},n.prototype.moveStart=function(){this.start=this.pos},n.prototype.makeSubStream=function(e,t){return new n(this.bytes,e,t)},n.prototype.decode=function(){return this.bytes},n}(),Cbe=new Uint8Array(0),sB=function(){function n(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Cbe,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),n.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},n.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t},n.prototype.getInt32=function(){var e=this.getByte(),t=this.getByte(),r=this.getByte(),i=this.getByte();return(e<<24)+(t<<16)+(r<<8)+i},n.prototype.getBytes=function(e,t){t===void 0&&(t=!1);var r,i=this.pos;if(e){for(this.ensureBuffer(i+e),r=i+e;!this.eof&&this.bufferLength<r;)this.readBlock();var s=this.bufferLength;r>s&&(r=s)}else{for(;!this.eof;)this.readBlock();r=this.bufferLength}this.pos=r;var o=this.buffer.subarray(i,r);return t&&!(o instanceof Uint8ClampedArray)?new Uint8ClampedArray(o):o},n.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},n.prototype.peekBytes=function(e,t){t===void 0&&(t=!1);var r=this.getBytes(e,t);return this.pos-=r.length,r},n.prototype.skip=function(e){e||(e=1),this.pos+=e},n.prototype.reset=function(){this.pos=0},n.prototype.makeSubStream=function(e,t){for(var r=e+t;this.bufferLength<=r&&!this.eof;)this.readBlock();return new vX(this.buffer,e,t)},n.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},n.prototype.readBlock=function(){throw new Uu(this.constructor.name,"readBlock")},n.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var r=this.minBufferLength;r<e;)r*=2;var i=new Uint8Array(r);return i.set(t),this.buffer=i},n}(),V6=function(n){return n===32||n===9||n===13||n===10},Sbe=function(n){Zt(e,n);function e(t,r){var i=n.call(this,r)||this;return i.stream=t,i.input=new Uint8Array(5),r&&(r=.8*r),i}return e.prototype.readBlock=function(){for(var t=126,r=122,i=-1,s=this.stream,o=s.getByte();V6(o);)o=s.getByte();if(o===i||o===t){this.eof=!0;return}var a=this.bufferLength,l,c;if(o===r){for(l=this.ensureBuffer(a+4),c=0;c<4;++c)l[a+c]=0;this.bufferLength+=4}else{var u=this.input;for(u[0]=o,c=1;c<5;++c){for(o=s.getByte();V6(o);)o=s.getByte();if(u[c]=o,o===i||o===t)break}if(l=this.ensureBuffer(a+c-1),this.bufferLength+=c-1,c<5){for(;c<5;++c)u[c]=117;this.eof=!0}var A=0;for(c=0;c<5;++c)A=A*85+(u[c]-33);for(c=3;c>=0;--c)l[a+c]=A&255,A>>=8}},e}(sB),Bbe=function(n){Zt(e,n);function e(t,r){var i=n.call(this,r)||this;return i.stream=t,i.firstDigit=-1,r&&(r=.5*r),i}return e.prototype.readBlock=function(){var t=8e3,r=this.stream.getBytes(t);if(!r.length){this.eof=!0;return}for(var i=r.length+1>>1,s=this.ensureBuffer(this.bufferLength+i),o=this.bufferLength,a=this.firstDigit,l=0,c=r.length;l<c;l++){var u=r[l],A=void 0;if(u>=48&&u<=57)A=u&15;else if(u>=65&&u<=70||u>=97&&u<=102)A=(u&15)+9;else if(u===62){this.eof=!0;break}else continue;a<0?a=A:(s[o++]=a<<4|A,a=-1)}a>=0&&this.eof&&(s[o++]=a<<4,a=-1),this.firstDigit=a,this.bufferLength=o},e}(sB),G6=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ebe=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),Fbe=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Tbe=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Nbe=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],kbe=function(n){Zt(e,n);function e(t,r){var i=n.call(this,r)||this;i.stream=t;var s=t.getByte(),o=t.getByte();if(s===-1||o===-1)throw new Error("Invalid header in flate stream: "+s+", "+o);if((s&15)!==8)throw new Error("Unknown compression method in flate stream: "+s+", "+o);if(((s<<8)+o)%31!==0)throw new Error("Bad FCHECK in flate stream: "+s+", "+o);if(o&32)throw new Error("FDICT bit set in flate stream: "+s+", "+o);return i.codeSize=0,i.codeBuf=0,i}return e.prototype.readBlock=function(){var t,r,i=this.stream,s=this.getBits(3);if(s&1&&(this.eof=!0),s>>=1,s===0){var o=void 0;if((o=i.getByte())===-1)throw new Error("Bad block header in flate stream");var a=o;if((o=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(a|=o<<8,(o=i.getByte())===-1)throw new Error("Bad block header in flate stream");var l=o;if((o=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(l|=o<<8,l!==(~a&65535)&&(a!==0||l!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var c=this.bufferLength;t=this.ensureBuffer(c+a);var u=c+a;if(this.bufferLength=u,a===0)i.peekByte()===-1&&(this.eof=!0);else for(var A=c;A<u;++A){if((o=i.getByte())===-1){this.eof=!0;break}t[A]=o}return}var h,f;if(s===1)h=Tbe,f=Nbe;else if(s===2){var v=this.getBits(5)+257,g=this.getBits(5)+1,x=this.getBits(4)+4,b=new Uint8Array(G6.length),S=void 0;for(S=0;S<x;++S)b[G6[S]]=this.getBits(3);var E=this.generateHuffmanTable(b);r=0,S=0;for(var k=v+g,P=new Uint8Array(k),N=void 0,I=void 0,U=void 0;S<k;){var V=this.getCode(E);if(V===16)N=2,I=3,U=r;else if(V===17)N=3,I=3,U=r=0;else if(V===18)N=7,I=11,U=r=0;else{P[S++]=r=V;continue}for(var W=this.getBits(N)+I;W-- >0;)P[S++]=U}h=this.generateHuffmanTable(P.subarray(0,v)),f=this.generateHuffmanTable(P.subarray(v,k))}else throw new Error("Unknown block type in flate stream");t=this.buffer;for(var L=t?t.length:0,D=this.bufferLength;;){var z=this.getCode(h);if(z<256){D+1>=L&&(t=this.ensureBuffer(D+1),L=t.length),t[D++]=z;continue}if(z===256){this.bufferLength=D;return}z-=257,z=Ebe[z];var G=z>>16;G>0&&(G=this.getBits(G)),r=(z&65535)+G,z=this.getCode(f),z=Fbe[z],G=z>>16,G>0&&(G=this.getBits(G));var ve=(z&65535)+G;D+r>=L&&(t=this.ensureBuffer(D+r),L=t.length);for(var J=0;J<r;++J,++D)t[D]=t[D-ve]}},e.prototype.getBits=function(t){for(var r=this.stream,i=this.codeSize,s=this.codeBuf,o;i<t;){if((o=r.getByte())===-1)throw new Error("Bad encoding in flate stream");s|=o<<i,i+=8}return o=s&(1<<t)-1,this.codeBuf=s>>t,this.codeSize=i-=t,o},e.prototype.getCode=function(t){for(var r=this.stream,i=t[0],s=t[1],o=this.codeSize,a=this.codeBuf,l;o<s&&(l=r.getByte())!==-1;)a|=l<<o,o+=8;var c=i[a&(1<<s)-1];typeof i=="number"&&console.log("FLATE:",c);var u=c>>16,A=c&65535;if(u<1||o<u)throw new Error("Bad encoding in flate stream");return this.codeBuf=a>>u,this.codeSize=o-u,A},e.prototype.generateHuffmanTable=function(t){var r=t.length,i=0,s;for(s=0;s<r;++s)t[s]>i&&(i=t[s]);for(var o=1<<i,a=new Int32Array(o),l=1,c=0,u=2;l<=i;++l,c<<=1,u<<=1)for(var A=0;A<r;++A)if(t[A]===l){var h=0,f=c;for(s=0;s<l;++s)h=h<<1|f&1,f>>=1;for(s=h;s<o;s+=u)a[s]=l<<16|A;++c}return[a,i]},e}(sB),Pbe=function(n){Zt(e,n);function e(t,r,i){var s=n.call(this,r)||this;s.stream=t,s.cachedData=0,s.bitsCached=0;for(var o=4096,a={earlyChange:i,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(o),dictionaryLengths:new Uint16Array(o),dictionaryPrevCodes:new Uint16Array(o),currentSequence:new Uint8Array(o),currentSequenceLength:0},l=0;l<256;++l)a.dictionaryValues[l]=l,a.dictionaryLengths[l]=1;return s.lzwState=a,s}return e.prototype.readBlock=function(){var t=512,r=t*2,i=t,s,o,a,l=this.lzwState;if(l){var c=l.earlyChange,u=l.nextCode,A=l.dictionaryValues,h=l.dictionaryLengths,f=l.dictionaryPrevCodes,v=l.codeLength,g=l.prevCode,x=l.currentSequence,b=l.currentSequenceLength,S=0,E=this.bufferLength,k=this.ensureBuffer(this.bufferLength+r);for(s=0;s<t;s++){var P=this.readBits(v),N=b>0;if(!P||P<256)x[0]=P,b=1;else if(P>=258)if(P<u)for(b=h[P],o=b-1,a=P;o>=0;o--)x[o]=A[a],a=f[a];else x[b++]=x[0];else if(P===256){v=9,u=258,b=0;continue}else{this.eof=!0,delete this.lzwState;break}if(N&&(f[u]=g,h[u]=h[g]+1,A[u]=x[0],u++,v=u+c&u+c-1?v:Math.min(Math.log(u+c)/.6931471805599453+1,12)|0),g=P,S+=b,r<S){do r+=i;while(r<S);k=this.ensureBuffer(this.bufferLength+r)}for(o=0;o<b;o++)k[E++]=x[o]}l.nextCode=u,l.codeLength=v,l.prevCode=g,l.currentSequenceLength=b,this.bufferLength=E}},e.prototype.readBits=function(t){for(var r=this.bitsCached,i=this.cachedData;r<t;){var s=this.stream.getByte();if(s===-1)return this.eof=!0,null;i=i<<8|s,r+=8}return this.bitsCached=r-=t,this.cachedData=i,i>>>r&(1<<t)-1},e}(sB),Lbe=function(n){Zt(e,n);function e(t,r){var i=n.call(this,r)||this;return i.stream=t,i}return e.prototype.readBlock=function(){var t=this.stream.getBytes(2);if(!t||t.length<2||t[0]===128){this.eof=!0;return}var r,i=this.bufferLength,s=t[0];if(s<128){if(r=this.ensureBuffer(i+s+1),r[i++]=t[1],s>0){var o=this.stream.getBytes(s);r.set(o,i),i+=s}}else{s=257-s;var a=t[1];r=this.ensureBuffer(i+s+1);for(var l=0;l<s;l++)r[i++]=a}this.bufferLength=i},e}(sB),W6=function(n,e,t){if(e===be.of("FlateDecode"))return new kbe(n);if(e===be.of("LZWDecode")){var r=1;if(t instanceof kr){var i=t.lookup(be.of("EarlyChange"));i instanceof gr&&(r=i.asNumber())}return new Pbe(n,void 0,r)}if(e===be.of("ASCII85Decode"))return new Sbe(n);if(e===be.of("ASCIIHexDecode"))return new Bbe(n);if(e===be.of("RunLengthDecode"))return new Lbe(n);throw new j1e(e.asString())},yX=function(n){var e=n.dict,t=n.contents,r=new vX(t),i=e.lookup(be.of("Filter")),s=e.lookup(be.of("DecodeParms"));if(i instanceof be)r=W6(r,i,s);else if(i instanceof Gr)for(var o=0,a=i.size();o<a;o++)r=W6(r,i.lookup(o,be),s&&s.lookupMaybe(o,kr));else if(i)throw new ET([be,Gr],i);return r},Ibe=function(n){var e=n.MediaBox(),t=e.lookup(2,gr).asNumber()-e.lookup(0,gr).asNumber(),r=e.lookup(3,gr).asNumber()-e.lookup(1,gr).asNumber();return{left:0,bottom:0,right:t,top:r}},Mbe=function(n){return[1,0,0,1,-n.left,-n.bottom]},bX=function(){function n(e,t,r){this.page=e;var i=t??Ibe(e);this.width=i.right-i.left,this.height=i.top-i.bottom,this.boundingBox=i,this.transformationMatrix=r??Mbe(i)}return n.for=function(e,t,r){return Mr(this,void 0,void 0,function(){return Rr(this,function(i){return[2,new n(e,t,r)]})})},n.prototype.embedIntoContext=function(e,t){return Mr(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,A,h;return Rr(this,function(f){if(r=this.page.normalizedEntries(),i=r.Contents,s=r.Resources,!i)throw new Q1e;return o=this.decodeContents(i),a=this.boundingBox,l=a.left,c=a.bottom,u=a.right,A=a.top,h=e.flateStream(o,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[l,c,u,A],Matrix:this.transformationMatrix,Resources:s}),t?(e.assign(t,h),[2,t]):[2,e.register(h)]})})},n.prototype.decodeContents=function(e){for(var t=Uint8Array.of(Be.Newline),r=[],i=0,s=e.size();i<s;i++){var o=e.lookup(i,Xc),a=void 0;if(o instanceof rC)a=yX(o).decode();else if(o instanceof B2)a=o.getUnencodedContents();else throw new z1e(o);r.push(a,t)}return Qye.apply(void 0,r)},n}(),Y5=function(n,e){if(n!==void 0)return e[n]},E2;(function(n){n.UseNone="UseNone",n.UseOutlines="UseOutlines",n.UseThumbs="UseThumbs",n.UseOC="UseOC"})(E2||(E2={}));var F2;(function(n){n.L2R="L2R",n.R2L="R2L"})(F2||(F2={}));var T2;(function(n){n.None="None",n.AppDefault="AppDefault"})(T2||(T2={}));var NT;(function(n){n.Simplex="Simplex",n.DuplexFlipShortEdge="DuplexFlipShortEdge",n.DuplexFlipLongEdge="DuplexFlipLongEdge"})(NT||(NT={}));var q6=function(){function n(e){this.dict=e}return n.prototype.lookupBool=function(e){var t=this.dict.lookup(be.of(e));if(t instanceof nC)return t},n.prototype.lookupName=function(e){var t=this.dict.lookup(be.of(e));if(t instanceof be)return t},n.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},n.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},n.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},n.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},n.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},n.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},n.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},n.prototype.Direction=function(){return this.lookupName("Direction")},n.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},n.prototype.Duplex=function(){return this.lookupName("Duplex")},n.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},n.prototype.PrintPageRange=function(){var e=this.dict.lookup(be.of("PrintPageRange"));if(e instanceof Gr)return e},n.prototype.NumCopies=function(){var e=this.dict.lookup(be.of("NumCopies"));if(e instanceof gr)return e},n.prototype.getHideToolbar=function(){var e,t;return(t=(e=this.HideToolbar())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},n.prototype.getHideMenubar=function(){var e,t;return(t=(e=this.HideMenubar())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},n.prototype.getHideWindowUI=function(){var e,t;return(t=(e=this.HideWindowUI())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},n.prototype.getFitWindow=function(){var e,t;return(t=(e=this.FitWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},n.prototype.getCenterWindow=function(){var e,t;return(t=(e=this.CenterWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},n.prototype.getDisplayDocTitle=function(){var e,t;return(t=(e=this.DisplayDocTitle())===null||e===void 0?void 0:e.asBoolean())!==null&&t!==void 0?t:!1},n.prototype.getNonFullScreenPageMode=function(){var e,t,r=(e=this.NonFullScreenPageMode())===null||e===void 0?void 0:e.decodeText();return(t=Y5(r,E2))!==null&&t!==void 0?t:E2.UseNone},n.prototype.getReadingDirection=function(){var e,t,r=(e=this.Direction())===null||e===void 0?void 0:e.decodeText();return(t=Y5(r,F2))!==null&&t!==void 0?t:F2.L2R},n.prototype.getPrintScaling=function(){var e,t,r=(e=this.PrintScaling())===null||e===void 0?void 0:e.decodeText();return(t=Y5(r,T2))!==null&&t!==void 0?t:T2.AppDefault},n.prototype.getDuplex=function(){var e,t=(e=this.Duplex())===null||e===void 0?void 0:e.decodeText();return Y5(t,NT)},n.prototype.getPickTrayByPDFSize=function(){var e;return(e=this.PickTrayByPDFSize())===null||e===void 0?void 0:e.asBoolean()},n.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],r=0;r<e.size();r+=2){var i=e.lookup(r,gr).asNumber(),s=e.lookup(r+1,gr).asNumber();t.push({start:i,end:s})}return t},n.prototype.getNumCopies=function(){var e,t;return(t=(e=this.NumCopies())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:1},n.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("HideToolbar"),t)},n.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("HideMenubar"),t)},n.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("HideWindowUI"),t)},n.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("FitWindow"),t)},n.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("CenterWindow"),t)},n.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("DisplayDocTitle"),t)},n.prototype.setNonFullScreenPageMode=function(e){qm(e,"nonFullScreenPageMode",E2);var t=be.of(e);this.dict.set(be.of("NonFullScreenPageMode"),t)},n.prototype.setReadingDirection=function(e){qm(e,"readingDirection",F2);var t=be.of(e);this.dict.set(be.of("Direction"),t)},n.prototype.setPrintScaling=function(e){qm(e,"printScaling",T2);var t=be.of(e);this.dict.set(be.of("PrintScaling"),t)},n.prototype.setDuplex=function(e){qm(e,"duplex",NT);var t=be.of(e);this.dict.set(be.of("Duplex"),t)},n.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("PickTrayByPDFSize"),t)},n.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],r=0,i=e.length;r<i;r++)t.push(e[r].start),t.push(e[r].end);lX(t,"printPageRange",["number"]);var s=this.dict.context.obj(t);this.dict.set(be.of("PrintPageRange"),s)},n.prototype.setNumCopies=function(e){Vc(e,"numCopies",1,Number.MAX_VALUE),H1e(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(be.of("NumCopies"),t)},n.fromDict=function(e){return new n(e)},n.create=function(e){var t=e.obj({});return new n(t)},n}(),Rbe=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,wX=function(){function n(e,t){this.dict=e,this.ref=t}return n.prototype.T=function(){return this.dict.lookupMaybe(be.of("T"),Zr,ar)},n.prototype.Ff=function(){var e=this.getInheritableAttribute(be.of("Ff"));return this.dict.context.lookupMaybe(e,gr)},n.prototype.V=function(){var e=this.getInheritableAttribute(be.of("V"));return this.dict.context.lookup(e)},n.prototype.Kids=function(){return this.dict.lookupMaybe(be.of("Kids"),Gr)},n.prototype.DA=function(){var e=this.dict.lookup(be.of("DA"));if(e instanceof Zr||e instanceof ar)return e},n.prototype.setKids=function(e){this.dict.set(be.of("Kids"),this.dict.context.obj(e))},n.prototype.getParent=function(){var e=this.dict.get(be.of("Parent"));if(e instanceof Pi){var t=this.dict.lookup(be.of("Parent"),kr);return new n(t,e)}},n.prototype.setParent=function(e){e?this.dict.set(be.of("Parent"),e):this.dict.delete(be.of("Parent"))},n.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},n.prototype.getPartialName=function(){var e;return(e=this.T())===null||e===void 0?void 0:e.decodeText()},n.prototype.setPartialName=function(e){e?this.dict.set(be.of("T"),ar.fromText(e)):this.dict.delete(be.of("T"))},n.prototype.setDefaultAppearance=function(e){this.dict.set(be.of("DA"),Zr.of(e))},n.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof ar?e.decodeText():e==null?void 0:e.asString()},n.prototype.setFontSize=function(e){var t,r=(t=this.getFullyQualifiedName())!==null&&t!==void 0?t:"",i=this.getDefaultAppearance();if(!i)throw new W1e(r);var s=aD(i,Rbe);if(!s.match)throw new q1e(r);var o=i.slice(0,s.pos-s.match[0].length),a=s.pos<=i.length?i.slice(s.pos):"",l=s.match[1],c=o+" /"+l+" "+e+" Tf "+a;this.setDefaultAppearance(c)},n.prototype.getFlags=function(){var e,t;return(t=(e=this.Ff())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:0},n.prototype.setFlags=function(e){this.dict.set(be.of("Ff"),gr.of(e))},n.prototype.hasFlag=function(e){var t=this.getFlags();return(t&e)!==0},n.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},n.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},n.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},n.prototype.getInheritableAttribute=function(e){var t;return this.ascend(function(r){t||(t=r.dict.get(e))}),t},n.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},n}(),lL=function(){function n(e){this.dict=e}return n.prototype.W=function(){var e=this.dict.lookup(be.of("W"));if(e instanceof gr)return e},n.prototype.getWidth=function(){var e,t;return(t=(e=this.W())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:1},n.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("W"),t)},n.fromDict=function(e){return new n(e)},n}(),Dbe=function(){function n(e){this.dict=e}return n.prototype.Rect=function(){return this.dict.lookup(be.of("Rect"),Gr)},n.prototype.AP=function(){return this.dict.lookupMaybe(be.of("AP"),kr)},n.prototype.F=function(){var e=this.dict.lookup(be.of("F"));return this.dict.context.lookupMaybe(e,gr)},n.prototype.getRectangle=function(){var e,t=this.Rect();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:{x:0,y:0,width:0,height:0}},n.prototype.setRectangle=function(e){var t=e.x,r=e.y,i=e.width,s=e.height,o=this.dict.context.obj([t,r,t+i,r+s]);this.dict.set(be.of("Rect"),o)},n.prototype.getAppearanceState=function(){var e=this.dict.lookup(be.of("AS"));if(e instanceof be)return e},n.prototype.setAppearanceState=function(e){this.dict.set(be.of("AS"),e)},n.prototype.setAppearances=function(e){this.dict.set(be.of("AP"),e)},n.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(be.of("AP"),e)),e},n.prototype.getNormalAppearance=function(){var e=this.ensureAP(),t=e.get(be.of("N"));if(t instanceof Pi||t instanceof kr)return t;throw new Error("Unexpected N type: "+(t==null?void 0:t.constructor.name))},n.prototype.setNormalAppearance=function(e){var t=this.ensureAP();t.set(be.of("N"),e)},n.prototype.setRolloverAppearance=function(e){var t=this.ensureAP();t.set(be.of("R"),e)},n.prototype.setDownAppearance=function(e){var t=this.ensureAP();t.set(be.of("D"),e)},n.prototype.removeRolloverAppearance=function(){var e=this.AP();e==null||e.delete(be.of("R"))},n.prototype.removeDownAppearance=function(){var e=this.AP();e==null||e.delete(be.of("D"))},n.prototype.getAppearances=function(){var e=this.AP();if(e){var t=e.lookup(be.of("N"),kr,Xc),r=e.lookupMaybe(be.of("R"),kr,Xc),i=e.lookupMaybe(be.of("D"),kr,Xc);return{normal:t,rollover:r,down:i}}},n.prototype.getFlags=function(){var e,t;return(t=(e=this.F())===null||e===void 0?void 0:e.asNumber())!==null&&t!==void 0?t:0},n.prototype.setFlags=function(e){this.dict.set(be.of("F"),gr.of(e))},n.prototype.hasFlag=function(e){var t=this.getFlags();return(t&e)!==0},n.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},n.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},n.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},n.fromDict=function(e){return new n(e)},n}(),cL=function(){function n(e){this.dict=e}return n.prototype.R=function(){var e=this.dict.lookup(be.of("R"));if(e instanceof gr)return e},n.prototype.BC=function(){var e=this.dict.lookup(be.of("BC"));if(e instanceof Gr)return e},n.prototype.BG=function(){var e=this.dict.lookup(be.of("BG"));if(e instanceof Gr)return e},n.prototype.CA=function(){var e=this.dict.lookup(be.of("CA"));if(e instanceof ar||e instanceof Zr)return e},n.prototype.RC=function(){var e=this.dict.lookup(be.of("RC"));if(e instanceof ar||e instanceof Zr)return e},n.prototype.AC=function(){var e=this.dict.lookup(be.of("AC"));if(e instanceof ar||e instanceof Zr)return e},n.prototype.getRotation=function(){var e;return(e=this.R())===null||e===void 0?void 0:e.asNumber()},n.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],r=0,i=e==null?void 0:e.size();r<i;r++){var s=e.get(r);s instanceof gr&&t.push(s.asNumber())}return t}},n.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],r=0,i=e==null?void 0:e.size();r<i;r++){var s=e.get(r);s instanceof gr&&t.push(s.asNumber())}return t}},n.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),r=this.AC();return{normal:e==null?void 0:e.decodeText(),rollover:t==null?void 0:t.decodeText(),down:r==null?void 0:r.decodeText()}},n.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("R"),t)},n.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("BC"),t)},n.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(be.of("BG"),t)},n.prototype.setCaptions=function(e){var t=ar.fromText(e.normal);if(this.dict.set(be.of("CA"),t),e.rollover){var r=ar.fromText(e.rollover);this.dict.set(be.of("RC"),r)}else this.dict.delete(be.of("RC"));if(e.down){var i=ar.fromText(e.down);this.dict.set(be.of("AC"),i)}else this.dict.delete(be.of("AC"))},n.fromDict=function(e){return new n(e)},n}(),pM=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.MK=function(){var t=this.dict.lookup(be.of("MK"));if(t instanceof kr)return t},e.prototype.BS=function(){var t=this.dict.lookup(be.of("BS"));if(t instanceof kr)return t},e.prototype.DA=function(){var t=this.dict.lookup(be.of("DA"));if(t instanceof Zr||t instanceof ar)return t},e.prototype.P=function(){var t=this.dict.get(be.of("P"));if(t instanceof Pi)return t},e.prototype.setP=function(t){this.dict.set(be.of("P"),t)},e.prototype.setDefaultAppearance=function(t){this.dict.set(be.of("DA"),Zr.of(t))},e.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof ar?t.decodeText():t==null?void 0:t.asString()},e.prototype.getAppearanceCharacteristics=function(){var t=this.MK();if(t)return cL.fromDict(t)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var t=this.MK();if(t)return cL.fromDict(t);var r=cL.fromDict(this.dict.context.obj({}));return this.dict.set(be.of("MK"),r.dict),r},e.prototype.getBorderStyle=function(){var t=this.BS();if(t)return lL.fromDict(t)},e.prototype.getOrCreateBorderStyle=function(){var t=this.BS();if(t)return lL.fromDict(t);var r=lL.fromDict(this.dict.context.obj({}));return this.dict.set(be.of("BS"),r.dict),r},e.prototype.getOnValue=function(){var t,r=(t=this.getAppearances())===null||t===void 0?void 0:t.normal;if(r instanceof kr)for(var i=r.keys(),s=0,o=i.length;s<o;s++){var a=i[s];if(a!==be.of("Off"))return a}},e.fromDict=function(t){return new e(t)},e.create=function(t,r){var i=t.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:r});return new e(i)},e}(Dbe),Iw=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.FT=function(){var t=this.getInheritableAttribute(be.of("FT"));return this.dict.context.lookup(t,be)},e.prototype.getWidgets=function(){var t=this.Kids();if(!t)return[pM.fromDict(this.dict)];for(var r=new Array(t.size()),i=0,s=t.size();i<s;i++){var o=t.lookup(i,kr);r[i]=pM.fromDict(o)}return r},e.prototype.addWidget=function(t){var r=this.normalizedEntries().Kids;r.push(t)},e.prototype.removeWidget=function(t){var r=this.Kids();if(r){if(t<0||t>r.size())throw new FT(t,0,r.size());r.remove(t)}else{if(t!==0)throw new FT(t,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([this.ref]),this.dict.set(be.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,r){return new e(t,r)},e}(wX),mD=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.Opt=function(){return this.dict.lookupMaybe(be.of("Opt"),Zr,ar,Gr)},e.prototype.setOpt=function(t){this.dict.set(be.of("Opt"),this.dict.context.obj(t))},e.prototype.getExportValues=function(){var t=this.Opt();if(t){if(t instanceof Zr||t instanceof ar)return[t];for(var r=[],i=0,s=t.size();i<s;i++){var o=t.lookup(i);(o instanceof Zr||o instanceof ar)&&r.push(o)}return r}},e.prototype.removeExportValue=function(t){var r=this.Opt();if(r)if(r instanceof Zr||r instanceof ar){if(t!==0)throw new FT(t,0,0);this.setOpt([])}else{if(t<0||t>r.size())throw new FT(t,0,r.size());r.remove(t)}},e.prototype.normalizeExportValues=function(){for(var t,r,i,s,o=(t=this.getExportValues())!==null&&t!==void 0?t:[],a=[],l=this.getWidgets(),c=0,u=l.length;c<u;c++){var A=l[c],h=(r=o[c])!==null&&r!==void 0?r:ar.fromText((s=(i=A.getOnValue())===null||i===void 0?void 0:i.decodeText())!==null&&s!==void 0?s:"");a.push(h)}this.setOpt(a)},e.prototype.addOpt=function(t,r){var i;this.normalizeExportValues();var s=t.decodeText(),o;if(r)for(var a=(i=this.getExportValues())!==null&&i!==void 0?i:[],l=0,c=a.length;l<c;l++){var u=a[l];u.decodeText()===s&&(o=l)}var A=this.Opt();return A.push(t),o??A.size()-1},e.prototype.addWidgetWithOpt=function(t,r,i){var s=this.addOpt(r,i),o=be.of(String(s));return this.addWidget(t),o},e}(Iw),dk=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setValue=function(t){var r,i=(r=this.getOnValue())!==null&&r!==void 0?r:be.of("Yes");if(t!==i&&t!==be.of("Off"))throw new AD;this.dict.set(be.of("V"),t);for(var s=this.getWidgets(),o=0,a=s.length;o<a;o++){var l=s[o],c=l.getOnValue()===t?t:be.of("Off");l.setAppearanceState(c)}},e.prototype.getValue=function(){var t=this.V();return t instanceof be?t:be.of("Off")},e.prototype.getOnValue=function(){var t=this.getWidgets()[0];return t==null?void 0:t.getOnValue()},e.fromDict=function(t,r){return new e(t,r)},e.create=function(t){var r=t.obj({FT:"Btn",Kids:[]}),i=t.register(r);return new e(r,i)},e}(mD),fo=function(n){return 1<<n},BA;(function(n){n[n.ReadOnly=fo(0)]="ReadOnly",n[n.Required=fo(1)]="Required",n[n.NoExport=fo(2)]="NoExport"})(BA||(BA={}));var Iu;(function(n){n[n.NoToggleToOff=fo(14)]="NoToggleToOff",n[n.Radio=fo(15)]="Radio",n[n.PushButton=fo(16)]="PushButton",n[n.RadiosInUnison=fo(25)]="RadiosInUnison"})(Iu||(Iu={}));var Ls;(function(n){n[n.Multiline=fo(12)]="Multiline",n[n.Password=fo(13)]="Password",n[n.FileSelect=fo(20)]="FileSelect",n[n.DoNotSpellCheck=fo(22)]="DoNotSpellCheck",n[n.DoNotScroll=fo(23)]="DoNotScroll",n[n.Comb=fo(24)]="Comb",n[n.RichText=fo(25)]="RichText"})(Ls||(Ls={}));var ki;(function(n){n[n.Combo=fo(17)]="Combo",n[n.Edit=fo(18)]="Edit",n[n.Sort=fo(19)]="Sort",n[n.MultiSelect=fo(21)]="MultiSelect",n[n.DoNotSpellCheck=fo(22)]="DoNotSpellCheck",n[n.CommitOnSelChange=fo(26)]="CommitOnSelChange"})(ki||(ki={}));var xX=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setValues=function(t){if(this.hasFlag(ki.Combo)&&!this.hasFlag(ki.Edit)&&!this.valuesAreValid(t))throw new AD;if(t.length===0&&this.dict.delete(be.of("V")),t.length===1&&this.dict.set(be.of("V"),t[0]),t.length>1){if(!this.hasFlag(ki.MultiSelect))throw new G1e;this.dict.set(be.of("V"),this.dict.context.obj(t))}this.updateSelectedIndices(t)},e.prototype.valuesAreValid=function(t){for(var r=this.getOptions(),i=function(l,c){var u=t[l].decodeText();if(!r.find(function(A){return u===(A.display||A.value).decodeText()}))return{value:!1}},s=0,o=t.length;s<o;s++){var a=i(s);if(typeof a=="object")return a.value}return!0},e.prototype.updateSelectedIndices=function(t){if(t.length>1){for(var r=new Array(t.length),i=this.getOptions(),s=function(l,c){var u=t[l].decodeText();r[l]=i.findIndex(function(A){return u===(A.display||A.value).decodeText()})},o=0,a=t.length;o<a;o++)s(o,a);this.dict.set(be.of("I"),this.dict.context.obj(r.sort()))}else this.dict.delete(be.of("I"))},e.prototype.getValues=function(){var t=this.V();if(t instanceof Zr||t instanceof ar)return[t];if(t instanceof Gr){for(var r=[],i=0,s=t.size();i<s;i++){var o=t.lookup(i);(o instanceof Zr||o instanceof ar)&&r.push(o)}return r}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(be.of("Opt"),Zr,ar,Gr)},e.prototype.setOptions=function(t){for(var r=new Array(t.length),i=0,s=t.length;i<s;i++){var o=t[i],a=o.value,l=o.display;r[i]=this.dict.context.obj([a,l||a])}this.dict.set(be.of("Opt"),this.dict.context.obj(r))},e.prototype.getOptions=function(){var t=this.Opt();if(t instanceof Zr||t instanceof ar)return[{value:t,display:t}];if(t instanceof Gr){for(var r=[],i=0,s=t.size();i<s;i++){var o=t.lookup(i);if((o instanceof Zr||o instanceof ar)&&r.push({value:o,display:o}),o instanceof Gr&&o.size()>0){var a=o.lookup(0,Zr,ar),l=o.lookupMaybe(1,Zr,ar);r.push({value:a,display:l||a})}}return r}return[]},e}(Iw),hk=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.fromDict=function(t,r){return new e(t,r)},e.create=function(t){var r=t.obj({FT:"Ch",Ff:ki.Combo,Kids:[]}),i=t.register(r);return new e(r,i)},e}(xX),kT=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.addField=function(t){var r=this.normalizedEntries().Kids;r==null||r.push(t)},e.prototype.normalizedEntries=function(){var t=this.Kids();return t||(t=this.dict.context.obj([]),this.dict.set(be.of("Kids"),t)),{Kids:t}},e.fromDict=function(t,r){return new e(t,r)},e.create=function(t){var r=t.obj({}),i=t.register(r);return new e(r,i)},e}(wX),gD=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.fromDict=function(t,r){return new e(t,r)},e}(Iw),fk=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.MaxLen=function(){var t=this.dict.lookup(be.of("MaxLen"));if(t instanceof gr)return t},e.prototype.Q=function(){var t=this.dict.lookup(be.of("Q"));if(t instanceof gr)return t},e.prototype.setMaxLength=function(t){this.dict.set(be.of("MaxLen"),gr.of(t))},e.prototype.removeMaxLength=function(){this.dict.delete(be.of("MaxLen"))},e.prototype.getMaxLength=function(){var t;return(t=this.MaxLen())===null||t===void 0?void 0:t.asNumber()},e.prototype.setQuadding=function(t){this.dict.set(be.of("Q"),gr.of(t))},e.prototype.getQuadding=function(){var t;return(t=this.Q())===null||t===void 0?void 0:t.asNumber()},e.prototype.setValue=function(t){this.dict.set(be.of("V"),t)},e.prototype.removeValue=function(){this.dict.delete(be.of("V"))},e.prototype.getValue=function(){var t=this.V();if(t instanceof Zr||t instanceof ar)return t},e.fromDict=function(t,r){return new e(t,r)},e.create=function(t){var r=t.obj({FT:"Tx",Kids:[]}),i=t.register(r);return new e(r,i)},e}(Iw),pk=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.fromDict=function(t,r){return new e(t,r)},e.create=function(t){var r=t.obj({FT:"Btn",Ff:Iu.PushButton,Kids:[]}),i=t.register(r);return new e(r,i)},e}(mD),mk=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setValue=function(t){var r=this.getOnValues();if(!r.includes(t)&&t!==be.of("Off"))throw new AD;this.dict.set(be.of("V"),t);for(var i=this.getWidgets(),s=0,o=i.length;s<o;s++){var a=i[s],l=a.getOnValue()===t?t:be.of("Off");a.setAppearanceState(l)}},e.prototype.getValue=function(){var t=this.V();return t instanceof be?t:be.of("Off")},e.prototype.getOnValues=function(){for(var t=this.getWidgets(),r=[],i=0,s=t.length;i<s;i++){var o=t[i].getOnValue();o&&r.push(o)}return r},e.fromDict=function(t,r){return new e(t,r)},e.create=function(t){var r=t.obj({FT:"Btn",Ff:Iu.Radio,Kids:[]}),i=t.register(r);return new e(r,i)},e}(mD),gk=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.fromDict=function(t,r){return new e(t,r)},e.create=function(t){var r=t.obj({FT:"Ch",Kids:[]}),i=t.register(r);return new e(r,i)},e}(xX),vD=function(n){if(!n)return[];for(var e=[],t=0,r=n.size();t<r;t++){var i=n.get(t),s=n.lookup(t);i instanceof Pi&&s instanceof kr&&e.push([CX(s,i),i])}return e},CX=function(n,e){var t=_be(n);return t?kT.fromDict(n,e):Obe(n,e)},_be=function(n){var e=n.lookup(be.of("Kids"));if(e instanceof Gr)for(var t=0,r=e.size();t<r;t++){var i=e.lookup(t),s=i instanceof kr&&i.has(be.of("T"));if(s)return!0}return!1},Obe=function(n,e){var t=yD(n,be.of("FT")),r=n.context.lookup(t,be);return r===be.of("Btn")?Ube(n,e):r===be.of("Ch")?Hbe(n,e):r===be.of("Tx")?fk.fromDict(n,e):r===be.of("Sig")?gD.fromDict(n,e):Iw.fromDict(n,e)},Ube=function(n,e){var t,r=yD(n,be.of("Ff")),i=n.context.lookupMaybe(r,gr),s=(t=i==null?void 0:i.asNumber())!==null&&t!==void 0?t:0;return mM(s,Iu.PushButton)?pk.fromDict(n,e):mM(s,Iu.Radio)?mk.fromDict(n,e):dk.fromDict(n,e)},Hbe=function(n,e){var t,r=yD(n,be.of("Ff")),i=n.context.lookupMaybe(r,gr),s=(t=i==null?void 0:i.asNumber())!==null&&t!==void 0?t:0;return mM(s,ki.Combo)?hk.fromDict(n,e):gk.fromDict(n,e)},mM=function(n,e){return(n&e)!==0},yD=function(n,e){var t;return SX(n,function(r){t||(t=r.get(e))}),t},SX=function(n,e){e(n);var t=n.lookupMaybe(be.of("Parent"),kr);t&&SX(t,e)},PT=function(){function n(e){this.dict=e}return n.prototype.Fields=function(){var e=this.dict.lookup(be.of("Fields"));if(e instanceof Gr)return e},n.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=new Array(e.size()),r=0,i=e.size();r<i;r++){var s=e.get(r),o=e.lookup(r,kr);t[r]=[CX(o,s),s]}return t},n.prototype.getAllFields=function(){var e=[],t=function(r){if(r)for(var i=0,s=r.length;i<s;i++){var o=r[i];e.push(o);var a=o[0];a instanceof kT&&t(vD(a.Kids()))}};return t(this.getFields()),e},n.prototype.addField=function(e){var t=this.normalizedEntries().Fields;t==null||t.push(e)},n.prototype.removeField=function(e){var t=e.getParent(),r=t===void 0?this.normalizedEntries().Fields:t.Kids(),i=r==null?void 0:r.indexOf(e.ref);if(r===void 0||i===void 0)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());r.remove(i),t!==void 0&&r.size()===0&&this.removeField(t)},n.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(be.of("Fields"),e)),{Fields:e}},n.fromDict=function(e){return new n(e)},n.create=function(e){var t=e.obj({Fields:[]});return new n(t)},n}(),BX=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.Pages=function(){return this.lookup(be.of("Pages"),kr)},e.prototype.AcroForm=function(){return this.lookupMaybe(be.of("AcroForm"),kr)},e.prototype.getAcroForm=function(){var t=this.AcroForm();if(t)return PT.fromDict(t)},e.prototype.getOrCreateAcroForm=function(){var t=this.getAcroForm();if(!t){t=PT.create(this.context);var r=this.context.register(t.dict);this.set(be.of("AcroForm"),r)}return t},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(be.of("ViewerPreferences"),kr)},e.prototype.getViewerPreferences=function(){var t=this.ViewerPreferences();if(t)return q6.fromDict(t)},e.prototype.getOrCreateViewerPreferences=function(){var t=this.getViewerPreferences();if(!t){t=q6.create(this.context);var r=this.context.register(t.dict);this.set(be.of("ViewerPreferences"),r)}return t},e.prototype.insertLeafNode=function(t,r){var i=this.get(be.of("Pages")),s=this.Pages().insertLeafNode(t,r);return s||i},e.prototype.removeLeafNode=function(t){this.Pages().removeLeafNode(t)},e.withContextAndPages=function(t,r){var i=new Map;return i.set(be.of("Type"),be.of("Catalog")),i.set(be.of("Pages"),r),new e(i,t)},e.fromMapWithContext=function(t,r){return new e(t,r)},e}(kr),EX=function(n){Zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.Parent=function(){return this.lookup(be.of("Parent"))},e.prototype.Kids=function(){return this.lookup(be.of("Kids"),Gr)},e.prototype.Count=function(){return this.lookup(be.of("Count"),gr)},e.prototype.pushTreeNode=function(t){var r=this.Kids();r.push(t)},e.prototype.pushLeafNode=function(t){var r=this.Kids();this.insertLeafKid(r.size(),t)},e.prototype.insertLeafNode=function(t,r){var i=this.Kids(),s=this.Count().asNumber();if(r>s)throw new R6(r,s);for(var o=r,a=0,l=i.size();a<l;a++){if(o===0){this.insertLeafKid(a,t);return}var c=i.get(a),u=this.context.lookup(c);if(u instanceof e){if(u.Count().asNumber()>o)return u.insertLeafNode(t,o)||c;o-=u.Count().asNumber()}u instanceof Rf&&(o-=1)}if(o===0){this.insertLeafKid(i.size(),t);return}throw new D6(r,"insertLeafNode")},e.prototype.removeLeafNode=function(t,r){r===void 0&&(r=!0);var i=this.Kids(),s=this.Count().asNumber();if(t>=s)throw new R6(t,s);for(var o=t,a=0,l=i.size();a<l;a++){var c=i.get(a),u=this.context.lookup(c);if(u instanceof e)if(u.Count().asNumber()>o){u.removeLeafNode(o,r),r&&u.Kids().size()===0&&i.remove(a);return}else o-=u.Count().asNumber();if(u instanceof Rf)if(o===0){this.removeKid(a);return}else o-=1}throw new D6(t,"removeLeafNode")},e.prototype.ascend=function(t){t(this);var r=this.Parent();r&&r.ascend(t)},e.prototype.traverse=function(t){for(var r=this.Kids(),i=0,s=r.size();i<s;i++){var o=r.get(i),a=this.context.lookup(o);a instanceof e&&a.traverse(t),t(a,o)}},e.prototype.insertLeafKid=function(t,r){var i=this.Kids();this.ascend(function(s){var o=s.Count().asNumber()+1;s.set(be.of("Count"),gr.of(o))}),i.insert(t,r)},e.prototype.removeKid=function(t){var r=this.Kids(),i=r.lookup(t);i instanceof Rf&&this.ascend(function(s){var o=s.Count().asNumber()-1;s.set(be.of("Count"),gr.of(o))}),r.remove(t)},e.withContext=function(t,r){var i=new Map;return i.set(be.of("Type"),be.of("Pages")),i.set(be.of("Kids"),t.obj([])),i.set(be.of("Count"),t.obj(0)),r&&i.set(be.of("Parent"),r),new e(i,t)},e.fromMapWithContext=function(t,r){return new e(t,r)},e}(kr),tl=new Uint8Array(256);tl[Be.Zero]=1;tl[Be.One]=1;tl[Be.Two]=1;tl[Be.Three]=1;tl[Be.Four]=1;tl[Be.Five]=1;tl[Be.Six]=1;tl[Be.Seven]=1;tl[Be.Eight]=1;tl[Be.Nine]=1;var vk=new Uint8Array(256);vk[Be.Period]=1;vk[Be.Plus]=1;vk[Be.Minus]=1;var bD=new Uint8Array(256);for(var vx=0,jbe=256;vx<jbe;vx++)bD[vx]=tl[vx]||vk[vx]?1:0;var X6=Be.Newline,Y6=Be.CarriageReturn,Qbe=function(){function n(e,t){t===void 0&&(t=!1),this.bytes=e,this.capNumbers=t}return n.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!tl[t])break;e+=If(this.bytes.next())}var r=Number(e);if(!e||!isFinite(r))throw new _6(this.bytes.position(),e);return r},n.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!bD[t]||(e+=If(this.bytes.next()),t===Be.Period))break}for(;!this.bytes.done();){var t=this.bytes.peek();if(!tl[t])break;e+=If(this.bytes.next())}var r=Number(e);if(!e||!isFinite(r))throw new _6(this.bytes.position(),e);if(r>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var i="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(i),Number.MAX_SAFE_INTEGER}else{var i="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(i)}return r},n.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&Vf[this.bytes.peek()];)this.bytes.next()},n.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===X6||e===Y6)return;this.bytes.next()}},n.prototype.skipComment=function(){if(this.bytes.peek()!==Be.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===X6||e===Y6)return!0;this.bytes.next()}return!0},n.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},n.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),r=0,i=e.length;r<i;r++)if(this.bytes.done()||this.bytes.next()!==e[r])return this.bytes.moveTo(t),!1;return!0},n}(),yk=function(){function n(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return n.prototype.moveTo=function(e){this.idx=e},n.prototype.next=function(){var e=this.bytes[this.idx++];return e===Be.Newline?(this.line+=1,this.column=0):this.column+=1,e},n.prototype.assertNext=function(e){if(this.peek()!==e)throw new X1e(this.position(),e,this.peek());return this.next()},n.prototype.peek=function(){return this.bytes[this.idx]},n.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},n.prototype.peekAt=function(e){return this.bytes[e]},n.prototype.done=function(){return this.idx>=this.length},n.prototype.offset=function(){return this.idx},n.prototype.slice=function(e,t){return this.bytes.slice(e,t)},n.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},n.of=function(e){return new n(e)},n.fromPDFRawStream=function(e){return n.of(yX(e).decode())},n}(),zbe=Be.Space,yx=Be.CarriageReturn,bx=Be.Newline,wx=[Be.s,Be.t,Be.r,Be.e,Be.a,Be.m],Z5=[Be.e,Be.n,Be.d,Be.s,Be.t,Be.r,Be.e,Be.a,Be.m],Xi={header:[Be.Percent,Be.P,Be.D,Be.F,Be.Dash],eof:[Be.Percent,Be.Percent,Be.E,Be.O,Be.F],obj:[Be.o,Be.b,Be.j],endobj:[Be.e,Be.n,Be.d,Be.o,Be.b,Be.j],xref:[Be.x,Be.r,Be.e,Be.f],trailer:[Be.t,Be.r,Be.a,Be.i,Be.l,Be.e,Be.r],startxref:[Be.s,Be.t,Be.a,Be.r,Be.t,Be.x,Be.r,Be.e,Be.f],true:[Be.t,Be.r,Be.u,Be.e],false:[Be.f,Be.a,Be.l,Be.s,Be.e],null:[Be.n,Be.u,Be.l,Be.l],stream:wx,streamEOF1:ai(wx,[zbe,yx,bx]),streamEOF2:ai(wx,[yx,bx]),streamEOF3:ai(wx,[yx]),streamEOF4:ai(wx,[bx]),endstream:Z5,EOF1endstream:ai([yx,bx],Z5),EOF2endstream:ai([yx],Z5),EOF3endstream:ai([bx],Z5)},FX=function(n){Zt(e,n);function e(t,r,i){i===void 0&&(i=!1);var s=n.call(this,t,i)||this;return s.context=r,s}return e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Xi.true))return nC.True;if(this.matchKeyword(Xi.false))return nC.False;if(this.matchKeyword(Xi.null))return cc;var t=this.bytes.peek();if(t===Be.LessThan&&this.bytes.peekAhead(1)===Be.LessThan)return this.parseDictOrStream();if(t===Be.LessThan)return this.parseHexString();if(t===Be.LeftParen)return this.parseString();if(t===Be.ForwardSlash)return this.parseName();if(t===Be.LeftSquareBracket)return this.parseArray();if(bD[t])return this.parseNumberOrRef();throw new Y1e(this.bytes.position(),t)},e.prototype.parseNumberOrRef=function(){var t=this.parseRawNumber();this.skipWhitespaceAndComments();var r=this.bytes.offset();if(tl[this.bytes.peek()]){var i=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===Be.R)return this.bytes.assertNext(Be.R),Pi.of(t,i)}return this.bytes.moveTo(r),gr.of(t)},e.prototype.parseHexString=function(){var t="";for(this.bytes.assertNext(Be.LessThan);!this.bytes.done()&&this.bytes.peek()!==Be.GreaterThan;)t+=If(this.bytes.next());return this.bytes.assertNext(Be.GreaterThan),ar.of(t)},e.prototype.parseString=function(){for(var t=0,r=!1,i="";!this.bytes.done();){var s=this.bytes.next();if(i+=If(s),r||(s===Be.LeftParen&&(t+=1),s===Be.RightParen&&(t-=1)),s===Be.BackSlash?r=!r:r&&(r=!1),t===0)return Zr.of(i.substring(1,i.length-1))}throw new $1e(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(Be.ForwardSlash);for(var t="";!this.bytes.done();){var r=this.bytes.peek();if(Vf[r]||Wu[r])break;t+=If(r),this.bytes.next()}return be.of(t)},e.prototype.parseArray=function(){this.bytes.assertNext(Be.LeftSquareBracket),this.skipWhitespaceAndComments();for(var t=Gr.withContext(this.context);this.bytes.peek()!==Be.RightSquareBracket;){var r=this.parseObject();t.push(r),this.skipWhitespaceAndComments()}return this.bytes.assertNext(Be.RightSquareBracket),t},e.prototype.parseDict=function(){this.bytes.assertNext(Be.LessThan),this.bytes.assertNext(Be.LessThan),this.skipWhitespaceAndComments();for(var t=new Map;!this.bytes.done()&&this.bytes.peek()!==Be.GreaterThan&&this.bytes.peekAhead(1)!==Be.GreaterThan;){var r=this.parseName(),i=this.parseObject();t.set(r,i),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(Be.GreaterThan),this.bytes.assertNext(Be.GreaterThan);var s=t.get(be.of("Type"));return s===be.of("Catalog")?BX.fromMapWithContext(t,this.context):s===be.of("Pages")?EX.fromMapWithContext(t,this.context):s===be.of("Page")?Rf.fromMapWithContext(t,this.context):kr.fromMapWithContext(t,this.context)},e.prototype.parseDictOrStream=function(){var t=this.bytes.position(),r=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Xi.streamEOF1)&&!this.matchKeyword(Xi.streamEOF2)&&!this.matchKeyword(Xi.streamEOF3)&&!this.matchKeyword(Xi.streamEOF4)&&!this.matchKeyword(Xi.stream))return r;var i=this.bytes.offset(),s,o=r.get(be.of("Length"));o instanceof gr?(s=i+o.asNumber(),this.bytes.moveTo(s),this.skipWhitespaceAndComments(),this.matchKeyword(Xi.endstream)||(this.bytes.moveTo(i),s=this.findEndOfStreamFallback(t))):s=this.findEndOfStreamFallback(t);var a=this.bytes.slice(i,s);return rC.of(r,a)},e.prototype.findEndOfStreamFallback=function(t){for(var r=1,i=this.bytes.offset();!this.bytes.done()&&(i=this.bytes.offset(),this.matchKeyword(Xi.stream)?r+=1:this.matchKeyword(Xi.EOF1endstream)||this.matchKeyword(Xi.EOF2endstream)||this.matchKeyword(Xi.EOF3endstream)||this.matchKeyword(Xi.endstream)?r-=1:this.bytes.next(),r!==0););if(r!==0)throw new J1e(t);return i},e.forBytes=function(t,r,i){return new e(yk.of(t),r,i)},e.forByteStream=function(t,r,i){return i===void 0&&(i=!1),new e(t,r,i)},e}(Qbe),Kbe=function(n){Zt(e,n);function e(t,r){var i=n.call(this,yk.fromPDFRawStream(t),t.dict.context)||this,s=t.dict;return i.alreadyParsed=!1,i.shouldWaitForTick=r||function(){return!1},i.firstOffset=s.lookup(be.of("First"),gr).asNumber(),i.objectCount=s.lookup(be.of("N"),gr).asNumber(),i}return e.prototype.parseIntoContext=function(){return Mr(this,void 0,void 0,function(){var t,r,i,s,o,a,l,c;return Rr(this,function(u){switch(u.label){case 0:if(this.alreadyParsed)throw new uD("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,t=this.parseOffsetsAndObjectNumbers(),r=0,i=t.length,u.label=1;case 1:return r<i?(s=t[r],o=s.objectNumber,a=s.offset,this.bytes.moveTo(this.firstOffset+a),l=this.parseObject(),c=Pi.of(o,0),this.context.assign(c,l),this.shouldWaitForTick()?[4,bw()]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var t=[],r=0,i=this.objectCount;r<i;r++){this.skipWhitespaceAndComments();var s=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();t.push({objectNumber:s,offset:o})}return t},e.forStream=function(t,r){return new e(t,r)},e}(FX),Vbe=function(){function n(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=yk.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(be.of("Size"),gr),r=this.dict.lookup(be.of("Index"));if(r instanceof Gr){this.subsections=[];for(var i=0,s=r.size();i<s;i+=2){var o=r.lookup(i+0,gr).asNumber(),a=r.lookup(i+1,gr).asNumber();this.subsections.push({firstObjectNumber:o,length:a})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var l=this.dict.lookup(be.of("W"),Gr);this.byteWidths=[-1,-1,-1];for(var i=0,s=l.size();i<s;i++)this.byteWidths[i]=l.lookup(i,gr).asNumber()}return n.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new uD("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(be.of("Root")),Encrypt:this.dict.get(be.of("Encrypt")),Info:this.dict.get(be.of("Info")),ID:this.dict.get(be.of("ID"))};var e=this.parseEntries();return e},n.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,r=t[0],i=t[1],s=t[2],o=0,a=this.subsections.length;o<a;o++)for(var l=this.subsections[o],c=l.firstObjectNumber,u=l.length,A=0;A<u;A++){for(var h=0,f=0,v=r;f<v;f++)h=h<<8|this.bytes.next();for(var g=0,f=0,v=i;f<v;f++)g=g<<8|this.bytes.next();for(var x=0,f=0,v=s;f<v;f++)x=x<<8|this.bytes.next();r===0&&(h=1);var b=c+A,S={ref:Pi.of(b,x),offset:g,deleted:h===0,inObjectStream:h===2};e.push(S)}return e},n.forStream=function(e){return new n(e)},n}(),Gbe=function(n){Zt(e,n);function e(t,r,i,s){r===void 0&&(r=1/0),i===void 0&&(i=!1),s===void 0&&(s=!1);var o=n.call(this,yk.of(t),hM.create(),s)||this;return o.alreadyParsed=!1,o.parsedObjects=0,o.shouldWaitForTick=function(){return o.parsedObjects+=1,o.parsedObjects%o.objectsPerTick===0},o.objectsPerTick=r,o.throwOnInvalidObject=i,o}return e.prototype.parseDocument=function(){return Mr(this,void 0,void 0,function(){var t,r;return Rr(this,function(i){switch(i.label){case 0:if(this.alreadyParsed)throw new uD("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),i.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(i.sent(),r=this.bytes.offset(),r===t)throw new ebe(this.bytes.position());return t=r,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(Pi.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(Pi.of(0))),[2,this.context]}})})},e.prototype.maybeRecoverRoot=function(){var t=function(u){return u instanceof kr&&u.lookup(be.of("Type"))===be.of("Catalog")},r=this.context.lookup(this.context.trailerInfo.Root);if(!t(r))for(var i=this.context.enumerateIndirectObjects(),s=0,o=i.length;s<o;s++){var a=i[s],l=a[0],c=a[1];t(c)&&(this.context.trailerInfo.Root=l)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Xi.header)){var t=this.parseRawInt();this.bytes.assertNext(Be.Period);var r=this.parseRawInt(),i=Ak.forVersion(t,r);return this.skipBinaryHeaderComment(),i}this.bytes.next()}throw new tbe(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var t=this.parseRawInt();this.skipWhitespaceAndComments();var r=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Xi.obj))throw new nbe(this.bytes.position(),Xi.obj);return Pi.of(t,r)},e.prototype.matchIndirectObjectHeader=function(){var t=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(t),!1}},e.prototype.parseIndirectObject=function(){return Mr(this,void 0,void 0,function(){var t,r;return Rr(this,function(i){switch(i.label){case 0:return t=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),r=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Xi.endobj),r instanceof rC&&r.dict.lookup(be.of("Type"))===be.of("ObjStm")?[4,Kbe.forStream(r,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return i.sent(),[3,3];case 2:r instanceof rC&&r.dict.lookup(be.of("Type"))===be.of("XRef")?Vbe.forStream(r).parseIntoContext():this.context.assign(t,r),i.label=3;case 3:return[2,t]}})})},e.prototype.tryToParseInvalidIndirectObject=function(){var t=this.bytes.position(),r="Trying to parse invalid object: "+JSON.stringify(t)+")";if(this.throwOnInvalidObject)throw new Error(r);console.warn(r);var i=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+i),this.skipWhitespaceAndComments();for(var s=this.bytes.offset(),o=!0;!this.bytes.done()&&(this.matchKeyword(Xi.endobj)&&(o=!1),!!o);)this.bytes.next();if(o)throw new Z1e(t);var a=this.bytes.offset()-Xi.endobj.length,l=pX.of(this.bytes.slice(s,a));return this.context.assign(i,l),i},e.prototype.parseIndirectObjects=function(){return Mr(this,void 0,void 0,function(){var t;return Rr(this,function(r){switch(r.label){case 0:this.skipWhitespaceAndComments(),r.label=1;case 1:if(!(!this.bytes.done()&&tl[this.bytes.peek()]))return[3,8];t=this.bytes.offset(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return r.sent(),[3,5];case 4:return r.sent(),this.bytes.moveTo(t),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,bw()]:[3,7];case 6:r.sent(),r.label=7;case 7:return[3,1];case 8:return[2]}})})},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Xi.xref)){this.skipWhitespaceAndComments();for(var t=-1,r=dX.createEmpty();!this.bytes.done()&&tl[this.bytes.peek()];){var i=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.bytes.peek();if(o===Be.n||o===Be.f){var a=Pi.of(t,s);this.bytes.next()===Be.n?r.addEntry(a,i):r.addDeletedEntry(a,i),t+=1}else t=i;this.skipWhitespaceAndComments()}return r}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Xi.trailer)){this.skipWhitespaceAndComments();var t=this.parseDict(),r=this.context;r.trailerInfo={Root:t.get(be.of("Root"))||r.trailerInfo.Root,Encrypt:t.get(be.of("Encrypt"))||r.trailerInfo.Encrypt,Info:t.get(be.of("Info"))||r.trailerInfo.Info,ID:t.get(be.of("ID"))||r.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Xi.startxref)){this.skipWhitespaceAndComments();var t=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Xi.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Xi.eof),this.skipWhitespaceAndComments(),fD.forLastCrossRefSectionOffset(t)}},e.prototype.parseDocumentSection=function(){return Mr(this,void 0,void 0,function(){return Rr(this,function(t){switch(t.label){case 0:return[4,this.parseIndirectObjects()];case 1:return t.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var t=this.bytes.offset(),r=this.bytes.peek(),i=r>=Be.Space&&r<=Be.Tilde;if(i&&(this.matchKeyword(Xi.xref)||this.matchKeyword(Xi.trailer)||this.matchKeyword(Xi.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(t);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var t=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(t)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(t,r,i,s){return new e(t,r,i,s)},e}(FX),yd=function(n){return 1<<n},N2;(function(n){n[n.Invisible=yd(0)]="Invisible",n[n.Hidden=yd(1)]="Hidden",n[n.Print=yd(2)]="Print",n[n.NoZoom=yd(3)]="NoZoom",n[n.NoRotate=yd(4)]="NoRotate",n[n.NoView=yd(5)]="NoView",n[n.ReadOnly=yd(6)]="ReadOnly",n[n.Locked=yd(7)]="Locked",n[n.ToggleNoView=yd(8)]="ToggleNoView",n[n.LockedContents=yd(9)]="LockedContents"})(N2||(N2={}));var bk=function(n){return n instanceof be?n:be.of(n)},vr=function(n){return n instanceof gr?n:gr.of(n)},Dr=function(n){return n instanceof gr?n.asNumber():n},iC;(function(n){n.Degrees="degrees",n.Radians="radians"})(iC||(iC={}));var dr=function(n){return et(n,"degreeAngle",["number"]),{type:iC.Degrees,angle:n}},TX=iC.Radians,NX=iC.Degrees,kX=function(n){return n*Math.PI/180},Wbe=function(n){return n*180/Math.PI},ka=function(n){return n.type===TX?n.angle:n.type===NX?kX(n.angle):iB("Invalid rotation: "+JSON.stringify(n))},PX=function(n){return n.type===TX?Wbe(n.angle):n.type===NX?n.angle:iB("Invalid rotation: "+JSON.stringify(n))},Gf=function(n){n===void 0&&(n=0);var e=n/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},dy=function(n,e){e===void 0&&(e=0);var t=Gf(e);return t===90||t===270?{width:n.height,height:n.width}:{width:n.width,height:n.height}},qbe=function(n,e,t){e===void 0&&(e=0),t===void 0&&(t=0);var r=n.x,i=n.y,s=n.width,o=n.height,a=Gf(t),l=e/2;return a===0?{x:r-l,y:i-l,width:s,height:o}:a===90?{x:r-o+l,y:i-l,width:o,height:s}:a===180?{x:r-s+l,y:i-o+l,width:s,height:o}:a===270?{x:r-l,y:i-s+l,width:o,height:s}:{x:r-l,y:i-l,width:s,height:o}},LX=function(){return ni.of(li.ClipNonZero)},LT=Math.cos,IT=Math.sin,MT=Math.tan,wk=function(n,e,t,r,i,s){return ni.of(li.ConcatTransformationMatrix,[vr(n),vr(e),vr(t),vr(r),vr(i),vr(s)])},Hu=function(n,e){return wk(1,0,0,1,n,e)},sC=function(n,e){return wk(n,0,0,e,0,0)},Mw=function(n){return wk(LT(Dr(n)),IT(Dr(n)),-IT(Dr(n)),LT(Dr(n)),0,0)},J5=function(n){return Mw(kX(Dr(n)))},wD=function(n,e){return wk(1,MT(Dr(n)),MT(Dr(e)),1,0,0)},xk=function(n,e){return ni.of(li.SetLineDashPattern,["["+n.map(vr).join(" ")+"]",vr(e)])},T1;(function(n){n[n.Butt=0]="Butt",n[n.Round=1]="Round",n[n.Projecting=2]="Projecting"})(T1||(T1={}));var Ck=function(n){return ni.of(li.SetLineCapStyle,[vr(n)])},Z6;(function(n){n[n.Miter=0]="Miter",n[n.Round=1]="Round",n[n.Bevel=2]="Bevel"})(Z6||(Z6={}));var hy=function(n){return ni.of(li.SetGraphicsStateParams,[bk(n)])},Mo=function(){return ni.of(li.PushGraphicsState)},Ro=function(){return ni.of(li.PopGraphicsState)},oB=function(n){return ni.of(li.SetLineWidth,[vr(n)])},Gc=function(n,e,t,r,i,s){return ni.of(li.AppendBezierCurve,[vr(n),vr(e),vr(t),vr(r),vr(i),vr(s)])},$5=function(n,e,t,r){return ni.of(li.CurveToReplicateInitialPoint,[vr(n),vr(e),vr(t),vr(r)])},pg=function(){return ni.of(li.ClosePath)},ih=function(n,e){return ni.of(li.MoveTo,[vr(n),vr(e)])},ta=function(n,e){return ni.of(li.LineTo,[vr(n),vr(e)])},aB=function(){return ni.of(li.StrokePath)},xD=function(){return ni.of(li.FillNonZero)},CD=function(){return ni.of(li.FillNonZeroAndStroke)},IX=function(){return ni.of(li.EndPath)},Xbe=function(){return ni.of(li.NextLine)},MX=function(n){return ni.of(li.ShowText,[n])},RX=function(){return ni.of(li.BeginText)},DX=function(){return ni.of(li.EndText)},SD=function(n,e){return ni.of(li.SetFontAndSize,[bk(n),vr(e)])},Ybe=function(n){return ni.of(li.SetTextLineHeight,[vr(n)])},J6;(function(n){n[n.Fill=0]="Fill",n[n.Outline=1]="Outline",n[n.FillAndOutline=2]="FillAndOutline",n[n.Invisible=3]="Invisible",n[n.FillAndClip=4]="FillAndClip",n[n.OutlineAndClip=5]="OutlineAndClip",n[n.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",n[n.Clip=7]="Clip"})(J6||(J6={}));var Zbe=function(n,e,t,r,i,s){return ni.of(li.SetTextMatrix,[vr(n),vr(e),vr(t),vr(r),vr(i),vr(s)])},_X=function(n,e,t,r,i){return Zbe(LT(Dr(n)),IT(Dr(n))+MT(Dr(e)),-IT(Dr(n))+MT(Dr(t)),LT(Dr(n)),r,i)},BD=function(n){return ni.of(li.DrawObject,[bk(n)])},Jbe=function(n){return ni.of(li.NonStrokingColorGray,[vr(n)])},$be=function(n){return ni.of(li.StrokingColorGray,[vr(n)])},ewe=function(n,e,t){return ni.of(li.NonStrokingColorRgb,[vr(n),vr(e),vr(t)])},twe=function(n,e,t){return ni.of(li.StrokingColorRgb,[vr(n),vr(e),vr(t)])},nwe=function(n,e,t,r){return ni.of(li.NonStrokingColorCmyk,[vr(n),vr(e),vr(t),vr(r)])},rwe=function(n,e,t,r){return ni.of(li.StrokingColorCmyk,[vr(n),vr(e),vr(t),vr(r)])},OX=function(n){return ni.of(li.BeginMarkedContent,[bk(n)])},UX=function(){return ni.of(li.EndMarkedContent)},mg;(function(n){n.Grayscale="Grayscale",n.RGB="RGB",n.CMYK="CMYK"})(mg||(mg={}));var HX=function(n){return Vc(n,"gray",0,1),{type:mg.Grayscale,gray:n}},En=function(n,e,t){return Vc(n,"red",0,1),Vc(e,"green",0,1),Vc(t,"blue",0,1),{type:mg.RGB,red:n,green:e,blue:t}},jX=function(n,e,t,r){return Vc(n,"cyan",0,1),Vc(e,"magenta",0,1),Vc(t,"yellow",0,1),Vc(r,"key",0,1),{type:mg.CMYK,cyan:n,magenta:e,yellow:t,key:r}},ED=mg.Grayscale,FD=mg.RGB,TD=mg.CMYK,fy=function(n){return n.type===ED?Jbe(n.gray):n.type===FD?ewe(n.red,n.green,n.blue):n.type===TD?nwe(n.cyan,n.magenta,n.yellow,n.key):iB("Invalid color: "+JSON.stringify(n))},lB=function(n){return n.type===ED?$be(n.gray):n.type===FD?twe(n.red,n.green,n.blue):n.type===TD?rwe(n.cyan,n.magenta,n.yellow,n.key):iB("Invalid color: "+JSON.stringify(n))},Pl=function(n,e){return e===void 0&&(e=1),(n==null?void 0:n.length)===1?HX(n[0]*e):(n==null?void 0:n.length)===3?En(n[0]*e,n[1]*e,n[2]*e):(n==null?void 0:n.length)===4?jX(n[0]*e,n[1]*e,n[2]*e,n[3]*e):void 0},$6=function(n){return n.type===ED?[n.gray]:n.type===FD?[n.red,n.green,n.blue]:n.type===TD?[n.cyan,n.magenta,n.yellow,n.key]:iB("Invalid color: "+JSON.stringify(n))},Gn=0,Wn=0,ei=0,ti=0,n2=0,r2=0,ej=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),iwe=function(n){for(var e,t=[],r=[],i="",s=!1,o=0,a=0,l=n;a<l.length;a++){var c=l[a];if(ej.has(c))o=ej.get(c),e&&(i.length>0&&(r[r.length]=+i),t[t.length]={cmd:e,args:r},r=[],i="",s=!1),e=c;else if([" ",","].includes(c)||c==="-"&&i.length>0&&i[i.length-1]!=="e"||c==="."&&s){if(i.length===0)continue;r.length===o?(t[t.length]={cmd:e,args:r},r=[+i],e==="M"&&(e="L"),e==="m"&&(e="l")):r[r.length]=+i,s=c===".",i=["-","."].includes(c)?c:""}else i+=c,c==="."&&(s=!0)}return i.length>0&&(r.length===o?(t[t.length]={cmd:e,args:r},r=[+i],e==="M"&&(e="L"),e==="m"&&(e="l")):r[r.length]=+i),t[t.length]={cmd:e,args:r},t},swe=function(n){Gn=Wn=ei=ti=n2=r2=0;for(var e=[],t=0;t<n.length;t++){var r=n[t];if(r.cmd&&typeof tj[r.cmd]=="function"){var i=tj[r.cmd](r.args);Array.isArray(i)?e=e.concat(i):e.push(i)}}return e},tj={M:function(n){return Gn=n[0],Wn=n[1],ei=ti=null,n2=Gn,r2=Wn,ih(Gn,Wn)},m:function(n){return Gn+=n[0],Wn+=n[1],ei=ti=null,n2=Gn,r2=Wn,ih(Gn,Wn)},C:function(n){return Gn=n[4],Wn=n[5],ei=n[2],ti=n[3],Gc(n[0],n[1],n[2],n[3],n[4],n[5])},c:function(n){var e=Gc(n[0]+Gn,n[1]+Wn,n[2]+Gn,n[3]+Wn,n[4]+Gn,n[5]+Wn);return ei=Gn+n[2],ti=Wn+n[3],Gn+=n[4],Wn+=n[5],e},S:function(n){(ei===null||ti===null)&&(ei=Gn,ti=Wn);var e=Gc(Gn-(ei-Gn),Wn-(ti-Wn),n[0],n[1],n[2],n[3]);return ei=n[0],ti=n[1],Gn=n[2],Wn=n[3],e},s:function(n){(ei===null||ti===null)&&(ei=Gn,ti=Wn);var e=Gc(Gn-(ei-Gn),Wn-(ti-Wn),Gn+n[0],Wn+n[1],Gn+n[2],Wn+n[3]);return ei=Gn+n[0],ti=Wn+n[1],Gn+=n[2],Wn+=n[3],e},Q:function(n){return ei=n[0],ti=n[1],Gn=n[2],Wn=n[3],$5(n[0],n[1],Gn,Wn)},q:function(n){var e=$5(n[0]+Gn,n[1]+Wn,n[2]+Gn,n[3]+Wn);return ei=Gn+n[0],ti=Wn+n[1],Gn+=n[2],Wn+=n[3],e},T:function(n){ei===null||ti===null?(ei=Gn,ti=Wn):(ei=Gn-(ei-Gn),ti=Wn-(ti-Wn));var e=$5(ei,ti,n[0],n[1]);return ei=Gn-(ei-Gn),ti=Wn-(ti-Wn),Gn=n[0],Wn=n[1],e},t:function(n){ei===null||ti===null?(ei=Gn,ti=Wn):(ei=Gn-(ei-Gn),ti=Wn-(ti-Wn));var e=$5(ei,ti,Gn+n[0],Wn+n[1]);return Gn+=n[0],Wn+=n[1],e},A:function(n){var e=nj(Gn,Wn,n);return Gn=n[5],Wn=n[6],e},a:function(n){n[5]+=Gn,n[6]+=Wn;var e=nj(Gn,Wn,n);return Gn=n[5],Wn=n[6],e},L:function(n){return Gn=n[0],Wn=n[1],ei=ti=null,ta(Gn,Wn)},l:function(n){return Gn+=n[0],Wn+=n[1],ei=ti=null,ta(Gn,Wn)},H:function(n){return Gn=n[0],ei=ti=null,ta(Gn,Wn)},h:function(n){return Gn+=n[0],ei=ti=null,ta(Gn,Wn)},V:function(n){return Wn=n[0],ei=ti=null,ta(Gn,Wn)},v:function(n){return Wn+=n[0],ei=ti=null,ta(Gn,Wn)},Z:function(){var n=pg();return Gn=n2,Wn=r2,n},z:function(){var n=pg();return Gn=n2,Wn=r2,n}},nj=function(n,e,t){for(var r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=owe(l,c,r,i,o,a,s,n,e),A=[],h=0,f=u;h<f.length;h++){var v=f[h],g=awe.apply(void 0,v);A.push(Gc.apply(void 0,g))}return A},owe=function(n,e,t,r,i,s,o,a,l){var c=o*(Math.PI/180),u=Math.sin(c),A=Math.cos(c);t=Math.abs(t),r=Math.abs(r),ei=A*(a-n)*.5+u*(l-e)*.5,ti=A*(l-e)*.5-u*(a-n)*.5;var h=ei*ei/(t*t)+ti*ti/(r*r);h>1&&(h=Math.sqrt(h),t*=h,r*=h);var f=A/t,v=u/t,g=-u/r,x=A/r,b=f*a+v*l,S=g*a+x*l,E=f*n+v*e,k=g*n+x*e,P=(E-b)*(E-b)+(k-S)*(k-S),N=1/P-.25;N<0&&(N=0);var I=Math.sqrt(N);s===i&&(I=-I);var U=.5*(b+E)-I*(k-S),V=.5*(S+k)+I*(E-b),W=Math.atan2(S-V,b-U),L=Math.atan2(k-V,E-U),D=L-W;D<0&&s===1?D+=2*Math.PI:D>0&&s===0&&(D-=2*Math.PI);for(var z=Math.ceil(Math.abs(D/(Math.PI*.5+.001))),G=[],ve=0;ve<z;ve++){var J=W+ve*D/z,$=W+(ve+1)*D/z;G[ve]=[U,V,J,$,t,r,u,A]}return G},awe=function(n,e,t,r,i,s,o,a){var l=a*i,c=-o*s,u=o*i,A=a*s,h=.5*(r-t),f=8/3*Math.sin(h*.5)*Math.sin(h*.5)/Math.sin(h),v=n+Math.cos(t)-f*Math.sin(t),g=e+Math.sin(t)+f*Math.cos(t),x=n+Math.cos(r),b=e+Math.sin(r),S=x+f*Math.sin(r),E=b-f*Math.cos(r),k=[l*v+c*g,u*v+A*g,l*S+c*E,u*S+A*E,l*x+c*b,u*x+A*b];return k},lwe=function(n){return swe(iwe(n))},cwe=function(n,e){for(var t=[Mo(),e.graphicsState&&hy(e.graphicsState),RX(),fy(e.color),SD(e.font,e.size),Ybe(e.lineHeight),_X(ka(e.rotate),ka(e.xSkew),ka(e.ySkew),e.x,e.y)].filter(Boolean),r=0,i=n.length;r<i;r++)t.push(MX(n[r]),Xbe());return t.push(DX(),Ro()),t},QX=function(n,e){return[Mo(),e.graphicsState&&hy(e.graphicsState),Hu(e.x,e.y),Mw(ka(e.rotate)),sC(e.width,e.height),wD(ka(e.xSkew),ka(e.ySkew)),BD(n),Ro()].filter(Boolean)},uwe=function(n,e){return[Mo(),e.graphicsState&&hy(e.graphicsState),Hu(e.x,e.y),Mw(ka(e.rotate)),sC(e.xScale,e.yScale),wD(ka(e.xSkew),ka(e.ySkew)),BD(n),Ro()].filter(Boolean)},Awe=function(n){var e,t;return[Mo(),n.graphicsState&&hy(n.graphicsState),n.color&&lB(n.color),oB(n.thickness),xk((e=n.dashArray)!==null&&e!==void 0?e:[],(t=n.dashPhase)!==null&&t!==void 0?t:0),ih(n.start.x,n.start.y),n.lineCap&&Ck(n.lineCap),ih(n.start.x,n.start.y),ta(n.end.x,n.end.y),aB(),Ro()].filter(Boolean)},ww=function(n){var e,t;return[Mo(),n.graphicsState&&hy(n.graphicsState),n.color&&fy(n.color),n.borderColor&&lB(n.borderColor),oB(n.borderWidth),n.borderLineCap&&Ck(n.borderLineCap),xk((e=n.borderDashArray)!==null&&e!==void 0?e:[],(t=n.borderDashPhase)!==null&&t!==void 0?t:0),Hu(n.x,n.y),Mw(ka(n.rotate)),wD(ka(n.xSkew),ka(n.ySkew)),ih(0,0),ta(0,n.height),ta(n.width,n.height),ta(n.width,0),pg(),n.color&&n.borderWidth?CD():n.color?xD():n.borderColor?aB():pg(),Ro()].filter(Boolean)},RT=4*((Math.sqrt(2)-1)/3),dwe=function(n){var e=Dr(n.x),t=Dr(n.y),r=Dr(n.xScale),i=Dr(n.yScale);e-=r,t-=i;var s=r*RT,o=i*RT,a=e+r*2,l=t+i*2,c=e+r,u=t+i;return[Mo(),ih(e,u),Gc(e,u-o,c-s,t,c,t),Gc(c+s,t,a,u-o,a,u),Gc(a,u+o,c+s,l,c,l),Gc(c-s,l,e,u+o,e,u),Ro()]},hwe=function(n){var e=Dr(n.x),t=Dr(n.y),r=Dr(n.xScale),i=Dr(n.yScale),s=-r,o=-i,a=r*RT,l=i*RT,c=s+r*2,u=o+i*2,A=s+r,h=o+i;return[Hu(e,t),Mw(ka(n.rotate)),ih(s,h),Gc(s,h-l,A-a,o,A,o),Gc(A+a,o,c,h-l,c,h),Gc(c,h+l,A+a,u,A,u),Gc(A-a,u,s,h+l,s,h)]},gM=function(n){var e,t,r;return ai([Mo(),n.graphicsState&&hy(n.graphicsState),n.color&&fy(n.color),n.borderColor&&lB(n.borderColor),oB(n.borderWidth),n.borderLineCap&&Ck(n.borderLineCap),xk((e=n.borderDashArray)!==null&&e!==void 0?e:[],(t=n.borderDashPhase)!==null&&t!==void 0?t:0)],n.rotate===void 0?dwe({x:n.x,y:n.y,xScale:n.xScale,yScale:n.yScale}):hwe({x:n.x,y:n.y,xScale:n.xScale,yScale:n.yScale,rotate:(r=n.rotate)!==null&&r!==void 0?r:dr(0)}),[n.color&&n.borderWidth?CD():n.color?xD():n.borderColor?aB():pg(),Ro()]).filter(Boolean)},fwe=function(n,e){var t,r,i;return ai([Mo(),e.graphicsState&&hy(e.graphicsState),Hu(e.x,e.y),Mw(ka((t=e.rotate)!==null&&t!==void 0?t:dr(0))),e.scale?sC(e.scale,-e.scale):sC(1,-1),e.color&&fy(e.color),e.borderColor&&lB(e.borderColor),e.borderWidth&&oB(e.borderWidth),e.borderLineCap&&Ck(e.borderLineCap),xk((r=e.borderDashArray)!==null&&r!==void 0?r:[],(i=e.borderDashPhase)!==null&&i!==void 0?i:0)],lwe(n),[e.color&&e.borderWidth?CD():e.color?xD():e.borderColor?aB():pg(),Ro()]).filter(Boolean)},pwe=function(n){var e=Dr(n.size),t=-1+.75,r=-1+.51,i=1-.525,s=1-.31,o=-1+.325,a=.3995/(i-r)+r;return[Mo(),n.color&&lB(n.color),oB(n.thickness),Hu(n.x,n.y),ih(o*e,a*e),ta(t*e,r*e),ta(s*e,i*e),aB(),Ro()].filter(Boolean)},Pg=function(n){return n.rotation===0?[Hu(0,0),J5(0)]:n.rotation===90?[Hu(n.width,0),J5(90)]:n.rotation===180?[Hu(n.width,n.height),J5(180)]:n.rotation===270?[Hu(0,n.height),J5(270)]:[]},eE=function(n){var e=ww({x:n.x,y:n.y,width:n.width,height:n.height,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)});if(!n.filled)return e;var t=Dr(n.width),r=Dr(n.height),i=Math.min(t,r)/2,s=pwe({x:t/2,y:r/2,size:i,thickness:n.thickness,color:n.markColor});return ai([Mo()],e,s,[Ro()])},tE=function(n){var e=Dr(n.width),t=Dr(n.height),r=Math.min(e,t)/2,i=gM({x:n.x,y:n.y,xScale:r,yScale:r,color:n.color,borderColor:n.borderColor,borderWidth:n.borderWidth});if(!n.filled)return i;var s=gM({x:n.x,y:n.y,xScale:r*.45,yScale:r*.45,color:n.dotColor,borderColor:void 0,borderWidth:0});return ai([Mo()],i,s,[Ro()])},rj=function(n){var e=Dr(n.x),t=Dr(n.y),r=Dr(n.width),i=Dr(n.height),s=ww({x:e,y:t,width:r,height:i,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)}),o=ND(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)});return ai([Mo()],s,o,[Ro()])},ND=function(n,e){for(var t=[RX(),fy(e.color),SD(e.font,e.size)],r=0,i=n.length;r<i;r++){var s=n[r],o=s.encoded,a=s.x,l=s.y;t.push(_X(ka(e.rotate),ka(e.xSkew),ka(e.ySkew),a,l),MX(o))}return t.push(DX()),t},zX=function(n){var e=Dr(n.x),t=Dr(n.y),r=Dr(n.width),i=Dr(n.height),s=Dr(n.borderWidth),o=Dr(n.padding),a=e+s/2+o,l=t+s/2+o,c=r-(s/2+o)*2,u=i-(s/2+o)*2,A=[ih(a,l),ta(a,l+u),ta(a+c,l+u),ta(a+c,l),pg(),LX(),IX()],h=ww({x:e,y:t,width:r,height:i,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)}),f=ND(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)}),v=ai([OX("Tx"),Mo()],f,[Ro(),UX()]);return ai([Mo()],h,A,v,[Ro()])},mwe=function(n){for(var e=Dr(n.x),t=Dr(n.y),r=Dr(n.width),i=Dr(n.height),s=Dr(n.lineHeight),o=Dr(n.borderWidth),a=Dr(n.padding),l=e+o/2+a,c=t+o/2+a,u=r-(o/2+a)*2,A=i-(o/2+a)*2,h=[ih(l,c),ta(l,c+A),ta(l+u,c+A),ta(l+u,c),pg(),LX(),IX()],f=ww({x:e,y:t,width:r,height:i,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)}),v=[],g=0,x=n.selectedLines.length;g<x;g++){var b=n.textLines[n.selectedLines[g]];v.push.apply(v,ww({x:b.x-a,y:b.y-(s-b.height)/2,width:r-o,height:b.height+(s-b.height)/2,borderWidth:0,color:n.selectedColor,borderColor:void 0,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)}))}var S=ND(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)}),E=ai([OX("Tx"),Mo()],S,[Ro(),UX()]);return ai([Mo()],f,v,h,E,[Ro()])},gwe=function(n){Zt(e,n);function e(){var t=this,r="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return t=n.call(this,r)||this,t}return e}(Error),vwe=function(n){Zt(e,n);function e(){var t=this,r="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return t=n.call(this,r)||this,t}return e}(Error),ywe=function(n){Zt(e,n);function e(){var t=this,r="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return t=n.call(this,r)||this,t}return e}(Error),bwe=function(n){Zt(e,n);function e(){var t=this,r="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return t=n.call(this,r)||this,t}return e}(Error),wwe=function(n){Zt(e,n);function e(t){var r=this,i='PDFDocument has no form field with the name "'+t+'"';return r=n.call(this,i)||this,r}return e}(Error),n0=function(n){Zt(e,n);function e(t,r,i){var s,o,a=this,l=r==null?void 0:r.name,c=(o=(s=i==null?void 0:i.constructor)===null||s===void 0?void 0:s.name)!==null&&o!==void 0?o:i,u='Expected field "'+t+'" to be of type '+l+", "+("but it is actually of type "+c);return a=n.call(this,u)||this,a}return e}(Error);(function(n){Zt(e,n);function e(t){var r=this,i='Failed to select check box due to missing onValue: "'+t+'"';return r=n.call(this,i)||this,r}return e})(Error);var KX=function(n){Zt(e,n);function e(t){var r=this,i='A field already exists with the specified name: "'+t+'"';return r=n.call(this,i)||this,r}return e}(Error),xwe=function(n){Zt(e,n);function e(t){var r=this,i='Field name contains invalid component: "'+t+'"';return r=n.call(this,i)||this,r}return e}(Error);(function(n){Zt(e,n);function e(t){var r=this,i='A non-terminal field already exists with the specified name: "'+t+'"';return r=n.call(this,i)||this,r}return e})(Error);var Cwe=function(n){Zt(e,n);function e(t){var r=this,i="Reading rich text fields is not supported: Attempted to read rich text field: "+t;return r=n.call(this,i)||this,r}return e}(Error),Swe=function(n){Zt(e,n);function e(t,r){var i=this,s="Failed to layout combed text as lineLength="+t+" is greater than cellCount="+r;return i=n.call(this,s)||this,i}return e}(Error),Bwe=function(n){Zt(e,n);function e(t,r,i){var s=this,o="Attempted to set text with length="+t+" for TextField with maxLength="+r+" and name="+i;return s=n.call(this,o)||this,s}return e}(Error),Ewe=function(n){Zt(e,n);function e(t,r,i){var s=this,o="Attempted to set maxLength="+r+", which is less than "+t+", the length of this field's current value (name="+i+")";return s=n.call(this,o)||this,s}return e}(Error),Po;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"})(Po||(Po={}));var VX=4,GX=500,WX=function(n,e,t,r){r===void 0&&(r=!1);for(var i=VX;i<GX;){for(var s=0,o=0,a=n.length;o<a;o++){s+=1;for(var l=n[o],c=l.split(" "),u=t.width,A=0,h=c.length;A<h;A++){var f=A===h-1,v=f?c[A]:c[A]+" ",g=e.widthOfTextAtSize(v,i);u-=g,u<=0&&(s+=1,u=t.width-g)}}if(!r&&s>n.length)return i-1;var x=e.heightAtSize(i),b=x+x*.2,S=b*s;if(S>Math.abs(t.height))return i-1;i+=1}return i},Fwe=function(n,e,t,r){for(var i=t.width/r,s=t.height,o=VX,a=Oye(n);o<GX;){for(var l=0,c=a.length;l<c;l++){var u=a[l],A=e.widthOfTextAtSize(u,o)>i*.75;if(A)return o-1}var h=e.heightAtSize(o,{descender:!1});if(h>s)return o-1;o+=1}return o},Twe=function(n){for(var e=n.length;e>0;e--)if(/\s/.test(n[e]))return e},Nwe=function(n,e,t,r){for(var i,s=n.length;s>0;){var o=n.substring(0,s),a=t.encodeText(o),l=t.widthOfTextAtSize(o,r);if(l<e){var c=n.substring(s)||void 0;return{line:o,encoded:a,width:l,remainder:c}}s=(i=Twe(o))!==null&&i!==void 0?i:0}return{line:n,encoded:t.encodeText(n),width:t.widthOfTextAtSize(n,r),remainder:void 0}},qX=function(n,e){var t=e.alignment,r=e.fontSize,i=e.font,s=e.bounds,o=Vq(rB(n));(r===void 0||r===0)&&(r=WX(o,i,s,!0));for(var a=i.heightAtSize(r),l=a+a*.2,c=[],u=s.x,A=s.y,h=s.x+s.width,f=s.y+s.height,v=s.y+s.height,g=0,x=o.length;g<x;g++)for(var b=o[g];b!==void 0;){var S=Nwe(b,s.width,i,r),E=S.line,k=S.encoded,P=S.width,N=S.remainder,I=t===Po.Left?s.x:t===Po.Center?s.x+s.width/2-P/2:t===Po.Right?s.x+s.width-P:s.x;v-=l,I<u&&(u=I),v<A&&(A=v),I+P>h&&(h=I+P),v+a>f&&(f=v+a),c.push({text:E,encoded:k,width:P,height:a,x:I,y:v}),b=N==null?void 0:N.trim()}return{fontSize:r,lineHeight:l,lines:c,bounds:{x:u,y:A,width:h-u,height:f-A}}},kwe=function(n,e){var t=e.fontSize,r=e.font,i=e.bounds,s=e.cellCount,o=Gq(rB(n));if(o.length>s)throw new Swe(o.length,s);(t===void 0||t===0)&&(t=Fwe(o,r,i,s));for(var a=i.width/s,l=r.heightAtSize(t,{descender:!1}),c=i.y+(i.height/2-l/2),u=[],A=i.x,h=i.y,f=i.x+i.width,v=i.y+i.height,g=0,x=0;g<s;){var b=Wq(o,x),S=b[0],E=b[1],k=r.encodeText(S),P=r.widthOfTextAtSize(S,t),N=i.x+(a*g+a/2),I=N-P/2;I<A&&(A=I),c<h&&(h=c),I+P>f&&(f=I+P),c+l>v&&(v=c+l),u.push({text:o,encoded:k,width:P,height:l,x:I,y:c}),g+=1,x+=E}return{fontSize:t,cells:u,bounds:{x:A,y:h,width:f-A,height:v-h}}},DT=function(n,e){var t=e.alignment,r=e.fontSize,i=e.font,s=e.bounds,o=Gq(rB(n));(r===void 0||r===0)&&(r=WX([o],i,s));var a=i.encodeText(o),l=i.widthOfTextAtSize(o,r),c=i.heightAtSize(r,{descender:!1}),u=t===Po.Left?s.x:t===Po.Center?s.x+s.width/2-l/2:t===Po.Right?s.x+s.width-l:s.x,A=s.y+(s.height/2-c/2);return{fontSize:r,line:{text:o,encoded:a,width:l,height:c,x:u,y:A},bounds:{x:u,y:A,width:l,height:c}}},Rw=function(n){return"normal"in n?n:{normal:n}},Pwe=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,gg=function(n){var e,t,r=(e=n.getDefaultAppearance())!==null&&e!==void 0?e:"",i=(t=aD(r,Pwe).match)!==null&&t!==void 0?t:[],s=Number(i[2]);return isFinite(s)?s:void 0},Lwe=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Vu=function(n){var e,t=(e=n.getDefaultAppearance())!==null&&e!==void 0?e:"",r=aD(t,Lwe).match,i=r??[],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5];if(c==="g"&&s)return HX(Number(s));if(c==="rg"&&s&&o&&a)return En(Number(s),Number(o),Number(a));if(c==="k"&&s&&o&&a&&l)return jX(Number(s),Number(o),Number(a),Number(l))},Gu=function(n,e,t,r){var i;r===void 0&&(r=0);var s=[fy(e).toString(),SD((i=t==null?void 0:t.name)!==null&&i!==void 0?i:"dummy__noop",r).toString()].join(`
`);n.setDefaultAppearance(s)},Iwe=function(n,e){var t,r,i,s=Vu(e),o=Vu(n.acroField),a=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),u=(t=c==null?void 0:c.getWidth())!==null&&t!==void 0?t:0,A=Gf(l==null?void 0:l.getRotation()),h=dy(a,A),f=h.width,v=h.height,g=Pg(Cr(Cr({},a),{rotation:A})),x=En(0,0,0),b=(r=Pl(l==null?void 0:l.getBorderColor()))!==null&&r!==void 0?r:x,S=Pl(l==null?void 0:l.getBackgroundColor()),E=Pl(l==null?void 0:l.getBackgroundColor(),.8),k=(i=s??o)!==null&&i!==void 0?i:x;Gu(s?e:n.acroField,k);var P={x:0+u/2,y:0+u/2,width:f-u,height:v-u,thickness:1.5,borderWidth:u,borderColor:b,markColor:k};return{normal:{on:ai(g,eE(Cr(Cr({},P),{color:S,filled:!0}))),off:ai(g,eE(Cr(Cr({},P),{color:S,filled:!1})))},down:{on:ai(g,eE(Cr(Cr({},P),{color:E,filled:!0}))),off:ai(g,eE(Cr(Cr({},P),{color:E,filled:!1})))}}},Mwe=function(n,e){var t,r,i,s=Vu(e),o=Vu(n.acroField),a=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),u=(t=c==null?void 0:c.getWidth())!==null&&t!==void 0?t:0,A=Gf(l==null?void 0:l.getRotation()),h=dy(a,A),f=h.width,v=h.height,g=Pg(Cr(Cr({},a),{rotation:A})),x=En(0,0,0),b=(r=Pl(l==null?void 0:l.getBorderColor()))!==null&&r!==void 0?r:x,S=Pl(l==null?void 0:l.getBackgroundColor()),E=Pl(l==null?void 0:l.getBackgroundColor(),.8),k=(i=s??o)!==null&&i!==void 0?i:x;Gu(s?e:n.acroField,k);var P={x:f/2,y:v/2,width:f-u,height:v-u,borderWidth:u,borderColor:b,dotColor:k};return{normal:{on:ai(g,tE(Cr(Cr({},P),{color:S,filled:!0}))),off:ai(g,tE(Cr(Cr({},P),{color:S,filled:!1})))},down:{on:ai(g,tE(Cr(Cr({},P),{color:E,filled:!0}))),off:ai(g,tE(Cr(Cr({},P),{color:E,filled:!1})))}}},Rwe=function(n,e,t){var r,i,s,o,a,l=Vu(e),c=Vu(n.acroField),u=gg(e),A=gg(n.acroField),h=e.getRectangle(),f=e.getAppearanceCharacteristics(),v=e.getBorderStyle(),g=f==null?void 0:f.getCaptions(),x=(r=g==null?void 0:g.normal)!==null&&r!==void 0?r:"",b=(s=(i=g==null?void 0:g.down)!==null&&i!==void 0?i:x)!==null&&s!==void 0?s:"",S=(o=v==null?void 0:v.getWidth())!==null&&o!==void 0?o:0,E=Gf(f==null?void 0:f.getRotation()),k=dy(h,E),P=k.width,N=k.height,I=Pg(Cr(Cr({},h),{rotation:E})),U=En(0,0,0),V=Pl(f==null?void 0:f.getBorderColor()),W=Pl(f==null?void 0:f.getBackgroundColor()),L=Pl(f==null?void 0:f.getBackgroundColor(),.8),D={x:S,y:S,width:P-S*2,height:N-S*2},z=DT(x,{alignment:Po.Center,fontSize:u??A,font:t,bounds:D}),G=DT(b,{alignment:Po.Center,fontSize:u??A,font:t,bounds:D}),ve=Math.min(z.fontSize,G.fontSize),J=(a=l??c)!==null&&a!==void 0?a:U;Gu(l||u!==void 0?e:n.acroField,J,t,ve);var $={x:0+S/2,y:0+S/2,width:P-S,height:N-S,borderWidth:S,borderColor:V,textColor:J,font:t.name,fontSize:ve};return{normal:ai(I,rj(Cr(Cr({},$),{color:W,textLines:[z.line]}))),down:ai(I,rj(Cr(Cr({},$),{color:L,textLines:[G.line]})))}},Dwe=function(n,e,t){var r,i,s,o,a=Vu(e),l=Vu(n.acroField),c=gg(e),u=gg(n.acroField),A=e.getRectangle(),h=e.getAppearanceCharacteristics(),f=e.getBorderStyle(),v=(r=n.getText())!==null&&r!==void 0?r:"",g=(i=f==null?void 0:f.getWidth())!==null&&i!==void 0?i:0,x=Gf(h==null?void 0:h.getRotation()),b=dy(A,x),S=b.width,E=b.height,k=Pg(Cr(Cr({},A),{rotation:x})),P=En(0,0,0),N=Pl(h==null?void 0:h.getBorderColor()),I=Pl(h==null?void 0:h.getBackgroundColor()),U,V,W=n.isCombed()?0:1,L={x:g+W,y:g+W,width:S-(g+W)*2,height:E-(g+W)*2};if(n.isMultiline()){var D=qX(v,{alignment:n.getAlignment(),fontSize:c??u,font:t,bounds:L});U=D.lines,V=D.fontSize}else if(n.isCombed()){var D=kwe(v,{fontSize:c??u,font:t,bounds:L,cellCount:(s=n.getMaxLength())!==null&&s!==void 0?s:0});U=D.cells,V=D.fontSize}else{var D=DT(v,{alignment:n.getAlignment(),fontSize:c??u,font:t,bounds:L});U=[D.line],V=D.fontSize}var z=(o=a??l)!==null&&o!==void 0?o:P;Gu(a||c!==void 0?e:n.acroField,z,t,V);var G={x:0+g/2,y:0+g/2,width:S-g,height:E-g,borderWidth:g??0,borderColor:N,textColor:z,font:t.name,fontSize:V,color:I,textLines:U,padding:W};return ai(k,zX(G))},_we=function(n,e,t){var r,i,s,o=Vu(e),a=Vu(n.acroField),l=gg(e),c=gg(n.acroField),u=e.getRectangle(),A=e.getAppearanceCharacteristics(),h=e.getBorderStyle(),f=(r=n.getSelected()[0])!==null&&r!==void 0?r:"",v=(i=h==null?void 0:h.getWidth())!==null&&i!==void 0?i:0,g=Gf(A==null?void 0:A.getRotation()),x=dy(u,g),b=x.width,S=x.height,E=Pg(Cr(Cr({},u),{rotation:g})),k=En(0,0,0),P=Pl(A==null?void 0:A.getBorderColor()),N=Pl(A==null?void 0:A.getBackgroundColor()),I=1,U={x:v+I,y:v+I,width:b-(v+I)*2,height:S-(v+I)*2},V=DT(f,{alignment:Po.Left,fontSize:l??c,font:t,bounds:U}),W=V.line,L=V.fontSize,D=(s=o??a)!==null&&s!==void 0?s:k;Gu(o||l!==void 0?e:n.acroField,D,t,L);var z={x:0+v/2,y:0+v/2,width:b-v,height:S-v,borderWidth:v??0,borderColor:P,textColor:D,font:t.name,fontSize:L,color:N,textLines:[W],padding:I};return ai(E,zX(z))},Owe=function(n,e,t){var r,i,s=Vu(e),o=Vu(n.acroField),a=gg(e),l=gg(n.acroField),c=e.getRectangle(),u=e.getAppearanceCharacteristics(),A=e.getBorderStyle(),h=(r=A==null?void 0:A.getWidth())!==null&&r!==void 0?r:0,f=Gf(u==null?void 0:u.getRotation()),v=dy(c,f),g=v.width,x=v.height,b=Pg(Cr(Cr({},c),{rotation:f})),S=En(0,0,0),E=Pl(u==null?void 0:u.getBorderColor()),k=Pl(u==null?void 0:u.getBackgroundColor()),P=n.getOptions(),N=n.getSelected();n.isSorted()&&P.sort();for(var I="",U=0,V=P.length;U<V;U++)I+=P[U],U<V-1&&(I+=`
`);for(var W=1,L={x:h+W,y:h+W,width:g-(h+W)*2,height:x-(h+W)*2},D=qX(I,{alignment:Po.Left,fontSize:a??l,font:t,bounds:L}),z=D.lines,G=D.fontSize,ve=D.lineHeight,J=[],U=0,V=z.length;U<V;U++){var $=z[U];N.includes($.text)&&J.push(U)}var X=En(153/255,193/255,218/255),ie=(i=s??o)!==null&&i!==void 0?i:S;return Gu(s||a!==void 0?e:n.acroField,ie,t,G),ai(b,mwe({x:0+h/2,y:0+h/2,width:g-h,height:x-h,borderWidth:h??0,borderColor:E,textColor:ie,font:t.name,fontSize:G,color:k,textLines:z,lineHeight:ve,selectedColor:X,selectedLines:J,padding:W}))},XX=function(){function n(e,t,r){this.alreadyEmbedded=!1,et(e,"ref",[[Pi,"PDFRef"]]),et(t,"doc",[[Fl,"PDFDocument"]]),et(r,"embedder",[[bX,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=r.width,this.height=r.height,this.embedder=r}return n.prototype.scale=function(e){return et(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},n.prototype.size=function(){return this.scale(1)},n.prototype.embed=function(){return Mr(this,void 0,void 0,function(){return Rr(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},n.of=function(e,t,r){return new n(e,t,r)},n}(),Zc=function(){function n(e,t,r){this.modified=!0,et(e,"ref",[[Pi,"PDFRef"]]),et(t,"doc",[[Fl,"PDFDocument"]]),et(r,"embedder",[[pD,"CustomFontEmbedder"],[TT,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=r.fontName,this.embedder=r}return n.prototype.encodeText=function(e){return et(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},n.prototype.widthOfTextAtSize=function(e,t){return et(e,"text",["string"]),et(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},n.prototype.heightAtSize=function(e,t){var r;return et(e,"size",["number"]),Xt(t==null?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(r=t==null?void 0:t.descender)!==null&&r!==void 0?r:!0})},n.prototype.sizeAtHeight=function(e){return et(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},n.prototype.getCharacterSet=function(){return this.embedder instanceof TT?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},n.prototype.embed=function(){return Mr(this,void 0,void 0,function(){return Rr(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},n.of=function(e,t,r){return new n(e,t,r)},n}(),vM=function(){function n(e,t,r){et(e,"ref",[[Pi,"PDFRef"]]),et(t,"doc",[[Fl,"PDFDocument"]]),et(r,"embedder",[[mX,"JpegEmbedder"],[gX,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=r.width,this.height=r.height,this.embedder=r}return n.prototype.scale=function(e){return et(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},n.prototype.scaleToFit=function(e,t){et(e,"width",["number"]),et(t,"height",["number"]);var r=e/this.width,i=t/this.height,s=Math.min(r,i);return this.scale(s)},n.prototype.size=function(){return this.scale(1)},n.prototype.embed=function(){return Mr(this,void 0,void 0,function(){var e,t,r;return Rr(this,function(i){switch(i.label){case 0:return this.embedder?(this.embedTask||(e=this,t=e.doc,r=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,r)),[4,this.embedTask]):[2];case 1:return i.sent(),this.embedder=void 0,[2]}})})},n.of=function(e,t,r){return new n(e,t,r)},n}(),sg;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"})(sg||(sg={}));var Dw=function(n){Xt(n==null?void 0:n.x,"options.x",["number"]),Xt(n==null?void 0:n.y,"options.y",["number"]),Xt(n==null?void 0:n.width,"options.width",["number"]),Xt(n==null?void 0:n.height,"options.height",["number"]),Xt(n==null?void 0:n.textColor,"options.textColor",[[Object,"Color"]]),Xt(n==null?void 0:n.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),Xt(n==null?void 0:n.borderColor,"options.borderColor",[[Object,"Color"]]),Xt(n==null?void 0:n.borderWidth,"options.borderWidth",["number"]),Xt(n==null?void 0:n.rotate,"options.rotate",[[Object,"Rotation"]])},py=function(){function n(e,t,r){et(e,"acroField",[[Iw,"PDFAcroTerminal"]]),et(t,"ref",[[Pi,"PDFRef"]]),et(r,"doc",[[Fl,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=r}return n.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},n.prototype.isReadOnly=function(){return this.acroField.hasFlag(BA.ReadOnly)},n.prototype.enableReadOnly=function(){this.acroField.setFlagTo(BA.ReadOnly,!0)},n.prototype.disableReadOnly=function(){this.acroField.setFlagTo(BA.ReadOnly,!1)},n.prototype.isRequired=function(){return this.acroField.hasFlag(BA.Required)},n.prototype.enableRequired=function(){this.acroField.setFlagTo(BA.Required,!0)},n.prototype.disableRequired=function(){this.acroField.setFlagTo(BA.Required,!1)},n.prototype.isExported=function(){return!this.acroField.hasFlag(BA.NoExport)},n.prototype.enableExporting=function(){this.acroField.setFlagTo(BA.NoExport,!1)},n.prototype.disableExporting=function(){this.acroField.setFlagTo(BA.NoExport,!0)},n.prototype.needsAppearancesUpdate=function(){throw new Uu(this.constructor.name,"needsAppearancesUpdate")},n.prototype.defaultUpdateAppearances=function(e){throw new Uu(this.constructor.name,"defaultUpdateAppearances")},n.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},n.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},n.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},n.prototype.createWidget=function(e){var t,r=e.textColor,i=e.backgroundColor,s=e.borderColor,o=e.borderWidth,a=PX(e.rotate),l=e.caption,c=e.x,u=e.y,A=e.width+o,h=e.height+o,f=!!e.hidden,v=e.page;cX(a,"degreesAngle",90);var g=pM.create(this.doc.context,this.ref),x=qbe({x:c,y:u,width:A,height:h},o,a);g.setRectangle(x),v&&g.setP(v);var b=g.getOrCreateAppearanceCharacteristics();i&&b.setBackgroundColor($6(i)),b.setRotation(a),l&&b.setCaptions({normal:l}),s&&b.setBorderColor($6(s));var S=g.getOrCreateBorderStyle();if(o!==void 0&&S.setWidth(o),g.setFlagTo(N2.Print,!0),g.setFlagTo(N2.Hidden,f),g.setFlagTo(N2.Invisible,!1),r){var E=(t=this.acroField.getDefaultAppearance())!==null&&t!==void 0?t:"",k=E+`
`+fy(r).toString();this.acroField.setDefaultAppearance(k)}return g},n.prototype.updateWidgetAppearanceWithFont=function(e,t,r){var i=r.normal,s=r.rollover,o=r.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,i,t),rollover:s&&this.createAppearanceStream(e,s,t),down:o&&this.createAppearanceStream(e,o,t)})},n.prototype.updateOnOffWidgetAppearance=function(e,t,r){var i=r.normal,s=r.rollover,o=r.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,i,t),rollover:s&&this.createAppearanceDict(e,s,t),down:o&&this.createAppearanceDict(e,o,t)})},n.prototype.updateWidgetAppearances=function(e,t){var r=t.normal,i=t.rollover,s=t.down;e.setNormalAppearance(r),i?e.setRolloverAppearance(i):e.removeRolloverAppearance(),s?e.setDownAppearance(s):e.removeDownAppearance()},n.prototype.createAppearanceStream=function(e,t,r){var i,s=this.acroField.dict.context,o=e.getRectangle(),a=o.width,l=o.height,c=r&&{Font:(i={},i[r.name]=r.ref,i)},u=s.formXObject(t,{Resources:c,BBox:s.obj([0,0,a,l]),Matrix:s.obj([1,0,0,1,0,0])}),A=s.register(u);return A},n.prototype.createImageAppearanceStream=function(e,t,r){var i,s,o=this.acroField.dict.context,a=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),u=(s=c==null?void 0:c.getWidth())!==null&&s!==void 0?s:0,A=Gf(l==null?void 0:l.getRotation()),h=Pg(Cr(Cr({},a),{rotation:A})),f=dy(a,A),v=t.scaleToFit(f.width-u*2,f.height-u*2),g={x:u,y:u,width:v.width,height:v.height,rotate:dr(0),xSkew:dr(0),ySkew:dr(0)};r===sg.Center?(g.x+=(f.width-u*2)/2-v.width/2,g.y+=(f.height-u*2)/2-v.height/2):r===sg.Right&&(g.x=f.width-u-v.width,g.y=f.height-u-v.height);var x=this.doc.context.addRandomSuffix("Image",10),b=ai(h,QX(x,g)),S={XObject:(i={},i[x]=t.ref,i)},E=o.formXObject(b,{Resources:S,BBox:o.obj([0,0,a.width,a.height]),Matrix:o.obj([1,0,0,1,0,0])});return o.register(E)},n.prototype.createAppearanceDict=function(e,t,r){var i=this.acroField.dict.context,s=this.createAppearanceStream(e,t.on),o=this.createAppearanceStream(e,t.off),a=i.obj({});return a.set(r,s),a.set(be.of("Off"),o),a},n}(),i2=function(n){Zt(e,n);function e(t,r,i){var s=n.call(this,t,r,i)||this;return et(t,"acroCheckBox",[[dk,"PDFAcroCheckBox"]]),s.acroField=t,s}return e.prototype.check=function(){var t,r=(t=this.acroField.getOnValue())!==null&&t!==void 0?t:be.of("Yes");this.markAsDirty(),this.acroField.setValue(r)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(be.of("Off"))},e.prototype.isChecked=function(){var t=this.acroField.getOnValue();return!!t&&t===this.acroField.getValue()},e.prototype.addToPage=function(t,r){var i,s,o,a,l,c;et(t,"page",[[Mu,"PDFPage"]]),Dw(r),r||(r={}),"textColor"in r||(r.textColor=En(0,0,0)),"backgroundColor"in r||(r.backgroundColor=En(1,1,1)),"borderColor"in r||(r.borderColor=En(0,0,0)),"borderWidth"in r||(r.borderWidth=1);var u=this.createWidget({x:(i=r.x)!==null&&i!==void 0?i:0,y:(s=r.y)!==null&&s!==void 0?s:0,width:(o=r.width)!==null&&o!==void 0?o:50,height:(a=r.height)!==null&&a!==void 0?a:50,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=r.rotate)!==null&&c!==void 0?c:dr(0),hidden:r.hidden,page:t.ref}),A=this.doc.context.register(u.dict);this.acroField.addWidget(A),u.setAppearanceState(be.of("Off")),this.updateWidgetAppearance(u,be.of("Yes")),t.node.addAnnot(A)},e.prototype.needsAppearancesUpdate=function(){for(var t,r=this.acroField.getWidgets(),i=0,s=r.length;i<s;i++){var o=r[i],a=o.getAppearanceState(),l=(t=o.getAppearances())===null||t===void 0?void 0:t.normal;if(!(l instanceof kr)||a&&!l.has(a))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){var r;Xt(t,"provider",[Function]);for(var i=this.acroField.getWidgets(),s=0,o=i.length;s<o;s++){var a=i[s],l=(r=a.getOnValue())!==null&&r!==void 0?r:be.of("Yes");l&&this.updateWidgetAppearance(a,l,t)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,r,i){var s=i??Iwe,o=Rw(s(this,t));this.updateOnOffWidgetAppearance(t,r,o)},e.of=function(t,r,i){return new e(t,r,i)},e}(py),$E=function(n){Zt(e,n);function e(t,r,i){var s=n.call(this,t,r,i)||this;return et(t,"acroComboBox",[[hk,"PDFAcroComboBox"]]),s.acroField=t,s}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),r=new Array(t.length),i=0,s=r.length;i<s;i++){var o=t[i],a=o.display,l=o.value;r[i]=(a??l).decodeText()}return r},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),r=new Array(t.length),i=0,s=t.length;i<s;i++)r[i]=t[i].decodeText();return r},e.prototype.setOptions=function(t){et(t,"options",[Array]);for(var r=new Array(t.length),i=0,s=t.length;i<s;i++)r[i]={value:ar.fromText(t[i])};this.acroField.setOptions(r)},e.prototype.addOptions=function(t){et(t,"options",["string",Array]);for(var r=Array.isArray(t)?t:[t],i=this.acroField.getOptions(),s=new Array(r.length),o=0,a=r.length;o<a;o++)s[o]={value:ar.fromText(r[o])};this.acroField.setOptions(i.concat(s))},e.prototype.select=function(t,r){r===void 0&&(r=!1),et(t,"options",["string",Array]),et(r,"merge",["boolean"]);var i=Array.isArray(t)?t:[t],s=this.getOptions(),o=i.find(function(A){return!s.includes(A)});o&&this.enableEditing(),this.markAsDirty(),(i.length>1||i.length===1&&r)&&this.enableMultiselect();for(var a=new Array(i.length),l=0,c=i.length;l<c;l++)a[l]=ar.fromText(i[l]);if(r){var u=this.acroField.getValues();this.acroField.setValues(u.concat(a))}else this.acroField.setValues(a)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){uk(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(ki.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(ki.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(ki.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(ki.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(ki.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(ki.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(ki.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ki.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ki.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(ki.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(ki.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(ki.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ki.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ki.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ki.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,r){var i,s,o,a,l,c,u;et(t,"page",[[Mu,"PDFPage"]]),Dw(r),r||(r={}),"textColor"in r||(r.textColor=En(0,0,0)),"backgroundColor"in r||(r.backgroundColor=En(1,1,1)),"borderColor"in r||(r.borderColor=En(0,0,0)),"borderWidth"in r||(r.borderWidth=1);var A=this.createWidget({x:(i=r.x)!==null&&i!==void 0?i:0,y:(s=r.y)!==null&&s!==void 0?s:0,width:(o=r.width)!==null&&o!==void 0?o:200,height:(a=r.height)!==null&&a!==void 0?a:50,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=r.rotate)!==null&&c!==void 0?c:dr(0),hidden:r.hidden,page:t.ref}),h=this.doc.context.register(A.dict);this.acroField.addWidget(h);var f=(u=r.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(A,f),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var r=this.acroField.getWidgets(),i=0,s=r.length;i<s;i++){var o=r[i],a=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof Xc;if(!a)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){et(t,"font",[[Zc,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,r){et(t,"font",[[Zc,"PDFFont"]]),Xt(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),s=0,o=i.length;s<o;s++){var a=i[s];this.updateWidgetAppearance(a,t,r)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,r,i){var s=i??_we,o=Rw(s(this,t,r));this.updateWidgetAppearanceWithFont(t,r,o)},e.of=function(t,r,i){return new e(t,r,i)},e}(py),eF=function(n){Zt(e,n);function e(t,r,i){var s=n.call(this,t,r,i)||this;return et(t,"acroListBox",[[gk,"PDFAcroListBox"]]),s.acroField=t,s}return e.prototype.getOptions=function(){for(var t=this.acroField.getOptions(),r=new Array(t.length),i=0,s=r.length;i<s;i++){var o=t[i],a=o.display,l=o.value;r[i]=(a??l).decodeText()}return r},e.prototype.getSelected=function(){for(var t=this.acroField.getValues(),r=new Array(t.length),i=0,s=t.length;i<s;i++)r[i]=t[i].decodeText();return r},e.prototype.setOptions=function(t){et(t,"options",[Array]),this.markAsDirty();for(var r=new Array(t.length),i=0,s=t.length;i<s;i++)r[i]={value:ar.fromText(t[i])};this.acroField.setOptions(r)},e.prototype.addOptions=function(t){et(t,"options",["string",Array]),this.markAsDirty();for(var r=Array.isArray(t)?t:[t],i=this.acroField.getOptions(),s=new Array(r.length),o=0,a=r.length;o<a;o++)s[o]={value:ar.fromText(r[o])};this.acroField.setOptions(i.concat(s))},e.prototype.select=function(t,r){r===void 0&&(r=!1),et(t,"options",["string",Array]),et(r,"merge",["boolean"]);var i=Array.isArray(t)?t:[t],s=this.getOptions();D1e(i,"option",s),this.markAsDirty(),(i.length>1||i.length===1&&r)&&this.enableMultiselect();for(var o=new Array(i.length),a=0,l=i.length;a<l;a++)o[a]=ar.fromText(i[a]);if(r){var c=this.acroField.getValues();this.acroField.setValues(c.concat(o))}else this.acroField.setValues(o)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(t){uk(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(ki.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(ki.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(ki.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(ki.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(ki.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(ki.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(ki.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(ki.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(ki.CommitOnSelChange,!1)},e.prototype.addToPage=function(t,r){var i,s,o,a,l,c,u;et(t,"page",[[Mu,"PDFPage"]]),Dw(r),r||(r={}),"textColor"in r||(r.textColor=En(0,0,0)),"backgroundColor"in r||(r.backgroundColor=En(1,1,1)),"borderColor"in r||(r.borderColor=En(0,0,0)),"borderWidth"in r||(r.borderWidth=1);var A=this.createWidget({x:(i=r.x)!==null&&i!==void 0?i:0,y:(s=r.y)!==null&&s!==void 0?s:0,width:(o=r.width)!==null&&o!==void 0?o:200,height:(a=r.height)!==null&&a!==void 0?a:100,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=r.rotate)!==null&&c!==void 0?c:dr(0),hidden:r.hidden,page:t.ref}),h=this.doc.context.register(A.dict);this.acroField.addWidget(h);var f=(u=r.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(A,f),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var r=this.acroField.getWidgets(),i=0,s=r.length;i<s;i++){var o=r[i],a=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof Xc;if(!a)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){et(t,"font",[[Zc,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,r){et(t,"font",[[Zc,"PDFFont"]]),Xt(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),s=0,o=i.length;s<o;s++){var a=i[s];this.updateWidgetAppearance(a,t,r)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,r,i){var s=i??Owe,o=Rw(s(this,t,r));this.updateWidgetAppearanceWithFont(t,r,o)},e.of=function(t,r,i){return new e(t,r,i)},e}(py),s2=function(n){Zt(e,n);function e(t,r,i){var s=n.call(this,t,r,i)||this;return et(t,"acroRadioButton",[[mk,"PDFAcroRadioButton"]]),s.acroField=t,s}return e.prototype.getOptions=function(){var t=this.acroField.getExportValues();if(t){for(var r=new Array(t.length),i=0,s=t.length;i<s;i++)r[i]=t[i].decodeText();return r}for(var o=this.acroField.getOnValues(),a=new Array(o.length),i=0,s=a.length;i<s;i++)a[i]=o[i].decodeText();return a},e.prototype.getSelected=function(){var t=this.acroField.getValue();if(t!==be.of("Off")){var r=this.acroField.getExportValues();if(r){for(var i=this.acroField.getOnValues(),s=0,o=i.length;s<o;s++)if(i[s]===t)return r[s].decodeText()}return t.decodeText()}},e.prototype.select=function(t){et(t,"option",["string"]);var r=this.getOptions();qm(t,"option",r),this.markAsDirty();var i=this.acroField.getOnValues(),s=this.acroField.getExportValues();if(s)for(var o=0,a=s.length;o<a;o++)s[o].decodeText()===t&&this.acroField.setValue(i[o]);else for(var o=0,a=i.length;o<a;o++){var l=i[o];l.decodeText()===t&&this.acroField.setValue(l)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(be.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Iu.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Iu.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Iu.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Iu.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Iu.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Iu.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(t,r,i){var s,o,a,l,c,u,A,h,f;et(t,"option",["string"]),et(r,"page",[[Mu,"PDFPage"]]),Dw(i);var v=this.createWidget({x:(s=i==null?void 0:i.x)!==null&&s!==void 0?s:0,y:(o=i==null?void 0:i.y)!==null&&o!==void 0?o:0,width:(a=i==null?void 0:i.width)!==null&&a!==void 0?a:50,height:(l=i==null?void 0:i.height)!==null&&l!==void 0?l:50,textColor:(c=i==null?void 0:i.textColor)!==null&&c!==void 0?c:En(0,0,0),backgroundColor:(u=i==null?void 0:i.backgroundColor)!==null&&u!==void 0?u:En(1,1,1),borderColor:(A=i==null?void 0:i.borderColor)!==null&&A!==void 0?A:En(0,0,0),borderWidth:(h=i==null?void 0:i.borderWidth)!==null&&h!==void 0?h:1,rotate:(f=i==null?void 0:i.rotate)!==null&&f!==void 0?f:dr(0),hidden:i==null?void 0:i.hidden,page:r.ref}),g=this.doc.context.register(v.dict),x=this.acroField.addWidgetWithOpt(g,ar.fromText(t),!this.isMutuallyExclusive());v.setAppearanceState(be.of("Off")),this.updateWidgetAppearance(v,x),r.node.addAnnot(g)},e.prototype.needsAppearancesUpdate=function(){for(var t,r=this.acroField.getWidgets(),i=0,s=r.length;i<s;i++){var o=r[i],a=o.getAppearanceState(),l=(t=o.getAppearances())===null||t===void 0?void 0:t.normal;if(!(l instanceof kr)||a&&!l.has(a))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(t){Xt(t,"provider",[Function]);for(var r=this.acroField.getWidgets(),i=0,s=r.length;i<s;i++){var o=r[i],a=o.getOnValue();a&&this.updateWidgetAppearance(o,a,t)}},e.prototype.updateWidgetAppearance=function(t,r,i){var s=i??Mwe,o=Rw(s(this,t));this.updateOnOffWidgetAppearance(t,r,o)},e.of=function(t,r,i){return new e(t,r,i)},e}(py),yM=function(n){Zt(e,n);function e(t,r,i){var s=n.call(this,t,r,i)||this;return et(t,"acroSignature",[[gD,"PDFAcroSignature"]]),s.acroField=t,s}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(t,r,i){return new e(t,r,i)},e}(py),tF=function(n){Zt(e,n);function e(t,r,i){var s=n.call(this,t,r,i)||this;return et(t,"acroText",[[fk,"PDFAcroText"]]),s.acroField=t,s}return e.prototype.getText=function(){var t=this.acroField.getValue();if(!t&&this.isRichFormatted())throw new Cwe(this.getName());return t==null?void 0:t.decodeText()},e.prototype.setText=function(t){Xt(t,"text",["string"]);var r=this.getMaxLength();if(r!==void 0&&t&&t.length>r)throw new Bwe(t.length,r,this.getName());this.markAsDirty(),this.disableRichFormatting(),t?this.acroField.setValue(ar.fromText(t)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var t=this.acroField.getQuadding();return t===0?Po.Left:t===1?Po.Center:t===2?Po.Right:Po.Left},e.prototype.setAlignment=function(t){qm(t,"alignment",Po),this.markAsDirty(),this.acroField.setQuadding(t)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(t){if(CA(t,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),t===void 0)this.acroField.removeMaxLength();else{var r=this.getText();if(r&&r.length>t)throw new Ewe(r.length,t,this.getName());this.acroField.setMaxLength(t)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(t){for(var r=this.getAlignment(),i=r===Po.Center?sg.Center:r===Po.Right?sg.Right:sg.Left,s=this.acroField.getWidgets(),o=0,a=s.length;o<a;o++){var l=s[o],c=this.createImageAppearanceStream(l,t,i);this.updateWidgetAppearances(l,{normal:c})}this.markAsClean()},e.prototype.setFontSize=function(t){uk(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(Ls.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(Ls.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(Ls.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(Ls.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(Ls.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(Ls.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(Ls.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(Ls.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(Ls.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(Ls.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(Ls.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(Ls.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(Ls.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(Ls.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(Ls.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(Ls.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var t="PDFTextFields must have a max length in order to be combed";console.warn(t)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(Ls.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(Ls.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(Ls.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(Ls.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(Ls.RichText,!1)},e.prototype.addToPage=function(t,r){var i,s,o,a,l,c,u;et(t,"page",[[Mu,"PDFPage"]]),Dw(r),r||(r={}),"textColor"in r||(r.textColor=En(0,0,0)),"backgroundColor"in r||(r.backgroundColor=En(1,1,1)),"borderColor"in r||(r.borderColor=En(0,0,0)),"borderWidth"in r||(r.borderWidth=1);var A=this.createWidget({x:(i=r.x)!==null&&i!==void 0?i:0,y:(s=r.y)!==null&&s!==void 0?s:0,width:(o=r.width)!==null&&o!==void 0?o:200,height:(a=r.height)!==null&&a!==void 0?a:50,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=r.rotate)!==null&&c!==void 0?c:dr(0),hidden:r.hidden,page:t.ref}),h=this.doc.context.register(A.dict);this.acroField.addWidget(h);var f=(u=r.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(A,f),t.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var r=this.acroField.getWidgets(),i=0,s=r.length;i<s;i++){var o=r[i],a=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof Xc;if(!a)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){et(t,"font",[[Zc,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,r){et(t,"font",[[Zc,"PDFFont"]]),Xt(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),s=0,o=i.length;s<o;s++){var a=i[s];this.updateWidgetAppearance(a,t,r)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(t,r,i){var s=i??Dwe,o=Rw(s(this,t,r));this.updateWidgetAppearanceWithFont(t,r,o)},e.of=function(t,r,i){return new e(t,r,i)},e}(py),vg;(function(n){n.Courier="Courier",n.CourierBold="Courier-Bold",n.CourierOblique="Courier-Oblique",n.CourierBoldOblique="Courier-BoldOblique",n.Helvetica="Helvetica",n.HelveticaBold="Helvetica-Bold",n.HelveticaOblique="Helvetica-Oblique",n.HelveticaBoldOblique="Helvetica-BoldOblique",n.TimesRoman="Times-Roman",n.TimesRomanBold="Times-Bold",n.TimesRomanItalic="Times-Italic",n.TimesRomanBoldItalic="Times-BoldItalic",n.Symbol="Symbol",n.ZapfDingbats="ZapfDingbats"})(vg||(vg={}));var Uwe=function(){function n(e,t){var r=this;this.embedDefaultFont=function(){return r.doc.embedStandardFont(vg.Helvetica)},et(e,"acroForm",[[PT,"PDFAcroForm"]]),et(t,"doc",[[Fl,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=Mf.populatedBy(this.embedDefaultFont)}return n.prototype.hasXFA=function(){return this.acroForm.dict.has(be.of("XFA"))},n.prototype.deleteXFA=function(){this.acroForm.dict.delete(be.of("XFA"))},n.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],r=0,i=e.length;r<i;r++){var s=e[r],o=s[0],a=s[1],l=Hwe(o,a,this.doc);l&&t.push(l)}return t},n.prototype.getFieldMaybe=function(e){et(e,"name",["string"]);for(var t=this.getFields(),r=0,i=t.length;r<i;r++){var s=t[r];if(s.getName()===e)return s}},n.prototype.getField=function(e){et(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new wwe(e)},n.prototype.getButton=function(e){et(e,"name",["string"]);var t=this.getField(e);if(t instanceof nF)return t;throw new n0(e,nF,t)},n.prototype.getCheckBox=function(e){et(e,"name",["string"]);var t=this.getField(e);if(t instanceof i2)return t;throw new n0(e,i2,t)},n.prototype.getDropdown=function(e){et(e,"name",["string"]);var t=this.getField(e);if(t instanceof $E)return t;throw new n0(e,$E,t)},n.prototype.getOptionList=function(e){et(e,"name",["string"]);var t=this.getField(e);if(t instanceof eF)return t;throw new n0(e,eF,t)},n.prototype.getRadioGroup=function(e){et(e,"name",["string"]);var t=this.getField(e);if(t instanceof s2)return t;throw new n0(e,s2,t)},n.prototype.getSignature=function(e){et(e,"name",["string"]);var t=this.getField(e);if(t instanceof yM)return t;throw new n0(e,yM,t)},n.prototype.getTextField=function(e){et(e,"name",["string"]);var t=this.getField(e);if(t instanceof tF)return t;throw new n0(e,tF,t)},n.prototype.createButton=function(e){et(e,"name",["string"]);var t=e1(e),r=this.findOrCreateNonTerminals(t.nonTerminal),i=pk.create(this.doc.context);return i.setPartialName(t.terminal),t1(r,[i,i.ref],t.terminal),nF.of(i,i.ref,this.doc)},n.prototype.createCheckBox=function(e){et(e,"name",["string"]);var t=e1(e),r=this.findOrCreateNonTerminals(t.nonTerminal),i=dk.create(this.doc.context);return i.setPartialName(t.terminal),t1(r,[i,i.ref],t.terminal),i2.of(i,i.ref,this.doc)},n.prototype.createDropdown=function(e){et(e,"name",["string"]);var t=e1(e),r=this.findOrCreateNonTerminals(t.nonTerminal),i=hk.create(this.doc.context);return i.setPartialName(t.terminal),t1(r,[i,i.ref],t.terminal),$E.of(i,i.ref,this.doc)},n.prototype.createOptionList=function(e){et(e,"name",["string"]);var t=e1(e),r=this.findOrCreateNonTerminals(t.nonTerminal),i=gk.create(this.doc.context);return i.setPartialName(t.terminal),t1(r,[i,i.ref],t.terminal),eF.of(i,i.ref,this.doc)},n.prototype.createRadioGroup=function(e){et(e,"name",["string"]);var t=e1(e),r=this.findOrCreateNonTerminals(t.nonTerminal),i=mk.create(this.doc.context);return i.setPartialName(t.terminal),t1(r,[i,i.ref],t.terminal),s2.of(i,i.ref,this.doc)},n.prototype.createTextField=function(e){et(e,"name",["string"]);var t=e1(e),r=this.findOrCreateNonTerminals(t.nonTerminal),i=fk.create(this.doc.context);return i.setPartialName(t.terminal),t1(r,[i,i.ref],t.terminal),tF.of(i,i.ref,this.doc)},n.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),r=0,i=t.length;r<i;r++){for(var s=t[r],o=s.acroField.getWidgets(),a=0,l=o.length;a<l;a++){var c=o[a],u=this.findWidgetPage(c),A=this.findWidgetAppearanceRef(s,c),h=u.node.newXObject("FlatWidget",A),f=c.getRectangle(),v=ai([Mo(),Hu(f.x,f.y)],Pg(Cr(Cr({},f),{rotation:0})),[BD(h),Ro()]).filter(Boolean);u.pushOperators.apply(u,v)}this.removeField(s)}},n.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),r=new Set,i=0,s=t.length;i<s;i++){var o=t[i],a=this.findWidgetAppearanceRef(e,o),l=this.findWidgetPage(o);r.add(l),l.node.removeAnnot(a)}r.forEach(function(f){return f.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var c=e.acroField.normalizedEntries().Kids,u=c.size(),A=0;A<u;A++){var h=c.get(A);h instanceof Pi&&this.doc.context.delete(h)}this.doc.context.delete(e.ref)},n.prototype.updateFieldAppearances=function(e){Xt(e,"font",[[Zc,"PDFFont"]]),e=e??this.getDefaultFont();for(var t=this.getFields(),r=0,i=t.length;r<i;r++){var s=t[r];s.needsAppearancesUpdate()&&s.defaultUpdateAppearances(e)}},n.prototype.markFieldAsDirty=function(e){Xt(e,"fieldRef",[[Pi,"PDFRef"]]),this.dirtyFields.add(e)},n.prototype.markFieldAsClean=function(e){Xt(e,"fieldRef",[[Pi,"PDFRef"]]),this.dirtyFields.delete(e)},n.prototype.fieldIsDirty=function(e){return Xt(e,"fieldRef",[[Pi,"PDFRef"]]),this.dirtyFields.has(e)},n.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},n.prototype.findWidgetPage=function(e){var t=e.P(),r=this.doc.getPages().find(function(s){return s.ref===t});if(r===void 0){var i=this.doc.context.getObjectRef(e.dict);if(i===void 0)throw new Error("Could not find PDFRef for PDFObject");if(r=this.doc.findPageForAnnotationRef(i),r===void 0)throw new Error("Could not find page for PDFRef "+i)}return r},n.prototype.findWidgetAppearanceRef=function(e,t){var r,i=t.getNormalAppearance();if(i instanceof kr&&(e instanceof i2||e instanceof s2)){var s=e.acroField.getValue(),o=(r=i.get(s))!==null&&r!==void 0?r:i.get(be.of("Off"));o instanceof Pi&&(i=o)}if(!(i instanceof Pi)){var a=e.getName();throw new Error("Failed to extract appearance ref for: "+a)}return i},n.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],r=0,i=e.length;r<i;r++){var s=e[r];if(!s)throw new xwe(s);var o=t[0],a=t[1],l=this.findNonTerminal(s,o);if(l)t=l;else{var c=kT.create(this.doc.context);c.setPartialName(s),c.setParent(a);var u=this.doc.context.register(c.dict);o.addField(u),t=[c,u]}}return t},n.prototype.findNonTerminal=function(e,t){for(var r=t instanceof PT?this.acroForm.getFields():vD(t.Kids()),i=0,s=r.length;i<s;i++){var o=r[i],a=o[0],l=o[1];if(a.getPartialName()===e){if(a instanceof kT)return[a,l];throw new KX(e)}}},n.of=function(e,t){return new n(e,t)},n}(),Hwe=function(n,e,t){if(n instanceof pk)return nF.of(n,e,t);if(n instanceof dk)return i2.of(n,e,t);if(n instanceof hk)return $E.of(n,e,t);if(n instanceof gk)return eF.of(n,e,t);if(n instanceof fk)return tF.of(n,e,t);if(n instanceof mk)return s2.of(n,e,t);if(n instanceof gD)return yM.of(n,e,t)},e1=function(n){if(n.length===0)throw new Error("PDF field names must not be empty strings");for(var e=n.split("."),t=0,r=e.length;t<r;t++)if(e[t]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+n+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},t1=function(n,e,t){for(var r=n[0],i=n[1],s=e[0],o=e[1],a=r.normalizedEntries(),l=vD("Kids"in a?a.Kids:a.Fields),c=0,u=l.length;c<u;c++)if(l[c][0].getPartialName()===t)throw new KX(t);r.addField(o),s.setParent(i)},jwe={A4:[595.28,841.89]},bM;(function(n){n[n.Fastest=1/0]="Fastest",n[n.Fast=1500]="Fast",n[n.Medium=500]="Medium",n[n.Slow=100]="Slow"})(bM||(bM={}));var Qwe=function(){function n(e,t,r){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=r}return n.prototype.embed=function(){return Mr(this,void 0,void 0,function(){var e,t,r,i,s;return Rr(this,function(o){switch(o.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=o.sent(),this.doc.catalog.has(be.of("Names"))||this.doc.catalog.set(be.of("Names"),this.doc.context.obj({})),t=this.doc.catalog.lookup(be.of("Names"),kr),t.has(be.of("EmbeddedFiles"))||t.set(be.of("EmbeddedFiles"),this.doc.context.obj({})),r=t.lookup(be.of("EmbeddedFiles"),kr),r.has(be.of("Names"))||r.set(be.of("Names"),this.doc.context.obj([])),i=r.lookup(be.of("Names"),Gr),i.push(ar.fromText(this.embedder.fileName)),i.push(e),this.doc.catalog.has(be.of("AF"))||this.doc.catalog.set(be.of("AF"),this.doc.context.obj([])),s=this.doc.catalog.lookup(be.of("AF"),Gr),s.push(e),this.alreadyEmbedded=!0,o.label=2;case 2:return[2]}})})},n.of=function(e,t,r){return new n(e,t,r)},n}(),zwe=function(){function n(e,t,r){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=r}return n.prototype.embed=function(){return Mr(this,void 0,void 0,function(){var e,t,r,i,s,o,a;return Rr(this,function(l){switch(l.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,t=e.catalog,r=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:i=l.sent(),t.has(be.of("Names"))||t.set(be.of("Names"),r.obj({})),s=t.lookup(be.of("Names"),kr),s.has(be.of("JavaScript"))||s.set(be.of("JavaScript"),r.obj({})),o=s.lookup(be.of("JavaScript"),kr),o.has(be.of("Names"))||o.set(be.of("Names"),r.obj([])),a=o.lookup(be.of("Names"),Gr),a.push(ar.fromText(this.embedder.scriptName)),a.push(i),this.alreadyEmbedded=!0,l.label=2;case 2:return[2]}})})},n.of=function(e,t,r){return new n(e,t,r)},n}(),Kwe=function(){function n(e,t){this.script=e,this.scriptName=t}return n.for=function(e,t){return new n(e,t)},n.prototype.embedIntoContext=function(e,t){return Mr(this,void 0,void 0,function(){var r;return Rr(this,function(i){return r=e.obj({Type:"Action",S:"JavaScript",JS:ar.fromText(this.script)}),t?(e.assign(t,r),[2,t]):[2,e.register(r)]})})},n}(),Fl=function(){function n(e,t,r){var i=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var s=[];return i.catalog.Pages().traverse(function(o,a){if(o instanceof Rf){var l=i.pageMap.get(o);l||(l=Mu.of(o,a,i),i.pageMap.set(o,l)),s.push(l)}}),s},this.getOrCreateForm=function(){var s=i.catalog.getOrCreateAcroForm();return Uwe.of(s,i)},et(e,"context",[[hM,"PDFContext"]]),et(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Mf.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Mf.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new gwe;r&&this.updateInfoDict()}return n.load=function(e,t){return t===void 0&&(t={}),Mr(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,A,h,f,v;return Rr(this,function(g){switch(g.label){case 0:return r=t.ignoreEncryption,i=r===void 0?!1:r,s=t.parseSpeed,o=s===void 0?bM.Slow:s,a=t.throwOnInvalidObject,l=a===void 0?!1:a,c=t.updateMetadata,u=c===void 0?!0:c,A=t.capNumbers,h=A===void 0?!1:A,et(e,"pdf",["string",Uint8Array,ArrayBuffer]),et(i,"ignoreEncryption",["boolean"]),et(o,"parseSpeed",["number"]),et(l,"throwOnInvalidObject",["boolean"]),f=px(e),[4,Gbe.forBytesWithOptions(f,o,l,h).parseDocument()];case 1:return v=g.sent(),[2,new n(v,i,u)]}})})},n.create=function(e){return e===void 0&&(e={}),Mr(this,void 0,void 0,function(){var t,r,i,s,o,a;return Rr(this,function(l){return t=e.updateMetadata,r=t===void 0?!0:t,i=hM.create(),s=EX.withContext(i),o=i.register(s),a=BX.withContextAndPages(i,o),i.trailerInfo.Root=i.register(a),[2,new n(i,!1,r)]})})},n.prototype.registerFontkit=function(e){this.fontkit=e},n.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},n.prototype.getTitle=function(){var e=this.getInfoDict().lookup(be.Title);if(e)return Pp(e),e.decodeText()},n.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(be.Author);if(e)return Pp(e),e.decodeText()},n.prototype.getSubject=function(){var e=this.getInfoDict().lookup(be.Subject);if(e)return Pp(e),e.decodeText()},n.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(be.Keywords);if(e)return Pp(e),e.decodeText()},n.prototype.getCreator=function(){var e=this.getInfoDict().lookup(be.Creator);if(e)return Pp(e),e.decodeText()},n.prototype.getProducer=function(){var e=this.getInfoDict().lookup(be.Producer);if(e)return Pp(e),e.decodeText()},n.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(be.CreationDate);if(e)return Pp(e),e.decodeDate()},n.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(be.ModDate);if(e)return Pp(e),e.decodeDate()},n.prototype.setTitle=function(e,t){et(e,"title",["string"]);var r=be.of("Title");if(this.getInfoDict().set(r,ar.fromText(e)),t!=null&&t.showInWindowTitleBar){var i=this.catalog.getOrCreateViewerPreferences();i.setDisplayDocTitle(!0)}},n.prototype.setAuthor=function(e){et(e,"author",["string"]);var t=be.of("Author");this.getInfoDict().set(t,ar.fromText(e))},n.prototype.setSubject=function(e){et(e,"author",["string"]);var t=be.of("Subject");this.getInfoDict().set(t,ar.fromText(e))},n.prototype.setKeywords=function(e){et(e,"keywords",[Array]);var t=be.of("Keywords");this.getInfoDict().set(t,ar.fromText(e.join(" ")))},n.prototype.setCreator=function(e){et(e,"creator",["string"]);var t=be.of("Creator");this.getInfoDict().set(t,ar.fromText(e))},n.prototype.setProducer=function(e){et(e,"creator",["string"]);var t=be.of("Producer");this.getInfoDict().set(t,ar.fromText(e))},n.prototype.setLanguage=function(e){et(e,"language",["string"]);var t=be.of("Lang");this.catalog.set(t,Zr.of(e))},n.prototype.setCreationDate=function(e){et(e,"creationDate",[[Date,"Date"]]);var t=be.of("CreationDate");this.getInfoDict().set(t,Zr.fromDate(e))},n.prototype.setModificationDate=function(e){et(e,"modificationDate",[[Date,"Date"]]);var t=be.of("ModDate");this.getInfoDict().set(t,Zr.fromDate(e))},n.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},n.prototype.getPages=function(){return this.pageCache.access()},n.prototype.getPage=function(e){var t=this.getPages();return Vc(e,"index",0,t.length-1),t[e]},n.prototype.getPageIndices=function(){return Wye(0,this.getPageCount())},n.prototype.removePage=function(e){var t=this.getPageCount();if(this.pageCount===0)throw new bwe;Vc(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},n.prototype.addPage=function(e){return et(e,"page",["undefined",[Mu,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},n.prototype.insertPage=function(e,t){var r=this.getPageCount();if(Vc(e,"index",0,r),et(t,"page",["undefined",[Mu,"PDFPage"],Array]),!t||Array.isArray(t)){var i=Array.isArray(t)?t:jwe.A4;t=Mu.create(this),t.setSize.apply(t,i)}else if(t.doc!==this)throw new ywe;var s=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(s),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=r+1,t},n.prototype.copyPages=function(e,t){return Mr(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u;return Rr(this,function(A){switch(A.label){case 0:return et(e,"srcDoc",[[n,"PDFDocument"]]),et(t,"indices",[Array]),[4,e.flush()];case 1:for(A.sent(),r=Q6.for(e.context,this.context),i=e.getPages(),s=new Array(t.length),o=0,a=t.length;o<a;o++)l=i[t[o]],c=r.copy(l.node),u=this.context.register(c),s[o]=Mu.of(c,u,this);return[2,s]}})})},n.prototype.copy=function(){return Mr(this,void 0,void 0,function(){var e,t,r,i;return Rr(this,function(s){switch(s.label){case 0:return[4,n.create()];case 1:return e=s.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(t=s.sent(),r=0,i=t.length;r<i;r++)e.addPage(t[r]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},n.prototype.addJavaScript=function(e,t){et(e,"name",["string"]),et(t,"script",["string"]);var r=Kwe.for(t,e),i=this.context.nextRef(),s=zwe.of(i,this,r);this.javaScripts.push(s)},n.prototype.attach=function(e,t,r){return r===void 0&&(r={}),Mr(this,void 0,void 0,function(){var i,s,o,a;return Rr(this,function(l){return et(e,"attachment",["string",Uint8Array,ArrayBuffer]),et(t,"name",["string"]),Xt(r.mimeType,"mimeType",["string"]),Xt(r.description,"description",["string"]),Xt(r.creationDate,"options.creationDate",[Date]),Xt(r.modificationDate,"options.modificationDate",[Date]),yu(r.afRelationship,"options.afRelationship",fM),i=px(e),s=vbe.for(i,t,r),o=this.context.nextRef(),a=Qwe.of(o,this,s),this.embeddedFiles.push(a),[2]})})},n.prototype.embedFont=function(e,t){return t===void 0&&(t={}),Mr(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,A,h;return Rr(this,function(f){switch(f.label){case 0:return r=t.subset,i=r===void 0?!1:r,s=t.customName,o=t.features,et(e,"font",["string",Uint8Array,ArrayBuffer]),et(i,"subset",["boolean"]),I6(e)?(a=TT.for(e,s),[3,7]):[3,1];case 1:return Xye(e)?(l=px(e),c=this.assertFontkit(),i?[4,gbe.for(c,l,s,o)]:[3,3]):[3,6];case 2:return u=f.sent(),[3,5];case 3:return[4,pD.for(c,l,s,o)];case 4:u=f.sent(),f.label=5;case 5:return a=u,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return A=this.context.nextRef(),h=Zc.of(A,this,a),this.fonts.push(h),[2,h]}})})},n.prototype.embedStandardFont=function(e,t){if(et(e,"font",["string"]),!I6(e))throw new TypeError("`font` must be one of type `StandardFonts`");var r=TT.for(e,t),i=this.context.nextRef(),s=Zc.of(i,this,r);return this.fonts.push(s),s},n.prototype.embedJpg=function(e){return Mr(this,void 0,void 0,function(){var t,r,i,s;return Rr(this,function(o){switch(o.label){case 0:return et(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=px(e),[4,mX.for(t)];case 1:return r=o.sent(),i=this.context.nextRef(),s=vM.of(i,this,r),this.images.push(s),[2,s]}})})},n.prototype.embedPng=function(e){return Mr(this,void 0,void 0,function(){var t,r,i,s;return Rr(this,function(o){switch(o.label){case 0:return et(e,"png",["string",Uint8Array,ArrayBuffer]),t=px(e),[4,gX.for(t)];case 1:return r=o.sent(),i=this.context.nextRef(),s=vM.of(i,this,r),this.images.push(s),[2,s]}})})},n.prototype.embedPdf=function(e,t){return t===void 0&&(t=[0]),Mr(this,void 0,void 0,function(){var r,i,s;return Rr(this,function(o){switch(o.label){case 0:return et(e,"pdf",["string",Uint8Array,ArrayBuffer,[n,"PDFDocument"]]),et(t,"indices",[Array]),e instanceof n?(i=e,[3,3]):[3,1];case 1:return[4,n.load(e)];case 2:i=o.sent(),o.label=3;case 3:return r=i,s=qye(r.getPages(),t),[2,this.embedPages(s)]}})})},n.prototype.embedPage=function(e,t,r){return Mr(this,void 0,void 0,function(){var i;return Rr(this,function(s){switch(s.label){case 0:return et(e,"page",[[Mu,"PDFPage"]]),[4,this.embedPages([e],[t],[r])];case 1:return i=s.sent()[0],[2,i]}})})},n.prototype.embedPages=function(e,t,r){return t===void 0&&(t=[]),r===void 0&&(r=[]),Mr(this,void 0,void 0,function(){var c,u,i,s,o,a,l,c,u,A,h,f,v,g,x;return Rr(this,function(b){switch(b.label){case 0:if(e.length===0)return[2,[]];for(c=0,u=e.length-1;c<u;c++)if(i=e[c],s=e[c+1],i.node.context!==s.node.context)throw new K1e;o=e[0].node.context,a=o===this.context?function(S){return S}:Q6.for(o,this.context).copy,l=new Array(e.length),c=0,u=e.length,b.label=1;case 1:return c<u?(A=a(e[c].node),h=t[c],f=r[c],[4,bX.for(A,h,f)]):[3,4];case 2:v=b.sent(),g=this.context.nextRef(),l[c]=XX.of(g,this,v),b.label=3;case 3:return c++,[3,1];case 4:return(x=this.embeddedPages).push.apply(x,l),[2,l]}})})},n.prototype.flush=function(){return Mr(this,void 0,void 0,function(){return Rr(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},n.prototype.save=function(e){return e===void 0&&(e={}),Mr(this,void 0,void 0,function(){var t,r,i,s,o,a,l,c,u,A;return Rr(this,function(h){switch(h.label){case 0:return t=e.useObjectStreams,r=t===void 0?!0:t,i=e.addDefaultPage,s=i===void 0?!0:i,o=e.objectsPerTick,a=o===void 0?50:o,l=e.updateFieldAppearances,c=l===void 0?!0:l,et(r,"useObjectStreams",["boolean"]),et(s,"addDefaultPage",["boolean"]),et(a,"objectsPerTick",["number"]),et(c,"updateFieldAppearances",["boolean"]),s&&this.getPageCount()===0&&this.addPage(),c&&(u=this.formCache.getValue(),u&&u.updateFieldAppearances()),[4,this.flush()];case 1:return h.sent(),A=r?Abe:fX,[2,A.forContext(this.context,a).serializeToBuffer()]}})})},n.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),Mr(this,void 0,void 0,function(){var t,r,i,s,o;return Rr(this,function(a){switch(a.label){case 0:return t=e.dataUri,r=t===void 0?!1:t,i=kye(e,["dataUri"]),et(r,"dataUri",["boolean"]),[4,this.save(i)];case 1:return s=a.sent(),o=Pye(s),[2,r?"data:application/pdf;base64,"+o:o]}})})},n.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),r=0,i=t.length;r<i;r++){var s=t[r],o=s.node.Annots();if((o==null?void 0:o.indexOf(e))!==void 0)return s}},n.prototype.embedAll=function(e){return Mr(this,void 0,void 0,function(){var t,r;return Rr(this,function(i){switch(i.label){case 0:t=0,r=e.length,i.label=1;case 1:return t<r?[4,e[t].embed()]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},n.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,r=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),r.get(be.of("Creator"))||this.setCreator(e),r.get(be.of("CreationDate"))||this.setCreationDate(t)},n.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof kr)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},n.prototype.assertFontkit=function(){if(!this.fontkit)throw new vwe;return this.fontkit},n}();function Pp(n){if(!(n instanceof ar)&&!(n instanceof Zr))throw new ET([ar,Zr],n)}var Kh;(function(n){n.Normal="Normal",n.Multiply="Multiply",n.Screen="Screen",n.Overlay="Overlay",n.Darken="Darken",n.Lighten="Lighten",n.ColorDodge="ColorDodge",n.ColorBurn="ColorBurn",n.HardLight="HardLight",n.SoftLight="SoftLight",n.Difference="Difference",n.Exclusion="Exclusion"})(Kh||(Kh={}));var Mu=function(){function n(e,t,r){this.fontSize=24,this.fontColor=En(0,0,0),this.lineHeight=24,this.x=0,this.y=0,et(e,"leafNode",[[Rf,"PDFPageLeaf"]]),et(t,"ref",[[Pi,"PDFRef"]]),et(r,"doc",[[Fl,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=r}return n.prototype.setRotation=function(e){var t=PX(e);cX(t,"degreesAngle",90),this.node.set(be.of("Rotate"),this.doc.context.obj(t))},n.prototype.getRotation=function(){var e=this.node.Rotate();return dr(e?e.asNumber():0)},n.prototype.setSize=function(e,t){et(e,"width",["number"]),et(t,"height",["number"]);var r=this.getMediaBox();this.setMediaBox(r.x,r.y,e,t);var i=this.getCropBox(),s=this.getBleedBox(),o=this.getTrimBox(),a=this.getArtBox(),l=this.node.CropBox(),c=this.node.BleedBox(),u=this.node.TrimBox(),A=this.node.ArtBox();l&&q5(i,r)&&this.setCropBox(r.x,r.y,e,t),c&&q5(s,r)&&this.setBleedBox(r.x,r.y,e,t),u&&q5(o,r)&&this.setTrimBox(r.x,r.y,e,t),A&&q5(a,r)&&this.setArtBox(r.x,r.y,e,t)},n.prototype.setWidth=function(e){et(e,"width",["number"]),this.setSize(e,this.getSize().height)},n.prototype.setHeight=function(e){et(e,"height",["number"]),this.setSize(this.getSize().width,e)},n.prototype.setMediaBox=function(e,t,r,i){et(e,"x",["number"]),et(t,"y",["number"]),et(r,"width",["number"]),et(i,"height",["number"]);var s=this.doc.context.obj([e,t,e+r,t+i]);this.node.set(be.MediaBox,s)},n.prototype.setCropBox=function(e,t,r,i){et(e,"x",["number"]),et(t,"y",["number"]),et(r,"width",["number"]),et(i,"height",["number"]);var s=this.doc.context.obj([e,t,e+r,t+i]);this.node.set(be.CropBox,s)},n.prototype.setBleedBox=function(e,t,r,i){et(e,"x",["number"]),et(t,"y",["number"]),et(r,"width",["number"]),et(i,"height",["number"]);var s=this.doc.context.obj([e,t,e+r,t+i]);this.node.set(be.BleedBox,s)},n.prototype.setTrimBox=function(e,t,r,i){et(e,"x",["number"]),et(t,"y",["number"]),et(r,"width",["number"]),et(i,"height",["number"]);var s=this.doc.context.obj([e,t,e+r,t+i]);this.node.set(be.TrimBox,s)},n.prototype.setArtBox=function(e,t,r,i){et(e,"x",["number"]),et(t,"y",["number"]),et(r,"width",["number"]),et(i,"height",["number"]);var s=this.doc.context.obj([e,t,e+r,t+i]);this.node.set(be.ArtBox,s)},n.prototype.getSize=function(){var e=this.getMediaBox(),t=e.width,r=e.height;return{width:t,height:r}},n.prototype.getWidth=function(){return this.getSize().width},n.prototype.getHeight=function(){return this.getSize().height},n.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},n.prototype.getCropBox=function(){var e,t=this.node.CropBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},n.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},n.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},n.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return(e=t==null?void 0:t.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},n.prototype.translateContent=function(e,t){et(e,"x",["number"]),et(t,"y",["number"]),this.node.normalize(),this.getContentStream();var r=this.createContentStream(Mo(),Hu(e,t)),i=this.doc.context.register(r),s=this.createContentStream(Ro()),o=this.doc.context.register(s);this.node.wrapContentStreams(i,o)},n.prototype.scale=function(e,t){et(e,"x",["number"]),et(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},n.prototype.scaleContent=function(e,t){et(e,"x",["number"]),et(t,"y",["number"]),this.node.normalize(),this.getContentStream();var r=this.createContentStream(Mo(),sC(e,t)),i=this.doc.context.register(r),s=this.createContentStream(Ro()),o=this.doc.context.register(s);this.node.wrapContentStreams(i,o)},n.prototype.scaleAnnotations=function(e,t){et(e,"x",["number"]),et(t,"y",["number"]);var r=this.node.Annots();if(r)for(var i=0;i<r.size();i++){var s=r.lookup(i);s instanceof kr&&this.scaleAnnot(s,e,t)}},n.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},n.prototype.setFont=function(e){et(e,"font",[[Zc,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},n.prototype.setFontSize=function(e){et(e,"fontSize",["number"]),this.fontSize=e},n.prototype.setFontColor=function(e){et(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},n.prototype.setLineHeight=function(e){et(e,"lineHeight",["number"]),this.lineHeight=e},n.prototype.getPosition=function(){return{x:this.x,y:this.y}},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.moveTo=function(e,t){et(e,"x",["number"]),et(t,"y",["number"]),this.x=e,this.y=t},n.prototype.moveDown=function(e){et(e,"yDecrease",["number"]),this.y-=e},n.prototype.moveUp=function(e){et(e,"yIncrease",["number"]),this.y+=e},n.prototype.moveLeft=function(e){et(e,"xDecrease",["number"]),this.x-=e},n.prototype.moveRight=function(e){et(e,"xIncrease",["number"]),this.x+=e},n.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];lX(e,"operator",[[ni,"PDFOperator"]]);var r=this.getContentStream();r.push.apply(r,e)},n.prototype.drawText=function(e,t){var r,i,s,o,a,l,c;t===void 0&&(t={}),et(e,"text",["string"]),Xt(t.color,"options.color",[[Object,"Color"]]),CA(t.opacity,"opacity.opacity",0,1),Xt(t.font,"options.font",[[Zc,"PDFFont"]]),Xt(t.size,"options.size",["number"]),Xt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Xt(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Xt(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Xt(t.x,"options.x",["number"]),Xt(t.y,"options.y",["number"]),Xt(t.lineHeight,"options.lineHeight",["number"]),Xt(t.maxWidth,"options.maxWidth",["number"]),Xt(t.wordBreaks,"options.wordBreaks",[Array]),yu(t.blendMode,"options.blendMode",Kh);for(var u=this.setOrEmbedFont(t.font),A=u.oldFont,h=u.newFont,f=u.newFontKey,v=t.size||this.fontSize,g=t.wordBreaks||this.doc.defaultWordBreaks,x=function(I){return h.widthOfTextAtSize(I,v)},b=t.maxWidth===void 0?Vq(rB(e)):Hye(e,g,t.maxWidth,x),S=new Array(b.length),E=0,k=b.length;E<k;E++)S[E]=h.encodeText(b[E]);var P=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),N=this.getContentStream();N.push.apply(N,cwe(S,{color:(r=t.color)!==null&&r!==void 0?r:this.fontColor,font:f,size:v,rotate:(i=t.rotate)!==null&&i!==void 0?i:dr(0),xSkew:(s=t.xSkew)!==null&&s!==void 0?s:dr(0),ySkew:(o=t.ySkew)!==null&&o!==void 0?o:dr(0),x:(a=t.x)!==null&&a!==void 0?a:this.x,y:(l=t.y)!==null&&l!==void 0?l:this.y,lineHeight:(c=t.lineHeight)!==null&&c!==void 0?c:this.lineHeight,graphicsState:P})),t.font&&(A?this.setFont(A):this.resetFont())},n.prototype.drawImage=function(e,t){var r,i,s,o,a,l,c;t===void 0&&(t={}),et(e,"image",[[vM,"PDFImage"]]),Xt(t.x,"options.x",["number"]),Xt(t.y,"options.y",["number"]),Xt(t.width,"options.width",["number"]),Xt(t.height,"options.height",["number"]),Xt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Xt(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Xt(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),CA(t.opacity,"opacity.opacity",0,1),yu(t.blendMode,"options.blendMode",Kh);var u=this.node.newXObject("Image",e.ref),A=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),h=this.getContentStream();h.push.apply(h,QX(u,{x:(r=t.x)!==null&&r!==void 0?r:this.x,y:(i=t.y)!==null&&i!==void 0?i:this.y,width:(s=t.width)!==null&&s!==void 0?s:e.size().width,height:(o=t.height)!==null&&o!==void 0?o:e.size().height,rotate:(a=t.rotate)!==null&&a!==void 0?a:dr(0),xSkew:(l=t.xSkew)!==null&&l!==void 0?l:dr(0),ySkew:(c=t.ySkew)!==null&&c!==void 0?c:dr(0),graphicsState:A}))},n.prototype.drawPage=function(e,t){var r,i,s,o,a;t===void 0&&(t={}),et(e,"embeddedPage",[[XX,"PDFEmbeddedPage"]]),Xt(t.x,"options.x",["number"]),Xt(t.y,"options.y",["number"]),Xt(t.xScale,"options.xScale",["number"]),Xt(t.yScale,"options.yScale",["number"]),Xt(t.width,"options.width",["number"]),Xt(t.height,"options.height",["number"]),Xt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Xt(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Xt(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),CA(t.opacity,"opacity.opacity",0,1),yu(t.blendMode,"options.blendMode",Kh);var l=this.node.newXObject("EmbeddedPdfPage",e.ref),c=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),u=t.width!==void 0?t.width/e.width:t.xScale!==void 0?t.xScale:1,A=t.height!==void 0?t.height/e.height:t.yScale!==void 0?t.yScale:1,h=this.getContentStream();h.push.apply(h,uwe(l,{x:(r=t.x)!==null&&r!==void 0?r:this.x,y:(i=t.y)!==null&&i!==void 0?i:this.y,xScale:u,yScale:A,rotate:(s=t.rotate)!==null&&s!==void 0?s:dr(0),xSkew:(o=t.xSkew)!==null&&o!==void 0?o:dr(0),ySkew:(a=t.ySkew)!==null&&a!==void 0?a:dr(0),graphicsState:c}))},n.prototype.drawSvgPath=function(e,t){var r,i,s,o,a,l,c,u,A;t===void 0&&(t={}),et(e,"path",["string"]),Xt(t.x,"options.x",["number"]),Xt(t.y,"options.y",["number"]),Xt(t.scale,"options.scale",["number"]),Xt(t.rotate,"options.rotate",[[Object,"Rotation"]]),Xt(t.borderWidth,"options.borderWidth",["number"]),Xt(t.color,"options.color",[[Object,"Color"]]),CA(t.opacity,"opacity.opacity",0,1),Xt(t.borderColor,"options.borderColor",[[Object,"Color"]]),Xt(t.borderDashArray,"options.borderDashArray",[Array]),Xt(t.borderDashPhase,"options.borderDashPhase",["number"]),yu(t.borderLineCap,"options.borderLineCap",T1),CA(t.borderOpacity,"options.borderOpacity",0,1),yu(t.blendMode,"options.blendMode",Kh);var h=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.borderColor=En(0,0,0));var f=this.getContentStream();f.push.apply(f,fwe(e,{x:(r=t.x)!==null&&r!==void 0?r:this.x,y:(i=t.y)!==null&&i!==void 0?i:this.y,scale:t.scale,rotate:(s=t.rotate)!==null&&s!==void 0?s:dr(0),color:(o=t.color)!==null&&o!==void 0?o:void 0,borderColor:(a=t.borderColor)!==null&&a!==void 0?a:void 0,borderWidth:(l=t.borderWidth)!==null&&l!==void 0?l:0,borderDashArray:(c=t.borderDashArray)!==null&&c!==void 0?c:void 0,borderDashPhase:(u=t.borderDashPhase)!==null&&u!==void 0?u:void 0,borderLineCap:(A=t.borderLineCap)!==null&&A!==void 0?A:void 0,graphicsState:h}))},n.prototype.drawLine=function(e){var t,r,i,s,o;et(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),et(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),et(e.start.x,"options.start.x",["number"]),et(e.start.y,"options.start.y",["number"]),et(e.end.x,"options.end.x",["number"]),et(e.end.y,"options.end.y",["number"]),Xt(e.thickness,"options.thickness",["number"]),Xt(e.color,"options.color",[[Object,"Color"]]),Xt(e.dashArray,"options.dashArray",[Array]),Xt(e.dashPhase,"options.dashPhase",["number"]),yu(e.lineCap,"options.lineCap",T1),CA(e.opacity,"opacity.opacity",0,1),yu(e.blendMode,"options.blendMode",Kh);var a=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=En(0,0,0));var l=this.getContentStream();l.push.apply(l,Awe({start:e.start,end:e.end,thickness:(t=e.thickness)!==null&&t!==void 0?t:1,color:(r=e.color)!==null&&r!==void 0?r:void 0,dashArray:(i=e.dashArray)!==null&&i!==void 0?i:void 0,dashPhase:(s=e.dashPhase)!==null&&s!==void 0?s:void 0,lineCap:(o=e.lineCap)!==null&&o!==void 0?o:void 0,graphicsState:a}))},n.prototype.drawRectangle=function(e){var t,r,i,s,o,a,l,c,u,A,h,f,v;e===void 0&&(e={}),Xt(e.x,"options.x",["number"]),Xt(e.y,"options.y",["number"]),Xt(e.width,"options.width",["number"]),Xt(e.height,"options.height",["number"]),Xt(e.rotate,"options.rotate",[[Object,"Rotation"]]),Xt(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Xt(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Xt(e.borderWidth,"options.borderWidth",["number"]),Xt(e.color,"options.color",[[Object,"Color"]]),CA(e.opacity,"opacity.opacity",0,1),Xt(e.borderColor,"options.borderColor",[[Object,"Color"]]),Xt(e.borderDashArray,"options.borderDashArray",[Array]),Xt(e.borderDashPhase,"options.borderDashPhase",["number"]),yu(e.borderLineCap,"options.borderLineCap",T1),CA(e.borderOpacity,"options.borderOpacity",0,1),yu(e.blendMode,"options.blendMode",Kh);var g=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=En(0,0,0));var x=this.getContentStream();x.push.apply(x,ww({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(r=e.y)!==null&&r!==void 0?r:this.y,width:(i=e.width)!==null&&i!==void 0?i:150,height:(s=e.height)!==null&&s!==void 0?s:100,rotate:(o=e.rotate)!==null&&o!==void 0?o:dr(0),xSkew:(a=e.xSkew)!==null&&a!==void 0?a:dr(0),ySkew:(l=e.ySkew)!==null&&l!==void 0?l:dr(0),borderWidth:(c=e.borderWidth)!==null&&c!==void 0?c:0,color:(u=e.color)!==null&&u!==void 0?u:void 0,borderColor:(A=e.borderColor)!==null&&A!==void 0?A:void 0,borderDashArray:(h=e.borderDashArray)!==null&&h!==void 0?h:void 0,borderDashPhase:(f=e.borderDashPhase)!==null&&f!==void 0?f:void 0,graphicsState:g,borderLineCap:(v=e.borderLineCap)!==null&&v!==void 0?v:void 0}))},n.prototype.drawSquare=function(e){e===void 0&&(e={});var t=e.size;Xt(t,"size",["number"]),this.drawRectangle(Cr(Cr({},e),{width:t,height:t}))},n.prototype.drawEllipse=function(e){var t,r,i,s,o,a,l,c,u,A,h;e===void 0&&(e={}),Xt(e.x,"options.x",["number"]),Xt(e.y,"options.y",["number"]),Xt(e.xScale,"options.xScale",["number"]),Xt(e.yScale,"options.yScale",["number"]),Xt(e.rotate,"options.rotate",[[Object,"Rotation"]]),Xt(e.color,"options.color",[[Object,"Color"]]),CA(e.opacity,"opacity.opacity",0,1),Xt(e.borderColor,"options.borderColor",[[Object,"Color"]]),CA(e.borderOpacity,"options.borderOpacity",0,1),Xt(e.borderWidth,"options.borderWidth",["number"]),Xt(e.borderDashArray,"options.borderDashArray",[Array]),Xt(e.borderDashPhase,"options.borderDashPhase",["number"]),yu(e.borderLineCap,"options.borderLineCap",T1),yu(e.blendMode,"options.blendMode",Kh);var f=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=En(0,0,0));var v=this.getContentStream();v.push.apply(v,gM({x:(t=e.x)!==null&&t!==void 0?t:this.x,y:(r=e.y)!==null&&r!==void 0?r:this.y,xScale:(i=e.xScale)!==null&&i!==void 0?i:100,yScale:(s=e.yScale)!==null&&s!==void 0?s:100,rotate:(o=e.rotate)!==null&&o!==void 0?o:void 0,color:(a=e.color)!==null&&a!==void 0?a:void 0,borderColor:(l=e.borderColor)!==null&&l!==void 0?l:void 0,borderWidth:(c=e.borderWidth)!==null&&c!==void 0?c:0,borderDashArray:(u=e.borderDashArray)!==null&&u!==void 0?u:void 0,borderDashPhase:(A=e.borderDashPhase)!==null&&A!==void 0?A:void 0,borderLineCap:(h=e.borderLineCap)!==null&&h!==void 0?h:void 0,graphicsState:f}))},n.prototype.drawCircle=function(e){e===void 0&&(e={});var t=e.size,r=t===void 0?100:t;Xt(r,"size",["number"]),this.drawEllipse(Cr(Cr({},e),{xScale:r,yScale:r}))},n.prototype.setOrEmbedFont=function(e){var t=this.font,r=this.fontKey;e?this.setFont(e):this.getFont();var i=this.font,s=this.fontKey;return{oldFont:t,oldFontKey:r,newFont:i,newFontKey:s}},n.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(vg.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},n.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},n.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},n.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.doc.context.obj({}),i=B2.of(r,e);return i},n.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,r=e.borderOpacity,i=e.blendMode;if(!(t===void 0&&r===void 0&&i===void 0)){var s=this.doc.context.obj({Type:"ExtGState",ca:t,CA:r,BM:i}),o=this.node.newExtGState("GS",s);return o}},n.prototype.scaleAnnot=function(e,t,r){for(var i=["RD","CL","Vertices","QuadPoints","L","Rect"],s=0,o=i.length;s<o;s++){var a=e.lookup(be.of(i[s]));a instanceof Gr&&a.scalePDFNumbers(t,r)}var l=e.lookup(be.of("InkList"));if(l instanceof Gr)for(var s=0,o=l.size();s<o;s++){var c=l.lookup(s);c instanceof Gr&&c.scalePDFNumbers(t,r)}},n.of=function(e,t,r){return new n(e,t,r)},n.create=function(e){et(e,"doc",[[Fl,"PDFDocument"]]);var t=Pi.of(-1),r=Rf.withContextAndParent(e.context,t),i=e.context.register(r);return new n(r,i,e)},n}(),nF=function(n){Zt(e,n);function e(t,r,i){var s=n.call(this,t,r,i)||this;return et(t,"acroButton",[[pk,"PDFAcroPushButton"]]),s.acroField=t,s}return e.prototype.setImage=function(t,r){r===void 0&&(r=sg.Center);for(var i=this.acroField.getWidgets(),s=0,o=i.length;s<o;s++){var a=i[s],l=this.createImageAppearanceStream(a,t,r);this.updateWidgetAppearances(a,{normal:l})}this.markAsClean()},e.prototype.setFontSize=function(t){uk(t,"fontSize"),this.acroField.setFontSize(t),this.markAsDirty()},e.prototype.addToPage=function(t,r,i){var s,o,a,l,c,u,A,h,f,v,g;Xt(t,"text",["string"]),Xt(r,"page",[[Mu,"PDFPage"]]),Dw(i);var x=this.createWidget({x:((s=i==null?void 0:i.x)!==null&&s!==void 0?s:0)-((o=i==null?void 0:i.borderWidth)!==null&&o!==void 0?o:0)/2,y:((a=i==null?void 0:i.y)!==null&&a!==void 0?a:0)-((l=i==null?void 0:i.borderWidth)!==null&&l!==void 0?l:0)/2,width:(c=i==null?void 0:i.width)!==null&&c!==void 0?c:100,height:(u=i==null?void 0:i.height)!==null&&u!==void 0?u:50,textColor:(A=i==null?void 0:i.textColor)!==null&&A!==void 0?A:En(0,0,0),backgroundColor:(h=i==null?void 0:i.backgroundColor)!==null&&h!==void 0?h:En(.75,.75,.75),borderColor:i==null?void 0:i.borderColor,borderWidth:(f=i==null?void 0:i.borderWidth)!==null&&f!==void 0?f:0,rotate:(v=i==null?void 0:i.rotate)!==null&&v!==void 0?v:dr(0),caption:t,hidden:i==null?void 0:i.hidden,page:r.ref}),b=this.doc.context.register(x.dict);this.acroField.addWidget(b);var S=(g=i==null?void 0:i.font)!==null&&g!==void 0?g:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(x,S),r.node.addAnnot(b)},e.prototype.needsAppearancesUpdate=function(){var t;if(this.isDirty())return!0;for(var r=this.acroField.getWidgets(),i=0,s=r.length;i<s;i++){var o=r[i],a=((t=o.getAppearances())===null||t===void 0?void 0:t.normal)instanceof Xc;if(!a)return!0}return!1},e.prototype.defaultUpdateAppearances=function(t){et(t,"font",[[Zc,"PDFFont"]]),this.updateAppearances(t)},e.prototype.updateAppearances=function(t,r){et(t,"font",[[Zc,"PDFFont"]]),Xt(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),s=0,o=i.length;s<o;s++){var a=i[s];this.updateWidgetAppearance(a,t,r)}},e.prototype.updateWidgetAppearance=function(t,r,i){var s=i??Rwe,o=Rw(s(this,t,r));this.updateWidgetAppearanceWithFont(t,r,o)},e.of=function(t,r,i){return new e(t,r,i)},e}(py);const kD=Object.fromEntries(sc.map(n=>{const t={"K-Rich":"https://nutri-tech.com.au/products/k-rich","Cal-Tech":"https://nutri-tech.com.au/products/cal-tech","Calcium Fulvate":"https://nutri-tech.com.au/collections/premium-liquids/products/farm-saver-calcium-fulvate","Citrus-Tech Triple Ten":"https://nutri-tech.com.au/products/citrus-tech-triple-ten","Cloak Spray Oil":"https://nutri-tech.com.au/products/cloak-spray-oil","Nutri-Carb-N":"https://nutri-tech.com.au/products/nutri-carb-n","Phos-Force":"https://nutri-tech.com.au/products/phos-force","Photo-Finish":"https://nutri-tech.com.au/products/photo-finish","Potassium Silicate":"https://nutri-tech.com.au/products/potassium-silicate","Seed-Start":"https://nutri-tech.com.au/products/seed-start","Trio (CMB)":"https://nutri-tech.com.au/products/trio-cmb","Triple Ten":"https://nutri-tech.com.au/products/triple-ten","Tsunami Super Spreader":"https://nutri-tech.com.au/products/tsunami-super-spreader","Activated Char Condensate (ACC)":"https://nutri-tech.com.au/collections/nslpgp/products/activated-char-condensate","Aloe-Tech":"https://nutri-tech.com.au/collections/nslpgp/products/aloe-tech","Amino-Max":"https://nutri-tech.com.au/collections/nslpgp/products/amino-max","Brix-Fix":"https://nutri-tech.com.au/collections/nslpgp/products/brix-fix","Nutri-Kelp":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-kelp","Nutri-Sea Liquid Fish":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-sea-liquid-fish","Nutri-Stim Saponins":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-stim-saponins","Nutri-Stim Triacontanol":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-stim-triacontanol","Nutri-Tech Black Gold":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-tech-black-gold","Root & Shoot":"https://nutri-tech.com.au/collections/nslpgp/products/root-and-shoot","SeaChange KFF":"https://nutri-tech.com.au/collections/nslpgp/products/seachange-kff","SeaChange Liquid Kelp":"https://nutri-tech.com.au/collections/nslpgp/products/seachange-liquid-kelp","Tri-Kelp":"https://nutri-tech.com.au/collections/nslpgp/products/tri-kelp","Micro-Amino Drive (MAD)":"https://nutri-tech.com.au/collections/nslpgp/products/micro-amino-drive-mad","Boron Essentials":"https://nutri-tech.com.au/products/boron-essentials","Copper Essentials":"https://nutri-tech.com.au/products/copper-essentials","Iron Essentials":"https://nutri-tech.com.au/products/iron-essentials","Manganese Essentials":"https://nutri-tech.com.au/products/manganese-essentials","Multi-Boost":"https://nutri-tech.com.au/products/multi-boost","Multi-Min":"https://nutri-tech.com.au/products/multi-min","Multi-Plex":"https://nutri-tech.com.au/products/multi-plex","Nutri-Key Boron Shuttle":"https://nutri-tech.com.au/products/boron-shuttle","Nutri-Key Calcium Shuttle":"https://nutri-tech.com.au/products/calcium-shuttle","Nutri-Key Cobalt Shuttle":"https://nutri-tech.com.au/products/nutri-key-cobalt-shuttle","Nutri-Key Copper Shuttle":"https://nutri-tech.com.au/products/copper-shuttle","Nutri-Key Hydro-Shuttle":"https://nutri-tech.com.au/products/hydro-shuttle","Nutri-Key Iron Shuttle":"https://nutri-tech.com.au/products/iron-shuttle","Nutri-Key Magnesium Shuttle":"https://nutri-tech.com.au/products/magnesium-shuttle","Nutri-Key Manganese Shuttle":"https://nutri-tech.com.au/products/manganese-shuttle","Nutri-Key Moly Shuttle":"https://nutri-tech.com.au/products/moly-shuttle","Nutri-Key Shuttle Seven":"https://nutri-tech.com.au/products/shuttle-seven","Nutri-Key Zinc Shuttle":"https://nutri-tech.com.au/products/zinc-shuttle","Zinc Essentials":"https://nutri-tech.com.au/products/zinc-essentials","CalMag-Life Organic":"https://nutri-tech.com.au/products/calmag-life-organic","Dia-Life Organic":"https://nutri-tech.com.au/products/dia-life-organic","Gyp-Life Organic":"https://nutri-tech.com.au/products/gyp-life-organic","Lime-Life Organic":"https://nutri-tech.com.au/products/lime-life-organic","Mag-Life Organic":"https://nutri-tech.com.au/products/mag-life-organic","Phos-Life Organic":"https://nutri-tech.com.au/products/phos-life-organic","Sili-Cal (B)":"https://nutri-tech.com.au/products/sili-cal-b","Nutri-Life BAM":"https://nutri-tech.com.au/products/nutri-life-bam","NTS Liquid Humus":"https://nutri-tech.com.au/products/liquid-humus","NTS Soluble Humate Granules":"https://nutri-tech.com.au/products/soluble-humate-granules","NTS Super Soluble Humates":"https://nutri-tech.com.au/products/super-soluble-humates","NTS Fulvic Acid Powder":"https://nutri-tech.com.au/products/fulvic-acid-powder","NTS Fast Fulvic":"https://nutri-tech.com.au/products/fast-fulvic","NTS FulvX Powder":"https://nutri-tech.com.au/products/fulvx-powder","Worm Juice":"Source locally","Compost Tea Extract":"Source locally","Soluble Boron":"Source locally","Boric Acid":"Source locally","Biomin Calcium":"Source locally","NTS Stabilised Boron Granules":"https://nutri-tech.com.au/products/stabilised-boron-granules","Nutri-Life B.Sub":"https://nutri-tech.com.au/products/b-sub","Nutri-Life Bio-N":"https://nutri-tech.com.au/products/bio-n","Nutri-Life Bio-Plex":"https://nutri-tech.com.au/products/bio-plex","Nutri-Life Bio-P":"https://nutri-tech.com.au/products/bio-p","Nutri-Life Micro-Force":"https://nutri-tech.com.au/products/micro-force","Nutri-Life Root-Guard":"https://nutri-tech.com.au/products/root-guard","Nutri-Life Platform":"https://nutri-tech.com.au/products/platform","Nutri-Life Sudo-Shield":"https://nutri-tech.com.au/products/nutri-life-sudo-shield","Nutri-Life Tricho-Shield":"https://nutri-tech.com.au/products/tricho-shield"}[n.label]||"https://nutri-tech.com.au/";return[n.label,{url:t,description:n.description}]})),Vwe={"Nutri-Gyp Natural Gypsum":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-gyp-natural-gypsum",description:"Natural gypsum providing calcium and sulfur to improve soil structure and correct sodicity."},"NTS Soft Rock":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nts-soft-rock",description:"Soft rock phosphate providing phosphorus and calcium for root development and soil health."},"NTS Liquid Humus":{url:"https://nutri-tech.com.au/collections/humates/products/nts-liquid-humus",description:"A premium liquid humic acid formulation designed to improve soil structure, stimulate beneficial microbial activity and boost overall soil fertility."},"Elemental Sulfur":{url:"Source locally",description:"Lowers soil pH and supplies sulfur for protein synthesis and enzyme function."},"Calcium Nitrate":{url:"Source locally",description:"Fast-acting calcium and nitrogen source for quick correction of deficiencies."},"Potassium Nitrate":{url:"Source locally",description:"Provides potassium and nitrogen for plant growth and stress tolerance."},"Dolomitic Lime":{url:"Source locally",description:"Raises soil pH while supplying calcium and magnesium for balanced fertility."},"Epsom Salt (Magnesium Sulfate Heptahydrate)":{url:"Source locally",description:"Fast-acting magnesium and sulfur source for quick deficiency correction."},"Gypsum (Calcium Sulfate)":{url:"Source locally",description:"Improves soil structure and provides calcium and sulfur without affecting pH."},"Life Force Carbon":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/life-force-carbon",description:"Organic carbon-based soil amendment to improve soil structure, water retention, and microbial activity."},"NTS Fast Fulvic":{url:"https://nutri-tech.com.au/collections/humates/products/nts-fast-fulvic",description:"Fulvic acid liquid concentrate to enhance nutrient uptake, improve soil biology, and boost plant vigor."},"NTS Fulvic Acid Powder":{url:"https://nutri-tech.com.au/collections/humates/products/nts-fulvic-acid-powder",description:"Concentrated fulvic acid powder for improved nutrient chelation and plant absorption."},"NTS FulvX Powder":{url:"https://nutri-tech.com.au/collections/humates/products/nts-fulvx-powder",description:"Concentrated soluble fulvic and humic acid powder for enhanced soil fertility and plant nutrition."},"NTS Soluble Humate Granules":{url:"https://nutri-tech.com.au/collections/humates/products/nts-soluble-humate-granules",description:"Soluble humate granules to improve soil CEC, nutrient retention, and microbial health."},"NTS Stabilised Boron Granules":{url:"https://nutri-tech.com.au/collections/humates/products/nts-stabilised-boron-granules",description:"Slow-release boron granules to support flowering, fruit set, and calcium mobility."},"NTS Super Soluble Humates":{url:"https://nutri-tech.com.au/collections/humates/products/nts-super-soluble-humates",description:"Super-soluble humic acid powder for enhanced nutrient efficiency and soil microbial stimulation."},"Nutri-Phos Super Active":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-phos-super-active",description:"Advanced phosphate formulation with calcium and silica to boost root growth and soil fertility."},"Worm Juice":{url:"Source locally",description:"A concentrated, biologically active worm-cast extract designed to prime and enhance soil vitality."},"Compost Tea Extract":{url:"Source locally",description:"Aerobic compost extract rich in beneficial microbes and nutrients to enhance soil biology and plant health."},"Soluble Boron":{url:"Source locally",description:"Water-soluble boron source for rapid correction of boron deficiencies affecting flowering and fruit set."},"Boric Acid":{url:"Source locally",description:"Pure boron source for precise correction of boron deficiencies in crops."},"Biomin Calcium":{url:"Source locally",description:"Chelated calcium formulation for enhanced calcium uptake and improved plant structure."},Urea:{url:"Source locally",description:"High-analysis nitrogen fertilizer (46% N) for rapid plant growth and protein synthesis."},"Sodium Nitrate (Chile Nitrate)":{url:"Source locally",description:"Natural nitrate source providing sodium and nitrogen, ideal for alkaline soil conditions."},"Zinc Nitrate":{url:"Source locally",description:"Fast-acting zinc and nitrogen source for quick correction of zinc deficiencies."},"Iron Nitrate":{url:"Source locally",description:"Soluble iron and nitrogen source for rapid correction of iron chlorosis."},"Copper Nitrate":{url:"Source locally",description:"Copper and nitrogen source for correction of copper deficiencies and plant health."},"UAN Solution (Urea Ammonium Nitrate)":{url:"Source locally",description:"Liquid nitrogen solution providing urea, ammonium, and nitrate for sustained nitrogen release."},"Calcium Ammonium Nitrate (CAN)":{url:"Source locally",description:"Nitrogen fertilizer with calcium to provide balanced nutrition and improve soil structure."},"Ammonium Polyphosphate (APP)":{url:"Source locally",description:"Liquid phosphorus and nitrogen source with enhanced phosphorus availability."},"Ammonium Chloride":{url:"Source locally",description:"Fast-acting nitrogen source suitable for chloride-tolerant crops."},"Ammonium Acetate":{url:"Source locally",description:"Organic nitrogen source that improves soil microbial activity and nutrient cycling."},"Triple Superphosphate (TSP)":{url:"Source locally",description:"High-analysis phosphorus fertilizer with calcium for strong root development."},"Monoammonium Phosphate (MAP)":{url:"Source locally",description:"Water-soluble phosphorus and nitrogen source for precise nutrient application."},"Diammonium Phosphate (DAP)":{url:"Source locally",description:"Popular phosphorus and nitrogen fertilizer for general crop nutrition."},"Rock Phosphate":{url:"Source locally",description:"Slow-release phosphorus source requiring acidic soil conditions for availability."},"Soft Rock Phosphate":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nts-soft-rock",description:"Soft rock phosphate providing phosphorus and calcium for root development and soil health."},"Bone Meal":{url:"Source locally",description:"Organic phosphorus and calcium source from ground animal bones for soil improvement."},"Fish Bone Meal":{url:"Source locally",description:"Marine-derived organic fertilizer providing nitrogen, phosphorus, and calcium."},Thermophosphate:{url:"Source locally",description:"Heat-treated phosphate rock providing phosphorus, calcium, and magnesium."},"Muriate of Potash (Potassium Chloride)":{url:"Source locally",description:"High-analysis potassium fertilizer suitable for chloride-tolerant crops."},Langbeinite:{url:"Source locally",description:"Natural potassium, magnesium, and sulfur source for balanced nutrition."},"Potassium Magnesium Sulfate":{url:"Source locally",description:"Soluble potassium, magnesium, and sulfur source for comprehensive nutrition."},"Potassium Thiosulfate":{url:"Source locally",description:"Liquid potassium and sulfur source with enhanced nutrient availability."},"Potassium Carbonate":{url:"Source locally",description:"Alkaline potassium source suitable for acid soil correction."},"Potassium Acetate":{url:"Source locally",description:"Organic potassium source that enhances soil microbial activity."},"Wood Ash":{url:"Source locally",description:"Organic potassium and calcium source from burned wood, raises soil pH."},"Kieserite (Magnesium Sulfate Monohydrate)":{url:"Source locally",description:"Concentrated magnesium and sulfur source for soil and foliar application."},"Magnesium Nitrate":{url:"Source locally",description:"Fast-acting magnesium and nitrogen source for quick deficiency correction."},"Magnesium Chloride":{url:"Source locally",description:"Soluble magnesium source for rapid correction of magnesium deficiencies."},"Sulfur-Rich Compost":{url:"Source locally",description:"Organic compost providing sulfur and other nutrients for soil improvement."},"Ammonium Sulfate":{url:"Source locally",description:"Nitrogen and sulfur fertilizer that acidifies soil and provides quick nutrition."},"Potassium Sulfate (Sulfate of Potash)":{url:"Source locally",description:"High-quality potassium and sulfur source without chloride."},"Ammonium Thiosulfate":{url:"Source locally",description:"Liquid nitrogen and sulfur source for precise nutrient application."},"Sulfur-Coated Urea":{url:"Source locally",description:"Slow-release nitrogen and sulfur fertilizer for sustained nutrition."},"Chicken Manure":{url:"Source locally",description:"Organic fertilizer providing balanced NPK and trace elements for soil health."}};Object.assign(kD,Vwe);kD["[No Name]"]={url:"",description:"No product information available."};const Gwe={"Seed Treatment":"Applied to seeds before planting to provide essential nutrients and beneficial biology for strong germination and early growth.","Planting Blend":"Mixed into the planting hole or applied at planting to establish healthy root development and soil biology.","Soil Amendments":"Applied to correct specific nutrient deficiencies identified in your soil analysis, targeting optimal levels for plant health.","Main Soil Corrections":"Applied to correct specific nutrient deficiencies identified in your soil analysis, targeting optimal levels for plant health.","Biological Fertigation Program":"Delivers beneficial biology and nutrients through fertigation to boost soil health and plant growth.","Pre-Flowering Foliar Spray":"Applied before flowering to supply key nutrients for strong flowering and fruit set.","Nutritional Foliar Spray":"Provides essential nutrients during growth to quickly correct deficiencies and support plant health."};function r0(n){const e=/(\*\*[^*]+\*\*)/g;return n.split(e).map(r=>r.startsWith("**")&&r.endsWith("**")?{text:r.slice(2,-2),bold:!0}:{text:r,bold:!1}).filter(r=>r.text.length>0)}function i0(n,e,t,r,i){const s=[];let o=[],a=0;for(const l of n){const c=l.bold?t:e,u=l.text.split(" ");for(let A=0;A<u.length;A++){let h=u[A];if(h==="")continue;const f=c.widthOfTextAtSize(h,r),v=o.length>0?e.widthOfTextAtSize(" ",r):0;a+f+v>i&&o.length>0&&(s.push(o),o=[],a=0),o.length>0&&(o.push({text:" ",bold:!1}),a+=v),o.push({text:h,bold:l.bold}),a+=f}}return o.length>0&&s.push(o),s}function Wwe(n){return n?String(n).replace(/[\u00A0\u202F\u2007\u2009\u200A\u200B\u2060\u2000-\u200A]+/g," ").replace(/([.,;:!?])(?![ \n])/g,"$1 ").replace(/([a-z0-9\)])([A-Z])/g,"$1 $2").replace(/([A-Za-z])(\()/g,"$1 $2").replace(/(\))([A-Za-z])/g,"$1 $2").replace(/ {2,}/g," ").replace(/\bp\s*H\b/g,"pH").replace(/\bLa\s*Motte\b/gi,"LaMotte"):""}function qwe(n){if(!n)return"";let e=String(n);const t=[{pattern:/\bcalcium\b/gi,to:"Calcium"},{pattern:/\bmagnesium\b/gi,to:"Magnesium"},{pattern:/\bphosphorus\b/gi,to:"Phosphorus"},{pattern:/\bpotassium\b/gi,to:"Potassium"},{pattern:/\bsodium\b/gi,to:"Sodium"},{pattern:/\b(?:sulphur|sulfur)\b/gi,to:"Sulphur"},{pattern:/\bboron\b/gi,to:"Boron"},{pattern:/\bcopper\b/gi,to:"Copper"},{pattern:/\bzinc\b/gi,to:"Zinc"},{pattern:/\biron\b/gi,to:"Iron"},{pattern:/\bmanganese\b/gi,to:"Manganese"},{pattern:/\bmolybdenum\b/gi,to:"Molybdenum"},{pattern:/\bcobalt\b/gi,to:"Cobalt"},{pattern:/\bsilicon\b/gi,to:"Silicon"},{pattern:/\b(?:aluminium|aluminum)\b/gi,to:"Aluminium"},{pattern:/\bnitrate-?n\b/gi,to:"Nitrate-N"},{pattern:/\bammonium-?n\b/gi,to:"Ammonium-N"},{pattern:/\borganic\s+matter\b/gi,to:"Organic matter"},{pattern:/\bbase\s+saturation\b/gi,to:"Base saturation"},{pattern:/\bcation\s+exchange\s+capacity\b/gi,to:"Cation exchange capacity"},{pattern:/\bcec\b/gi,to:"CEC"},{pattern:/\bla\s*motte\b/gi,to:"LaMotte"}];for(const{pattern:s,to:o}of t)e=e.replace(s,o);const r=["Calcium","Magnesium","Phosphorus","Potassium","Sodium","Sulphur","Sulfur","Boron","Copper","Zinc","Iron","Manganese","Molybdenum","Cobalt","Silicon","Aluminium","Aluminum","Nitrate-N","Ammonium-N","Organic matter","Base saturation","CEC","Cation Exchange Capacity","pH"],i=(s,o)=>s.replace(o,(a,...l)=>{const c=l[l.length-2],u=l[l.length-1],A=u.slice(Math.max(0,c-2),c),h=u.slice(c+a.length,c+a.length+2);return A==="**"&&h==="**"?a:`**${a}**`});for(const s of r){if(s.toLowerCase()==="ph"){e=i(e,/\bp\s*H\b/gi);continue}const o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=new RegExp(`\\b${o}\\b`,"gi");e=i(e,a)}return e}function s0(n,e,t,r,i,s,o,a,l,c){const u=e.filter(g=>g.text===" ").length,A=e.reduce((g,x)=>g+(x.bold?i.widthOfTextAtSize(x.text,s):r.widthOfTextAtSize(x.text,s)),0);let h=!c&&u>0?(l-A)/u:0,f=a,v=0;for(const g of e){const x=g.bold?i:r;if(g.text===" "){n.drawText(" ",{x:f,y:t,size:s,font:r,color:o});let b=r.widthOfTextAtSize(" ",s);!c&&v<u&&(b+=h),f+=b,v++}else n.drawText(g.text,{x:f,y:t,size:s,font:x,color:o}),f+=x.widthOfTextAtSize(g.text,s)}}function n1(n,e,t,r){const s=n.replace(/\s+/g," ").trim().split(" "),o=[];let a="";for(let l=0;l<s.length;l++){let c=s[l];if(c.trim()){if(a){const u=a+" "+c;e.widthOfTextAtSize(u,t)>r?(o.push(a),a=c):a=u}else a=c;for(;e.widthOfTextAtSize(a,t)>r&&!a.includes(" ");){let u=a.length-1;for(;u>1&&e.widthOfTextAtSize(a.slice(0,u)+"-",t)>r;)u--;if(u<=1)break;o.push(a.slice(0,u)+"-"),a=a.slice(u)}}}return a&&o.push(a),o}async function Xwe(n,e,t="soil"){var S,E,k,P,N,I,U,V;const r=Array.isArray(n)?n:[n],i=await Fl.create(),s=await i.embedFont(vg.Helvetica),o=await i.embedFont(vg.HelveticaBold),a=En(.55,.71,.23),l=En(.5,.5,.5),c=En(0,0,0);if(e&&e.frontAttachments&&e.frontAttachments.length>0)for(const W of e.frontAttachments){let L="";if(W==="plant-therapy-cover"&&(L="/attachments/plant-therapy-cover.pdf"),W==="soil-therapy-cover"&&(L="/attachments/soil-therapy-cover.pdf"),L)try{const D=await fetch(L);if(!D.ok){console.warn(`PDF file not found: ${L}`);continue}const z=await D.arrayBuffer(),G=await Fl.load(z);(await i.copyPages(G,G.getPageIndices())).forEach(J=>i.addPage(J))}catch(D){console.warn(`Failed to load PDF: ${L}`,D);continue}}if(e&&e.uploadedFile){const W=e.uploadedFile,L=await new Promise((G,ve)=>{const J=new FileReader;J.onload=()=>G(J.result),J.onerror=ve,J.readAsArrayBuffer(W)}),D=await Fl.load(L);(await i.copyPages(D,D.getPageIndices())).forEach(G=>i.addPage(G))}const u=r[0];(S=u.paddockName)!=null&&S.toLowerCase().includes("plant")||(E=u.paddockName)!=null&&E.toLowerCase().includes("leaf")||((k=u.paddockName)==null||k.toLowerCase().includes("treatment")),(P=u.paddockName)!=null&&P.toLowerCase().includes("soil")||(N=u.paddockName)!=null&&N.toLowerCase().includes("analysis")||(I=u.summary)!=null&&I.toLowerCase().includes("soil")||((U=u.somCecText)==null||U.toLowerCase().includes("soil"));for(let W=0;W<r.length;W++){let L=function(Ze){return Ze?Ze.replace(//g,"3").replace(//g,"2").replace(//g,"1").replace(//g,"0").replace(//g,"3").replace(//g,"2").replace(//g,"1").replace(//g,"0").replace(/[^\x00-\x7F]/g,""):""};const D=r[W],z=i.addPage([595.28,841.89]),G=t==="plant"?"Plant Therapy Report":"Soil Therapy Report";z.drawText(G,{x:120,y:780,size:28,font:o,color:a});let ve=742;const J=D.paddockName||"";if(J){const Ze=(595.28-o.widthOfTextAtSize(J,18))/2;z.drawText(J,{x:Ze,y:ve,size:18,font:o,color:c}),ve-=18}let $=ve-10;const X=520,ie=(595.28-X)/2;let pe=!1;if(t==="plant"&&D.generalCommentsHtml&&String(D.generalCommentsHtml).trim()){const Ze=document.createElement("div");Ze.style.position="absolute",Ze.style.left="-99999px",Ze.style.top="0",Ze.style.width="520px",Ze.style.background="#ffffff",Ze.style.color="#000000",Ze.style.fontFamily="Helvetica, Arial, sans-serif",Ze.style.fontSize="8pt",Ze.style.lineHeight="1.4",Ze.style.padding="0",Ze.style.margin="0";const Oe=document.createElement("style");Oe.textContent=`
        .prose, .prose * {
          font-family: Helvetica, Arial, sans-serif !important;
          font-size: 8pt !important;
          line-height: 1.4 !important;
          color: #000000 !important;
          text-align: justify !important;
        }
        .prose a {
          color: #8cb43a !important;
          text-decoration: none !important;
        }
        .prose a:hover {
          text-decoration: underline !important;
        }
        .prose strong, .prose b {
          font-weight: bold !important;
        }
        .prose p {
          margin: 0.8em 0 !important;
          text-align: justify !important;
        }
        .prose div {
          margin: 0.8em 0 !important;
        }
        .prose ul {
          list-style-type: none !important;
          padding-left: 0 !important;
          margin: 0.5em 0 !important;
        }
        .prose li {
          margin: 0.3em 0 !important;
          padding-left: 1.2em !important;
          position: relative !important;
        }
        .prose li:before {
          content: '' !important;
          position: absolute !important;
          left: 0 !important;
          font-weight: bold !important;
        }
      `,document.head.appendChild(Oe),Ze.className="prose prose-sm",Ze.innerHTML=String(D.generalCommentsHtml),document.body.appendChild(Ze);try{const Ke=(await RG(Ze,{scale:2,useCORS:!0,backgroundColor:"#ffffff"})).toDataURL("image/png"),lt=await i.embedPng(Ke),pt=520,qt=lt.height/lt.width*pt,on=(595.28-pt)/2;z.drawImage(lt,{x:on,y:Math.max(90,$-qt),width:pt,height:qt}),$=Math.max(90,$-qt)-24,pe=!0}catch{}finally{try{document.body.removeChild(Ze)}catch{}try{Oe&&Oe.parentNode&&document.head.removeChild(Oe)}catch{}}}let te="";if(t==="plant")te=String(D.generalComments||D.summary||"");else{if(D.somCecText)te+=D.somCecText+`

`;else{const Ze=[];D.organicMatterText&&Ze.push(String(D.organicMatterText)),D.cecText&&Ze.push(String(D.cecText)),Ze.length&&(te+=Ze.join(`

`)+`

`)}D.baseSaturationText&&(te+=D.baseSaturationText+`

`),D.phText&&(te+=D.phText+`

`),D.availableNutrientsText&&(te+=D.availableNutrientsText+`

`),D.lamotteReamsText&&(te+=D.lamotteReamsText+`

`),D.taeText&&(te+=D.taeText+`

`)}te.trim()||(te=String(D.summary||D.somCecText||"")),te=te.replace(/<br\s*\/?>(?=\s|$)/gi,`
`).replace(/<p>/gi,`
`).replace(/<[^>]+>/g,""),te=Wwe(te),te=qwe(te);let H=te.split(/\n\s*\n|\r\n\s*\r\n/).map(Ze=>Ze.trim()).filter(Boolean);if(!pe&&H.length){let Oe=!1,St="";for(let Ke=0;Ke<H.length;Ke++){const lt=H[Ke];let pt=lt.replace(/\n/g," ");if(pt.includes("Your nutrient antagonism is summarized as following:")){Oe=!0,St="";const[Gt,en]=pt.split(/Your nutrient antagonism is summarized as following:/i);if(Gt&&Gt.trim()){const Yt=r0(Gt.trim()),cn=i0(Yt,s,o,9.5,X);for(let bn=0;bn<cn.length;bn++){const yr=bn===cn.length-1;s0(z,cn[bn],$,s,o,9.5,c,ie,X,yr),$-=15}}const Tt=r0("Your nutrient antagonism is summarized as following:"),tn=i0(Tt,s,o,9.5,X);for(let Yt=0;Yt<tn.length;Yt++){const cn=Yt===tn.length-1;s0(z,tn[Yt],$,s,o,9.5,c,ie,X,cn),$-=15}const yn=(en||"").trim();if(yn){const Yt=/[A-Za-z][A-Za-z\- ]+\([A-Za-z]{1,3}\)\s*can shut down[\s\S]*?(?=(?:\s*[A-Za-z][A-Za-z\- ]+\([A-Za-z]{1,3}\)\s*can shut down)|$)/gi,cn=(yn.match(Yt)||[]).map(bn=>bn.trim());if(cn.length){for(const bn of cn){const yr=r0(bn),On=i0(yr,s,o,9.5,X-15);for(let hr=0;hr<On.length;hr++){let Pn=ie+15;hr===0&&z.drawText("",{x:ie,y:$,size:12,font:o,color:c}),s0(z,On[hr],$,s,o,9.5,c,Pn,X-15,!0),$-=15}$-=4}$-=12,Oe=!1,St="";continue}}$-=12;continue}if(Oe){const Gt=lt.split(/\n+/).map(cn=>cn.trim()).filter(cn=>/can shut down/i.test(cn));if(Gt.length>0){for(const cn of Gt){const bn=r0(cn),yr=i0(bn,s,o,9.5,X-15);for(let On=0;On<yr.length;On++){let hr=ie+15;On===0&&z.drawText("",{x:ie,y:$,size:12,font:o,color:c}),s0(z,yr[On],$,s,o,9.5,c,hr,X-15,!0),$-=15}$-=4}Oe=!1,St="",$-=12;continue}const en=/[A-Z][A-Za-z\- ]+\([A-Za-z]{1,3}\)[^]*?can shut down[^]*?(?=(?:\s*[A-Z][A-Za-z\- ]+\([A-Za-z]{1,3}\)\s*can shut down)|$)/gi,Tt=(lt.match(en)||[]).map(cn=>cn.trim());if(Tt.length>0){for(const cn of Tt){const bn=r0(cn),yr=i0(bn,s,o,9.5,X-15);for(let On=0;On<yr.length;On++){let hr=ie+15;On===0&&z.drawText("",{x:ie,y:$,size:12,font:o,color:c}),s0(z,yr[On],$,s,o,9.5,c,hr,X-15,!0),$-=15}$-=4}Oe=!1,St="",$-=12;continue}if(/can shut down/i.test(pt)&&(St+=(St?" ":"")+pt,Ke<H.length-1))continue;const tn=[],yn=/([^.]+?can shut down[^.]+)(?:\.|$)/gi;let Yt;for(;(Yt=yn.exec(St))!==null;)tn.push(Yt[1].trim());for(const cn of tn){const bn=r0(cn),yr=i0(bn,s,o,9.5,X-13);for(let On=0;On<yr.length;On++){let hr=ie+13;On===0&&z.drawText("",{x:ie,y:$,size:12,font:o,color:c}),s0(z,yr[On],$,s,o,9.5,c,hr,X-13,!0),$-=13}$-=4}Oe=!1,St="",$-=12;continue}const qt=r0(pt),on=i0(qt,s,o,9.5,X);for(let Gt=0;Gt<on.length;Gt++){const en=Gt===on.length-1;s0(z,on[Gt],$,s,o,9.5,c,ie,X,en),$-=15}$-=18}if($-=24,t==="plant"){let Ke=$;const lt="Recommendations";z.drawText(lt,{x:(595.28-o.widthOfTextAtSize(lt,12))/2,y:Ke,size:13,font:o,color:a}),Ke-=18,Ke-=10;const pt=(qt,on)=>{if(!Array.isArray(on)||on.length===0)return;z.drawText(L(qt),{x:ie,y:Ke,size:11,font:o,color:l}),Ke-=14;const en={"Biological Fertigation Program":"In a single biological fertigation program (drip irrigation) apply the following:","Pre-Flowering Foliar Spray":"In a single pre-flowering foliar spray apply the following:","Nutritional Foliar Spray":"In a single nutritional foliar spray apply the following:"}[qt];en&&(z.drawText(L(en),{x:ie+15,y:Ke,size:10,font:s,color:l}),Ke-=12);for(const Tt of on){let tn="[No Name]",yn="",Yt="";typeof Tt=="string"?tn=Tt:Tt&&typeof Tt=="object"&&(Tt.fertilizer?(tn=Tt.fertilizer,yn=Tt.rate||"",Yt=Tt.unit||""):(tn=Tt.name||Tt.product||Tt.label||"[No Name]",yn=Tt.rate||"",Yt=Tt.unit||""));const cn=` ${L(tn)}${yn||Yt?` at ${L(String(yn))} ${L(String(Yt))}`:""}`.trim();if(z.drawText(cn,{x:ie+14,y:Ke,size:10,font:s,color:c}),Ke-=14,Ke<120)return}Ke-=10};pt("Biological Fertigation Program",D.fertigationProducts||D.soilDrenchProducts||[]),pt("Pre-Flowering Foliar Spray",D.preFloweringFoliarProducts||[]),pt("Nutritional Foliar Spray",D.nutritionalFoliarProducts||[])}}else if(!pe){const Ze="No summary available.",Oe=(595.28-s.widthOfTextAtSize(Ze,10))/2;z.drawText(Ze,{x:Oe,y:$,size:10,font:s,color:l}),$-=20}const q=i.addPage([595.28,841.89]),re=500,he=(595.28-re)/2;let Ae=800;Ae-=10;let ge=Array.isArray(D.recommendations)?D.recommendations:[];if(!ge.length){const Ze=[{label:"Calcium Nitrate",nutrientContent:{Calcium:17,Nitrate:12},releaseType:"fast",url:"Source locally"},{label:"Potassium Nitrate",nutrientContent:{Potassium:39,Nitrate:14},releaseType:"fast",url:"Source locally"},{label:"Sodium Nitrate (Chile Nitrate)",nutrientContent:{Sodium:26,Nitrate:16},releaseType:"fast",url:"Source locally"},{label:"Zinc Nitrate",nutrientContent:{Zinc:12,Nitrate:8},releaseType:"fast",url:"Source locally"},{label:"Iron Nitrate",nutrientContent:{Iron:6,Nitrate:10},releaseType:"fast",url:"Source locally"},{label:"Copper Nitrate",nutrientContent:{Copper:8,Nitrate:12},releaseType:"fast",url:"Source locally"},{label:"Ammonium Nitrate",nutrientContent:{Ammonium:17,Nitrate:17},releaseType:"fast",url:"Source locally"},{label:"UAN Solution (Urea Ammonium Nitrate)",nutrientContent:{Urea:18,Ammonium:9,Nitrate:9},releaseType:"fast",url:"Source locally"},{label:"Calcium Ammonium Nitrate (CAN)",nutrientContent:{Calcium:8,Magnesium:2,Ammonium:13,Nitrate:13},releaseType:"fast",url:"Source locally"},{label:"Ammonium Polyphosphate (APP)",nutrientContent:{Phosphorus:10,Ammonium:11},releaseType:"fast",url:"Source locally"},{label:"Ammonium Chloride",nutrientContent:{Ammonium:25},releaseType:"fast",url:"Source locally"},{label:"Ammonium Acetate",nutrientContent:{Ammonium:12},releaseType:"fast",url:"Source locally"},{label:"Triple Superphosphate (TSP)",nutrientContent:{Phosphorus:45,Calcium:19},releaseType:"fast",url:"Source locally"},{label:"Monoammonium Phosphate (MAP)",nutrientContent:{Phosphorus:21.9,Ammonium:10},releaseType:"fast",url:"Source locally"},{label:"Diammonium Phosphate (DAP)",nutrientContent:{Phosphorus:20,Ammonium:18},releaseType:"fast",url:"Source locally"},{label:"Rock Phosphate",nutrientContent:{Phosphorus:25,Calcium:30},releaseType:"very slow",url:"Source locally"},{label:"Agricultural Limestone (CaCO)",nutrientContent:{Calcium:40},releaseType:"slow",url:"Source locally"},{label:"Soft Rock Phosphate",nutrientContent:{Phosphorus:14,Calcium:20},releaseType:"slow",url:"Source locally"},{label:"Bone Meal",nutrientContent:{Calcium:26,Phosphorus:14},releaseType:"slow",url:"Source locally"},{label:"Fish Bone Meal",nutrientContent:{Calcium:20,Phosphorus:10,Ammonium:5},releaseType:"slow",url:"Source locally"},{label:"Calcium Chloride",nutrientContent:{Calcium:27},releaseType:"fast",url:"Source locally"},{label:"Muriate of Potash (Potassium Chloride)",nutrientContent:{Potassium:60},releaseType:"fast",url:"Source locally"},{label:"Langbeinite",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22},releaseType:"moderate",url:"Source locally"},{label:"Potassium Magnesium Sulfate",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22},releaseType:"moderate",url:"Source locally"},{label:"Potassium Thiosulfate",nutrientContent:{Potassium:25,Sulphur:17},releaseType:"fast",url:"Source locally"},{label:"Potassium Carbonate",nutrientContent:{Potassium:55},releaseType:"fast",url:"Source locally"},{label:"Potassium Acetate",nutrientContent:{Potassium:25},releaseType:"fast",url:"Source locally"},{label:"Wood Ash",nutrientContent:{Potassium:5,Calcium:10,Magnesium:2,Phosphorus:1},releaseType:"slow",url:"Source locally"},{label:"Dolomitic Lime",nutrientContent:{Calcium:20,Magnesium:10},releaseType:"slow",url:"Source locally"},{label:"Kieserite (Magnesium Sulfate Monohydrate)",nutrientContent:{Magnesium:16,Sulphur:22},releaseType:"moderate",url:"Source locally"},{label:"Epsom Salt (Magnesium Sulfate Heptahydrate)",nutrientContent:{Magnesium:9.9,Sulphur:13},releaseType:"fast",url:"Source locally"},{label:"Thermophosphate",nutrientContent:{Calcium:20,Magnesium:2,Phosphorus:18},releaseType:"slow",url:"Source locally"},{label:"Magnesium Nitrate",nutrientContent:{Magnesium:10.5,Nitrate:11},releaseType:"fast",url:"Source locally"},{label:"Magnesium Chloride",nutrientContent:{Magnesium:12},releaseType:"fast",url:"Source locally"},{label:"Sulfur-Rich Compost",nutrientContent:{Sulphur:2,Calcium:3,Magnesium:2,Potassium:2,Phosphorus:1,Ammonium:2},releaseType:"slow",url:"Source locally"},{label:"Elemental Sulfur",nutrientContent:{Sulphur:90},releaseType:"very slow",url:"Source locally"},{label:"Gypsum (Calcium Sulfate)",nutrientContent:{Calcium:20,Sulphur:15},releaseType:"moderate",url:"Source locally"},{label:"Ammonium Sulfate",nutrientContent:{Ammonium:21,Sulphur:24},releaseType:"fast",url:"Source locally"},{label:"Potassium Sulfate (Sulfate of Potash)",nutrientContent:{Potassium:42.5,Sulphur:18.4},releaseType:"fast",url:"Source locally"},{label:"Ammonium Thiosulfate",nutrientContent:{Sulphur:26,Ammonium:12},releaseType:"moderate",url:"Source locally"},{label:"Sulfur-Coated Urea",nutrientContent:{Sulphur:15,Ammonium:35},releaseType:"slow",url:"Source locally"},{label:"Chicken Manure",nutrientContent:{Phosphorus:2.5,Ammonium:3,Potassium:2,Calcium:3,Magnesium:1,Sulphur:.5},releaseType:"slow",url:"Source locally"},{label:"NTS Fast Fulvic",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},releaseType:"fast",url:"https://nutri-tech.com.au/collections/humates/products/nts-fast-fulvic"},{label:"NTS Fulvic Acid Powder",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},releaseType:"fast",url:"https://nutri-tech.com.au/collections/humates/products/fulvic-acid-powder"},{label:"NTS FulvX Powder",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},releaseType:"fast",url:"https://nutri-tech.com.au/collections/humates/products/nts-fulvx-powder"},{label:"NTS Liquid Humus",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},releaseType:"fast",url:"https://nutri-tech.com.au/collections/humates/products/nts-liquid-humus"},{label:"NTS Soluble Humate Granules",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},releaseType:"fast",url:"https://nutri-tech.com.au/collections/humates/products/nts-soluble-humate-granules"},{label:"NTS Stabilised Boron Granules",nutrientContent:{Boron:3.3},releaseType:"moderate",url:"https://nutri-tech.com.au/collections/humates/products/nts-stabilised-boron-granules"},{label:"NTS Super Soluble Humates",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},releaseType:"fast",url:"https://nutri-tech.com.au/collections/humates/products/nts-super-soluble-humates"},{label:"Life Force Carbon",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},releaseType:"slow",url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/life-force-carbon"},{label:"NTS Soft Rock",nutrientContent:{Calcium:20,Phosphorus:9},releaseType:"slow",url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nts-soft-rock"},{label:"Nutri-Gyp Natural Gypsum",nutrientContent:{Calcium:19,Sulphur:15},releaseType:"moderate",url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-gyp-natural-gypsum"},{label:"Nutri-Phos Super Active",nutrientContent:{Calcium:28.9,Phosphorus:12.6},releaseType:"slow",url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-phos-super-active"}],Oe=(St,Ke)=>{if(Array.isArray(St)&&St.length>0)for(const lt of St){let pt=Ke;Ke==="Fertigation"&&(pt="Biological Fertigation Program"),Ke==="Pre-Flowering Foliar"&&(pt="Pre-Flowering Foliar Spray"),Ke==="Nutritional Foliar"&&(pt="Nutritional Foliar Spray"),Ke==="Seed Treatment"&&(pt="Seed Treatment"),Ke==="Planting Blend"&&(pt="Planting Blend"),Ke==="Soil Amendments"&&(pt="Soil Amendments"),Ke==="Main Soil Corrections"&&(pt="Main Soil Corrections"),Ke==="Soil Corrections"&&(pt="Soil Corrections");let qt="[No Name]",on="",Gt="",en="",Tt="";if(typeof lt=="string")qt=lt;else if(lt&&typeof lt=="object")if(lt.fertilizer){qt=lt.fertilizer,on=lt.rate||"",Gt=lt.unit||"",en=lt.description||"";const tn=Ze.find(yn=>yn.label===lt.fertilizer);Tt=(tn==null?void 0:tn.url)||""}else qt=lt.name||lt.product||lt.label||"[No Name]",on=lt.rate||"",Gt=lt.unit||"",en=lt.description||"";ge.push({name:qt,group:pt,rate:on,unit:Gt,description:en,url:Tt})}};console.log(" PDF DEBUG: data.soilAmendments structure:",JSON.stringify(D.soilAmendments,null,2)),Array.isArray(D.soilAmendments)&&D.soilAmendments.forEach((St,Ke)=>{console.log(` PDF DEBUG: Soil amendment ${Ke}:`,{fertilizer:St.fertilizer,nutrient:St.nutrient,rate:St.rate,unit:St.unit,contains:St.contains})}),Oe(D.soilAmendments,"Soil Amendments"),Oe(D.seedTreatmentProducts,"Seed Treatment"),Oe(D.plantingBlendProducts,"Planting Blend"),Oe(D.soilCorrections,"Soil Corrections"),Oe(D.fertigationProducts||D.soilDrenchProducts,"Fertigation"),Oe(D.preFloweringFoliarProducts,"Pre-Flowering Foliar"),Oe(D.nutritionalFoliarProducts||[],"Nutritional Foliar"),console.log(" PDF DEBUG: data.nutritionalFoliarProducts:",D.nutritionalFoliarProducts),console.log(" PDF DEBUG: Final recommendations array:",ge)}if(q.drawText("The following recommendations have been included",{x:(595.28-o.widthOfTextAtSize("The following recommendations have been included",12))/2,y:Ae,size:12,font:o,color:a}),Ae-=15,Ae-=10,ge.length>0){let Ze="";for(const Oe of ge){if(Oe.group&&Oe.group!==Ze){Ze!==""&&(Ae-=8),q.drawText(Oe.group+":",{x:he,y:Ae,size:10.5,font:o,color:c}),Ae-=12;const Gt=Gwe[Oe.group];if(Gt){const en=n1(Gt,s,8,re);for(let Tt=0;Tt<en.length;Tt++)q.drawText(en[Tt],{x:he+15,y:Ae,size:8,font:s,color:l}),Ae-=9;Ae-=2}Ae-=3,Ze=Oe.group}q.drawText("",{x:he+10,y:Ae,size:8,font:o,color:c});const St=kD[Oe.name]||{url:"",description:""},Ke=Oe.url||St.url,lt=L(Oe.name.replace(//g,"-").replace(//g,"-").replace(//g,"-")),pt=9,qt=o.widthOfTextAtSize(lt,pt);if(q.drawText(lt,{x:he+25,y:Ae,size:pt,font:o,color:En(.1,.3,.8)}),q.drawLine({start:{x:he+25,y:Ae-1},end:{x:he+25+qt,y:Ae-1},thickness:.7,color:En(.1,.3,.8)}),Oe.rate&&Oe.unit){const Gt=` (${Oe.rate} ${Oe.unit})`;q.drawText(Gt,{x:he+25+qt+5,y:Ae,size:7,font:s,color:En(.4,.4,.4)})}if(Ke){const Gt=i.context.obj({Type:be.of("Annot"),Subtype:be.of("Link"),Rect:[he+25,841.89-Ae,he+25+qt,841.89-Ae+12],Border:[0,0,0],A:i.context.obj({Type:be.of("Action"),S:be.of("URI"),URI:Zr.of(Ke)})}),en=i.context.register(Gt);let Tt=q.node.Annots();if(Tt)Tt.push(en);else{const tn=Gr.withContext(i.context);tn.push(en),q.node.set(be.of("Annots"),tn)}}const on=Oe.description||St.description;if(on){const Gt=Oe.rate&&Oe.unit?` (${Oe.rate} ${Oe.unit})`:"",en=Oe.rate&&Oe.unit?s.widthOfTextAtSize(Gt,9):0,Tt=he+25+qt+5+en+10,tn=L(on.replace(//g,"-").replace(//g,"-").replace(//g,"-")),yn=re-(Tt-he)-10,Yt=n1(tn,s,9,yn);if(Yt.length>0){const cn=": "+Yt[0];q.drawText(cn,{x:Tt,y:Ae,size:9,font:s,color:En(.2,.2,.2)}),Ae-=11;for(let bn=1;bn<Yt.length;bn++)q.drawText(Yt[bn],{x:he+25,y:Ae,size:9,font:s,color:En(.2,.2,.2)}),Ae-=11;if(Ke){const bn=` (${Ke})`,yr=Yt[Yt.length-1],On=Yt.length===1?Tt:he+25,hr=s.widthOfTextAtSize((Yt.length===1?": ":"")+yr,9),Pn=On+hr+5;q.drawText(bn,{x:Pn,y:Ae+11,size:8,font:s,color:En(.1,.3,.8)});const Si=841.89-(Ae+11),$c=i.context.obj({Type:be.of("Annot"),Subtype:be.of("Link"),Rect:[Pn,Si,Pn+s.widthOfTextAtSize(bn,8),Si+10],Border:[0,0,0],A:i.context.obj({Type:be.of("Action"),S:be.of("URI"),URI:Zr.of(Ke)})}),di=i.context.register($c);let us=q.node.Annots();if(us)us.push(di);else{const qs=Gr.withContext(i.context);qs.push(di),q.node.set(be.of("Annots"),qs)}}}Ae-=4}else{if(Ke){const Gt=` (${Ke})`,en=s.widthOfTextAtSize(Gt,8),Tt=he+25+qt+5+(Oe.rate&&Oe.unit?s.widthOfTextAtSize(` (${Oe.rate} ${Oe.unit})`,9):0);q.drawText(Gt,{x:Tt,y:Ae,size:8,font:s,color:En(.1,.3,.8)});const tn=841.89-Ae,yn=i.context.obj({Type:be.of("Annot"),Subtype:be.of("Link"),Rect:[Tt,tn,Tt+en,tn+10],Border:[0,0,0],A:i.context.obj({Type:be.of("Action"),S:be.of("URI"),URI:Zr.of(Ke)})}),Yt=i.context.register(yn);let cn=q.node.Annots();if(cn)cn.push(Yt);else{const bn=Gr.withContext(i.context);bn.push(Yt),q.node.set(be.of("Annots"),bn)}}Oe.group==="Soil Amendments"||Oe.group==="Soil Corrections"?Ae-=12:Ae-=4}if(Ae<100)break}}else q.drawText("No recommendations available.",{x:he,y:Ae,size:9,font:s,color:l}),Ae-=8;Ae-=8;let we=Ae-25;const ke="Tank Mixing Sequence",ze=12,Ve=500,Ue=(595.28-Ve)/2,ft=o.widthOfTextAtSize(ke,ze);q.drawText(ke,{x:Ue+(Ve-ft)/2,y:we+22,size:ze,font:o,color:a});const Kt="Follow this sequence for optimal mixing and application.",Ge=7,Se=s.widthOfTextAtSize(Kt,Ge);q.drawText(Kt,{x:Ue+(Ve-Se)/2,y:we+12,size:Ge,font:s,color:l});const Nt=18;q.drawRectangle({x:Ue,y:we-Nt,width:500,height:Nt,color:a});const xt=["SEQUENCE","PRODUCT DESCRIPTION","PRODUCTS","NOTES"];let at=[Ue+2,Ue+65,Ue+215,Ue+315],Ct=[55,145,100,175];const Et=7,mt=7,Ut=6,qe=2,Cn=12;xt.forEach((Ze,Oe)=>{const St=o.widthOfTextAtSize(Ze,Et),Ke=at[Oe]+Ct[Oe]/2;q.drawText(Ze,{x:Ke-St/2,y:we-Nt/2-Et/2+4,size:Et,font:o,color:En(1,1,1)})});let zt=we-Nt;if(Array.isArray(D.tankMixing)&&D.tankMixing.length>0){let Ze=0;for(const Oe of D.tankMixing){const St=String(Oe.sequence||""),Ke=n1(Oe.description||"",s,mt,Ct[1]-2*Ut),lt=n1(Oe.products||"",s,mt,Ct[2]-2*Ut),pt=n1(Oe.notes||"",s,mt,Ct[3]-2*Ut),qt=Math.max(Ke.length,lt.length,pt.length,1),on=Math.max(Cn,qt*(mt+3)+2*qe);Ze%2===0&&q.drawRectangle({x:Ue,y:zt-on,width:500,height:on,color:En(.97,.98,.95)});const Gt=mt+3,en=Gt,Tt=zt-qe-(on-2*qe-en)/2-s.heightAtSize(mt)*.7,tn=Ke.length*Gt,yn=zt-qe-(on-2*qe-tn)/2-s.heightAtSize(mt)*.7,Yt=lt.length*Gt,cn=zt-qe-(on-2*qe-Yt)/2-s.heightAtSize(mt)*.7,bn=pt.length*Gt,yr=zt-qe-(on-2*qe-bn)/2-s.heightAtSize(mt)*.7;q.drawText(St,{x:at[0]+Ut,y:Tt,size:mt,font:s,color:c});for(let Pn=0;Pn<Ke.length;Pn++){const Si=yn-Pn*Gt;q.drawText(Ke[Pn],{x:at[1]+Ut,y:Si,size:mt,font:s,color:c})}for(let Pn=0;Pn<lt.length;Pn++){const Si=cn-Pn*Gt;q.drawText(lt[Pn],{x:at[2]+Ut,y:Si,size:mt,font:s,color:c})}for(let Pn=0;Pn<pt.length;Pn++){const Si=yr-Pn*Gt;q.drawText(pt[Pn],{x:at[3]+Ut,y:Si,size:mt,font:s,color:c})}let On=zt,hr=zt-on;for(let Pn=0;Pn<at.length;Pn++)q.drawLine({start:{x:at[Pn]-2,y:On},end:{x:at[Pn]-2,y:hr},thickness:.4,color:En(.85,.9,.8)});if(q.drawLine({start:{x:Ue+500,y:On},end:{x:Ue+500,y:hr},thickness:.4,color:En(.85,.9,.8)}),q.drawLine({start:{x:Ue,y:On},end:{x:Ue+500,y:On},thickness:.4,color:En(.85,.9,.8)}),q.drawLine({start:{x:Ue,y:hr},end:{x:Ue+500,y:hr},thickness:.4,color:En(.85,.9,.8)}),zt-=on,Ze++,zt<120)break}}else q.drawText("No tank mixing data.",{x:at[0],y:zt,size:10,font:s,color:l});const vn=45,mn=vn+25,ln=mn+30,Fn=mn+45,se=typeof D.plantHealthScore=="number"?D.plantHealthScore:0;let ut=1;se>=80?ut=5:se>=60?ut=4:se>=40?ut=3:se>=20&&(ut=2);const At="/NTS G.R.O.W Star Full.png",Pt="/NTS G.R.O.W Star Empty.png",Le=await fetch(At).then(Ze=>Ze.arrayBuffer()),We=await fetch(Pt).then(Ze=>Ze.arrayBuffer()),oe=await i.embedPng(Le),st=await i.embedPng(We),sn=18,O=18,Xe=2;if(D.reportFooterText){const St=47.639999999999986,Ke=n1(D.reportFooterText,s,7,500);let lt=vn;for(let pt=0;pt<Ke.length;pt++)Ke.length-1,q.drawText(Ke[pt],{x:St,y:lt,size:7,font:s,color:l}),lt-=8}if(D.agronomist&&(D.agronomist.name||D.agronomist.role||D.agronomist.email)){const Ze=D.agronomist.name||"",Oe=9,St=o.widthOfTextAtSize(Ze,Oe);q.drawText(Ze,{x:(595.28-St)/2,y:mn+15,size:Oe,font:o,color:c});let Ke=mn+5;if(D.agronomist.role){const lt=D.agronomist.role,pt=8,qt=s.widthOfTextAtSize(lt,pt);q.drawText(lt,{x:(595.28-qt)/2,y:Ke,size:pt,font:s,color:En(.54,.54,.54)}),Ke-=10}if(D.agronomist.email){const lt=D.agronomist.email,pt=8,qt=s.widthOfTextAtSize(lt,pt);q.drawText(lt,{x:(595.28-qt)/2,y:Ke,size:pt,font:s,color:En(.54,.54,.54)})}}else{const Ze="Signature: ___________________",St=o.widthOfTextAtSize(Ze,9);q.drawText(Ze,{x:(595.28-St)/2,y:mn+15,size:9,font:o,color:En(.7,.7,.7)})}const Ye=12,ae=12,Ee=t==="plant"?"Overall Plant Health Score:":"Overall Soil Health Score:",Pe=` ${se.toFixed(1)} / 100`,Ft=o.widthOfTextAtSize(Ee,Ye),vt=o.widthOfTextAtSize(Pe,ae);q.drawText(Ee,{x:(595.28-(Ft+vt))/2,y:ln,size:Ye,font:o,color:a}),q.drawText(Pe,{x:(595.28-(Ft+vt))/2+Ft,y:ln,size:ae,font:o,color:a});const Lt=5*sn+4*Xe;for(let Ze=0;Ze<5;Ze++){const Oe=Ze<ut?oe:st;q.drawImage(Oe,{x:(595.28-Lt)/2+Ze*(sn+Xe),y:Fn,width:sn,height:O})}}if(e&&e.backAttachments&&e.backAttachments.length>0)for(const W of e.backAttachments){let L="";if(W==="humic"&&(L="/attachments/Humic Acid Recipe.pdf"),W==="cover-crop"&&(L="/attachments/Cover Crop Mix Table.pdf"),W==="fulvic"&&(L="/attachments/Fulvic Acid Recipe.pdf"),W==="bam"&&(L="/attachments/BAM Recipe.pdf"),W==="soil-therapy-general-guidelines"&&(L="/attachments/soil-therapy-general-guidelines.pdf"),W==="seed-treatment-instructions"&&(L="/attachments/seed-treatment-instructions.pdf"),W==="micro-force-brewing-recipe"&&(L="/attachments/micro-force-brewing-recipe.pdf"),W==="bam-brewing-recipe"&&(L="/attachments/bam-brewing-recipe.pdf"),L)try{const D=await fetch(L);if(!D.ok){console.warn(`PDF file not found: ${L}`);continue}const z=await D.arrayBuffer(),G=await Fl.load(z);(await i.copyPages(G,G.getPageIndices())).forEach(J=>i.addPage(J))}catch(D){console.warn(`Failed to load PDF: ${L}`,D);continue}}const A=await i.save(),h=A.buffer.slice(A.byteOffset,A.byteOffset+A.byteLength),f=new Blob([h],{type:"application/pdf"}),v=URL.createObjectURL(f),g=document.createElement("a");g.href=v;const x=Array.isArray(n)?((V=n[0])==null?void 0:V.client)||"Therapy_Report":(n==null?void 0:n.client)||"Therapy_Report",b=String(x).replace(/[^a-zA-Z0-9 _-]/g," ").replace(/\s+/g,"_").slice(0,80)||"Therapy_Report";g.download=`${b}.pdf`,g.rel="noopener",g.target="_blank",document.body.appendChild(g);try{g.click()}catch{}try{setTimeout(()=>{try{window.open(v,"_blank")}catch{}try{document.body.removeChild(g)}catch{}setTimeout(()=>URL.revokeObjectURL(v),1500)},50)}catch{}}KA.workerSrc="/pdf.worker.min.mjs";function Ywe(n,e){return n<.9*e?"low":n>1.1*e?"high":"optimal"}let z1=[{name:"CEC",current:8,ideal:12,unit:"meq/100g",category:"soil",ideal_range:[10,15],range:"10-15 meq/100g"},{name:"pH-level (1:5 water)",current:7.2,ideal:6.4,unit:"",category:"soil",ideal_range:[6,6.8],range:"6.0-6.8"},{name:"Organic Matter (Calc)",current:1.63,ideal:7,unit:"%",category:"soil",ideal_range:[4,10],range:"4-10%"},{name:"Organic Carbon (LECO)",current:.93,ideal:3.5,unit:"%",category:"soil",ideal_range:[2,5],range:"2-5%"},{name:"Conductivity (1:5 water)",current:.03,ideal:.15,unit:"mS/cm",category:"soil",ideal_range:[.1,.2],range:"0.1-0.2 mS/cm"},{name:"Ca / Mg Ratio",current:1.75,ideal:4.3,unit:":1",category:"soil",ideal_range:[4.3,4.3],range:"4.3-4.3:1"},{name:"Nitrate-N (KCl)",current:2.1,ideal:15,unit:"ppm",category:"soil",ideal_range:[10,20],range:"10-20 ppm"},{name:"Ammonium-N (KCl)",current:4.8,ideal:15,unit:"ppm",category:"soil",ideal_range:[10,20],range:"10-20 ppm"},{name:"Phosphorus (Mehlich III)",current:21.6,ideal:42.5,unit:"ppm",category:"soil",ideal_range:[35,50],range:"35-50 ppm"},{name:"Calcium (Mehlich III)",current:949,ideal:1520.5,unit:"ppm",category:"soil",ideal_range:[1041,2e3],range:"1041-2000 ppm"},{name:"Magnesium (Mehlich III)",current:326,ideal:214.5,unit:"ppm",category:"soil",ideal_range:[144,285],range:"144-285 ppm"},{name:"Potassium (Mehlich III)",current:155,ideal:132.5,unit:"ppm",category:"soil",ideal_range:[109,156],range:"109-156 ppm"},{name:"Sodium (Mehlich III)",current:26,ideal:18.5,unit:"ppm",category:"soil",ideal_range:[9,28],range:"9-28 ppm"},{name:"Sulphur (KCl)",current:4.5,ideal:40,unit:"ppm",category:"soil",ideal_range:[30,50],range:"30-50 ppm"},{name:"Aluminium",current:2.7,ideal:2,unit:"ppm",category:"soil",ideal_range:[0,4],range:"0-4 ppm"},{name:"Silicon (CaCl2)",current:48,ideal:550,unit:"ppm",category:"soil",ideal_range:[100,1e3],range:"100-1000 ppm"},{name:"Boron (Hot CaCl2)",current:.28,ideal:2,unit:"ppm",category:"soil",ideal_range:[1,3],range:"1-3 ppm"},{name:"Iron (DTPA)",current:17.9,ideal:120,unit:"ppm",category:"soil",ideal_range:[40,200],range:"40-200 ppm"},{name:"Manganese (DTPA)",current:7.9,ideal:65,unit:"ppm",category:"soil",ideal_range:[30,100],range:"30-100 ppm"},{name:"Copper (DTPA)",current:1.1,ideal:4.5,unit:"ppm",category:"soil",ideal_range:[2,7],range:"2-7 ppm"},{name:"Zinc (DTPA)",current:3.7,ideal:6.5,unit:"ppm",category:"soil",ideal_range:[3,10],range:"3-10 ppm"}].map(n=>{const e=typeof n.current=="string",t=typeof n.ideal=="string",r=e&&n.current.trim().startsWith("<")?0:Number(n.current),i=t&&n.ideal.trim().startsWith("<")?0:Number(n.ideal);let s=n.range;if(!s&&n.ideal_range&&Array.isArray(n.ideal_range)&&n.ideal_range.length===2)s=`${n.ideal_range[0]} - ${n.ideal_range[1]} ${n.unit}`;else if(!s&&i&&i>0){const o=i*.8,a=i*1.2;s=`${o.toFixed(2)} - ${a.toFixed(2)} ${n.unit}`}return{...n,current:r,ideal:i,range:s,status:Ywe(r,i)}});const Zwe=[{alias:"Calcium",match:"Calcium (Mehlich III)"},{alias:"Magnesium",match:"Magnesium (Mehlich III)"},{alias:"Potassium",match:"Potassium (Mehlich III)"},{alias:"Phosphorus",match:"Phosphorus (Mehlich III)"},{alias:"Sulphur",match:"Sulfur (KCl)"},{alias:"Nitrate",match:"Nitrate-N (KCl)"},{alias:"Ammonium",match:"Ammonium-N (KCl)"}];Zwe.forEach(({alias:n,match:e})=>{const t=z1.find(r=>r.name===e);t&&!z1.some(r=>r.name===n)&&z1.push({...t,name:n})});const Jwe=["CEC","TEC","Paramagnetism","pH-level (1:5 water)","Organic Matter (Calc)","Organic Carbon (LECO)","Conductivity (1:5 water)","Ca/Mg Ratio","Nitrate-N (KCl)","Ammonium-N (KCl)","Phosphorus (Mehlich III)","Calcium (Mehlich III)","Magnesium (Mehlich III)","Potassium (Mehlich III)","Sodium (Mehlich III)","Sulfur (KCl)","Aluminium","Silicon (CaCl2)","Boron (Hot CaCl2)","Iron (DTPA)","Manganese (DTPA)","Copper (DTPA)","Zinc (DTPA)"],$we={albrecht_mehlich_kcl:{CEC:8,TEC:8,Paramagnetism:{value:170,ideal_range:[200,1e3],target:600},pH_level_1_5_water:{value:7.2,ideal_range:[6,6.8],target:6.4},Organic_Matter_Calc:{value:1.63,unit:"%",ideal_range:[4,10],target:7},Organic_Carbon_LECO:{value:.93,unit:"%",ideal_range:[2,5],target:3.5},Conductivity_1_5_water:{value:.03,unit:"mS/cm",ideal_range:[.1,.2],target:.15000000000000002},Ca_Mg_Ratio:{value:1.75,unit:":1",ideal_range:[4.3,4.3],target:4.3},Nitrate_N_KCl:{value:2.1,unit:"ppm",ideal_range:[10,20],target:15},Ammonium_N_KCl:{value:4.8,unit:"ppm",ideal_range:[10,20],target:15},Phosphorus_Mehlich_III:{value:21.6,unit:"ppm",ideal_range:[35,50],target:42.5},Calcium_Mehlich_III:{value:949,unit:"ppm",ideal_range:[1041,2e3],target:1520.5},Magnesium_Mehlich_III:{value:326,unit:"ppm",ideal_range:[144,285],target:214.5},Potassium_Mehlich_III:{value:155,unit:"ppm",ideal_range:[109,156],target:132.5},Sodium_Mehlich_III:{value:26,unit:"ppm",ideal_range:[9,28],target:18.5},Sulfur_KCl:{value:4.5,unit:"ppm",ideal_range:[30,50],target:40},Aluminium:{value:2.7,unit:"ppm",ideal_range:[0,4],target:2},Silicon_CaCl2:{value:48,unit:"ppm",ideal_range:[100,1e3],target:550},Boron_Hot_CaCl2:{value:.28,unit:"ppm",ideal_range:[1,3],target:2},Iron_DTPA:{value:17.9,unit:"ppm",ideal_range:[40,200],target:120},Manganese_DTPA:{value:7.9,unit:"ppm",ideal_range:[30,100],target:65},Copper_DTPA:{value:1.1,unit:"ppm",ideal_range:[2,7],target:4.5},Zinc_DTPA:{value:3.7,unit:"ppm",ideal_range:[3,10],target:6.5}},base_saturation:{Calcium:{value:59.3,unit:"%",target:65},Magnesium:{value:33.95,unit:"%",target:15},Potassium:{value:4.97,unit:"%",target:6},Sodium:{value:1.41,unit:"%",target:1},Aluminum:{value:.37,unit:"%",target:.5},Hydrogen:{value:0,unit:"%",target:0},Other_Bases:{value:0,unit:"%",target:0}},lamotte_reams:{Calcium_LaMotte:{value:934,unit:"ppm",ideal_range:[1e3,2e3],target:1500},Magnesium_LaMotte:{value:286,unit:"ppm",ideal_range:[140,285],target:212.5},Phosphorus_LaMotte:{value:7.7,unit:"ppm",ideal_range:[7,30],target:18.5},Potassium_LaMotte:{value:165,unit:"ppm",ideal_range:[80,100],target:90}},tae:{Sodium_TAE:{value:"<50",unit:"ppm",ideal_range:[100,500],target:300},Potassium_TAE:{value:609,unit:"ppm",ideal_range:[200,2e3],target:1100},Calcium_TAE:{value:1230,unit:"ppm",ideal_range:[1e3,1e4],target:5500},Magnesium_TAE:{value:895,unit:"ppm",ideal_range:[500,5e3],target:2750},Phosphorus_TAE:{value:239,unit:"ppm",ideal_range:[400,1500],target:950},Aluminium_TAE:{value:7370,unit:"ppm",ideal_range:[2e3,5e4],target:26e3},Copper_TAE:{value:14,unit:"ppm",ideal_range:[20,50],target:35},Iron_TAE:{value:16500,unit:"ppm",ideal_range:[1e3,5e4],target:25500},Manganese_TAE:{value:267,unit:"ppm",ideal_range:[200,2e3],target:1100},Selenium_TAE:{value:"<0.5",unit:"ppm",ideal_range:[.6,2],target:1.3},Zinc_TAE:{value:27,unit:"ppm",ideal_range:[20,50],target:35},Boron_TAE:{value:"<2.0",unit:"ppm",ideal_range:[2,50],target:26},Silicon_TAE:{value:708,unit:"ppm",ideal_range:[1e3,3e3],target:2e3},Cobalt_TAE:{value:7.1,unit:"ppm",ideal_range:[2,40],target:21},Molybdenum_TAE:{value:.4,unit:"ppm",ideal_range:[.5,2],target:1.25},Sulfur_TAE:{value:104,unit:"ppm",ideal_range:[100,1e3],target:550}}};function exe(n){const e=[],t=r=>typeof r=="string"&&r.includes("<")?0:Number(r);return["albrecht_mehlich_kcl","base_saturation","lamotte_reams","tae"].forEach(r=>{if(n[r])for(const[i,s]of Object.entries(n[r]))if(typeof s=="object"&&s!==null&&typeof s.value<"u"){const o=s;e.push({name:i,current:t(o.value),ideal:typeof o.target<"u"&&!isNaN(t(o.target))&&t(o.target)>0?t(o.target):void 0,unit:o.unit||"",ideal_range:o.ideal_range,category:r})}else typeof s=="number"&&e.push({name:i,current:s,ideal:void 0,unit:"",ideal_range:void 0,category:r})}),e}const txe={"Nitrate-N (KCl)":"Nitrate",Nitrate_N_KCl:"Nitrate","Ammonium-N (KCl)":"Ammonium",Ammonium_N_KCl:"Ammonium","Phosphorus (Mehlich III)":"Phosphorus",Phosphorus_Mehlich_III:"Phosphorus","Calcium (Mehlich III)":"Calcium",Calcium_Mehlich_III:"Calcium","Magnesium (Mehlich III)":"Magnesium",Magnesium_Mehlich_III:"Magnesium","Potassium (Mehlich III)":"Potassium",Potassium_Mehlich_III:"Potassium","Sodium (Mehlich III)":"Sodium",Sodium_Mehlich_III:"Sodium","Sulfur (KCl)":"Sulphur",Sulfur_KCl:"Sulphur",Aluminium:"Aluminium","Silicon (CaCl2)":"Silicon",Silicon_CaCl2:"Silicon","Boron (Hot CaCl2)":"Boron",Boron_Hot_CaCl2:"Boron","Iron (DTPA)":"Iron",Iron_DTPA:"Iron","Manganese (DTPA)":"Manganese",Manganese_DTPA:"Manganese","Copper (DTPA)":"Copper",Copper_DTPA:"Copper","Zinc (DTPA)":"Zinc",Zinc_DTPA:"Zinc",Calcium:"Calcium",Magnesium:"Magnesium",Potassium:"Potassium",Sodium:"Sodium",Aluminum:"Aluminium",Hydrogen:"Hydrogen",Other_Bases:"Other_Bases",Calcium_LaMotte:"Calcium",Magnesium_LaMotte:"Magnesium",Phosphorus_LaMotte:"Phosphorus",Potassium_LaMotte:"Potassium",Sodium_TAE:"Sodium",Potassium_TAE:"Potassium",Calcium_TAE:"Calcium",Magnesium_TAE:"Magnesium",Phosphorus_TAE:"Phosphorus",Aluminium_TAE:"Aluminium",Copper_TAE:"Copper",Iron_TAE:"Iron",Manganese_TAE:"Manganese",Selenium_TAE:"Selenium",Zinc_TAE:"Zinc",Boron_TAE:"Boron",Silicon_TAE:"Silicon",Cobalt_TAE:"Cobalt",Molybdenum_TAE:"Molybdenum",Sulfur_TAE:"Sulphur"},nxe=[{id:"1",sequence:1,productDescription:"More soluble Solids",products:[],notes:"May require several minutes of good agitation"},{id:"2",sequence:2,productDescription:"Liquid Solutions",products:[],notes:"Make sure previous inputs are fully dissolved before adding."},{id:"3",sequence:3,productDescription:"MMS (Micronized Mineral Solutions)",products:[],notes:"Pre-mix well before adding slowly to the tank under constant agitation. Maintain constant agitation to prevent settling."},{id:"4",sequence:4,productDescription:"Spray Oil",products:[],notes:"Spreader/sticker/penetrant. Essential for success of foliar sprays."},{id:"5",sequence:5,productDescription:"Microbial Products",products:[],notes:"Always add microbes to the spray tank last after the other ingredients have been diluted."}],ij=n=>({client:"",crop:(n==null?void 0:n.crop)||"",date:(n==null?void 0:n.date)||"",somCecText:"",baseSaturationText:"",phText:"",availableNutrientsText:"",soilReservesText:"",lamotteReamsText:"",taeText:"",seedTreatmentProducts:[],soilDrenchProducts:[],foliarSprayProducts:[],preFloweringFoliarProducts:[],preFloweringFoliarProducts2:[],nutritionalFoliarProducts:[],nutritionalFoliarProducts2:[],tankMixingItems:nxe,pdfAttachments:[],frontAttachments:[],backAttachments:[],selectedAgronomist:{name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"},reportFooterText:"Disclaimer: Any recommendations provided by Nutri-Tech Solutions Pty Ltd are advice only. As no control can be exercised over storage; handling; mixing application or use; weather; plant or soil conditions before, during or after application (all of which may affect the performance of our program); no responsibility for, or liability for any failure in performance, losses, damages, or injuries (consequential or otherwise), arising from such storage, mixing, application, or use will be accepted under any circumstances whatsoever. The buyer assumes all responsibility for the use of any of our products.",nutrients:(n==null?void 0:n.nutrients)||[],complete:!1}),rxe=({paddockReports:n=[],setPaddockReports:e})=>{var pc;const[t,r]=_.useState(null),[i,s]=_.useState(!1),[o,a]=_.useState(!1),[l,c]=_.useState(!1),[u,A]=_.useState(!1),[h,f]=_.useState([]),v=_.useRef(null),g=_.useRef(null),[x,b]=_.useState(!1),[S,E]=_.useState(""),[k,P]=_.useState(""),[N,I]=_.useState(""),[U,V]=_.useState(null),[W,L]=_.useState(""),[D,z]=_.useState(""),[G,ve]=_.useState(""),[J,$]=_.useState(""),{ntsGeneralCommentsHtml:X,setNtsGeneralCommentsHtml:ie}=KM(),[pe,te]=_.useState(null),[H,q]=_.useState([{id:"1",product:"Root & Shoot",rate:"3-4",unit:"L/tonne of seed"},{id:"2",product:"Nutri-Life BAM",rate:"5",unit:"L/tonne of seed"},{id:"3",product:"Nutri-Life Platform",rate:"1.3",unit:"kg/tonne of seed"}]),[re,he]=_.useState({}),[Ae,ge]=_.useState({}),[we,ke]=_.useState(25),[ze,Ve]=_.useState({CEC:{red:-50,blue:50,greenLow:-49,greenHigh:49},Paramagnetism:{red:-50,blue:50,greenLow:-49,greenHigh:49},"pH-level (1:5 water)":{red:-35,blue:35,greenLow:-34,greenHigh:34},"Organic Matter (Calc)":{red:-25,blue:15,greenLow:-24,greenHigh:14},"Organic Carbon (LECO)":{red:-14,blue:72,greenLow:-13,greenHigh:71},"Conductivity (1:5 water)":{red:-49,blue:150,greenLow:-48,greenHigh:149},"Ca / Mg Ratio":{red:-50,blue:50,greenLow:-49,greenHigh:49},"Nitrate-N (KCl)":{red:-50,blue:50,greenLow:-49,greenHigh:49},"Ammonium-N (KCl)":{red:-50,blue:50,greenLow:-49,greenHigh:49},"Phosphorus (Mehlich III)":{red:-30,blue:100,greenLow:-29,greenHigh:99},"Calcium (Mehlich III)":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Magnesium (Mehlich III)":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Potassium (Mehlich III)":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Sodium (Mehlich III)":{red:-35,blue:100,greenLow:-34,greenHigh:99},"Sulphur (KCl)":{red:-50,blue:100,greenLow:-49,greenHigh:99},Chloride:{red:-50,blue:100,greenLow:-49,greenHigh:99},Aluminium:{red:-50,blue:100,greenLow:-49,greenHigh:99},"Silicon (CaCl2)":{red:-60,blue:100,greenLow:-59,greenHigh:99},"Boron (Hot CaCl2)":{red:-30,blue:150,greenLow:-29,greenHigh:149},"Iron (DTPA)":{red:-50,blue:100,greenLow:-49,greenHigh:99},"Manganese (DTPA)":{red:-50,blue:100,greenLow:-49,greenHigh:99},"Copper (DTPA)":{red:-50,blue:100,greenLow:-49,greenHigh:99},"Zinc (DTPA)":{red:-50,blue:100,greenLow:-49,greenHigh:99},"Base Saturation Calcium":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Base Saturation Magnesium":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Base Saturation Potassium":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Base Saturation Sodium":{red:-35,blue:100,greenLow:-34,greenHigh:99},"Base Saturation Aluminium":{red:-35,blue:100,greenLow:-34,greenHigh:99},"Base Saturation Hydrogen":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Base Saturation Other Bases":{red:-35,blue:100,greenLow:-34,greenHigh:99},"LaMotte Calcium":{red:-50,blue:100,greenLow:-49,greenHigh:99},"LaMotte Magnesium":{red:-50,blue:100,greenLow:-49,greenHigh:99},"LaMotte Phosphorus":{red:-50,blue:100,greenLow:-49,greenHigh:99},"LaMotte Potassium":{red:-50,blue:100,greenLow:-49,greenHigh:99}}),[Ue,ft]=_.useState([]),[Kt,Ge]=_.useState([]),[Se,Nt]=_.useState([]),[xt,at]=_.useState([]),[Ct,Et]=_.useState({name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"}),[mt,Ut]=_.useState([]),[qe,Cn]=_.useState(0),[zt,vn]=_.useState([]),[mn,ln]=_.useState({nutritionalStatus:"",generalComments:"",productRecommendation:"",productRecommendationSummary:"",totalNutrientSummary:"",pdfAttachments:"",selectAgronomist:"",reportFooter:"",saveExport:""}),[Fn,se]=_.useState(""),[ut,At]=_.useState(""),[Pt,Le]=_.useState({soilAmendments:!1,seedTreatment:!1,plantingBlend:!1,biologicalFertigation:!1,preFloweringFoliar:!1,preFloweringFoliar2:!1,nutritionalFoliar:!1,nutritionalFoliar2:!1}),[We,oe]=_.useState(""),[st,sn]=_.useState(!1),[O,Xe]=_.useState(!1),[Ye,ae]=_.useState(!0),[Ee,Pe]=_.useState(!0),[Ft,vt]=_.useState(!0),[Lt,Ze]=_.useState(!0),[Oe,St]=_.useState(!0),[Ke,lt]=_.useState(!0),[pt,qt]=_.useState(!0),[on,Gt]=_.useState(!0),[en,Tt]=_.useState(!0),[tn,yn]=_.useState("Disclaimer: Any recommendations provided by Nutri-Tech Solutions Pty Ltd are advice only. As no control can be exercised over storage; handling; mixing application or use; weather; plant or soil conditions before, during or after application (all of which may affect the performance of our program); no responsibility for, or liability for any failure in performance, losses, damages, or injuries (consequential or otherwise), arising from such storage, mixing, application, or use will be accepted under any circumstances whatsoever. The buyer assumes all responsibility for the use of any of our products."),[Yt,cn]=_.useState(""),[bn,yr]=_.useState(""),[On,hr]=_.useState(()=>new Date().toISOString().slice(0,10)),[Pn,Si]=_.useState(!1),[$c,di]=_.useState(!1),[us,qs]=_.useState([]),[qu,Xu]=_.useState(-1),[Yu,uh]=_.useState(!1);_.useMemo(()=>{console.log("reportRefId",U)},[U]),_.useMemo(()=>{console.log("ntsGeneralCommentsHtml",X)},[X]);const Dl=()=>{let Fe={paddock:null};return us&&(Fe=us[Ts]),Fe==null?void 0:Fe.paddock},Hr={};try{Hr["Agricultural Limestone (CaCO)"]={nutrientContent:{Calcium:38}},Hr["Gypsum (Calcium Sulfate)"]={nutrientContent:{Calcium:23,Sulphur:18}};const Fe={Calcium:19,Nitrate:12},rn={Ammonium:21,Sulphur:24};Hr["Calcium Nitrate"]={nutrientContent:Fe},Hr.Nitrate={nutrientContent:Fe},Hr["Nitrate-N (KCl)"]={nutrientContent:Fe},Hr["Potassium Nitrate"]={nutrientContent:{Potassium:44,Nitrate:13}},Hr["Sodium Nitrate"]={nutrientContent:{Sodium:16,Nitrate:16}},Hr["Ammonium Sulfate"]={nutrientContent:rn},Hr.Ammonium={nutrientContent:rn},Hr["Ammonium-N (KCl)"]={nutrientContent:rn},Hr["Ammonium Nitrate"]={nutrientContent:{Ammonium:17,Nitrate:17}},Hr["Diammonium Phosphate (DAP)"]={nutrientContent:{Ammonium:18,Phosphorus:20}},Hr["Monoammonium Phosphate (MAP)"]={nutrientContent:{Ammonium:11,Phosphorus:22}},Hr.Urea={nutrientContent:{Ammonium:46}},Hr["Anhydrous Ammonia"]={nutrientContent:{Ammonium:82}},Hr["Nitrate-N"]={nutrientContent:Fe},Hr["Nitrate Nitrogen"]={nutrientContent:Fe},Hr.NO3={nutrientContent:Fe},Hr["NO3-N"]={nutrientContent:Fe},Hr["Ammonium-N"]={nutrientContent:rn},Hr["Ammonium Nitrogen"]={nutrientContent:rn},Hr.NH4={nutrientContent:rn},Hr["NH4-N"]={nutrientContent:rn}}catch{}const rl=mt.length>0?mt:z1,_s=new Set,ri=rl.filter(Fe=>{if(/base saturation/i.test(Fe.name)||!Jwe.some(zn=>Fe.name.toLowerCase().includes(zn.toLowerCase())))return!1;const $n=Fe.name.split("(")[0].trim();if(_s.has($n.toLowerCase()))return!1;if($n.toLowerCase()==="calcium"){const Rt=rl.filter(Sn=>Sn.name.split("(")[0].trim().toLowerCase()==="calcium").find(Sn=>/mehlich.*iii/i.test(Sn.name));if(Rt)return _s.add($n.toLowerCase()),Fe===Rt}if($n.toLowerCase()==="manganese"){const Rt=rl.filter(Sn=>Sn.name.split("(")[0].trim().toLowerCase()==="manganese").find(Sn=>/dtpa/i.test(Sn.name));if(Rt)return _s.add($n.toLowerCase()),Fe===Rt}return _s.add($n.toLowerCase()),!0}).map(Fe=>{const rn=Fe.name.split("(")[0].trim();function $n(hn){return typeof hn=="string"&&hn.includes("<")?0:typeof hn=="string"?parseFloat(hn)||0:typeof hn=="number"?hn:0}const zn=$n(Fe.current),Rt=$n(Fe.ideal);let Sn=0;Rt>0&&(Sn=(zn-Rt)/Rt*100);let fr="optimal";return Sn<-25?fr="low":Sn>25&&(fr="high"),{...Fe,name:rn,current:zn,ideal:Rt,status:fr}}),Zu=kt.forwardRef((Fe,rn)=>{var $n,zn;return y.jsxs("div",{ref:rn,className:"p-10 bg-white text-black w-full min-h-screen",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-4xl font-extrabold",style:{color:"#8cb33a",letterSpacing:"-2px"},children:"NTS"}),y.jsxs("span",{className:"text-xs font-medium text-gray-600 -mt-1",children:["Nutri-Tech Solutions",y.jsx("sup",{children:""})]})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("span",{className:"text-3xl font-bold text-gray-700",children:["Soil Therapy",y.jsx("sup",{children:""})]}),y.jsx("span",{className:"text-3xl font-bold text-gray-700 -mt-2",children:"Report"})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-2xl font-bold",style:{color:"#8cb33a",letterSpacing:"-1px"},children:"Nutrition"}),y.jsxs("span",{className:"text-2xl font-bold",style:{color:"#8cb33a",letterSpacing:"-1px",marginTop:"-0.5rem"},children:["Farming",y.jsx("sup",{children:""})]})]})]}),y.jsx("div",{style:{height:"4px",background:"#8cb33a",width:"100%",marginBottom:"1.5rem"}}),y.jsx("div",{style:{height:"4px",background:"#8cb33a",width:"100%",marginBottom:"1.5rem"}}),y.jsxs("div",{className:"mb-4 text-2xl font-bold text-black",children:["Paddock: ",Fe.paddocks&&Fe.paddocks[0]]}),y.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"#8cb33a"},children:"General Comments"}),y.jsx("div",{className:"text-base whitespace-pre-line bg-gray-50 rounded-lg p-4 border border-gray-200",children:Fe.generalComments}),y.jsx("div",{className:"mb-36"}),y.jsx("div",{style:{pageBreakBefore:"always"}}),y.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"#8cb33a"},children:"Product Recommendation"}),Fe.soilAmendments&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:"#8cb33a"},children:"Soil Amendments"}),y.jsx("ul",{className:"list-disc ml-6 text-base",children:Fe.soilAmendments.map((Rt,Sn)=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:Rt.fertilizer})," at a rate of ",Rt.rate," ",Rt.unit,Rt.contains&&Rt.contains.length>0&&y.jsxs("span",{className:"text-gray-600",children:[" (Contains: ",Rt.contains.join(", "),")"]})]},Sn))})]}),Fe.seedTreatment&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:"#8cb33a"},children:"Seed Treatment"}),y.jsx("ul",{className:"list-disc ml-6 text-base",children:Fe.seedTreatment.map(Rt=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:Rt.product})," at a rate of ",Rt.rate," ",Rt.unit]},Rt.id))})]}),Fe.soilDrench&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:"#8cb33a"},children:"Soil Drench"}),y.jsx("ul",{className:"list-disc ml-6 text-base",children:Fe.soilDrench.map(Rt=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:Rt.product})," at a rate of ",Rt.rate," ",Rt.unit]},Rt.id))})]}),Fe.foliarSpray&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:"#8cb33a"},children:"Foliar Spray"}),y.jsx("ul",{className:"list-disc ml-6 text-base",children:Fe.foliarSpray.map(Rt=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:Rt.product})," at a rate of ",Rt.rate," ",Rt.unit]},Rt.id))})]}),Fe.tankMixing&&y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"#8cb33a"},children:"General Tank Mixing Sequence"}),y.jsxs("table",{className:"w-full text-sm border border-gray-300 rounded-lg overflow-hidden",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2 border-b",children:"Order"}),y.jsx("th",{className:"p-2 border-b",children:"Product Description"}),y.jsx("th",{className:"p-2 border-b",children:"Products"}),y.jsx("th",{className:"p-2 border-b",children:"Notes"})]})}),y.jsx("tbody",{children:(Array.isArray(Fe.tankMixing)?Fe.tankMixing:[]).map(Rt=>y.jsxs("tr",{children:[y.jsx("td",{className:"p-2 border-b text-center",children:Rt.sequence}),y.jsx("td",{className:"p-2 border-b",children:Rt.productDescription}),y.jsx("td",{className:"p-2 border-b",children:Rt.products&&Rt.products.length>0?Rt.products.join(", "):"-"}),y.jsx("td",{className:"p-2 border-b",children:Rt.notes})]},Rt.id))})]})]}),y.jsx("div",{className:"mt-8",children:y.jsxs("div",{className:"text-base font-semibold mt-4",children:[($n=Fe.agronomist)==null?void 0:$n.name,y.jsx("br",{}),"Agronomist",y.jsx("br",{}),(zn=Fe.agronomist)==null?void 0:zn.email]})})]})}),Ah=async Fe=>{var rn;if(!i){s(!0),r(Fe);try{try{let fr=Fe.name.split("..");V(null),console.log("FILENAME",fr);let hn="";if(fr.length>0){const jr=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,Yn=fr.filter(gi=>jr.test(gi));console.log(Yn),Yn.length>0&&(hn=Yn[0])}V(hn)}catch(Sn){console.error(Sn)}const $n=new FormData;$n.append("file",Fe);const zn=await fetch("/extract-soil-report",{method:"POST",body:$n});if(!zn.ok){const Sn=await zn.text();throw new Error(`HTTP error! status: ${zn.status}, text: ${Sn}`)}const Rt=await zn.json();if(console.log("DEBUG: Backend response result:",Rt),Rt.error)throw new Error(Rt.error);if(Rt.analyses&&Array.isArray(Rt.analyses)){console.log("DEBUG: Processing multiple analyses:",Rt.analyses);const Sn=Rt.analyses.map(fr=>({...fr,...fr.info||{}}));if(console.log("DEBUG: Mapped analyses:",Sn),qs(Sn),e(Sn.map(fr=>{const hn=fr.nutrients?fr.nutrients.filter(jr=>jr.name&&jr.name.trim()!==""):[];return console.log("DEBUG: Filtered nutrients for analysis:",fr.id,hn),{analysisId:fr.id,data:{...ij(fr),nutrients:hn},complete:!1}})),wo(0),(rn=Sn[0])!=null&&rn.nutrients){const fr=Sn[0].nutrients.filter(jr=>jr.name&&jr.name.trim()!=="");Ut(fr);const hn={};fr.forEach(jr=>{jr.name&&jr.name.trim()!==""&&(hn[jr.name]={deficient:1,optimal:1,excessive:.5})}),Ul(jr=>({...jr,...hn}))}}else{const Sn=Rt.nutrients.filter(hn=>hn.name&&hn.name.trim()!=="");Ut(Sn);const fr={};Sn.forEach(hn=>{hn.name&&hn.name.trim()!==""&&(fr[hn.name]={deficient:1,optimal:1,excessive:.5})}),Ul(hn=>({...hn,...fr}))}}catch($n){console.error("Error parsing PDF:",$n),alert("Failed to parse PDF. Please check your file or try a different one.")}finally{s(!1)}}},eu=async()=>{if(!o){a(!0);try{await new Promise(Fe=>setTimeout(Fe,1e3)),A(!0)}catch(Fe){console.error("Error generating report:",Fe)}finally{a(!1)}}},_l=async()=>{if(!l){c(!0);try{await Xwe(n.map((Fe,rn)=>{var fr,hn,jr,Yn;const{client:$n,...zn}=Fe.data;let Rt="",Sn=Fe.paddock||Fe.name||((fr=us[rn])==null?void 0:fr.paddock)||((hn=us[rn])==null?void 0:hn.name)||`Paddock ${rn+1}`;try{Rt=window.__ntsGeneralCommentsHtml[Sn]||"",Rt||(Rt=X[Sn]||""),!Rt&&Fe.data.somCecText&&(Rt=String(Fe.data.somCecText))}catch{}return console.log("DEBUG: handleGenerateCustomPDF - generalCommentsHtml length:",Rt.length),{...zn,paddockName:Fe.paddock||Fe.name||((jr=us[rn])==null?void 0:jr.paddock)||((Yn=us[rn])==null?void 0:Yn.name)||`Paddock ${rn+1}`,recommendations:Fe.data.recommendations||[],tankMixing:Array.isArray(Fe.data.tankMixingItems)?Fe.data.tankMixingItems.map(gi=>({sequence:gi.sequence,description:gi.productDescription||gi.description||"",products:Array.isArray(gi.products)?gi.products.join(", "):gi.products||"",notes:gi.notes||""})):[],plantHealthScore:iu(Fe.data.nutrients),agronomist:Ct,generalCommentsHtml:Rt}}),{frontAttachments:Se,backAttachments:xt,uploadedFile:t},"plant")}catch(Fe){console.error("Error generating custom PDF:",Fe),alert("Failed to generate custom PDF. Please try again.")}finally{c(!1)}}};ri.filter(Fe=>Fe.status==="low").map(Fe=>Fe.name);const vs=({nutrients:Fe,colorThresholds:rn,setColorThresholds:$n,zoneSensitivity:zn,setZoneSensitivity:Rt,onClose:Sn})=>{const fr={CEC:{low:-50,high:100},TEC:{low:-50,high:100},Paramagnetism:{low:-50,high:100},pH_level_1_5_water:{low:-50,high:115},Organic_Matter_Calc:{low:-50,high:150},Organic_Carbon_LECO:{low:-50,high:100},Conductivity_1_5_water:{low:-50,high:100},Ca_Mg_Ratio:{low:-50,high:100},Nitrate_N_KCl:{low:-50,high:100},Ammonium_N_KCl:{low:-50,high:100},Phosphorus_Mehlich_III:{low:-30,high:60},Calcium_Mehlich_III:{low:-35,high:70},Magnesium_Mehlich_III:{low:-35,high:70},Potassium_Mehlich_III:{low:-35,high:70},Sodium_Mehlich_III:{low:-35,high:100},Sulfur_KCl:{low:-50,high:100},Chloride:{low:-35,high:50},Aluminium:{low:-50,high:100},Silicon_CaCl2:{low:-35,high:70},Boron_Hot_CaCl2:{low:-30,high:150},Iron_DTPA:{low:-50,high:100},Manganese_DTPA:{low:-50,high:100},Copper_DTPA:{low:-50,high:100},Zinc_DTPA:{low:-50,high:100},Calcium:{low:-35,high:70},Magnesium:{low:-35,high:70},Potassium:{low:-35,high:70},Sodium:{low:-35,high:70},Aluminum:{low:-35,high:70},Hydrogen:{low:-35,high:70},Other_Bases:{low:-35,high:70},Calcium_LaMotte:{low:-35,high:70},Magnesium_LaMotte:{low:-35,high:70},Phosphorus_LaMotte:{low:-35,high:70},Potassium_LaMotte:{low:-35,high:70},Sodium_TAE:{low:-35,high:70},Potassium_TAE:{low:-35,high:70},Calcium_TAE:{low:-35,high:70},Magnesium_TAE:{low:-35,high:70},Phosphorus_TAE:{low:-35,high:70},Aluminium_TAE:{low:-35,high:70},Copper_TAE:{low:-35,high:70},Iron_TAE:{low:-35,high:70},Manganese_TAE:{low:-35,high:70},Selenium_TAE:{low:-35,high:70},Zinc_TAE:{low:-35,high:70},Boron_TAE:{low:-35,high:70},Silicon_TAE:{low:-35,high:70},Cobalt_TAE:{low:-35,high:70},Molybdenum_TAE:{low:-35,high:70},Sulfur_TAE:{low:-35,high:70},default:{low:-25,high:25}},[hn,jr]=_.useState(()=>{const Kn={},Er={Aluminum:"Aluminium",Aluminium:"Aluminum",Other_Bases:"Other Bases","Other Bases":"Other_Bases"};return Fe.forEach(Li=>{let nr=rn&&typeof rn[Li]=="object"&&rn[Li]!==null?rn[Li]:fr[Li];if(!nr){const bs=Object.keys(fr).find(Ql=>Ql.toLowerCase()===Li.toLowerCase());bs&&(nr=fr[bs])}!nr&&Er[Li]&&(nr=fr[Er[Li]]),nr||(nr=fr.default),Kn[Li]=typeof nr=="object"&&nr!==null?nr:{low:-25,high:25}}),Kn}),[Yn,gi]=_.useState(()=>{const Kn={};return Fe.forEach(Er=>{const Li=zn&&typeof zn[Er]=="object"&&zn[Er]!==null?zn[Er]:{deficient:1,optimal:1,excessive:.5};Kn[Er]=typeof Li=="object"&&Li!==null?Li:{}}),Kn}),Vr=(Kn,Er,Li)=>{jr(nr=>({...nr,[Kn]:{...typeof nr[Kn]=="object"&&nr[Kn]!==null?nr[Kn]:{},[Er]:Number(Li)}}))},ii=(Kn,Er,Li)=>{gi(nr=>({...nr,[Kn]:{...typeof nr[Kn]=="object"&&nr[Kn]!==null?nr[Kn]:{},[Er]:Number(Li)}}))},Ns=()=>{$n(Kn=>{const Er={...Kn};return Object.entries(hn).forEach(([Li,nr])=>{Er[Li]=typeof nr=="object"&&nr!==null?{...nr}:{}}),Er}),Rt(Kn=>{const Er={...Kn};return Object.entries(Yn).forEach(([Li,nr])=>{Er[Li]=typeof nr=="object"&&nr!==null?{...nr}:{}}),Er}),Sn()};return y.jsx("div",{style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.18)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl w-full",style:{maxHeight:"80vh",overflowY:"auto"},children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:"text-lg font-bold",children:"Edit Color Logic & Sensitivity for All Nutrients"}),y.jsx("button",{className:"text-xs px-2 py-1 rounded bg-gray-200",onClick:Sn,children:"Close"})]}),y.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded text-blue-900 text-sm font-medium border border-blue-200",children:[y.jsxs("div",{children:[y.jsx("b",{children:"How color logic works:"})," The color for each nutrient bar is determined by how far the measured value deviates from the ",y.jsx("b",{children:"maximum or minimum"})," of the ideal range (not the midpoint). The deviation percentage is calculated as ",y.jsx("code",{children:"((value * 100) / max) - 100"})," for excessive, or ",y.jsx("code",{children:"((value * 100) / min) - 100"})," for deficient. If the deviation is within the set threshold, the bar is green (acceptable); if it exceeds the threshold, it turns blue (excessive) or red (deficient)."]}),y.jsxs("div",{className:"mt-2",children:[y.jsx("b",{children:"How sensitivity works:"})," Sensitivity values adjust how strictly the thresholds are applied for each nutrient. Lower sensitivity means the system is more tolerant to deviations; higher sensitivity means it is stricter. You can fine-tune sensitivity for deficient, optimal, and excessive zones separately."]})]}),y.jsxs("table",{className:"w-full text-xs border border-gray-200 rounded mb-6",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2 border-b text-left",children:"Nutrient"}),y.jsx("th",{className:"p-2 border-b text-center",children:"Deficient Threshold (%)"}),y.jsx("th",{className:"p-2 border-b text-center",children:"Excessive Threshold (%)"}),y.jsx("th",{className:"p-2 border-b text-center",children:"Deficient Sensitivity"}),y.jsx("th",{className:"p-2 border-b text-center",children:"Optimal Sensitivity"}),y.jsx("th",{className:"p-2 border-b text-center",children:"Excessive Sensitivity"})]})}),y.jsx("tbody",{children:Fe.map(Kn=>y.jsxs("tr",{children:[y.jsx("td",{className:"p-2 border-b font-semibold text-left",children:Kn}),y.jsx("td",{className:"p-2 border-b text-center",children:y.jsx("input",{type:"number",className:"border rounded px-1 py-0.5 w-14 text-xs",value:hn[Kn].low,onChange:Er=>Vr(Kn,"low",Er.target.value)})}),y.jsx("td",{className:"p-2 border-b text-center",children:y.jsx("input",{type:"number",className:"border rounded px-1 py-0.5 w-14 text-xs",value:hn[Kn].high,onChange:Er=>Vr(Kn,"high",Er.target.value)})}),y.jsx("td",{className:"p-2 border-b text-center",children:y.jsx("input",{type:"number",className:"border rounded px-1 py-0.5 w-14 text-xs",value:Yn[Kn].deficient,onChange:Er=>ii(Kn,"deficient",Er.target.value)})}),y.jsx("td",{className:"p-2 border-b text-center",children:y.jsx("input",{type:"number",className:"border rounded px-1 py-0.5 w-14 text-xs",value:Yn[Kn].optimal,onChange:Er=>ii(Kn,"optimal",Er.target.value)})}),y.jsx("td",{className:"p-2 border-b text-center",children:y.jsx("input",{type:"number",className:"border rounded px-1 py-0.5 w-14 text-xs",value:Yn[Kn].excessive,onChange:Er=>ii(Kn,"excessive",Er.target.value)})})]},Kn))})]}),y.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[y.jsx("button",{className:"text-xs px-3 py-1 rounded bg-blue-600 text-white",onClick:Ns,children:"Save"}),y.jsx("button",{className:"text-xs px-3 py-1 rounded bg-gray-200",onClick:Sn,children:"Cancel"})]})]})})},ys=["calcium","magnesium","potassium","phosphorus","sulphur","sodium","nitrate","ammonium"];function ci(Fe){const rn=Fe.toLowerCase();return rn.startsWith("ammonium")?"ammonium":rn.startsWith("nitrate")?"nitrate":rn.startsWith("calcium")?"calcium":rn.startsWith("magnesium")?"magnesium":rn.startsWith("potassium")?"potassium":rn.startsWith("phosphorus")?"phosphorus":rn.startsWith("sulphur")||rn.startsWith("sulfur")?"sulphur":rn.startsWith("sodium")?"sodium":rn}Array.from(new Map(ri.filter(Fe=>ys.some(rn=>Fe.name.toLowerCase().includes(rn))).map(Fe=>[ci(Fe.name),Fe])).values()),ri.filter(Fe=>!ys.some(rn=>Fe.name.toLowerCase().includes(rn))),h&&h.length===1&&h[0];const[lo,Ol]=_.useState(!0),[As,tu]=kt.useState({});kt.useEffect(()=>{if(mt&&mt.length>0){const Fe={};mt.forEach(rn=>{rn.name&&rn.name.trim()!==""&&rn.name!==`ELEMENT OR
CATEGORY`&&(Fe[rn.name]={low:-25,high:25})}),tu(Fe)}},[mt]),kt.useEffect(()=>{},[As]);const[Do,Wf]=kt.useState(!1),nu={Paramagnetism:{deficient:1,optimal:1,excessive:1},"pH-level (1:5 water)":{deficient:1,optimal:1,excessive:1},"Organic Matter (Calc)":{deficient:1,optimal:1,excessive:1},"Organic Carbon (LECO)":{deficient:1,optimal:1,excessive:1},"Conductivity (1:5 water)":{deficient:1,optimal:1,excessive:1},"Ca/Mg Ratio":{deficient:1,optimal:1,excessive:1},"Nitrate-N (KCl)":{deficient:1,optimal:1,excessive:1},"Ammonium-N (KCl)":{deficient:1,optimal:1,excessive:1},"Phosphorus (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Calcium (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Magnesium (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Potassium (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Sodium (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Sulfur (KCl)":{deficient:1,optimal:1,excessive:1},Aluminium:{deficient:1,optimal:1,excessive:1},"Silicon (CaCl2)":{deficient:1,optimal:1,excessive:1},"Boron (Hot CaCl2)":{deficient:1,optimal:1,excessive:1},"Iron (DTPA)":{deficient:1,optimal:1,excessive:1},"Manganese (DTPA)":{deficient:1,optimal:1,excessive:1},"Copper (DTPA)":{deficient:1,optimal:1,excessive:1},"Zinc (DTPA)":{deficient:1,optimal:1,excessive:1},"Calcium (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Magnesium (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Potassium (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Sodium (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Aluminum (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Hydrogen (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Other Bases (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Calcium (LaMotte)":{deficient:1,optimal:1,excessive:1},"Magnesium (LaMotte)":{deficient:1,optimal:1,excessive:1},"Phosphorus (LaMotte)":{deficient:1,optimal:1,excessive:1},"Potassium (LaMotte)":{deficient:1,optimal:1,excessive:1},"Sodium (TAE)":{deficient:1,optimal:1,excessive:1},"Potassium (TAE)":{deficient:1,optimal:1,excessive:1},"Calcium (TAE)":{deficient:1,optimal:1,excessive:1},"Magnesium (TAE)":{deficient:1,optimal:1,excessive:1},"Phosphorus (TAE)":{deficient:1,optimal:1,excessive:1},"Aluminium (TAE)":{deficient:1,optimal:1,excessive:1},"Copper (TAE)":{deficient:1,optimal:1,excessive:1},"Iron (TAE)":{deficient:1,optimal:1,excessive:1},"Manganese (TAE)":{deficient:1,optimal:1,excessive:1},"Selenium (TAE)":{deficient:1,optimal:1,excessive:1},"Zinc (TAE)":{deficient:1,optimal:1,excessive:1},"Boron (TAE)":{deficient:1,optimal:1,excessive:1},"Silicon (TAE)":{deficient:1,optimal:1,excessive:1},"Cobalt (TAE)":{deficient:1,optimal:1,excessive:1},"Molybdenum (TAE)":{deficient:1,optimal:1,excessive:1},"Sulfur (TAE)":{deficient:1,optimal:1,excessive:1}},[Wr,Ul]=_.useState(nu),Ju=({nutrients:Fe})=>{function rn(hn){const jr=hn.name,Yn=hn.current;function gi(gt){if(!gt||gt==="N/A")return[null,null];const tt=gt.match(/([\d.]+)\s*-\s*([\d.]+)/);return tt?[parseFloat(tt[1]),parseFloat(tt[2])]:[null,null]}let Vr,ii;hn.range&&([Vr,ii]=gi(hn.range)),(Vr==null||ii==null)&&(Vr=hn.ideal_range?hn.ideal_range[0]:hn.ideal*.8,ii=hn.ideal_range?hn.ideal_range[1]:hn.ideal*1.2);const Ns=hn.unit,Kn=Wr[jr]||{deficient:1,optimal:1,excessive:1},nr=As&&As[jr]||{low:-25,high:25},bs=nr.low,Ql=nr.high;let Bi=0,or="green",$i="Optimal",fe=0;if(hn.range&&Vr!=null&&ii!=null){let gt=0;if(Yn>ii)gt=Yn*100/ii-100,Math.abs(gt)<=Ql?(or="#22c55e",$i="Excessive (Acceptable)"):(or="#2563eb",$i="Excessive (Critical)");else if(Yn<Vr){gt=Yn*100/Vr-100;const tt=Math.abs(gt),lr=Math.abs(bs);tt<=lr?(or="#22c55e",$i="Deficient (Acceptable)"):(or="#ef4444",$i="Deficient (Critical)")}else or="#22c55e",$i="Optimal";Yn<Vr?Bi=Yn/Vr*.333*Kn.deficient:Yn>ii?Bi=.666+Math.min((Yn-ii)/ii,1)*.334*Kn.excessive:Bi=.333+(Yn-Vr)/(ii-Vr)*.333*Kn.optimal}else if(Yn<=Vr){Bi=(Vr>0?Yn/Vr:0)*.333*Kn.deficient,fe=Vr>0?(Vr-Yn)/Vr*100:100;const tt=nr.low;or=fe<=tt?"#22c55e":"#ef4444",$i=fe<=tt?"Deficient (Acceptable)":"Deficient (Critical)"}else if(Yn<=ii)Bi=.333+(Yn-Vr)/(ii-Vr)*.333*Kn.optimal,or="#22c55e",$i="Optimal";else{const gt=(Yn-ii)/ii;Bi=.666+Math.min(gt,1)*.334*Kn.excessive,fe=(Yn-ii)/ii*100;const tt=nr.high;or=fe<=tt?"#22c55e":"#2563eb",$i=fe<=tt?"Excessive (Acceptable)":"Excessive (Critical)"}const rt=hn.ideal;let Ne=0;typeof Yn=="number"&&typeof rt=="number"&&rt!==0&&(Ne=(Yn-rt)/rt);const ht=hc(Ne);return{bar:Bi,color:or,status:$i,low:Vr,high:ii,value:Yn,unit:Ns,score:ht}}const zn=Fe.map(hn=>{const jr=hn.current,Yn=hn.ideal;if(typeof Yn!="number"||Yn===0||Yn==null)return NaN;let gi=0;return typeof jr=="number"&&typeof Yn=="number"&&Yn!==0&&(gi=(jr-Yn)/Yn),hc(gi)}).filter(hn=>!isNaN(hn)),Rt=zn.length>0?zn.reduce((hn,jr)=>hn+jr,0)/zn.length:0;let Sn=1;Rt>=80?Sn=5:Rt>=60?Sn=4:Rt>=40?Sn=3:Rt>=20&&(Sn=2);const fr=Array.from({length:5},(hn,jr)=>jr<Sn?"":"").join(" ");return y.jsxs(rr,{className:"bg-white mt-8",children:[y.jsxs(wi,{className:"flex flex-row items-center justify-between",children:[y.jsx(xi,{className:"text-black",children:"Comprehensive Nutrient Table (Sensitivity & Deviation)"}),y.jsx("button",{type:"button",className:"ml-2 text-gray-400 hover:text-blue-600 focus:outline-none align-middle","aria-label":"Edit thresholds and sensitivity",onClick:()=>Si(!0),children:y.jsx(EM,{size:20})})]}),y.jsxs(Ar,{children:[y.jsxs("div",{className:"mb-2 flex flex-col items-center justify-center",children:[y.jsx("div",{className:"text-3xl mb-1",style:{letterSpacing:"2px",color:"#fbbf24"},children:fr}),y.jsxs("div",{className:"mb-4 text-2xl font-bold text-blue-700 text-center",children:["Overall Plant Health Score: ",Rt.toFixed(1)," / 100"]})]}),y.jsxs("table",{className:"w-full text-sm border border-gray-300 rounded-lg overflow-hidden text-left",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2 border-b",children:"Nutrient"}),y.jsx("th",{className:"p-2 border-b text-right",children:"Value"}),y.jsx("th",{className:"p-2 border-b text-right",children:"Range"}),y.jsx("th",{className:"p-2 border-b text-center",style:{width:"50%"},children:"Bar"})]})}),y.jsx("tbody",{children:Fe.map((hn,jr)=>{const{bar:Yn,color:gi,low:Vr,high:ii,value:Ns,unit:Kn}=rn(hn);return y.jsxs("tr",{children:[y.jsx("td",{className:"p-2 border-b align-middle font-medium",style:{width:"15%"},children:hn.name}),y.jsxs("td",{className:"p-2 border-b align-middle text-right",style:{width:"15%"},children:[typeof Ns=="number"&&!isNaN(Ns)?Ns.toFixed(2):"-"," ",Kn]}),y.jsx("td",{className:"p-2 border-b align-middle text-right",style:{width:"20%"},children:hn.range?hn.range:`${Vr.toFixed(2)}  ${ii.toFixed(2)} ${Kn}`}),y.jsx("td",{className:"p-2 border-b align-middle",style:{width:"50%"},children:!hn.range||hn.range==="N/A"||Vr===0&&ii===0?null:y.jsxs("div",{style:{width:"100%",background:"#f3f4f6",borderRadius:4,height:16,position:"relative"},children:[y.jsx("div",{style:{position:"absolute",left:0,top:0,width:"33.3%",height:"100%",background:"#fddede",borderRadius:4}}),y.jsx("div",{style:{position:"absolute",left:"33.3%",top:0,width:"33.3%",height:"100%",background:"#d9f7e3"}}),y.jsx("div",{style:{position:"absolute",left:"66.6%",top:0,width:"33.4%",height:"100%",background:"#dee9fd",borderRadius:4}}),y.jsx("div",{style:{position:"absolute",left:0,top:0,width:`${Math.max(0,Math.min(Yn,1))*100}%`,height:"100%",background:gi,borderRadius:4,opacity:.85}})]})})]},hn.name)})})]})]})]})};function hc(Fe,rn=50,$n=2,zn=250){const Rt=Math.abs(Fe)*100;if(Rt>=zn)return 0;const Sn=100/(1+Math.pow(Rt/rn,$n));return Math.max(Math.min(Sn,100),0)}const[id,il]=_.useState({}),[Hl,jl]=_.useState(!1),[ru,Ki]=_.useState([]),[Ts,wo]=_.useState(0),nn=n.length>0&&n[Ts]?n[Ts].data||{}:{},sl=kt.useMemo(()=>{console.log("DEBUG: nutrientsToShow useMemo triggered"),console.log("DEBUG: currentPaddockData:",nn);const Fe=nn.nutrients;if(console.log("DEBUG: currentPaddockData.nutrients:",Fe),!Fe||Fe.length===0)return console.log("DEBUG: No nutrients found, using mockNutrients"),z1;const rn=Fe.filter(Rt=>Rt.name&&Rt.name.trim()!==""&&Rt.name!==`ELEMENT OR
CATEGORY`&&typeof Rt.current=="number"&&!isNaN(Rt.current)&&Rt.current>=0);console.log("DEBUG: Filtered nutrients:",rn);const $n=rn.filter((Rt,Sn,fr)=>Sn===fr.findIndex(hn=>hn.name===Rt.name));console.log("DEBUG: Unique nutrients:",$n);const zn=$n.length>0?$n:z1;return console.log("DEBUG: Final nutrientsToShow:",zn),zn},[nn.nutrients]);exe(nn.nutrients||$we).map(Fe=>{const rn=txe[Fe.name]||Fe.name;let $n="optimal";return typeof Fe.ideal=="number"&&isFinite(Fe.ideal)&&Fe.ideal!==0&&(Fe.current<.75*Fe.ideal?$n="low":Fe.current>1.25*Fe.ideal&&($n="high")),{...Fe,genericName:rn,status:$n}}),kt.useEffect(()=>{us.length>0&&n.length===0&&(e(us.map(Fe=>{const rn=Fe.nutrients?Fe.nutrients.filter($n=>$n.name&&$n.name.trim()!==""):[];return{analysisId:Fe.id,data:{...ij(Fe),nutrients:rn},complete:!1}})),wo(0))},[us]);const sa=Fe=>{console.log("handleSelectPaddock",n,Fe),wo(Fe)},Vi=(Fe,rn)=>{e($n=>$n.map((zn,Rt)=>Rt===Ts?{...zn,data:{...zn.data,[Fe]:rn}}:zn))},fc=(Fe,rn)=>{qs($n=>$n.map((zn,Rt)=>Rt===Ts?{...zn,[Fe]:rn}:zn))};_.useMemo(()=>{console.log("closestKey",pe),pe&&fc("paddock",pe)},[pe]),Array.from(new Set(n.flatMap(Fe=>[...Fe.data.foliarSprayProducts||[],...Fe.data.preFloweringFoliarProducts||[],...Fe.data.preFloweringFoliarProducts2||[],...Fe.data.nutritionalFoliarProducts||[],...Fe.data.nutritionalFoliarProducts2||[]]).map(Fe=>typeof Fe=="string"?Fe:Fe.product).filter(Boolean))),Array.from(new Set(n.flatMap(Fe=>[...Fe.data.soilDrenchProducts||[],...Fe.data.foliarSprayProducts||[],...Fe.data.preFloweringFoliarProducts||[],...Fe.data.preFloweringFoliarProducts2||[],...Fe.data.nutritionalFoliarProducts||[],...Fe.data.nutritionalFoliarProducts2||[]]).map(Fe=>typeof Fe=="string"?Fe:Fe.product).filter(Boolean)));const ol=Array.from(new Set([...nn.preFloweringFoliarProducts||[],...nn.preFloweringFoliarProducts2||[],...nn.nutritionalFoliarProducts||[],...nn.nutritionalFoliarProducts2||[]].map(Fe=>typeof Fe=="string"?Fe:Fe.product||Fe.name).filter(Boolean)));[...nn.foliarSprayProducts||[],...nn.preFloweringFoliarProducts||[],...nn.preFloweringFoliarProducts2||[],...nn.nutritionalFoliarProducts||[],...nn.nutritionalFoliarProducts2||[],...Array.isArray(zt)?zt:[]];function iu(Fe){if(!Array.isArray(Fe))return 0;const $n=Fe.map(zn=>{const Rt=zn.current,Sn=zn.ideal;if(typeof Sn!="number"||Sn===0||Sn==null)return NaN;let fr=0;return typeof Rt=="number"&&typeof Sn=="number"&&Sn!==0&&(fr=(Rt-Sn)/Sn),hc(fr)}).filter(zn=>!isNaN(zn));return $n.length>0?$n.reduce((zn,Rt)=>zn+Rt,0)/$n.length:0}return y.jsx("div",{className:"w-full max-w-screen-2xl mx-auto",ref:v,children:y.jsxs("div",{className:"space-y-6 px-2 sm:px-4 lg:px-8",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("div",{className:"flex flex-row items-center justify-between gap-4 min-h-[56px]",children:y.jsx("h1",{className:"text-3xl font-extrabold text-black",children:"Plant Report Generator"})}),y.jsx("p",{className:"text-base text-gray-600 mt-2",children:"Analyze your plant and generate professional recommendations."})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-8",children:[y.jsxs(rr,{className:"bg-white flex-1",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"How To Use This Tool"})}),y.jsx(Ar,{children:y.jsxs("div",{className:"text-gray-800 text-base space-y-2",children:[y.jsx("p",{children:y.jsx("strong",{children:"This tool helps you analyze your plant sample, visualize nutrient status, and generate a professional report for optimal crop nutrition."})}),y.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Upload your plant therapy charts:"})," First, export the plant therapy charts PDF from the NTS admin platform. Then click the upload area or drag and drop that PDF file here to generate recommendations."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Review your plant nutrient status:"})," The app displays your nutrient data with color-coded charts and tables to help you identify deficiencies or excesses."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Add general comments:"})," Enter your interpretations and observations about the plant analysis."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Add product recommendations:"})," Manually select and enter recommended products and application rates for each relevant section (biological fertigation, foliar sprays, etc.)."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Attach supporting PDFs:"})," Add lab reports or additional recommendations to include in your final report export."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Select agronomist and add disclaimer:"})," Choose the agronomist for signature and edit the report footer or disclaimer as needed."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Export your report:"})," Download a professional PDF report with all recommendations, charts, and supporting documents."]})]})]})})]}),y.jsxs(rr,{className:"bg-white flex-1",children:[y.jsx(wi,{className:"flex flex-row items-center justify-between",children:y.jsx(xi,{className:"text-black",children:"Leaf Analysis Upload"})}),y.jsx(Ar,{children:y.jsx(a7,{onFileUpload:Ah,resetKey:qe,isLoading:i})})]})]}),t&&!u&&y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{className:"pt-6",children:y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-black",children:"Generate Soil Report"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Analysis complete. Generate comprehensive soil management report."})]}),y.jsx(xr,{onClick:eu,disabled:o,children:o?y.jsxs(y.Fragment,{children:[y.jsx(k2,{className:"h-4 w-4 animate-spin mr-2"}),"Generating..."]}):"Generate Report"})]})})}),u&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"space-y-6",children:[y.jsx(Rs,{title:y.jsx("span",{className:"flex items-center",children:"1. Nutritional Status Summary"}),collapsible:!0,expanded:Ye,onToggle:()=>ae(Fe=>!Fe),useHideButton:!0,infoContent:"This section provides an overview of your plant's nutritional status, including charts and tables that show nutrient levels, deviations from targets, and overall plant health. Use this to quickly identify deficiencies or excesses.",children:Ye&&y.jsxs(y.Fragment,{children:[n.length>1&&y.jsx("div",{className:"flex gap-2 mb-6",children:n.map((Fe,rn)=>y.jsxs("button",{className:`px-4 py-2 rounded-t font-semibold border-b-2 ${Ts===rn?"bg-[#8cb43a] text-white border-[#8cb43a]":"bg-gray-100 text-gray-700 border-transparent"} ${Fe.complete?"ring-2 ring-green-400":""}`,onClick:()=>sa(rn),type:"button",children:[Fe.paddock&&Fe.paddock!=="Unknown"?Fe.paddock:Fe.name||`Paddock ${rn+1}`,Fe.complete&&y.jsx("span",{className:"ml-2 text-green-500",children:""})]},Fe.analysisId))}),y.jsx("div",{className:"mb-4 card",children:y.jsx("form",{children:y.jsxs(rr,{className:"bg-white mt-8 p-4",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Paddock Name"})}),y.jsxs(Ar,{children:[y.jsx("label",{htmlFor:"paddockName",className:"block text-sm font-medium text-gray-700",children:"Paddock Name"}),y.jsx(xg,{id:"paddockName",type:"text",placeholder:"Enter paddock name",value:((pc=us[Ts])==null?void 0:pc.paddock)||"",onChange:Fe=>{fc("paddock",Fe.target.value)}})]})]})})}),y.jsxs("div",{className:"mb-4",children:[y.jsx(Ju,{nutrients:sl}),Pn&&y.jsx(vs,{nutrients:sl.map(Fe=>Fe.name),colorThresholds:As,setColorThresholds:tu,zoneSensitivity:Wr,setZoneSensitivity:Ul,onClose:()=>Si(!1)})]})]})}),y.jsx(Rs,{title:"2. General Comments",collapsible:!0,expanded:Ee,onToggle:()=>Pe(Fe=>!Fe),useHideButton:!0,infoContent:"This section contains general comments and interpretations about your soil analysis, including organic matter, CEC, base saturation, pH, available nutrients, and reserves.",children:Ee&&y.jsx("div",{children:y.jsx(CAe,{nutrients:sl,somCecText:nn.somCecText||"",setSomCecText:Fe=>Vi("somCecText",Fe),baseSaturationText:nn.baseSaturationText||"",setBaseSaturationText:Fe=>Vi("baseSaturationText",Fe),phText:nn.phText||"",setPhText:Fe=>Vi("phText",Fe),availableNutrientsText:nn.availableNutrientsText||"",setAvailableNutrientsText:Fe=>Vi("availableNutrientsText",Fe),soilReservesText:nn.soilReservesText||"",setSoilReservesText:Fe=>Vi("soilReservesText",Fe),lamotteReamsText:nn.lamotteReamsText||"",setLamotteReamsText:Fe=>Vi("lamotteReamsText",Fe),taeText:nn.taeText||"",setTaeText:Fe=>Vi("taeText",Fe),reportRefId:U,currentPaddockKey:Dl(),closest_key:pe,setClosestKey:te})})}),y.jsx(Rs,{title:"3. Product Recommendation",collapsible:!0,expanded:Ft,onToggle:()=>vt(Fe=>!Fe),useHideButton:!0,infoContent:"Select and review recommended products for soil amendments, seed treatment, planting blends, biological fertigation, and foliar sprays. Adjust rates and options as needed.",children:Ft&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Biological Fertigation Program"})}),y.jsxs(Ar,{children:[y.jsx(JF,{selectedProducts:nn.soilDrenchProducts||[],setSelectedProducts:Fe=>Vi("soilDrenchProducts",Fe),deficientNutrients:ri.filter(Fe=>Fe.status==="low").map(Fe=>Fe.name)}),Hl?y.jsx(xr,{variant:"destructive",className:"mt-2",onClick:()=>jl(!1),children:"Remove Second Application"}):y.jsx(xr,{variant:"outline",className:"mt-2",onClick:()=>jl(!0),children:"Add Second Application"}),Hl&&y.jsx(JF,{selectedProducts:ru,setSelectedProducts:Ki,deficientNutrients:ri.filter(Fe=>Fe.status==="low").map(Fe=>Fe.name)})]})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Pre-Flowering Foliar Spray"})}),y.jsxs(Ar,{children:[y.jsx(zm,{selectedProducts:nn.preFloweringFoliarProducts||[],setSelectedProducts:Fe=>Vi("preFloweringFoliarProducts",Fe),deficientNutrients:ri.filter(Fe=>Fe.status==="low").map(Fe=>Fe.name)}),st?y.jsx(xr,{variant:"destructive",className:"mt-2",onClick:()=>sn(!1),children:"Remove Second Application"}):y.jsx(xr,{variant:"outline",className:"mt-2",onClick:()=>sn(!0),children:"Add Second Application"}),st&&y.jsx(zm,{selectedProducts:nn.preFloweringFoliarProducts2||[],setSelectedProducts:Fe=>Vi("preFloweringFoliarProducts2",Fe),deficientNutrients:ri.filter(Fe=>Fe.status==="low").map(Fe=>Fe.name)})]})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Nutritional Foliar Spray"})}),y.jsxs(Ar,{children:[y.jsx(zm,{selectedProducts:nn.nutritionalFoliarProducts||[],setSelectedProducts:Fe=>Vi("nutritionalFoliarProducts",Fe),deficientNutrients:ri.filter(Fe=>Fe.status==="low").map(Fe=>Fe.name),cardColor:"orange"}),O?y.jsx(xr,{variant:"destructive",className:"mt-2",onClick:()=>Xe(!1),children:"Remove Second Application"}):y.jsx(xr,{variant:"outline",className:"mt-2",onClick:()=>Xe(!0),children:"Add Second Application"}),O&&y.jsx(zm,{selectedProducts:nn.nutritionalFoliarProducts2||[],setSelectedProducts:Fe=>Vi("nutritionalFoliarProducts2",Fe),deficientNutrients:ri.filter(Fe=>Fe.status==="low").map(Fe=>Fe.name)})]})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"General Tank Mixing Sequence"})}),y.jsx(Ar,{children:y.jsx(cV,{selectedProducts:ol,mixingItems:Array.isArray(nn.tankMixingItems)?nn.tankMixingItems:[],setMixingItems:Fe=>{const rn=Array.isArray(nn.tankMixingItems)?nn.tankMixingItems:[],$n=typeof Fe=="function"?Fe(rn):Fe;Vi("tankMixingItems",$n)},onSummaryChange:Fe=>Vi("tankMixingItems",Fe)},ol.join(","))})]})]})})]})}),y.jsx("div",{style:{position:"absolute",left:"-9999px",top:0,maxWidth:"900px",margin:"0 auto"},children:y.jsx(Zu,{ref:g,nutrients:sl,paddocks:h,generalComments:[S,k,N,W,D].join(`

`),soilAmendments:Ue,seedTreatment:H,soilDrench:nn.soilDrenchProducts||[],foliarSpray:nn.foliarSprayProducts||[],tankMixing:Array.isArray(nn.tankMixingItems)?nn.tankMixingItems:[],pdfAttachments:Kt,agronomist:Ct})}),n.length>1&&y.jsx("div",{className:"flex gap-2 mb-6",children:n.map((Fe,rn)=>y.jsxs("button",{className:`px-4 py-2 rounded-t font-semibold border-b-2 ${Ts===rn?"bg-[#8cb43a] text-white border-[#8cb43a]":"bg-gray-100 text-gray-700 border-transparent"} ${Fe.complete?"ring-2 ring-green-400":""}`,onClick:()=>sa(rn),type:"button",children:[Fe.paddock&&Fe.paddock!=="Unknown"?Fe.paddock:Fe.name||`Paddock ${rn+1}`,Fe.complete&&y.jsx("span",{className:"ml-2 text-green-500",children:""})]},Fe.analysisId))}),t&&y.jsxs(y.Fragment,{children:[y.jsx(Rs,{title:"4. PDF Attachments",collapsible:!0,expanded:Ke,onToggle:()=>lt(Fe=>!Fe),useHideButton:!0,infoContent:"Attach supporting PDF documents, such as lab reports or additional recommendations, to include in your final report export.",children:Ke&&y.jsx(uV,{frontAttachments:Se,setFrontAttachments:Nt,backAttachments:xt,setBackAttachments:at,onSummaryChange:Ge})}),y.jsx(Rs,{title:"5. Select Agronomist for Signature",collapsible:!0,expanded:pt,onToggle:()=>qt(Fe=>!Fe),useHideButton:!0,infoContent:"Choose the agronomist who will sign off on this report. Their name and contact details will appear in the final document.",children:pt&&y.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[y.jsx("label",{className:"block font-medium mb-2 text-black",children:"Select Agronomist for Signature"}),y.jsx("select",{className:"border rounded px-3 py-2 w-full",value:Ct.email,onChange:Fe=>{const rn=[{name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"},{name:"Alan Montalbetti",role:"Agronomist",email:"alan@nutri-tech.com.au"},{name:"Adriano De Senna",role:"Agronomist",email:"adriano@nutri-tech.com.au"},{name:"Graeme Sait",role:"CEO & Founder",email:"graeme@nutri-tech.com.au"},{name:"Franz Hentze",role:"Agronomist",email:"franz@nutri-tech.com.au"},{name:"Fred Ghorbani",role:"Agronomist",email:"fred@nutri-tech.com.au"},{name:"Adam Durey",role:"NTS Sales Consultant",email:"durey@nutri-tech.com.au"}].find($n=>$n.email===Fe.target.value);rn&&Et(rn)},children:[{name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"},{name:"Alan Montalbetti",role:"Agronomist",email:"alan@nutri-tech.com.au"},{name:"Adriano De Senna",role:"Agronomist",email:"adriano@nutri-tech.com.au"},{name:"Graeme Sait",role:"CEO & Founder",email:"graeme@nutri-tech.com.au"},{name:"Franz Hentze",role:"Agronomist",email:"franz@nutri-tech.com.au"},{name:"Fred Ghorbani",role:"Agronomist",email:"fred@nutri-tech.com.au"},{name:"Adam Durey",role:"NTS Sales Consultant",email:"durey@nutri-tech.com.au"}].map(Fe=>y.jsxs("option",{value:Fe.email,children:[Fe.name," - ",Fe.role," - ",Fe.email]},Fe.email))})]})}),y.jsx(Rs,{title:"6. Report Footer/Disclaimer",collapsible:!0,expanded:on,onToggle:()=>Gt(Fe=>!Fe),useHideButton:!0,infoContent:"Edit the disclaimer or footer text that will appear at the bottom of your exported report. This typically includes legal or advisory notes.",children:on&&y.jsxs(rr,{className:"bg-white mb-6",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Report Footer / Disclaimer"})}),y.jsxs(Ar,{children:[y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[80px]",value:tn,onChange:Fe=>yn(Fe.target.value)}),y.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"This text will appear at the bottom of the exported report. You may edit it as needed."})]})]})}),y.jsx(Rs,{title:"7. Export Report",collapsible:!0,expanded:en,onToggle:()=>Tt(Fe=>!Fe),useHideButton:!0,infoContent:"Generate and download your report as a PDF. Use this option to finalize and distribute your plant analysis report.",children:en&&y.jsxs(rr,{className:"bg-white mb-6",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Export Report"})}),y.jsx(Ar,{children:y.jsx("div",{className:"flex gap-4",children:y.jsx(xr,{onClick:_l,disabled:l,className:"flex items-center gap-2 bg-[#8cb43a] hover:bg-[#7aa32f] text-white",children:l?y.jsxs(y.Fragment,{children:[y.jsx(k2,{className:"h-4 w-4 animate-spin"}),"Generating PDF..."]}):"Generate Custom PDF"})})})]})})]})]})})},ixe=()=>{const[n,e]=kt.useState([]);return y.jsx($ne,{children:y.jsx(VM,{children:y.jsx(rxe,{paddockReports:n,setPaddockReports:e})})})},sxe=()=>{const n=QS();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:y.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[y.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),y.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),y.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},oxe=()=>{var r,i,s,o;const[n,e]=_.useState(null);if(_.useEffect(()=>{const a=localStorage.getItem("clientReportData");a&&(e(JSON.parse(a)),setTimeout(()=>window.print(),500))},[]),!n)return y.jsx("div",{style:{padding:40,fontSize:18},children:"No report data found. Please export a report from the main app."});if(Array.isArray(n.paddockReports)&&n.paddockReports.length>0)return y.jsx("div",{id:"client-report",children:n.paddockReports.map((a,l)=>{var A,h,f,v;const c=a.data||a,u=((A=c.paddockName)==null?void 0:A.toLowerCase().includes("soil"))||((h=c.paddockName)==null?void 0:h.toLowerCase().includes("analysis"))||((f=c.summary)==null?void 0:f.toLowerCase().includes("soil"))||((v=c.somCecText)==null?void 0:v.toLowerCase().includes("soil"));return y.jsx("div",{style:{pageBreakBefore:l>0?"always":void 0},children:y.jsx(S2,{...c,isFirstPage:l===0,isSoilReport:u})},l)})});const t=((r=n.paddockName)==null?void 0:r.toLowerCase().includes("soil"))||((i=n.paddockName)==null?void 0:i.toLowerCase().includes("analysis"))||((s=n.summary)==null?void 0:s.toLowerCase().includes("soil"))||((o=n.somCecText)==null?void 0:o.toLowerCase().includes("soil"));return y.jsx("div",{id:"client-report",children:y.jsx(S2,{...n,isSoilReport:t})})},axe=()=>y.jsx(VM,{children:y.jsxs("div",{className:"container mx-auto py-10",children:[y.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#8cb43a]",children:"Dashboard"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[y.jsxs(rr,{className:"flex flex-col items-start p-6 shadow-lg border border-[#e5e7eb]",children:[y.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Plant Report Generator"}),y.jsx("p",{className:"mb-4 text-muted-foreground",children:"Generate detailed plant nutrition reports, export PDFs, and manage paddock data."}),y.jsx(xr,{asChild:!0,className:"bg-[#8cb43a] hover:bg-[#7aa32e] text-white font-semibold",children:y.jsx(OO,{to:"/plant-report",children:"Go to Plant Report Generator"})})]}),y.jsxs(rr,{className:"flex flex-col items-start p-6 shadow-lg border border-[#e5e7eb]",children:[y.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Soil Report Generator"}),y.jsx("p",{className:"mb-4 text-muted-foreground",children:"Generate comprehensive soil analysis reports, recommendations, and export PDFs."}),y.jsx(xr,{asChild:!0,className:"bg-[#8cb43a] hover:bg-[#7aa32e] text-white font-semibold",children:y.jsx(OO,{to:"/soil-report",children:"Go to Soil Report Generator"})})]})]})]})}),lxe=aN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function cxe({className:n,variant:e,size:t,...r}){return y.jsx("div",{className:ir(lxe({variant:e,size:t}),n),...r})}const uxe=({nutrients:n})=>{const e=A=>{switch(A){case"low":return"bg-red-100 text-red-800";case"optimal":return"bg-green-100 text-green-800";case"high":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},t=A=>{switch(A){case"low":return"Deficient";case"optimal":return"Optimal";case"high":return"Excessive";default:return"Unknown"}},r=[...n].sort((A,h)=>{const f={low:0,optimal:1,high:2};return f[A.status]-f[h.status]}),i=n.filter(A=>A.status==="low").length,s=n.filter(A=>A.status==="optimal").length,o=n.filter(A=>A.status==="high").length,a=r.filter(A=>A.status==="low"),l=r.filter(A=>A.status==="optimal"),c=r.filter(A=>A.status==="high"),u=(A,h,f)=>h.length===0?null:y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"font-semibold text-black mb-2",children:A}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:h.map((v,g)=>y.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${f}`,children:[y.jsx("span",{className:"font-medium text-black",children:v.name}),y.jsx(cxe,{className:e(v.status),children:t(v.status)})]},g))})]});return y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Nutrient Status Summary"})}),y.jsxs(Ar,{children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[y.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-50",children:[y.jsx("div",{className:"text-2xl font-bold text-red-600",children:i}),y.jsx("div",{className:"text-sm text-red-700",children:"Deficient"})]}),y.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-50",children:[y.jsx("div",{className:"text-2xl font-bold text-green-600",children:s}),y.jsx("div",{className:"text-sm text-green-700",children:"Optimal"})]}),y.jsxs("div",{className:"text-center p-4 rounded-lg bg-blue-50",children:[y.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o}),y.jsx("div",{className:"text-sm text-blue-700",children:"Excessive"})]})]}),u("Deficient Nutrients",a,"bg-red-50"),u("Optimal Nutrients",l,"bg-green-50"),u("Excessive Nutrients",c,"bg-blue-50")]})]})},Axe=({selectedProducts:n,setSelectedProducts:e,productOptions:t})=>{const r=t||require("../fertilizerProducts").foliarSprayProducts,[i,s]=_.useState(""),[o,a]=_.useState(""),[l,c]=_.useState(""),[u,A]=_.useState(""),h=["g/ha","ml/ha","kg/ha","L/ha","L/tonne of seed","kg/tonne of seed","mL/100L Water","L/100L Water","g/100L Water","kg/100L Water"],f=r.filter(b=>b.label.toLowerCase().includes(u.toLowerCase())),v=()=>{if(i&&o&&l){const b=r.find(S=>S.value===i);if(b){const S={id:Date.now().toString(),product:b.label,rate:o,unit:l};e([...n,S]),s(""),a(""),c("")}}},g=b=>{e(n.filter(S=>S.id!==b))},x=b=>{s(b);const S=r.find(E=>E.value===b);S&&(a(S.defaultRate),c(S.defaultUnit))};return y.jsx(Rs,{title:"Seed Treatment",children:y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{children:y.jsxs("div",{className:"space-y-4 mt-6",children:[y.jsx("p",{className:"text-gray-700 mb-4",children:"Seed treatments enhance germination rates, protect against soil-borne diseases, and establish beneficial microbial relationships. Apply treatments according to seed weight and planting conditions for optimal establishment."}),y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{className:"pt-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx(Nl,{htmlFor:"product",children:"Select Product"}),y.jsxs(th,{value:i,onValueChange:x,children:[y.jsx(YA,{children:y.jsx(nh,{placeholder:"Choose seed treatment"})}),y.jsxs(ZA,{children:[y.jsx("input",{type:"text",placeholder:"Search product...",value:u,onChange:b=>A(b.target.value),className:"w-full px-2 py-1 mb-2 border rounded text-sm"}),f.map(b=>y.jsx(JA,{value:b.value,children:y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"font-semibold text-black",children:b.label}),y.jsx("a",{href:`https://www.nutri-tech.com.au/products/${b.value}`,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600",style:{fontSize:"14px"},children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"none",viewBox:"0 0 24 24",children:y.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 13v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6m3-3h6m0 0v6m0-6L10 14"})})})]}),b.nutrientPercents&&b.nutrientPercents.length>0&&y.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:b.nutrientPercents.join(", ")}),b.nutrientBreakdown&&y.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:b.nutrientBreakdown})]})},b.value))]})]})]}),y.jsxs("div",{children:[y.jsx(Nl,{htmlFor:"rate",children:"Application Rate"}),y.jsx(xg,{id:"rate",type:"text",value:o,onChange:b=>a(b.target.value),placeholder:"Enter rate"})]}),y.jsxs("div",{children:[y.jsx(Nl,{htmlFor:"unit",children:"Unit"}),y.jsxs(th,{value:l,onValueChange:c,children:[y.jsx(YA,{children:y.jsx(nh,{placeholder:"Select unit"})}),y.jsx(ZA,{children:h.map(b=>y.jsx(JA,{value:b,children:b},b))})]})]}),y.jsx("div",{className:"flex items-end",children:y.jsx(xr,{onClick:v,disabled:!i||!o||!l,className:"bg-[#8cb43a] hover:bg-[#7ca32e] text-white w-full",children:"Add Product"})})]})})}),n.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"font-medium text-black",children:"Selected Products:"}),n.map(b=>{const S=r.find(N=>N.label===b.product),E=CT(b.product),k=ST[E],P=(k==null?void 0:k.description)||(S==null?void 0:S.description);return y.jsx(rr,{className:"bg-purple-100 border-l-4 border-l-purple-500",children:y.jsx(Ar,{className:"pt-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-start space-x-3",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("h5",{className:"font-medium text-black",children:[b.product,S&&S.contains&&y.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",S.contains.join(", "),")"]})]}),y.jsxs("p",{className:"text-sm text-purple-700",children:["Rate: ",b.rate," ",b.unit]}),P&&y.jsx("p",{className:"text-xs text-gray-700 mt-1",children:P})]})}),y.jsx(xr,{variant:"ghost",size:"sm",onClick:()=>g(b.id),className:"text-red-600 hover:text-red-800",children:y.jsx(Sw,{className:"h-4 w-4"})})]})})},b.id)})]})]})})})})},dxe=({selectedProducts:n,setSelectedProducts:e,productOptions:t})=>{const r=t||require("../fertilizerProducts").foliarSprayProducts,[i,s]=_.useState(""),[o,a]=_.useState(""),[l,c]=_.useState(""),[u,A]=_.useState(""),h=["g/ha","ml/ha","kg/ha","L/ha","L/tonne of seed","kg/tonne of seed","mL/100L Water","L/100L Water","g/100L Water","kg/100L Water"],f=r.filter(b=>b.label.toLowerCase().includes(u.toLowerCase())),v=()=>{if(i&&o&&l){const b=r.find(S=>S.value===i);if(b){const S={id:Date.now().toString(),product:b.label,rate:o,unit:l};e([...n,S]),s(""),a(""),c("")}}},g=b=>{e(n.filter(S=>S.id!==b))},x=b=>{s(b);const S=r.find(E=>E.value===b);S&&(a(S.defaultRate),c(S.defaultUnit))};return y.jsx(Rs,{title:"Planting Blend",children:y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{children:y.jsxs("div",{className:"space-y-4 mt-6",children:[y.jsx("p",{className:"text-gray-700 mb-4",children:"Planting blends provide a balanced mix of nutrients and biologicals at sowing, supporting early root development and crop establishment. Apply blends according to crop and soil needs for best results."}),y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{className:"pt-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx(Nl,{htmlFor:"product",children:"Select Product"}),y.jsxs(th,{value:i,onValueChange:x,children:[y.jsx(YA,{children:y.jsx(nh,{placeholder:"Choose planting blend"})}),y.jsxs(ZA,{children:[y.jsx("input",{type:"text",placeholder:"Search product...",value:u,onChange:b=>A(b.target.value),className:"w-full px-2 py-1 mb-2 border rounded text-sm"}),f.map(b=>y.jsx(JA,{value:b.value,children:y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"font-semibold text-black",children:b.label}),y.jsx("a",{href:`https://www.nutri-tech.com.au/products/${b.value}`,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-orange-600",style:{fontSize:"14px"},children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"none",viewBox:"0 0 24 24",children:y.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 13v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6m3-3h6m0 0v6m0-6L10 14"})})})]}),b.nutrientPercents&&b.nutrientPercents.length>0&&y.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:b.nutrientPercents.join(", ")}),b.nutrientBreakdown&&y.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:b.nutrientBreakdown})]})},b.value))]})]})]}),y.jsxs("div",{children:[y.jsx(Nl,{htmlFor:"rate",children:"Application Rate"}),y.jsx(xg,{id:"rate",type:"text",value:o,onChange:b=>a(b.target.value),placeholder:"Enter rate"})]}),y.jsxs("div",{children:[y.jsx(Nl,{htmlFor:"unit",children:"Unit"}),y.jsxs(th,{value:l,onValueChange:c,children:[y.jsx(YA,{children:y.jsx(nh,{placeholder:"Select unit"})}),y.jsx(ZA,{children:h.map(b=>y.jsx(JA,{value:b,children:b},b))})]})]}),y.jsx("div",{className:"flex items-end",children:y.jsx(xr,{onClick:v,disabled:!i||!o||!l,className:"bg-[#8cb43a] hover:bg-[#7ca32e] text-white w-full",children:"Add Product"})})]})})}),n.length>0&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"font-medium text-black",children:"Selected Products:"}),n.map(b=>{const S=r.find(N=>N.label===b.product),E=CT(b.product),k=ST[E],P=(k==null?void 0:k.description)||(S==null?void 0:S.description);return y.jsx(rr,{className:"bg-purple-100 border-l-4 border-l-purple-500",children:y.jsx(Ar,{className:"pt-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-start space-x-3",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("h5",{className:"font-medium text-black",children:[b.product,S&&S.contains&&y.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",S.contains.join(", "),")"]})]}),y.jsxs("p",{className:"text-sm text-purple-700",children:["Rate: ",b.rate," ",b.unit]}),P&&y.jsx("p",{className:"text-xs text-gray-700 mt-1",children:P})]})}),y.jsx(xr,{variant:"ghost",size:"sm",onClick:()=>g(b.id),className:"text-red-600 hover:text-red-800",children:y.jsx(Sw,{className:"h-4 w-4"})})]})})},b.id)})]})]})})})})};var Sk="Dialog",[YX,A2e]=Qf(Sk),[hxe,rd]=YX(Sk),ZX=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=_.useRef(null),l=_.useRef(null),[c,u]=lw({prop:r,defaultProp:i??!1,onChange:s,caller:Sk});return y.jsx(hxe,{scope:e,triggerRef:a,contentRef:l,contentId:Ov(),titleId:Ov(),descriptionId:Ov(),open:c,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(A=>!A),[u]),modal:o,children:t})};ZX.displayName=Sk;var JX="DialogTrigger",fxe=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rd(JX,t),s=zi(e,i.triggerRef);return y.jsx(Ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ID(i.open),...r,ref:s,onClick:mr(n.onClick,i.onOpenToggle)})});fxe.displayName=JX;var PD="DialogPortal",[pxe,$X]=YX(PD,{forceMount:void 0}),eY=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=rd(PD,e);return y.jsx(pxe,{scope:e,forceMount:t,children:_.Children.map(r,o=>y.jsx(zf,{present:t||s.open,children:y.jsx(OS,{asChild:!0,container:i,children:o})}))})};eY.displayName=PD;var _T="DialogOverlay",tY=_.forwardRef((n,e)=>{const t=$X(_T,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=rd(_T,n.__scopeDialog);return s.modal?y.jsx(zf,{present:r||s.open,children:y.jsx(gxe,{...i,ref:e})}):null});tY.displayName=_T;var mxe=Wv("DialogOverlay.RemoveScroll"),gxe=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rd(_T,t);return y.jsx(MN,{as:mxe,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Ur.div,{"data-state":ID(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sy="DialogContent",nY=_.forwardRef((n,e)=>{const t=$X(sy,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=rd(sy,n.__scopeDialog);return y.jsx(zf,{present:r||s.open,children:s.modal?y.jsx(vxe,{...i,ref:e}):y.jsx(yxe,{...i,ref:e})})});nY.displayName=sy;var vxe=_.forwardRef((n,e)=>{const t=rd(sy,n.__scopeDialog),r=_.useRef(null),i=zi(e,t.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return MR(s)},[]),y.jsx(rY,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mr(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:mr(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:mr(n.onFocusOutside,s=>s.preventDefault())})}),yxe=_.forwardRef((n,e)=>{const t=rd(sy,n.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return y.jsx(rY,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),rY=_.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=rd(sy,t),l=_.useRef(null),c=zi(e,l);return IR(),y.jsxs(y.Fragment,{children:[y.jsx(LN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:y.jsx(Cw,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ID(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(bxe,{titleId:a.titleId}),y.jsx(xxe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),LD="DialogTitle",iY=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rd(LD,t);return y.jsx(Ur.h2,{id:i.titleId,...r,ref:e})});iY.displayName=LD;var sY="DialogDescription",oY=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rd(sY,t);return y.jsx(Ur.p,{id:i.descriptionId,...r,ref:e})});oY.displayName=sY;var aY="DialogClose",lY=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=rd(aY,t);return y.jsx(Ur.button,{type:"button",...r,ref:e,onClick:mr(n.onClick,()=>i.onOpenChange(!1))})});lY.displayName=aY;function ID(n){return n?"open":"closed"}var cY="DialogTitleWarning",[d2e,uY]=yZ(cY,{contentName:sy,titleName:LD,docsSlug:"dialog"}),bxe=({titleId:n})=>{const e=uY(cY),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},wxe="DialogDescriptionWarning",xxe=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uY(wxe).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Cxe=ZX,Sxe=eY,AY=tY,dY=nY,hY=iY,fY=oY,Bxe=lY;const Exe=Cxe,Fxe=Sxe,pY=_.forwardRef(({className:n,...e},t)=>y.jsx(AY,{ref:t,className:ir("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));pY.displayName=AY.displayName;const mY=_.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(Fxe,{children:[y.jsx(pY,{}),y.jsxs(dY,{ref:r,className:ir("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,y.jsxs(Bxe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(Sw,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mY.displayName=dY.displayName;const gY=({className:n,...e})=>y.jsx("div",{className:ir("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});gY.displayName="DialogHeader";const vY=_.forwardRef(({className:n,...e},t)=>y.jsx(hY,{ref:t,className:ir("text-lg font-semibold leading-none tracking-tight text-foreground",n),...e}));vY.displayName=hY.displayName;const Txe=_.forwardRef(({className:n,...e},t)=>y.jsx(fY,{ref:t,className:ir("text-sm text-muted-foreground",n),...e}));Txe.displayName=fY.displayName;var MD="Progress",RD=100,[Nxe,h2e]=Qf(MD),[kxe,Pxe]=Nxe(MD),yY=_.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:i,getValueLabel:s=Lxe,...o}=n;(i||i===0)&&!sj(i)&&console.error(Ixe(`${i}`,"Progress"));const a=sj(i)?i:RD;r!==null&&!oj(r,a)&&console.error(Mxe(`${r}`,"Progress"));const l=oj(r,a)?r:null,c=OT(l)?s(l,a):void 0;return y.jsx(kxe,{scope:t,value:l,max:a,children:y.jsx(Ur.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":OT(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":xY(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});yY.displayName=MD;var bY="ProgressIndicator",wY=_.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,i=Pxe(bY,t);return y.jsx(Ur.div,{"data-state":xY(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});wY.displayName=bY;function Lxe(n,e){return`${Math.round(n/e*100)}%`}function xY(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function OT(n){return typeof n=="number"}function sj(n){return OT(n)&&!isNaN(n)&&n>0}function oj(n,e){return OT(n)&&!isNaN(n)&&n<=e&&n>=0}function Ixe(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${RD}\`.`}function Mxe(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${RD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var CY=yY,Rxe=wY;const o2=_.forwardRef(({className:n,value:e,variant:t="default",...r},i)=>y.jsx(CY,{ref:i,className:ir("relative h-2 w-full overflow-hidden rounded-full bg-secondary/40",n),...r,children:y.jsx(Rxe,{className:ir("h-full w-full flex-1 transition-all duration-300 ease-in-out",t==="default"&&"bg-primary",t==="success"&&"bg-green-500",t==="warning"&&"bg-yellow-500",t==="error"&&"bg-destructive"),style:{transform:`translateX(-${100-(e||0)}%)`}})}));o2.displayName=CY.displayName;const Dxe=[{label:"Urea",nutrientContent:{Ammonium:46},description:"A highly concentrated nitrogen fertilizer that promotes vigorous vegetative growth and rapid green-up in crops."},{label:"Calcium Nitrate",nutrientContent:{Calcium:17,Nitrate:12},phLogic:{min_pH:null,max_pH:7.5},releaseType:"fast"},{label:"Potassium Nitrate",nutrientContent:{Potassium:39,Nitrate:14},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Sodium Nitrate (Chile Nitrate)",nutrientContent:{Sodium:26,Nitrate:16},phLogic:{min_pH:null,max_pH:8},releaseType:"fast"},{label:"Zinc Nitrate",nutrientContent:{Zinc:12,Nitrate:8},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Iron Nitrate",nutrientContent:{Iron:6,Nitrate:10},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Copper Nitrate",nutrientContent:{Copper:8,Nitrate:12},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Ammonium Nitrate",nutrientContent:{Ammonium:17,Nitrate:17},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"UAN Solution (Urea Ammonium Nitrate)",nutrientContent:{Urea:18,Ammonium:9,Nitrate:9},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Calcium Ammonium Nitrate (CAN)",nutrientContent:{Calcium:8,Magnesium:2,Ammonium:13,Nitrate:13},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Ammonium Polyphosphate (APP)",nutrientContent:{Phosphorus:10,Ammonium:11},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Ammonium Chloride",nutrientContent:{Ammonium:25},phLogic:{min_pH:5,max_pH:7},releaseType:"fast"},{label:"Ammonium Acetate",nutrientContent:{Ammonium:12},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Triple Superphosphate (TSP)",nutrientContent:{Phosphorus:45,Calcium:19},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Monoammonium Phosphate (MAP)",nutrientContent:{Phosphorus:21.9,Ammonium:10},phLogic:{min_pH:6.5,max_pH:8.5},releaseType:"fast"},{label:"Diammonium Phosphate (DAP)",nutrientContent:{Phosphorus:20,Ammonium:18},phLogic:{min_pH:5,max_pH:6.8},releaseType:"fast"},{label:"Rock Phosphate",nutrientContent:{Phosphorus:25,Calcium:30},phLogic:{min_pH:null,max_pH:6},releaseType:"very slow"},{label:"Agricultural Limestone (CaCO)",nutrientContent:{Calcium:40},phLogic:{min_pH:null,max_pH:6.5},releaseType:"slow"},{label:"Bone Meal",nutrientContent:{Calcium:26,Phosphorus:14},phLogic:{min_pH:null,max_pH:7},releaseType:"slow"},{label:"Fish Bone Meal",nutrientContent:{Calcium:20,Phosphorus:10,Ammonium:5},phLogic:{min_pH:5,max_pH:7.5},releaseType:"slow"},{label:"Calcium Chloride",nutrientContent:{Calcium:27},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Muriate of Potash (Potassium Chloride)",nutrientContent:{Potassium:60},phLogic:{min_pH:5.5,max_pH:8.5},releaseType:"fast"},{label:"Langbeinite",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22},phLogic:{min_pH:5.5,max_pH:8},releaseType:"moderate"},{label:"Potassium Magnesium Sulfate",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22},phLogic:{min_pH:5.5,max_pH:8},releaseType:"moderate"},{label:"Potassium Thiosulfate",nutrientContent:{Potassium:25,Sulphur:17},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Potassium Carbonate",nutrientContent:{Potassium:55},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Potassium Acetate",nutrientContent:{Potassium:25},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Wood Ash",nutrientContent:{Potassium:5,Calcium:10,Magnesium:2,Phosphorus:1},phLogic:{min_pH:5,max_pH:7},releaseType:"slow"},{label:"Dolomitic Lime",nutrientContent:{Calcium:20,Magnesium:10},phLogic:{min_pH:null,max_pH:6.5},releaseType:"slow"},{label:"Kieserite (Magnesium Sulfate Monohydrate)",nutrientContent:{Magnesium:16,Sulphur:22},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Epsom Salt (Magnesium Sulfate Heptahydrate)",nutrientContent:{Magnesium:9.9,Sulphur:13},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Thermophosphate",nutrientContent:{Calcium:20,Magnesium:2,Phosphorus:18},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"slow"},{label:"Magnesium Nitrate",nutrientContent:{Magnesium:10.5,Nitrate:11},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Magnesium Chloride",nutrientContent:{Magnesium:12},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Sulfur-Rich Compost",nutrientContent:{Sulphur:2,Calcium:3,Magnesium:2,Potassium:2,Phosphorus:1,Ammonium:2},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"Elemental Sulfur",nutrientContent:{Sulphur:90},phLogic:{min_pH:null,max_pH:null},releaseType:"very slow"},{label:"Ammonium Sulfate",nutrientContent:{Ammonium:21,Sulphur:24},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Potassium Sulfate (Sulfate of Potash)",nutrientContent:{Potassium:42.5,Sulphur:18.4},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Ammonium Thiosulfate",nutrientContent:{Sulphur:26,Ammonium:12},phLogic:{min_pH:5,max_pH:8.5},releaseType:"moderate"},{label:"Sulfur-Coated Urea",nutrientContent:{Sulphur:15,Ammonium:35},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"Chicken Manure",nutrientContent:{Phosphorus:2.5,Ammonium:3,Potassium:2,Calcium:3,Magnesium:1,Sulphur:.5},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"NTS Fast Fulvic",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"An 8 % fulvic acid liquid possessing a myriad of yield-enhancing qualities."},{label:"NTS Fulvic Acid Powder",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Fulvic acid in a concentrated, soluble powder  the most versatile and productive input in agriculture, in freight-friendly form."},{label:"NTS FulvX Powder",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Concentrated soluble fulvic & humic acid."},{label:"NTS Liquid Humus",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"A liquid humic acid suspension derived from premium humates, designed to improve soil structure, nutrient retention, and biological activity."},{label:"NTS Soluble Humate Granules",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"High-purity, fully soluble humate granules for use in liquid formulations or direct soil application to enhance CEC, nutrient chelation, and microbial health."},{label:"NTS Super Soluble Humates",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Highly refined, super-soluble humic acid powder for preparing DIY liquid humus, boosting nutrient efficiency, and stimulating beneficial soil microbes."},{label:"Life Force Carbon",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"slow"},{label:"Life Force Gold",nutrientContent:{Calcium:9.8,Potassium:2.4,Ammonium:2,Phosphorus:1.55,Sulphur:4},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"NTS Soft Rock",nutrientContent:{Calcium:20,Phosphorus:9},phLogic:{min_pH:null,max_pH:null},releaseType:"slow",url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nts-soft-rock"},{label:"Nutri-Gyp Natural Gypsum",nutrientContent:{Calcium:19,Sulphur:15},phLogic:{min_pH:4.5,max_pH:8.4},releaseType:"moderate"},{label:"Nutri-Cal",nutrientContent:{Potassium:2.5,Magnesium:3.26,Sulphur:4.63},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Nutri-Phos Super Active",nutrientContent:{Calcium:28.9,Phosphorus:12.6},phLogic:{min_pH:6,max_pH:7},releaseType:"slow"},{label:"Soluble Boron",nutrientContent:{Boron:22},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Boric Acid",nutrientContent:{Boron:17.5},phLogic:{min_pH:5.5,max_pH:8.5},releaseType:"moderate"},{label:"Borax",nutrientContent:{Boron:14},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Cobalt Sulfate Heptahydrate",nutrientContent:{Cobalt:21},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Copper Sulfate",nutrientContent:{Copper:25},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Dolomite",nutrientContent:{Calcium:20,Magnesium:10},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Gran Am",nutrientContent:{Ammonium:20,Sulphur:24},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Granulated Boric Acid",nutrientContent:{Boron:17.5},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Granulated Copper Sulfate",nutrientContent:{Copper:25},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Granulated Zinc Mono",nutrientContent:{Zinc:35},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Guano",nutrientContent:{Calcium:30,Phosphorus:13},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Iron Sulfate",nutrientContent:{Iron:18},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Magnesite",nutrientContent:{Magnesium:27},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Magnesium Oxide",nutrientContent:{Magnesium:53},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Magnesium Sulfate",nutrientContent:{Magnesium:9.9,Sulphur:13},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Manganese Sulfate",nutrientContent:{Manganese:31},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Mono Potassium Phosphate (MKP)",nutrientContent:{Potassium:28,Phosphorus:22},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Natural Gypsum",nutrientContent:{Calcium:20,Sulphur:15},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"NTS Stabilised Boron Granules",nutrientContent:{Boron:3.3},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Sodium Molybdate",nutrientContent:{Molybdenum:39},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Super Fine Ag Lime",nutrientContent:{Calcium:40},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Zinc Sulfate Heptahydrate",nutrientContent:{Zinc:22,Sulphur:11},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Zinc Sulfate Monohydrate",nutrientContent:{Zinc:34,Sulphur:15},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"}],Vh=[],aj=new Set;for(const n of Dxe)aj.has(n.label)||(Vh.push(n),aj.add(n.label));function _xe(n){return n?Vh.filter(e=>e.nutrientContent&&Object.keys(e.nutrientContent).some(t=>t.toLowerCase()===n.toLowerCase())):[]}function o0(n){return(Number(n)*2.4).toFixed(1)}function Oxe(n){const e=n.find(t=>t.name&&t.name.toLowerCase().includes("ph"));return e?Number(e.current):null}const lj=[{value:"all",label:"All Types"},{value:"fast",label:"Fast Release"},{value:"moderate",label:"Moderate Release"},{value:"slow",label:"Slow Release"},{value:"very slow",label:"Very Slow Release"},{value:"controlled",label:"Controlled Release"}],Uxe=({nutrients:n,soilAmendmentsSummary:e,setSoilAmendmentsSummary:t,onNutrientLevelsChange:r})=>{const i=Oxe(n),s=n.filter(N=>{const I=(N.name||"").toLowerCase(),U=(N.category||"").toLowerCase(),V=["paramagnetism","organic_matter_calc","organic_carbon_leco","conductivity_1_5_water","ca_mg_ratio"].includes(I),W=["lamotte_reams","tae","base_saturation"].includes(U),L=I.includes("lamotte")||I.includes("tae");return N.status==="low"&&!W&&!L&&!V}),o=[],a={};s.forEach(N=>{const I=N.genericName||N.name.split("_")[0]||N.name;a[I]||(a[I]=[]),a[I].push(N)}),Object.entries(a).forEach(([N,I])=>{if(!(n||[]).some(V=>{const W=(V.genericName||(V.name||"").split("_")[0]||V.name||"").toLowerCase(),L=(N||"").toLowerCase(),D=(V.name||"").toLowerCase(),z=(V.category||"").toLowerCase(),G=D.includes("mehlich")||D.includes("kcl")||D.includes("dtpa")||D.includes("cacl2")||D.includes("hot cacl2")||D.includes("1:5 water")||D.includes("leco")||D.includes("calc")||z==="albrecht_mehlich_kcl";return W===L&&G&&V.status!=="low"}))if(I.length===1)o.push(I[0]);else{const V=[" (Mehlich III)"," (KCl)"," (DTPA)"," (Hot CaCl2)"," (CaCl2)"," (LECO)"," (Calc)"," (1:5 water)","LaMotte","TAE"];let W=I[0],L=-1;I.forEach(D=>{const z=D.name.replace(N,""),G=V.findIndex(ve=>z.includes(ve));G!==-1&&(L===-1||G<L)&&(L=G,W=D)}),o.push(W)}});const l=["calcium","magnesium","potassium","phosphorus","sulphur","nitrate","ammonium"],c=l.map(N=>o.find(I=>(I.genericName||I.name||"").toLowerCase()===N)).filter(Boolean);o.filter(N=>!l.includes((N.genericName||N.name||"").toLowerCase()));const[u,A]=_.useState({}),[h,f]=_.useState(25),[v,g]=_.useState("all"),[x,b]=_.useState({}),[S,E]=_.useState({});_.useEffect(()=>{if(e&&e.length>0){const N={};e.forEach(I=>{I.fertilizer&&I.nutrient&&I.rate&&(N[I.nutrient]||(N[I.nutrient]=[]),N[I.nutrient].push({fertLabel:I.fertilizer,rate:I.rate}))}),A(N)}else A({});b({})},[]);function k(N){return e.filter(I=>I.nutrient===N).reduce((I,U)=>I+(U.actualNutrientApplied||0),0)}function P(N,I,U){const V=Vh.find(z=>z.label===I);if(!V)return;const W=V.nutrientContent[N]||0,L=U*W/100,D=e.filter(z=>!(z.nutrient===N&&z.fertilizer===I));console.log("handleApplyFertilizer","nutrient",N,"fertLabel",I,"rate",U,"filtered",D,"soilAmendmentsSummary",e),t([...D,{fertilizer:I,nutrient:N,rate:U,actualNutrientApplied:L,unit:"kg/ha",contains:Object.keys(V.nutrientContent),recommended:!0,nutrientsFor:[N]}]),A(z=>{const G=z[N]||[],ve=Array.isArray(G)?[...G]:[];return ve.push({fertLabel:I,rate:U}),{...z,[N]:ve}})}return y.jsxs(Rs,{title:"Soil Corrections",infoContent:y.jsxs("div",{style:{maxHeight:"350px",overflowY:"auto"},children:[y.jsx("div",{className:"mb-2 font-semibold text-gray-800",children:"How to use the Soil Corrections section"}),y.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Purpose:"})," This section helps you correct soil nutrient deficiencies by recommending fertilizers and application rates tailored to your soil test results. The goal is to bring each nutrient up to its optimal target value, while avoiding excessive application that could harm your soil or plants."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Nutrient Display:"})," Nutrients are split into ",y.jsx("span",{className:"font-semibold",children:"Main Soil Corrections"})," (the most important nutrients for plant growth, such as Calcium, Magnesium, Potassium, Phosphorus, and Sulphur) and ",y.jsx("span",{className:"font-semibold",children:"Secondary Soil Corrections"})," (other essential nutrients). Only nutrients that are currently below their target (deficient) are shown here."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Fertilizer Selection:"})," For each deficient nutrient, you can select one or more fertilizers from a dropdown menu. Each fertilizer option shows its nutrient content, a recommended application rate, and special icons/colors to help you choose safely:"]}),y.jsxs("ul",{className:"list-disc ml-6",children:[y.jsxs("li",{children:[y.jsxs("span",{className:"inline-flex items-center",children:[y.jsx(aO,{className:"inline h-4 w-4 text-green-500 mr-1"})," ",y.jsx("span",{className:"text-green-700 font-semibold",children:"Green check:"})]})," Safe to use at the recommended rate."]}),y.jsxs("li",{children:[y.jsxs("span",{className:"inline-flex items-center",children:[y.jsx(yJ,{className:"inline h-4 w-4 text-purple-600 mr-1"})," ",y.jsx("span",{className:"text-purple-700 font-semibold",children:"Purple bonus:"})]})," This fertilizer fulfills the requirement for another nutrient and is capped to avoid excess. The rate shown is the maximum safe rate for all nutrients it contains."]}),y.jsxs("li",{children:[y.jsxs("span",{className:"inline-flex items-center",children:[y.jsx(cO,{className:"inline h-4 w-4 text-red-600 mr-1"})," ",y.jsx("span",{className:"text-red-700 font-semibold",children:"Red risk:"})]})," No safe rate: any application would push a nutrient above its safe limit."]})]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Application Rate:"})," The recommended rate is calculated to bring the nutrient up to its target. If a fertilizer contains multiple nutrients, the rate may be ",y.jsx("span",{className:"font-semibold",children:"capped"})," (limited) to avoid exceeding the safe limit for any nutrient. If capped, the dropdown will show which nutrient is limiting and why."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Progress Bars:"})," Each nutrient card shows four progress bars:",y.jsxs("ul",{className:"list-disc ml-6",children:[y.jsxs("li",{children:[y.jsx("span",{className:"font-semibold",children:"Original:"})," Your current soil value."]}),y.jsxs("li",{children:[y.jsx("span",{className:"font-semibold",children:"New:"})," The value after applying selected fertilizers."]}),y.jsxs("li",{children:[y.jsx("span",{className:"font-semibold",children:"Requirement:"})," The amount still needed to reach the target."]}),y.jsxs("li",{children:[y.jsx("span",{className:"font-semibold",children:"Target:"})," The optimal value for healthy plant growth."]})]}),'The color of the "New" bar turns green if within 25% of the target, or red if outside this range.']}),y.jsxs("p",{children:[y.jsx("strong",{children:"Adjustable Parameters:"})," You can adjust the ",y.jsx("span",{className:"font-semibold",children:"Max Allowed Excess (%)"})," using the settings button (gear icon) at the top right. This controls how much above the target value a nutrient is allowed to go when applying fertilizers. Lowering this value makes recommendations more conservative; raising it allows more flexibility but increases risk of excess."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Objectives:"})," The main objective is to correct deficiencies without causing excess. The system automatically calculates safe rates and warns you if a fertilizer could cause a problem. You can add, remove, or adjust fertilizers and rates as needed."]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Other Details:"})," The section updates in real time as you make changes. You can see a breakdown of how much each fertilizer contributes to each nutrient, and a summary of selected fertilizers. If all nutrients are optimal, the section will let you know that no corrections are needed."]}),y.jsx("p",{children:"If you are new to soil science or fertilizer management, don't worry! The icons, colors, and warnings are designed to guide you safely. Hover over icons or read the messages for more information. If in doubt, consult a local agronomist or soil expert."})]})]}),children:[y.jsx("div",{className:"flex justify-end items-center mb-2",children:y.jsxs(DR,{children:[y.jsx(_R,{asChild:!0,children:y.jsx("button",{className:"p-2 rounded-full hover:bg-gray-200",title:"Adjust max allowed excess",children:y.jsx(EM,{className:"h-5 w-5 text-gray-600"})})}),y.jsxs(DN,{className:"w-64",style:{maxHeight:"350px",overflowY:"auto"},children:[y.jsx("div",{className:"mb-2 font-semibold text-gray-800",children:"Max Allowed Excess (%)"}),y.jsx("input",{type:"range",min:5,max:100,value:h,onChange:N=>f(Number(N.target.value)),className:"w-full accent-cyan-600"}),y.jsxs("div",{className:"text-center text-cyan-700 font-semibold mt-1",children:[h,"%"]}),y.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Fertilizers will not be recommended if any nutrient exceeds its target by more than this percentage."})]})]})}),y.jsxs("div",{className:"space-y-6 mt-6",children:[c.length>0&&y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Main Soil Corrections"}),y.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[y.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show:"}),y.jsx("select",{className:"border rounded px-2 py-1 text-sm",value:v,onChange:N=>g(N.target.value),children:lj.map(N=>y.jsx("option",{value:N.value,children:N.label},N.value))})]}),c.map(N=>{const I=k(N.name);N.current+I/2.4;let U=_xe(N.genericName||N.name);v!=="all"&&(U=U.filter(W=>(W.releaseType||"").toLowerCase()===v));const V=Array.isArray(u[N.name])?u[N.name]:[];return y.jsxs(rr,{className:"bg-white border-gray-200 mb-4",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black text-lg",children:N.genericName||N.name})}),y.jsxs(Ar,{children:[function(){let W=0;Object.keys(u).forEach($=>{(u[$]||[]).forEach(ie=>{if(ie.fertLabel&&ie.fertLabel!=="none"){const pe=Vh.find(te=>te.label===ie.fertLabel);if(pe){const te=pe.nutrientContent[N.genericName||N.name]||0;W+=ie.rate*te/100/2.4}}})});const L=N.current+W,D=L-N.ideal,z=(L-N.ideal)/N.ideal*100,G=Math.max(N.ideal-L,0),ve=(Number(o0(L))-Number(o0(N.ideal))).toFixed(1);o0(G);let J="text-green-700 font-semibold";return(z<-25||z>25)&&(J="text-red-600 font-semibold"),y.jsxs("div",{className:"mb-1",children:[y.jsxs("span",{className:"font-semibold",children:[N.genericName||N.name,":"]}),y.jsxs("span",{children:[" Current: ",N.current," ",N.unit,", Target: ",N.ideal," ",N.unit,", Needed: ",G.toFixed(1)," ",N.unit,"."]}),y.jsx("br",{}),y.jsxs("span",{className:J,children:["Deviation: ",z>=0?"+":"",z.toFixed(1),"% (",D>=0?"+":"",D.toFixed(1)," ",N.unit,", ",ve," kg/ha)"]})]})}(),function(){let W=0;Object.keys(u).forEach(X=>{(u[X]||[]).forEach(pe=>{if(pe.fertLabel&&pe.fertLabel!=="none"){const te=Vh.find(H=>H.label===pe.fertLabel);if(te){const H=te.nutrientContent[N.genericName||N.name]||0;W+=pe.rate*H/100/2.4}}})});const L=N.current+W,D=Math.max(N.ideal-L,0),z=Math.min(N.current/N.ideal*100,100),G=Math.min(L/N.ideal*100,100),ve=Math.min(D/N.ideal*100,100),J=(L-N.ideal)/N.ideal*100,$=J<-25||J>25?"[&>div]:bg-red-600":"[&>div]:bg-green-500";return y.jsxs("div",{className:"space-y-2 mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xs w-24",children:"Original"}),y.jsx(o2,{value:z,className:"h-2 [&>div]:bg-gray-400 flex-1"}),y.jsxs("span",{className:"text-xs ml-2",children:[N.current.toFixed(1)," ",N.unit," (",o0(N.current)," kg/ha)"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xs w-24",children:"New"}),y.jsx(o2,{value:G,className:`h-2 flex-1 ${$}`}),y.jsxs("span",{className:"text-xs ml-2",children:[L.toFixed(1)," ",N.unit," (",o0(L)," kg/ha)"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xs w-24",children:"Requirement"}),y.jsx(o2,{value:ve,className:"h-2 [&>div]:bg-cyan-400 flex-1"}),y.jsxs("span",{className:"text-xs ml-2",children:[D.toFixed(1)," ",N.unit," (",o0(D)," kg/ha)"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xs w-24",children:"Target"}),y.jsx(o2,{value:100,className:"h-2 [&>div]:bg-green-600 flex-1"}),y.jsxs("span",{className:"text-xs ml-2",children:[N.ideal," ",N.unit," (",o0(N.ideal)," kg/ha)"]})]})]})}(),function(){let W=0;Object.keys(u).forEach(D=>{(u[D]||[]).forEach(G=>{if(G.fertLabel&&G.fertLabel!=="none"){const ve=Vh.find(J=>J.label===G.fertLabel);if(ve){const J=ve.nutrientContent[N.genericName||N.name]||0;W+=G.rate*J/100/2.4}}})});const L=(W*2.4).toFixed(1);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-2 text-sm text-blue-800 font-semibold",children:["Total Recommended: ",W.toFixed(1)," ppm (",L," kg/ha)"]}),y.jsxs("div",{className:"mb-2 text-xs text-gray-700",children:[y.jsx("strong",{children:"Source breakdown:"}),y.jsx("ul",{className:"list-disc ml-5",children:Object.keys(u).map(D=>(u[D]||[]).map((G,ve)=>{if(G.fertLabel&&G.fertLabel!=="none"){const J=Vh.find($=>$.label===G.fertLabel);if(J){const $=J.nutrientContent[N.genericName||N.name]||0;if($>0){const X=G.rate*$/100/2.4,ie=(X*2.4).toFixed(1);return y.jsxs("li",{children:[J.label,": ",X.toFixed(2)," ppm (",ie," kg/ha)"]},D+"-"+ve)}}}return null}))})]})]})}(),V.length===0?y.jsx("div",{className:"text-xs text-gray-500 mb-2",children:'No fertilizers selected. Click "Add Fertilizer" to begin.'}):V.map((W,L)=>{const D=`${N.name}-${L}`,z=x[D]||"all",G=S[D]||"";let ve=U;z!=="all"&&(ve=U.filter(X=>(X.releaseType||"").toLowerCase()===z)),G&&(ve=ve.filter(X=>X.label.toLowerCase().includes(G.toLowerCase())));const J=ve.find(X=>X.label===W.fertLabel);let $=W.rate;if(J){const X=J.nutrientContent[N.genericName||N.name]||0;let ie=0;(u[N.name]||[]).forEach((re,he)=>{if(he<L&&re.fertLabel&&re.fertLabel!=="none"){const Ae=ve.find(ge=>ge.label===re.fertLabel);if(Ae){const ge=Ae.nutrientContent[N.genericName||N.name]||0;ie+=re.rate*ge/100/2.4}}});const pe=Math.max(N.ideal-(N.current+ie),0),te=X>0?Number((pe*100*2.4/X).toFixed(1)):0;let H=te,q=null;Object.entries(J.nutrientContent).forEach(([re,he])=>{if(!he||re===(N.genericName||N.name))return;const Ae=n.find(Ve=>(Ve.genericName||Ve.name)===re);if(!Ae)return;let ge=0;Object.keys(u).forEach(Ve=>{(u[Ve]||[]).forEach(ft=>{if(ft.fertLabel&&ft.fertLabel!=="none"){const Kt=ve.find(Ge=>Ge.label===ft.fertLabel);if(Kt){const Ge=Kt.nutrientContent[re]||0;ge+=ft.rate*Ge/100/2.4}}})});const we=Ae.ideal*(1+h/100),ke=Number(we)-Number(Ae.current),ze=Number(he)>0?ke*100*2.4/Number(he):1/0;ze<H&&(H=Math.max(0,Number(ze.toFixed(1))),q=re)}),$=H,W._uncappedRate=te,W._cappedRate=H,W._limitingNutrient=q,W._limitingReason=q?`Full rate to reach target is ${te} kg/ha, but capped at ${H} kg/ha due to ${q} exceeding target by more than ${h}%`:""}return Object.entries(J?J.nutrientContent:{}).forEach(([X,ie])=>{if(!ie)return;const pe=n.find(Ae=>(Ae.genericName||Ae.name)===X);if(!pe)return;let te=0;Object.keys(u).forEach(Ae=>{(u[Ae]||[]).forEach(we=>{if(we.fertLabel&&we.fertLabel!=="none"){const ke=ve.find(ze=>ze.label===we.fertLabel);if(ke){const ze=ke.nutrientContent[X]||0;te+=we.rate*ze/100/2.4}}})});const H=$*ie/100/2.4,q=pe.current+te+H,re=pe.ideal*(1+h/100);q>re+1e-6&&(q-pe.ideal)/pe.ideal*100}),y.jsxs("div",{className:"flex gap-4 items-end mb-2",children:[y.jsx("div",{className:"flex-1",children:y.jsxs(th,{value:W.fertLabel,onValueChange:X=>{debugger;let ie=W.rate;const pe=ve.find(te=>te.label===X);if(pe){const te=pe.nutrientContent[N.genericName||N.name]||0;let H=0;(u[N.name]||[]).forEach((Ae,ge)=>{if(ge<L&&Ae.fertLabel&&Ae.fertLabel!=="none"){const we=ve.find(ke=>ke.label===Ae.fertLabel);if(we){const ke=we.nutrientContent[N.genericName||N.name]||0;H+=Ae.rate*ke/100/2.4}}});const q=Math.max(N.ideal-(N.current+H),0);let he=te>0?Number((q*100*2.4/te).toFixed(1)):0;Object.entries(pe.nutrientContent).forEach(([Ae,ge])=>{if(!ge||Ae===(N.genericName||N.name))return;const we=n.find(Ue=>(Ue.genericName||Ue.name)===Ae);if(!we)return;const ke=we.ideal*(1+h/100),ze=Number(ke)-Number(we.current),Ve=Number(ge)>0?ze*100*2.4/Number(ge):1/0;Ve<he&&(he=Math.max(0,Number(Ve.toFixed(1))))}),ie=he}P(N.name,X,ie)},children:[y.jsx(YA,{className:"bg-white w-full h-10",children:y.jsx(nh,{placeholder:"Choose fertilizer"})}),y.jsxs(ZA,{children:[y.jsx("input",{type:"text",placeholder:"Search fertilizer...",value:G,onChange:X=>E(ie=>({...ie,[D]:X.target.value})),className:"w-full px-2 py-1 mb-2 border rounded text-sm"}),y.jsx("div",{className:"flex gap-2 mb-2 px-2",children:lj.map(X=>y.jsx("button",{className:`px-2 py-0.5 rounded text-xs font-semibold border ${z===X.value?"bg-[#a97c50] text-white border-[#a97c50]":"bg-gray-100 text-gray-700 border-gray-300"}`,style:{background:X.value==="fast"?"#dbeafe":X.value==="moderate"?"#fef9c3":X.value==="slow"?"#d1fae5":X.value==="very slow"?"#e5e7eb":X.value==="controlled"?"#ede9fe":z===X.value?"#a97c50":"#f3f4f6",color:z===X.value?"white":void 0},onClick:ie=>{ie.preventDefault(),b(pe=>({...pe,[D]:X.value}))},children:X.label},X.value))}),(()=>{const X=pe=>{const te=pe.nutrientContent[N.genericName||N.name]||0,H=Math.max(N.ideal-N.current,0);let re=te>0?Number((H*100*2.4/te).toFixed(1)):0;Object.entries(pe.nutrientContent).forEach(([ge,we])=>{if(!we||ge===(N.genericName||N.name))return;const ke=n.find(ft=>(ft.genericName||ft.name)===ge);if(!ke)return;const ze=ke.ideal*(1+h/100),Ve=Number(ze)-Number(ke.current),Ue=Number(we)>0?Ve*100*2.4/Number(we):1/0;Ue<re&&(re=Math.max(0,Number(Ue.toFixed(1))))});let he=!1,Ae=!1;if(pe.phLogic&&i!==null){const{min_pH:ge,max_pH:we}=pe.phLogic;(ge===null||i>=ge)&&(we===null||i<=we)?he=!0:Ae=!0}return he?0:Ae?1:re===0?3:2};return[...ve].sort((pe,te)=>X(pe)-X(te)).map(pe=>{(pe.nutrientContent[N.genericName||N.name]||0)<1;const te=pe.nutrientContent[N.genericName||N.name]||0,H=Object.entries(pe.nutrientContent).map(([Ge,Se])=>`${Ge} ${Se}%`).join(", "),q=Math.max(N.ideal-N.current,0),re=te>0?Number((q*100*2.4/te).toFixed(1)):0;let he=re,Ae=null;Object.entries(pe.nutrientContent).forEach(([Ge,Se])=>{if(!Se||Ge===(N.genericName||N.name))return;const Nt=n.find(Et=>(Et.genericName||Et.name)===Ge);if(!Nt)return;const xt=Nt.ideal*(1+h/100),at=Number(xt)-Number(Nt.current),Ct=Number(Se)>0?at*100*2.4/Number(Se):1/0;Ct<he&&(he=Math.max(0,Number(Ct.toFixed(1))),Ae=Ge)});const ge=he,we=1e-6;Object.entries(pe.nutrientContent).forEach(([Ge,Se])=>{if(!Se)return;const Nt=n.find(Et=>(Et.genericName||Et.name)===Ge);if(!Nt)return;const xt=ge*Se/100/2.4,at=Nt.current+xt,Ct=Nt.ideal*(1+h/100);at>Ct+we&&(at-Nt.ideal)/Nt.ideal*100});let ke,ze,Ve,Ue,ft=!1,Kt=!1;if(pe.phLogic&&i!==null){const{min_pH:Ge,max_pH:Se}=pe.phLogic;(Ge===null||i>=Ge)&&(Se===null||i<=Se)?ft=!0:Kt=!0}return ft?(ke=y.jsx("span",{title:"Recommended for your soil pH",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 17.75l-6.172 3.247 1.179-6.873L2 9.753l6.908-1.004L12 2.25l3.092 6.499L22 9.753l-5.007 4.371 1.179 6.873z"})})}),ze="text-green-700 hover:underline font-medium",Ve="text-xs text-green-700 ml-2",Ue=y.jsx("span",{className:"text-xs text-green-700",children:"Recommended for your soil pH."})):Kt?(ke=y.jsx(FJ,{className:"h-4 w-4 text-yellow-500"}),ze="text-yellow-700 hover:underline font-medium",Ve="text-xs text-yellow-700 ml-2",Ue=y.jsx("span",{className:"text-xs text-yellow-700",children:"Not recommended: soil pH is not within the recommended range for this fertilizer."})):he===0?(ke=y.jsx(cO,{className:"h-4 w-4 text-red-600"}),ze="text-red-700 hover:underline font-medium",Ve="text-xs text-red-700 ml-2",Ue=y.jsxs("span",{className:"text-xs text-red-600",children:["No safe rate: any application would push ",Ae," above the ",h,"% excess limit."]})):(ke=y.jsx(aO,{className:"h-4 w-4 text-green-500"}),ze="text-blue-700 hover:underline font-medium",Ve="text-xs text-green-700 ml-2",Ue=null),y.jsx(JA,{value:pe.label,children:y.jsxs("div",{className:"flex flex-col gap-0.5",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[ke,y.jsx("a",{href:`https://www.nutri-tech.com.au/products/${pe.label.toLowerCase().replace(/[^a-z0-9]+/g,"-")}`,target:"_blank",rel:"noopener noreferrer",className:ze,children:pe.label}),y.jsxs("span",{className:"text-xs text-gray-700 ml-1",children:["[",H,"]"]}),y.jsx("span",{className:Ve,children:re===he?`(${re} kg/ha)`:`(needed: ${re} kg/ha, capped: ${he} kg/ha due to ${Ae})`}),pe.releaseType&&y.jsxs("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-semibold ${pe.releaseType==="fast"?"bg-blue-100 text-blue-800":pe.releaseType==="moderate"?"bg-yellow-100 text-yellow-800":pe.releaseType==="slow"?"bg-green-100 text-green-800":pe.releaseType==="very slow"?"bg-gray-200 text-gray-800":"bg-gray-100 text-gray-700"}`,children:[pe.releaseType.charAt(0).toUpperCase()+pe.releaseType.slice(1)," Release"]})]}),Ue]})},pe.label)})})()]})]})}),y.jsxs("div",{className:"w-32 flex flex-col",children:[y.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-0.5",children:"Application Rate (kg/ha)"}),y.jsx(xg,{type:"number",min:0,value:!W.fertLabel||W.fertLabel==="none"?"":W.rate,onChange:X=>{const ie=Number(X.target.value);A(pe=>{const te=[...pe[N.name]||[]];return te[L]={...te[L],rate:ie},{...pe,[N.name]:te}});try{if(W.fertLabel&&W.fertLabel!=="none"){const pe=Vh.find(te=>te.label===W.fertLabel);if(pe){const te=pe.nutrientContent[N.genericName||N.name]||0,H=ie*te/100;console.log("soilAmendmentsSummary",e);const re=(Array.isArray(e)?e:[]).filter(he=>!(he.nutrient===N.name&&he.fertilizer===W.fertLabel));console.log("filtered",re),t([...re,{fertilizer:W.fertLabel,nutrient:N.name,rate:ie,actualNutrientApplied:H,unit:"kg/ha",contains:Object.keys(pe.nutrientContent)}])}}}catch(pe){console.error("Error updating soil amendments summary",pe)}},className:"bg-white h-10 w-20"})]}),y.jsx(xr,{variant:"ghost",size:"sm",className:"h-10 text-red-500",onClick:()=>{const X=W.fertLabel;A(ie=>{const pe=[...ie[N.name]||[]];return pe.splice(L,1),{...ie,[N.name]:pe}}),X&&X!=="none"&&t(ie=>{const te=(Array.isArray(ie)?ie:[]).filter(H=>!(H.nutrient===N.name&&H.fertilizer===X));return Array.isArray(te)?te:[]})},children:"Remove"})]},L)}),y.jsx(xr,{variant:"outline",size:"sm",className:"mt-2 bg-[#8cb43a] hover:bg-[#7ca32e] text-white",onClick:()=>{A(W=>{const L=Array.isArray(W[N.name])?W[N.name]:[];return{...W,[N.name]:[...L,{fertLabel:"",rate:100}]}})},children:"Add Fertilizer"}),V.length>0&&y.jsxs("div",{className:"mt-2 text-xs text-gray-700",children:[y.jsx("strong",{children:"Selected Fertilizers:"}),y.jsx("ul",{className:"list-disc ml-5",children:V.map((W,L)=>W.fertLabel&&W.fertLabel!=="none"?y.jsxs("li",{children:[W.fertLabel," (",W.rate," kg/ha)"]},L):null)})]})]})]},N.name)})]}),e&&e.length>0&&y.jsx("div",{className:"mt-6",children:y.jsxs("div",{className:"rounded-lg shadow p-4",style:{background:"#f5eee6",borderLeft:"6px solid #a97c50"},children:[y.jsx("div",{className:"font-bold text-[#a97c50] mb-2",children:"Soil Corrections Summary"}),y.jsx("ul",{className:"list-disc ml-6 text-sm",children:e.map((N,I)=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:N.fertilizer})," at a rate of ",N.rate," ",N.unit,N.contains&&N.contains.length>0&&y.jsxs("span",{className:"text-gray-600",children:[" (Contains: ",N.contains.join(", "),")"]})]},I))})]})}),c.length===0&&y.jsx("div",{className:"text-green-700 font-semibold",children:"No corrections needed. All nutrients are optimal!"}),Object.entries(u).flatMap(([N,I])=>(Array.isArray(I)?I:[]).filter(U=>U.fertLabel&&U.fertLabel!=="none").map((U,V)=>{const W=Vh.find(z=>z.label===U.fertLabel);if(!W)return null;const L=Object.entries(W.nutrientContent).map(([z,G])=>`${z} ${G}%`).join(", "),D=Object.entries(W.nutrientContent).map(([z,G])=>{const ve=U.rate*G/100/2.4,J=(ve*2.4).toFixed(2);return`${z}: ${ve.toFixed(2)} ppm (${J} kg/ha)`});return y.jsx("div",{className:"mb-3 bg-[#f3e5d2] rounded-md px-4 py-3 flex items-center justify-between",children:y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-black",children:U.fertLabel}),y.jsxs("div",{className:"text-xs text-gray-700",children:["Contains: ",L]}),y.jsxs("div",{className:"text-sm text-[#a97c50]",children:["Rate: ",U.rate," kg/ha"]}),y.jsx("div",{className:"text-xs text-gray-700 mt-1",children:D.map((z,G)=>y.jsx("div",{children:z},G))})]})},U.fertLabel+"-"+V)}))]})]})},DD=Object.fromEntries(sc.map(n=>{const t={"K-Rich":"https://nutri-tech.com.au/products/k-rich","Cal-Tech":"https://nutri-tech.com.au/products/cal-tech","Calcium Fulvate":"https://nutri-tech.com.au/collections/premium-liquids/products/farm-saver-calcium-fulvate","Citrus-Tech Triple Ten":"https://nutri-tech.com.au/products/citrus-tech-triple-ten","Cloak Spray Oil":"https://nutri-tech.com.au/products/cloak-spray-oil","Nutri-Carb-N":"https://nutri-tech.com.au/products/nutri-carb-n","Phos-Force":"https://nutri-tech.com.au/products/phos-force","Photo-Finish":"https://nutri-tech.com.au/products/photo-finish","Potassium Silicate":"https://nutri-tech.com.au/products/potassium-silicate","Seed-Start":"https://nutri-tech.com.au/products/seed-start","Trio (CMB)":"https://nutri-tech.com.au/products/trio-cmb","Triple Ten":"https://nutri-tech.com.au/products/triple-ten","Tsunami Super Spreader":"https://nutri-tech.com.au/products/tsunami-super-spreader","Activated Char Condensate (ACC)":"https://nutri-tech.com.au/collections/nslpgp/products/activated-char-condensate","Aloe-Tech":"https://nutri-tech.com.au/collections/nslpgp/products/aloe-tech","Amino-Max":"https://nutri-tech.com.au/collections/nslpgp/products/amino-max","Brix-Fix":"https://nutri-tech.com.au/collections/nslpgp/products/brix-fix","Nutri-Kelp":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-kelp","Nutri-Sea Liquid Fish":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-sea-liquid-fish","Nutri-Stim Saponins":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-stim-saponins","Nutri-Stim Triacontanol":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-stim-triacontanol","Nutri-Tech Black Gold":"https://nutri-tech.com.au/collections/nslpgp/products/nutri-tech-black-gold","Root & Shoot":"https://nutri-tech.com.au/collections/nslpgp/products/root-and-shoot","SeaChange KFF":"https://nutri-tech.com.au/collections/nslpgp/products/seachange-kff","SeaChange Liquid Kelp":"https://nutri-tech.com.au/collections/nslpgp/products/seachange-liquid-kelp","Tri-Kelp":"https://nutri-tech.com.au/collections/nslpgp/products/tri-kelp","Micro-Amino Drive (MAD)":"https://nutri-tech.com.au/collections/nslpgp/products/micro-amino-drive-mad","Boron Essentials":"https://nutri-tech.com.au/products/boron-essentials","Copper Essentials":"https://nutri-tech.com.au/products/copper-essentials","Iron Essentials":"https://nutri-tech.com.au/products/iron-essentials","Manganese Essentials":"https://nutri-tech.com.au/products/manganese-essentials","Multi-Boost":"https://nutri-tech.com.au/products/multi-boost","Multi-Min":"https://nutri-tech.com.au/products/multi-min","Multi-Plex":"https://nutri-tech.com.au/products/multi-plex","Nutri-Key Boron Shuttle":"https://nutri-tech.com.au/products/boron-shuttle","Nutri-Key Calcium Shuttle":"https://nutri-tech.com.au/products/calcium-shuttle","Nutri-Key Cobalt Shuttle":"https://nutri-tech.com.au/products/nutri-key-cobalt-shuttle","Nutri-Key Copper Shuttle":"https://nutri-tech.com.au/products/copper-shuttle","Nutri-Key Hydro-Shuttle":"https://nutri-tech.com.au/products/hydro-shuttle","Nutri-Key Iron Shuttle":"https://nutri-tech.com.au/products/iron-shuttle","Nutri-Key Magnesium Shuttle":"https://nutri-tech.com.au/products/magnesium-shuttle","Nutri-Key Manganese Shuttle":"https://nutri-tech.com.au/products/manganese-shuttle","Nutri-Key Moly Shuttle":"https://nutri-tech.com.au/products/moly-shuttle","Nutri-Key Shuttle Seven":"https://nutri-tech.com.au/products/shuttle-seven","Nutri-Key Zinc Shuttle":"https://nutri-tech.com.au/products/zinc-shuttle","Zinc Essentials":"https://nutri-tech.com.au/products/zinc-essentials","CalMag-Life Organic":"https://nutri-tech.com.au/products/calmag-life-organic","Dia-Life Organic":"https://nutri-tech.com.au/products/dia-life-organic","Gyp-Life Organic":"https://nutri-tech.com.au/products/gyp-life-organic","Lime-Life Organic":"https://nutri-tech.com.au/products/lime-life-organic","Mag-Life Organic":"https://nutri-tech.com.au/products/mag-life-organic","Phos-Life Organic":"https://nutri-tech.com.au/products/phos-life-organic","Sili-Cal (B)":"https://nutri-tech.com.au/products/sili-cal-b","Nutri-Life BAM":"https://nutri-tech.com.au/products/nutri-life-bam","Nutri-Life Platform":"https://nutri-tech.com.au/products/platform","Nutri-Life Bio-N":"https://nutri-tech.com.au/products/bio-n","Nutri-Life Bio-Plex":"https://nutri-tech.com.au/products/bio-plex","Nutri-Life Bio-P":"https://nutri-tech.com.au/products/bio-p","Nutri-Life Micro-Force":"https://nutri-tech.com.au/products/micro-force","Nutri-Life Root-Guard":"https://nutri-tech.com.au/products/root-guard","Nutri-Life Sudo-Shield":"https://nutri-tech.com.au/products/nutri-life-sudo-shield","Nutri-Life Tricho-Shield":"https://nutri-tech.com.au/products/tricho-shield","NTS Liquid Humus":"https://nutri-tech.com.au/products/liquid-humus","NTS Soluble Humate Granules":"https://nutri-tech.com.au/products/soluble-humate-granules","NTS Super Soluble Humates":"https://nutri-tech.com.au/products/super-soluble-humates","NTS Fulvic Acid Powder":"https://nutri-tech.com.au/products/fulvic-acid-powder","NTS Fast Fulvic":"https://nutri-tech.com.au/products/fast-fulvic","NTS FulvX Powder":"https://nutri-tech.com.au/products/fulvx-powder","Worm Juice":"Source locally","Compost Tea Extract":"Source locally","Soluble Boron":"Source locally","Boric Acid":"Source locally","Biomin Calcium":"Source locally","NTS Stabilised Boron Granules":"https://nutri-tech.com.au/products/stabilised-boron-granules"}[n.label]||"https://nutri-tech.com.au/";return[n.label,{url:t,description:n.description}]})),Hxe={"Nutri-Gyp Natural Gypsum":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-gyp-natural-gypsum",description:"Natural gypsum providing calcium and sulfur to improve soil structure and correct sodicity."},"NTS Soft Rock":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nts-soft-rock",description:"Soft rock phosphate providing phosphorus and calcium for root development and soil health."},"NTS Liquid Humus":{url:"https://nutri-tech.com.au/collections/humates/products/nts-liquid-humus",description:"A premium liquid humic acid formulation designed to improve soil structure, stimulate beneficial microbial activity and boost overall soil fertility."},"Elemental Sulfur":{url:"Source locally",description:"Lowers soil pH and supplies sulfur for protein synthesis and enzyme function."},"Calcium Nitrate":{url:"Source locally",description:"Fast-acting calcium and nitrogen source for quick correction of deficiencies."},"Potassium Nitrate":{url:"Source locally",description:"Provides potassium and nitrogen for plant growth and stress tolerance."},"Dolomitic Lime":{url:"Source locally",description:"Raises soil pH while supplying calcium and magnesium for balanced fertility."},"Epsom Salt (Magnesium Sulfate Heptahydrate)":{url:"Source locally",description:"Fast-acting magnesium and sulfur source for quick deficiency correction."},"Gypsum (Calcium Sulfate)":{url:"Source locally",description:"Improves soil structure and provides calcium and sulfur without affecting pH."},"Life Force Carbon":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/life-force-carbon",description:"Organic carbon-based soil amendment to improve soil structure, water retention, and microbial activity."},"NTS Fast Fulvic":{url:"https://nutri-tech.com.au/collections/humates/products/nts-fast-fulvic",description:"Fulvic acid liquid concentrate to enhance nutrient uptake, improve soil biology, and boost plant vigor."},"NTS Fulvic Acid Powder":{url:"https://nutri-tech.com.au/collections/humates/products/nts-fulvic-acid-powder",description:"Concentrated fulvic acid powder for improved nutrient chelation and plant absorption."},"NTS FulvX Powder":{url:"https://nutri-tech.com.au/collections/humates/products/nts-fulvx-powder",description:"Concentrated soluble fulvic and humic acid powder for enhanced soil fertility and plant nutrition."},"NTS Soluble Humate Granules":{url:"https://nutri-tech.com.au/collections/humates/products/nts-soluble-humate-granules",description:"Soluble humate granules to improve soil CEC, nutrient retention, and microbial health."},"NTS Stabilised Boron Granules":{url:"https://nutri-tech.com.au/collections/humates/products/nts-stabilised-boron-granules",description:"Slow-release boron granules to support flowering, fruit set, and calcium mobility."},"NTS Super Soluble Humates":{url:"https://nutri-tech.com.au/collections/humates/products/nts-super-soluble-humates",description:"Super-soluble humic acid powder for enhanced nutrient efficiency and soil microbial stimulation."},"Nutri-Phos Super Active":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nutri-phos-super-active",description:"Advanced phosphate formulation with calcium and silica to boost root growth and soil fertility."},"Worm Juice":{url:"Source locally",description:"A concentrated, biologically active worm-cast extract designed to prime and enhance soil vitality."},"Compost Tea Extract":{url:"Source locally",description:"Aerobic compost extract rich in beneficial microbes and nutrients to enhance soil biology and plant health."},"Soluble Boron":{url:"Source locally",description:"Water-soluble boron source for rapid correction of boron deficiencies affecting flowering and fruit set."},"Boric Acid":{url:"Source locally",description:"Pure boron source for precise correction of boron deficiencies in crops."},"Biomin Calcium":{url:"Source locally",description:"Chelated calcium formulation for enhanced calcium uptake and improved plant structure."},Urea:{url:"Source locally",description:"High-analysis nitrogen fertilizer (46% N) for rapid plant growth and protein synthesis."},"Sodium Nitrate (Chile Nitrate)":{url:"Source locally",description:"Natural nitrate source providing sodium and nitrogen, ideal for alkaline soil conditions."},"Zinc Nitrate":{url:"Source locally",description:"Fast-acting zinc and nitrogen source for quick correction of zinc deficiencies."},"Iron Nitrate":{url:"Source locally",description:"Soluble iron and nitrogen source for rapid correction of iron chlorosis."},"Copper Nitrate":{url:"Source locally",description:"Copper and nitrogen source for correction of copper deficiencies and plant health."},"UAN Solution (Urea Ammonium Nitrate)":{url:"Source locally",description:"Liquid nitrogen solution providing urea, ammonium, and nitrate for sustained nitrogen release."},"Calcium Ammonium Nitrate (CAN)":{url:"Source locally",description:"Nitrogen fertilizer with calcium to provide balanced nutrition and improve soil structure."},"Ammonium Polyphosphate (APP)":{url:"Source locally",description:"Liquid phosphorus and nitrogen source with enhanced phosphorus availability."},"Ammonium Chloride":{url:"Source locally",description:"Fast-acting nitrogen source suitable for chloride-tolerant crops."},"Ammonium Acetate":{url:"Source locally",description:"Organic nitrogen source that improves soil microbial activity and nutrient cycling."},"Triple Superphosphate (TSP)":{url:"Source locally",description:"High-analysis phosphorus fertilizer with calcium for strong root development."},"Monoammonium Phosphate (MAP)":{url:"Source locally",description:"Water-soluble phosphorus and nitrogen source for precise nutrient application."},"Diammonium Phosphate (DAP)":{url:"Source locally",description:"Popular phosphorus and nitrogen fertilizer for general crop nutrition."},"Rock Phosphate":{url:"Source locally",description:"Slow-release phosphorus source requiring acidic soil conditions for availability."},"Soft Rock Phosphate":{url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nts-soft-rock",description:"Soft rock phosphate providing phosphorus and calcium for root development and soil health."},"Bone Meal":{url:"Source locally",description:"Organic phosphorus and calcium source from ground animal bones for soil improvement."},"Fish Bone Meal":{url:"Source locally",description:"Marine-derived organic fertilizer providing nitrogen, phosphorus, and calcium."},Thermophosphate:{url:"Source locally",description:"Heat-treated phosphate rock providing phosphorus, calcium, and magnesium."},"Muriate of Potash (Potassium Chloride)":{url:"Source locally",description:"High-analysis potassium fertilizer suitable for chloride-tolerant crops."},Langbeinite:{url:"Source locally",description:"Natural potassium, magnesium, and sulfur source for balanced nutrition."},"Potassium Magnesium Sulfate":{url:"Source locally",description:"Soluble potassium, magnesium, and sulfur source for comprehensive nutrition."},"Potassium Thiosulfate":{url:"Source locally",description:"Liquid potassium and sulfur source with enhanced nutrient availability."},"Potassium Carbonate":{url:"Source locally",description:"Alkaline potassium source suitable for acid soil correction."},"Potassium Acetate":{url:"Source locally",description:"Organic potassium source that enhances soil microbial activity."},"Wood Ash":{url:"Source locally",description:"Organic potassium and calcium source from burned wood, raises soil pH."},"Kieserite (Magnesium Sulfate Monohydrate)":{url:"Source locally",description:"Concentrated magnesium and sulfur source for soil and foliar application."},"Magnesium Nitrate":{url:"Source locally",description:"Fast-acting magnesium and nitrogen source for quick deficiency correction."},"Magnesium Chloride":{url:"Source locally",description:"Soluble magnesium source for rapid correction of magnesium deficiencies."},"Sulfur-Rich Compost":{url:"Source locally",description:"Organic compost providing sulfur and other nutrients for soil improvement."},"Ammonium Sulfate":{url:"Source locally",description:"Nitrogen and sulfur fertilizer that acidifies soil and provides quick nutrition."},"Potassium Sulfate (Sulfate of Potash)":{url:"Source locally",description:"High-quality potassium and sulfur source without chloride."},"Ammonium Thiosulfate":{url:"Source locally",description:"Liquid nitrogen and sulfur source for precise nutrient application."},"Sulfur-Coated Urea":{url:"Source locally",description:"Slow-release nitrogen and sulfur fertilizer for sustained nutrition."},"Chicken Manure":{url:"Source locally",description:"Organic fertilizer providing balanced NPK and trace elements for soil health."}};Object.assign(DD,Hxe);DD["[No Name]"]={url:"",description:"No product information available."};const jxe={"Seed Treatment":"Applied to seeds before planting to provide essential nutrients and beneficial biology for strong germination and early growth.","Planting Blend":"Mixed into the planting hole or applied at planting to establish healthy root development and soil biology.","Soil Amendments":"Applied to correct specific nutrient deficiencies identified in your soil analysis, targeting optimal levels for plant health.","Main Soil Corrections":"Applied to correct specific nutrient deficiencies identified in your soil analysis, targeting optimal levels for plant health.","Biological Fertigation Program":"Delivers beneficial biology and nutrients through fertigation to boost soil health and plant growth.","Soil Drench Program":"Delivers beneficial biology and nutrients through soil drench application to boost soil health and plant growth.","Pre-Flowering Foliar Spray":"Applied before flowering to supply key nutrients for strong flowering and fruit set.","Nutritional Foliar Spray":"Provides essential nutrients during growth to quickly correct deficiencies and support plant health."};function a0(n){const e=/(\*\*[^*]+\*\*)/g;return n.split(e).map(r=>r.startsWith("**")&&r.endsWith("**")?{text:r.slice(2,-2),bold:!0}:{text:r,bold:!1}).filter(r=>r.text.length>0)}function l0(n,e,t,r,i){const s=[];let o=[],a=0;for(const l of n){const c=l.bold?t:e,u=l.text.split(" ");for(let A=0;A<u.length;A++){let h=u[A];if(h==="")continue;const f=c.widthOfTextAtSize(h,r),v=o.length>0?e.widthOfTextAtSize(" ",r):0;a+f+v>i&&o.length>0&&(s.push(o),o=[],a=0),o.length>0&&(o.push({text:" ",bold:!1}),a+=v),o.push({text:h,bold:l.bold}),a+=f}}return o.length>0&&s.push(o),s}function Qxe(n){return n?String(n).replace(/[\u00A0\u202F\u2007\u2009\u200A\u200B\u2060\u2000-\u200A]+/g," ").replace(/([.,;:!?])(?![ \n])/g,"$1 ").replace(/([a-z0-9\)])([A-Z])/g,"$1 $2").replace(/([A-Za-z])(\()/g,"$1 $2").replace(/(\))([A-Za-z])/g,"$1 $2").replace(/ {2,}/g," ").replace(/\bp\s*H\b/g,"pH").replace(/\bLa\s*Motte\b/gi,"LaMotte"):""}function zxe(n){if(!n)return"";let e=String(n);const t=[{pattern:/\bcalcium\b/gi,to:"Calcium"},{pattern:/\bmagnesium\b/gi,to:"Magnesium"},{pattern:/\bphosphorus\b/gi,to:"Phosphorus"},{pattern:/\bpotassium\b/gi,to:"Potassium"},{pattern:/\bsodium\b/gi,to:"Sodium"},{pattern:/\b(?:sulphur|sulfur)\b/gi,to:"Sulphur"},{pattern:/\bboron\b/gi,to:"Boron"},{pattern:/\bcopper\b/gi,to:"Copper"},{pattern:/\bzinc\b/gi,to:"Zinc"},{pattern:/\biron\b/gi,to:"Iron"},{pattern:/\bmanganese\b/gi,to:"Manganese"},{pattern:/\bmolybdenum\b/gi,to:"Molybdenum"},{pattern:/\bcobalt\b/gi,to:"Cobalt"},{pattern:/\bsilicon\b/gi,to:"Silicon"},{pattern:/\b(?:aluminium|aluminum)\b/gi,to:"Aluminium"},{pattern:/\bnitrate-?n\b/gi,to:"Nitrate-N"},{pattern:/\bammonium-?n\b/gi,to:"Ammonium-N"},{pattern:/\borganic\s+matter\b/gi,to:"Organic matter"},{pattern:/\bbase\s+saturation\b/gi,to:"Base saturation"},{pattern:/\bcation\s+exchange\s+capacity\b/gi,to:"Cation exchange capacity"},{pattern:/\bcec\b/gi,to:"CEC"},{pattern:/\bla\s*motte\b/gi,to:"LaMotte"}];for(const{pattern:s,to:o}of t)e=e.replace(s,o);const r=["Calcium","Magnesium","Phosphorus","Potassium","Sodium","Sulphur","Sulfur","Boron","Copper","Zinc","Iron","Manganese","Molybdenum","Cobalt","Silicon","Aluminium","Aluminum","Nitrate-N","Ammonium-N","Organic matter","Base saturation","CEC","Cation Exchange Capacity","pH"],i=(s,o)=>s.replace(o,(a,...l)=>{const c=l[l.length-2],u=l[l.length-1],A=u.slice(Math.max(0,c-2),c),h=u.slice(c+a.length,c+a.length+2);return A==="**"&&h==="**"?a:`**${a}**`});for(const s of r){if(s.toLowerCase()==="ph"){e=i(e,/\bp\s*H\b/gi);continue}const o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=new RegExp(`\\b${o}\\b`,"gi");e=i(e,a)}return e}function c0(n,e,t,r,i,s,o,a,l,c){const u=e.filter(g=>g.text===" ").length,A=e.reduce((g,x)=>g+(x.bold?i.widthOfTextAtSize(x.text,s):r.widthOfTextAtSize(x.text,s)),0);let h=!c&&u>0?(l-A)/u:0,f=a,v=0;for(const g of e){const x=g.bold?i:r;if(g.text===" "){n.drawText(" ",{x:f,y:t,size:s,font:r,color:o});let b=r.widthOfTextAtSize(" ",s);!c&&v<u&&(b+=h),f+=b,v++}else n.drawText(g.text,{x:f,y:t,size:s,font:x,color:o}),f+=x.widthOfTextAtSize(g.text,s)}}function r1(n,e,t,r){const s=n.replace(/\s+/g," ").trim().split(" "),o=[];let a="";for(let l=0;l<s.length;l++){let c=s[l];if(c.trim()){if(a){const u=a+" "+c;e.widthOfTextAtSize(u,t)>r?(o.push(a),a=c):a=u}else a=c;for(;e.widthOfTextAtSize(a,t)>r&&!a.includes(" ");){let u=a.length-1;for(;u>1&&e.widthOfTextAtSize(a.slice(0,u)+"-",t)>r;)u--;if(u<=1)break;o.push(a.slice(0,u)+"-"),a=a.slice(u)}}}return a&&o.push(a),o}async function Kxe(n,e){var S,E,k,P,N,I,U,V;const t=Array.isArray(n)?n:[n],r=await Fl.create(),i=await r.embedFont(vg.Helvetica),s=await r.embedFont(vg.HelveticaBold),o=En(.55,.71,.23),a=En(.5,.5,.5),l=En(0,0,0);if(e&&e.frontAttachments&&e.frontAttachments.length>0)for(const W of e.frontAttachments){let L="";if(W==="plant-therapy-cover"&&(L="/attachments/plant-therapy-cover.pdf"),W==="soil-therapy-cover"&&(L="/attachments/soil-therapy-cover.pdf"),L)try{const D=await fetch(L);if(!D.ok){console.warn(`PDF file not found: ${L}`);continue}const z=await D.arrayBuffer(),G=await Fl.load(z);(await r.copyPages(G,G.getPageIndices())).forEach(J=>r.addPage(J))}catch(D){console.warn(`Failed to load PDF: ${L}`,D);continue}}if(e&&e.uploadedFile){const W=e.uploadedFile,L=await new Promise((G,ve)=>{const J=new FileReader;J.onload=()=>G(J.result),J.onerror=ve,J.readAsArrayBuffer(W)}),D=await Fl.load(L);(await r.copyPages(D,D.getPageIndices())).forEach(G=>r.addPage(G))}const c=t[0];(S=c.paddockName)!=null&&S.toLowerCase().includes("plant")||(E=c.paddockName)!=null&&E.toLowerCase().includes("leaf")||((k=c.paddockName)==null||k.toLowerCase().includes("treatment"));const A=((P=c.paddockName)==null?void 0:P.toLowerCase().includes("soil"))||((N=c.paddockName)==null?void 0:N.toLowerCase().includes("analysis"))||((I=c.summary)==null?void 0:I.toLowerCase().includes("soil"))||((U=c.somCecText)==null?void 0:U.toLowerCase().includes("soil"))?"soil":"plant";for(let W=0;W<t.length;W++){let L=function(Ze){return Ze?Ze.replace(//g,"3").replace(//g,"2").replace(//g,"1").replace(//g,"0").replace(//g,"3").replace(//g,"2").replace(//g,"1").replace(//g,"0").replace(/[^\x00-\x7F]/g,""):""};const D=t[W],z=r.addPage([595.28,841.89]),G=A==="plant"?"Plant Therapy Report":"Soil Therapy Report",ve=(595.28-s.widthOfTextAtSize(G,18))/2;z.drawText(G,{x:ve,y:780,size:18,font:s,color:o});let J=752;const $=D.paddockName||"";if($){const Ze=(595.28-s.widthOfTextAtSize($,14))/2;z.drawText($,{x:Ze,y:J,size:14,font:s,color:l}),J-=14}let X=J-10;const ie=520,pe=(595.28-ie)/2;let te="";if(A==="plant")te=String(D.generalComments||D.summary||"");else{if(D.somCecText)te+=D.somCecText+`

`;else{const Ze=[];D.organicMatterText&&Ze.push(String(D.organicMatterText)),D.cecText&&Ze.push(String(D.cecText)),Ze.length&&(te+=Ze.join(`

`)+`

`)}D.baseSaturationText&&(te+=D.baseSaturationText+`

`),D.phText&&(te+=D.phText+`

`),D.availableNutrientsText&&(te+=D.availableNutrientsText+`

`),D.lamotteReamsText&&(te+=D.lamotteReamsText+`

`),D.taeText&&(te+=D.taeText+`

`),D.phosphorusMonitoringText&&(te+=D.phosphorusMonitoringText+`

`)}te.trim()||(te=String(D.summary||D.somCecText||"")),te=te.replace(/<br\s*\/?>(?=\s|$)/gi,`
`).replace(/<p>/gi,`
`).replace(/<[^>]+>/g,""),te=Qxe(te),te=zxe(te);let H=te.split(/\n\s*\n|\r\n\s*\r\n/).map(Ze=>Ze.trim()).filter(Boolean);if(H.length){let Oe=!1,St="";for(let Ke=0;Ke<H.length;Ke++){const lt=H[Ke];let pt=lt.replace(/\n/g," ");if(pt.includes("Your nutrient antagonism is summarized as following:")){Oe=!0,St="";const[Gt,en]=pt.split(/Your nutrient antagonism is summarized as following:/i);if(Gt&&Gt.trim()){const Yt=a0(Gt.trim()),cn=l0(Yt,i,s,9,ie);for(let bn=0;bn<cn.length;bn++){const yr=bn===cn.length-1;c0(z,cn[bn],X,i,s,9,l,pe,ie,yr),X-=15}}const Tt=a0("Your nutrient antagonism is summarized as following:"),tn=l0(Tt,i,s,9,ie);for(let Yt=0;Yt<tn.length;Yt++){const cn=Yt===tn.length-1;c0(z,tn[Yt],X,i,s,9,l,pe,ie,cn),X-=15}const yn=(en||"").trim();if(yn){const Yt=/[A-Za-z][A-Za-z\- ]+\([A-Za-z]{1,3}\)\s*can shut down[\s\S]*?(?=(?:\s*[A-Za-z][A-Za-z\- ]+\([A-Za-z]{1,3}\)\s*can shut down)|$)/gi,cn=(yn.match(Yt)||[]).map(bn=>bn.trim());if(cn.length){for(const bn of cn){const yr=a0(bn),On=l0(yr,i,s,9,ie-15);for(let hr=0;hr<On.length;hr++){let Pn=pe+15;hr===0&&z.drawText("",{x:pe,y:X,size:12,font:s,color:l}),c0(z,On[hr],X,i,s,9,l,Pn,ie-15,!0),X-=15}X-=4}X-=12,Oe=!1,St="";continue}}X-=12;continue}if(Oe){const Gt=lt.split(/\n+/).map(cn=>cn.trim()).filter(cn=>/can shut down/i.test(cn));if(Gt.length>0){for(const cn of Gt){const bn=a0(cn),yr=l0(bn,i,s,9,ie-15);for(let On=0;On<yr.length;On++){let hr=pe+15;On===0&&z.drawText("",{x:pe,y:X,size:12,font:s,color:l}),c0(z,yr[On],X,i,s,9,l,hr,ie-15,!0),X-=15}X-=4}Oe=!1,St="",X-=12;continue}const en=/[A-Z][A-Za-z\- ]+\([A-Za-z]{1,3}\)[^]*?can shut down[^]*?(?=(?:\s*[A-Z][A-Za-z\- ]+\([A-Za-z]{1,3}\)\s*can shut down)|$)/gi,Tt=(lt.match(en)||[]).map(cn=>cn.trim());if(Tt.length>0){for(const cn of Tt){const bn=a0(cn),yr=l0(bn,i,s,9,ie-15);for(let On=0;On<yr.length;On++){let hr=pe+15;On===0&&z.drawText("",{x:pe,y:X,size:12,font:s,color:l}),c0(z,yr[On],X,i,s,9,l,hr,ie-15,!0),X-=15}X-=4}Oe=!1,St="",X-=12;continue}if(/can shut down/i.test(pt)&&(St+=(St?" ":"")+pt,Ke<H.length-1))continue;const tn=[],yn=/([^.]+?can shut down[^.]+)(?:\.|$)/gi;let Yt;for(;(Yt=yn.exec(St))!==null;)tn.push(Yt[1].trim());for(const cn of tn){const bn=a0(cn),yr=l0(bn,i,s,9,ie-13);for(let On=0;On<yr.length;On++){let hr=pe+13;On===0&&z.drawText("",{x:pe,y:X,size:12,font:s,color:l}),c0(z,yr[On],X,i,s,9,l,hr,ie-13,!0),X-=13}X-=4}Oe=!1,St="",X-=12;continue}const qt=a0(pt),on=l0(qt,i,s,9,ie);for(let Gt=0;Gt<on.length;Gt++){const en=Gt===on.length-1;c0(z,on[Gt],X,i,s,9,l,pe,ie,en),X-=15}X-=12}if(X-=24,A==="plant"){let Ke=X;const lt="Recommendations";z.drawText(lt,{x:(595.28-s.widthOfTextAtSize(lt,12))/2,y:Ke,size:13,font:s,color:o}),Ke-=18,Ke-=10;const pt=(qt,on)=>{if(!Array.isArray(on)||on.length===0)return;z.drawText(L(qt),{x:pe,y:Ke,size:11,font:s,color:a}),Ke-=14;const en={"Biological Fertigation Program":"In a single biological fertigation program (drip irrigation) apply the following:","Soil Drench Program":"In a single soil drench program apply the following:","Pre-Flowering Foliar Spray":"In a single pre-flowering foliar spray apply the following:","Nutritional Foliar Spray":"In a single nutritional foliar spray apply the following:"}[qt];en&&(z.drawText(L(en),{x:pe+15,y:Ke,size:10,font:i,color:a}),Ke-=12);for(const Tt of on){let tn="[No Name]",yn="",Yt="";typeof Tt=="string"?tn=Tt:Tt&&typeof Tt=="object"&&(Tt.fertilizer?(tn=Tt.fertilizer,yn=Tt.rate||"",Yt=Tt.unit||""):(tn=Tt.name||Tt.product||Tt.label||"[No Name]",yn=Tt.rate||"",Yt=Tt.unit||""));const cn=` ${L(tn)}${yn||Yt?` at ${L(String(yn))} ${L(String(Yt))}`:""}`.trim();if(z.drawText(cn,{x:pe+14,y:Ke,size:10,font:i,color:l}),Ke-=14,Ke<120)return}Ke-=10};pt("Biological Fertigation Program",D.fertigationProducts||D.soilDrenchProducts||[]),pt("Soil Drench Program",D.soilDrenchProgramProducts||[]),pt("Pre-Flowering Foliar Spray",D.preFloweringFoliarProducts||[]),pt("Nutritional Foliar Spray",D.nutritionalFoliarProducts||[])}}else{const Ze="No summary available.",Oe=(595.28-i.widthOfTextAtSize(Ze,10))/2;z.drawText(Ze,{x:Oe,y:X,size:10,font:i,color:a}),X-=20}const q=r.addPage([595.28,841.89]),re=500,he=(595.28-re)/2;let Ae=800;Ae-=10;let ge=Array.isArray(D.recommendations)?D.recommendations:[];if(!ge.length){const Ze=[{label:"K-Rich",nutrientContent:{Potassium:33.29},description:"A pH-buffered liquid potassium citrate designed for foliar application during fruit/seed fill. Its citrate form enhances potassium uptake and rapidly corrects deficiencies."},{label:"Cal-Tech",nutrientContent:{Nitrogen:11.71,Boron:.43,Calcium:13.36},description:"An amino-chelated liquid calcium product with added boron, nitrogen, trace elements, and vitamin B12. Enhances cell wall strength, fruit quality, and disease resistance."},{label:"Calcium Fulvate",nutrientContent:{Nitrogen:6.78,Sulphur:.54,Boron:.0207,Calcium:8.93,Copper:.0785,Zinc:.0807,Iron:.17,Potassium:1.32,Manganese:.21,Molybdenum:.0102},description:"Chelated calcium with fulvic acid, enriched with a broad spectrum of trace minerals to improve nutrient uptake."},{label:"Citrus-Tech Triple Ten",nutrientContent:{Nitrogen:10.48,Sulphur:.22,Boron:.0347,Calcium:.0558,Copper:.0197,Phosphorus:10.23,Zinc:.0743,Iron:.1459,Potassium:10.69,Manganese:.0607,Molybdenum:.0039,Selenium:.0198},description:"A full-spectrum NPK foliar formula (10-10-10) enriched with chelated trace elements, seaweed extract, fulvic acid, and vitamins."},{label:"Cloak Spray Oil",nutrientContent:{},description:"A premium spreader/sticker blend of cold-pressed canola oil and omega-3 fish oil, which enhances foliar nutrient absorption and spray efficiency."},{label:"Nutri-Carb-N",nutrientContent:{Ammonium:15.18,Potassium:1.1},description:"A humic-acid-stabilised nitrogen solution that improves nitrogen use efficiency, reduces leaching and volatilisation, and promotes sustained crop growth and productivity."},{label:"Phos-Force",nutrientContent:{Nitrogen:4.2,Calcium:4.3,Phosphorus:14.3,Iron:3.5},description:"An advanced phosphate fertiliser delivering phosphate, calcium, and iron in a plant-available liquid."},{label:"Photo-Finish",nutrientContent:{Potassium:10.6,Silicon:10.38},description:"A silica-rich foliar containing potassium, humates, and kelp to improve cell wall strength, pest resilience, photosynthesis, and overall plant health during the finishing phase."},{label:"Potassium Silicate",nutrientContent:{Potassium:15.3,Silicon:17.3},description:"A soluble source of potassium and silicon designed to enhance plant structure, disease resistance, and tolerance to environmental stress."},{label:"Seed-Start",nutrientContent:{},description:"A specialised liquid for seedling establishment, containing growth promoters, minerals, enzymes, and natural biostimulants to support early root development and plant vigor."},{label:"Trio (CMB)",nutrientContent:{Nitrogen:13.73,Boron:.26,Magnesium:2.38,Calcium:15.3,Zinc:.006,Iron:.1},description:"A balanced liquid formula containing calcium, magnesium, and boron, plus trace minerals and kelp. Supports plant strength, flowering, fruit set, and disease resilience."},{label:"Triple Ten",nutrientContent:{Nitrogen:10.48,Sulphur:.22,Boron:.0347,Calcium:.0558,Copper:.0197,Phosphorus:10.23,Zinc:.0743,Iron:.1459,Potassium:10.69,Manganese:.0607,Molybdenum:.0039,Selenium:.0198},description:"A stateoftheart 101010 liquid fertiliser combining hotmix NPK with chelated trace elements, fulvic acid, seaweed, vitamins, amino acids, saponins and triacontanol."},{label:"Tsunami Super Spreader",nutrientContent:{},description:"A patented siliconbased nonionic wetter/spreader that dramatically improves spray coverage and uptake, especially on hardtowet leaf surfaces."},{label:"Activated Char Condensate (ACC)",nutrientContent:{},description:"A breakthrough woodvinegar (smoke condensate from biochar) using LipoZoom liposomal technology."},{label:"Aloe-Tech",nutrientContent:{},description:"A natural aloebased plant and microbial promotant, designed to enhance soil biology, stress resilience and plant vigour."},{label:"Amino-Max",nutrientContent:{Ammonium:5.78,Nitrate:5.78,"Amino Acids":40},description:"A highamino acid concentrate. Ideal for supporting plant metabolism, stress recovery and microbial stimulation."},{label:"Brix-Fix",nutrientContent:{},description:"A liquid concentrate of seven plant growth promotants designed to increase Brix (sugar) levels in crops."},{label:"Nutri-Kelp",nutrientContent:{},description:"A premium seaweedderived plant growth promoter, rich in natural biostimulants."},{label:"Nutri-Sea Liquid Fish",nutrientContent:{},description:"A liquid fishbased fertiliser and microbial stimulant, included in the Natural SoilLife & Plant Growth Promoters."},{label:"Nutri-Stim Saponins",nutrientContent:{},description:"A saponinrich biostimulant formulation designed to stimulate soil microbes and enhance plant root activity."},{label:"Nutri-Stim Triacontanol",nutrientContent:{},description:"A natural plant growth promoter based on triacontanol, included in the soillife promoter range to enhance growth and yield."},{label:"Nutri-Tech Black Gold",nutrientContent:{},description:"A liquid soillife and plant growth promoter designed to build Brix, improve stress and frost resistance."},{label:"Root & Shoot",nutrientContent:{},description:"A biological seed treatment containing beneficial microbes and biostimulants to enhance root development, early vigor, and plant resilience."},{label:"SeaChange KFF",nutrientContent:{},description:"A kelp-based liquid fertiliser (SeaChange range) enriched with kelp biostimulants to boost plant health, stress resilience, and crop performance."},{label:"SeaChange Liquid Kelp",nutrientContent:{},description:"Premium liquid seaweed extract providing natural growth regulators and micronutrients to enhance soil biology, drought resistance, and overall plant vigor."},{label:"Tri-Kelp",nutrientContent:{},description:"A soluble kelp powder seed treatment featuring three types of kelp to improve germination, root and shoot growth, and stimulate beneficial soil microbes."},{label:"Nutri-Key Boron Shuttle",nutrientContent:{Nitrogen:.29,Sulphur:.53,Boron:3.61,Magnesium:.0938,Copper:.049,Zinc:.19,Iron:.31,Potassium:.51,Manganese:.15,Molybdenum:.0098,Carbon:3.38},description:"A foliar chelated boron formulation containing 3.6% B, supported by a full background of synergistic nutrition."},{label:"Nutri-Key Calcium Shuttle",nutrientContent:{Nitrogen:7.25,Sulphur:.26,Boron:.0433,Magnesium:.0363,Calcium:9.81,Copper:.0245,Zinc:.093,Iron:.15,Potassium:.23,Manganese:.0757,Molybdenum:.0049,Silicon:.0217,Carbon:5.27},description:"A chelated calcium foliar using Shuttle technology."},{label:"Nutri-Key Cobalt Shuttle",nutrientContent:{Cobalt:3.1,Zinc:2.8},description:"A foliar chelated cobalt formulation with 3.1% Co and 2.8% Zn, designed to address cobalt deficiencies important for nitrogen-fixing legumes and seed formation."},{label:"Nutri-Key Copper Shuttle",nutrientContent:{Nitrogen:.52,Sulphur:4.29,Boron:.0866,Magnesium:.0675,Copper:7.64,Zinc:.19,Iron:.31,Potassium:.27,Manganese:.15,Molybdenum:.0098,Carbon:4.62},description:"A foliar copper formulation with 7.6% Cu and support nutrients. Chelated to reduce antagonism, improve uptake, and strengthen cell walls and seed health."},{label:"Nutri-Key Hydro-Shuttle",nutrientContent:{Nitrogen:2.14,Carbon:21.15},description:"A carbohydrate-rich chelator (Hydro-Shuttle) delivering ~21% C with moderate Nused to support foliar nutrient uptake and microbial life on leaf surfaces."},{label:"Nutri-Key Iron Shuttle",nutrientContent:{Nitrogen:.52,Sulphur:4.41,Boron:.0866,Magnesium:.0678,Copper:.049,Zinc:.19,Iron:7.21,Potassium:.34,Manganese:.15,Molybdenum:.0098,Carbon:4.38},description:"A chelated iron foliar (~7.2% Fe) supported by background nutrients to boost chlorophyll production and rapidly correct iron deficiency."},{label:"Nutri-Key Magnesium Shuttle",nutrientContent:{Nitrogen:.45,Sulphur:6.24,Boron:.0866,Magnesium:4.44,Copper:.049,Zinc:.19,Iron:.31,Potassium:.31,Manganese:.15,Molybdenum:.0098,Carbon:3.9},description:"A foliar Mg application (~4.4% Mg) with supporting macro and micro nutrients."},{label:"Nutri-Key Manganese Shuttle",nutrientContent:{Nitrogen:.53,Sulphur:8.15,Boron:.0866,Magnesium:.0675,Copper:.049,Zinc:.19,Iron:.31,Potassium:.27,Manganese:13.19,Molybdenum:.0098,Carbon:4.7},description:"A high-analysis foliar Mn formulation (~13.2% Mn) featuring advanced chelation for improved uptake."},{label:"Nutri-Key Moly Shuttle",nutrientContent:{Nitrogen:.18,Molybdenum:4.76,Carbon:1.6},description:"A foliar Mo product (~4.8% Mo) using Shuttle chelation. Enhances enzyme systems and nitrogen metabolism, especially for legumes."},{label:"Nutri-Key Shuttle Seven",nutrientContent:{Nitrogen:.43,Sulphur:4.72,Boron:.87,Magnesium:.67,Cobalt:34e-6,Copper:.49,Zinc:1.86,Iron:3.06,Potassium:2.63,Manganese:1.51,Molybdenum:975e-6,Selenium:.43,Carbon:3.04},description:"Seven-nutrient foliar complex combining B, Cu, Fe, Mn, Mo, Se, Zn using Shuttle chelation."},{label:"Nutri-Key Zinc Shuttle",nutrientContent:{Nitrogen:.73,Sulphur:4.35,Boron:.0866,Magnesium:.0675,Copper:.049,Zinc:8.17,Iron:.31,Potassium:.27,Manganese:.15,Molybdenum:.0098,Carbon:6.54},description:"A foliar Zn product (~8.2% Zn) with supporting nutrition for optimal uptake and correction of zinc deficiencies."},{label:"Boron Essentials",nutrientContent:{Nitrogen:.05,Boron:3.09,Zinc:.04},description:"A foliar boron spray (~3% B) with minimal N and Zn. Designed for precise B correction during flowering and fruit-set."},{label:"Copper Essentials",nutrientContent:{Nitrogen:.12,Sulphur:2.55,Magnesium:.0352,Calcium:.0247,Copper:4.9,Potassium:.14},description:"A foliar copper spray (~4.9% Cu) with support nutrients. Targets copper deficiencies affecting disease resistance and quality."},{label:"Iron Essentials",nutrientContent:{Nitrogen:.12,Sulphur:3.49,Magnesium:.0351,Calcium:.0247,Iron:6,Potassium:.14},description:"A pure iron foliar (~6% Fe) with minimal support nutrients to quickly correct chlorosis and boost photosynthesis."},{label:"Manganese Essentials",nutrientContent:{Nitrogen:.12,Sulphur:6.52,Magnesium:.0352,Calcium:.0247,Manganese:.13,Silicon:10.96},description:"A foliar manganese spray (~0.13% Mn) with silicon booster. Ideal for seed/grain crops prone to Mn deficiency."},{label:"Multi-Boost",nutrientContent:{Nitrogen:2.29,Sulphur:6.2,Boron:.033,Magnesium:.64,Calcium:5.96,Copper:.0245,Phosphorus:.29,Zinc:.0536,Iron:.0708,Potassium:.66,Manganese:.0483,Molybdenum:.013},description:"A multi-nutrient foliar blend with balanced macro and micro elements to deliver broad corrective nutrition."},{label:"Multi-Min",nutrientContent:{Nitrogen:4.24,Sulphur:4.12,Boron:.2,Magnesium:1.49,Calcium:.0186,Copper:.78,Phosphorus:.17,Zinc:.81,Iron:1.44,Potassium:2.45,Manganese:2.05,Molybdenum:.1},description:"A comprehensive foliar multi-mineral spray for crop conditions requiring mid-level correction across many nutrients."},{label:"Multi-Plex",nutrientContent:{Nitrogen:10.22,Sulphur:.23,Boron:.0347,Copper:.0198,Phosphorus:10.09,Zinc:.0743,Iron:.14,Potassium:10.04,Manganese:.0607,Molybdenum:.0039},description:"A powerful corrective spray (1010 NPK plus micro-trace) for comprehensive foliar nutrition in high-yield crops."},{label:"Zinc Essentials",nutrientContent:{Nitrogen:.12,Sulphur:3.95,Magnesium:.0351,Calcium:.0247,Zinc:7.95,Iron:.14},description:"A herbaceous foliar zinc spray (~8% Zn) with supporting nutrients, tailored to correct zinc deficiencies."},{label:"CalMag-Life Organic",nutrientContent:{Magnesium:9.68,Calcium:20.26},description:"An organic CaMg blend derived from natural minerals to improve soil structure and correct acidic soil deficiencies."},{label:"Dia-Life Organic",nutrientContent:{Boron:.68,Magnesium:.0277,Calcium:.16,Iron:.32,Silicon:12.51},description:"A diatomaceous earth-based mineral blend providing bioavailable silica plus trace nutrients to boost plant and soil resilience."},{label:"Gyp-Life Organic",nutrientContent:{Sulphur:15.31,Calcium:19.55},description:"A soluble gypsum product delivering sulfur and calcium to improve soil structure, correct subsoil acidity and enhance root development."},{label:"Lime-Life Organic",nutrientContent:{Magnesium:1.05,Calcium:39.37},description:"A finely ground organic lime that corrects soil pH while supplying calcium and magnesium for improved fertility."},{label:"Mag-Life Organic",nutrientContent:{Magnesium:21.33},description:"A high-magnesium organic mineral to correct soil Mg deficiencies and support chlorophyll formation."},{label:"Phos-Life Organic",nutrientContent:{Magnesium:.34,Calcium:24.56,Copper:.0162,Phosphorus:10.71,Zinc:.14,Iron:.86,Potassium:.15,Manganese:1.66,Silicon:10.73},description:"A mineral phosphate product rich in phosphorus, calcium and silicadesigned to boost root growth and soil fertility."},{label:"Sili-Cal (B)",nutrientContent:{Sulphur:.13,Boron:.51,Magnesium:.64,Calcium:21.59,Iron:.0861,Potassium:.23,Silicon:3.34},description:"A calciumsilicateboron blend supplying cell wall strength, stress resistance and support for crop quality."},{label:"Worm Juice",nutrientContent:{},description:"A concentrated, biologically active worm-cast extract designed to prime and enhance soil vitality."},{label:"Compost Tea Extract",nutrientContent:{},description:"A living liquid extract derived from high-quality compost, rich in beneficial bacteria, fungi, and bio-stimulatory metabolites."},{label:"Urea",nutrientContent:{Ammonium:46},description:"A highly concentrated nitrogen fertilizer that promotes vigorous vegetative growth and rapid green-up in crops."},{label:"Calcium Nitrate",nutrientContent:{Calcium:17,Nitrate:12},phLogic:{min_pH:null,max_pH:7.5},releaseType:"fast"},{label:"Potassium Nitrate",nutrientContent:{Potassium:39,Nitrate:14},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Sodium Nitrate (Chile Nitrate)",nutrientContent:{Sodium:26,Nitrate:16},phLogic:{min_pH:null,max_pH:8},releaseType:"fast"},{label:"Zinc Nitrate",nutrientContent:{Zinc:12,Nitrate:8},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Iron Nitrate",nutrientContent:{Iron:6,Nitrate:10},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Copper Nitrate",nutrientContent:{Copper:8,Nitrate:12},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Ammonium Nitrate",nutrientContent:{Ammonium:17,Nitrate:17},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"UAN Solution (Urea Ammonium Nitrate)",nutrientContent:{Urea:18,Ammonium:9,Nitrate:9},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Calcium Ammonium Nitrate (CAN)",nutrientContent:{Calcium:8,Magnesium:2,Ammonium:13,Nitrate:13},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Ammonium Polyphosphate (APP)",nutrientContent:{Phosphorus:10,Ammonium:11},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Ammonium Chloride",nutrientContent:{Ammonium:25},phLogic:{min_pH:5,max_pH:7},releaseType:"fast"},{label:"Ammonium Acetate",nutrientContent:{Ammonium:12},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Triple Superphosphate (TSP)",nutrientContent:{Phosphorus:45,Calcium:19},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Monoammonium Phosphate (MAP)",nutrientContent:{Phosphorus:21.9,Ammonium:10},phLogic:{min_pH:6.5,max_pH:8.5},releaseType:"fast"},{label:"Diammonium Phosphate (DAP)",nutrientContent:{Phosphorus:20,Ammonium:18},phLogic:{min_pH:5,max_pH:6.8},releaseType:"fast"},{label:"Rock Phosphate",nutrientContent:{Phosphorus:25,Calcium:30},phLogic:{min_pH:null,max_pH:6},releaseType:"very slow"},{label:"Agricultural Limestone (CaCO)",nutrientContent:{Calcium:40},phLogic:{min_pH:null,max_pH:6.5},releaseType:"slow"},{label:"Bone Meal",nutrientContent:{Calcium:26,Phosphorus:14},phLogic:{min_pH:null,max_pH:7},releaseType:"slow"},{label:"Fish Bone Meal",nutrientContent:{Calcium:20,Phosphorus:10,Ammonium:5},phLogic:{min_pH:5,max_pH:7.5},releaseType:"slow"},{label:"Calcium Chloride",nutrientContent:{Calcium:27},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Muriate of Potash (Potassium Chloride)",nutrientContent:{Potassium:60},phLogic:{min_pH:5.5,max_pH:8.5},releaseType:"fast"},{label:"Langbeinite",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22},phLogic:{min_pH:5.5,max_pH:8},releaseType:"moderate"},{label:"Potassium Magnesium Sulfate",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22},phLogic:{min_pH:5.5,max_pH:8},releaseType:"moderate"},{label:"Potassium Thiosulfate",nutrientContent:{Potassium:25,Sulphur:17},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Potassium Carbonate",nutrientContent:{Potassium:55},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"fast"},{label:"Potassium Acetate",nutrientContent:{Potassium:25},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Wood Ash",nutrientContent:{Potassium:5,Calcium:10,Magnesium:2,Phosphorus:1},phLogic:{min_pH:5,max_pH:7},releaseType:"slow"},{label:"Dolomitic Lime",nutrientContent:{Calcium:20,Magnesium:10},phLogic:{min_pH:null,max_pH:6.5},releaseType:"slow"},{label:"Kieserite (Magnesium Sulfate Monohydrate)",nutrientContent:{Magnesium:16,Sulphur:22},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Epsom Salt (Magnesium Sulfate Heptahydrate)",nutrientContent:{Magnesium:9.9,Sulphur:13},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Thermophosphate",nutrientContent:{Calcium:20,Magnesium:2,Phosphorus:18},phLogic:{min_pH:5.5,max_pH:7.5},releaseType:"slow"},{label:"Magnesium Nitrate",nutrientContent:{Magnesium:10.5,Nitrate:11},phLogic:{min_pH:5.5,max_pH:8},releaseType:"fast"},{label:"Magnesium Chloride",nutrientContent:{Magnesium:12},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Sulfur-Rich Compost",nutrientContent:{Sulphur:2,Calcium:3,Magnesium:2,Potassium:2,Phosphorus:1,Ammonium:2},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"Elemental Sulfur",nutrientContent:{Sulphur:90},phLogic:{min_pH:null,max_pH:null},releaseType:"very slow"},{label:"Ammonium Sulfate",nutrientContent:{Ammonium:21,Sulphur:24},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Potassium Sulfate (Sulfate of Potash)",nutrientContent:{Potassium:42.5,Sulphur:18.4},phLogic:{min_pH:5,max_pH:8.5},releaseType:"fast"},{label:"Ammonium Thiosulfate",nutrientContent:{Sulphur:26,Ammonium:12},phLogic:{min_pH:5,max_pH:8.5},releaseType:"moderate"},{label:"Sulfur-Coated Urea",nutrientContent:{Sulphur:15,Ammonium:35},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"Chicken Manure",nutrientContent:{Phosphorus:2.5,Ammonium:3,Potassium:2,Calcium:3,Magnesium:1,Sulphur:.5},phLogic:{min_pH:5,max_pH:8},releaseType:"slow"},{label:"NTS Fast Fulvic",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"An 8 % fulvic acid liquid possessing a myriad of yield-enhancing qualities."},{label:"NTS Fulvic Acid Powder",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Fulvic acid in a concentrated, soluble powder  the most versatile and productive input in agriculture, in freight-friendly form."},{label:"NTS FulvX Powder",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Concentrated soluble fulvic & humic acid."},{label:"NTS Liquid Humus",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"A liquid humic acid suspension derived from premium humates, designed to improve soil structure, nutrient retention, and biological activity."},{label:"NTS Soluble Humate Granules",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"High-purity, fully soluble humate granules for use in liquid formulations or direct soil application to enhance CEC, nutrient chelation, and microbial health."},{label:"NTS Super Soluble Humates",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"fast",description:"Highly refined, super-soluble humic acid powder for preparing DIY liquid humus, boosting nutrient efficiency, and stimulating beneficial soil microbes."},{label:"Life Force Carbon",nutrientContent:{Nitrate:.1,Ammonium:.1,Calcium:.1,Magnesium:.1,Potassium:.1,Phosphorus:.1,Sulphur:.1},phLogic:{min_pH:4,max_pH:12},releaseType:"slow"},{label:"Life Force Gold",nutrientContent:{Calcium:9.8,Potassium:2.4,Ammonium:2,Phosphorus:1.55,Sulphur:4},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"NTS Soft Rock",nutrientContent:{Calcium:20,Phosphorus:9},phLogic:{min_pH:null,max_pH:null},releaseType:"slow",url:"https://nutri-tech.com.au/collections/composted-fertilisers/products/nts-soft-rock"},{label:"Nutri-Gyp Natural Gypsum",nutrientContent:{Calcium:19,Sulphur:15},phLogic:{min_pH:4.5,max_pH:8.4},releaseType:"moderate"},{label:"Nutri-Cal",nutrientContent:{Potassium:2.5,Magnesium:3.26,Sulphur:4.63},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Nutri-Phos Super Active",nutrientContent:{Calcium:28.9,Phosphorus:12.6},phLogic:{min_pH:6,max_pH:7},releaseType:"slow"},{label:"Soluble Boron",nutrientContent:{Boron:22},phLogic:{min_pH:5,max_pH:8},releaseType:"fast"},{label:"Boric Acid",nutrientContent:{Boron:17.5},phLogic:{min_pH:5.5,max_pH:8.5},releaseType:"moderate"},{label:"Biomin Calcium",nutrientContent:{Calcium:15,Nitrogen:3.6},phLogic:{min_pH:4,max_pH:8},releaseType:"fast"},{label:"Nutri-Life B.Sub",nutrientContent:{Bacillus_subtilis:"2  10^8 cfu/mL"},description:"A concentrated inoculum of Bacillus subtilis to support plant growth, improve rhizosphere balance and enhance natural defence responses."},{label:"Nutri-Life Bio-N",nutrientContent:{Azotobacter_vinelandii:"free-living nitrogen fixer"},description:"Contains Azotobacter vinelandii, a free-living nitrogen fixer that boosts nitrogen availability, root growth and soil moisture efficiency."},{label:"Nutri-Life Bio-Plex",nutrientContent:{Azotobacter_species:"present",Bacillus_subtilis:"present"},description:"A foliar inoculum with Azotobacter spp. and Bacillus subtilis to fix nitrogen, release growth promotants and support leaf-surface microbial balance."},{label:"Nutri-Life Bio-P",nutrientContent:{Bacillus_polymyxa:"present",Bacillus_megaterium:"present"},description:"A phosphorus-mobilising blend of Bacillus polymyxa and Bacillus megaterium that improves P availability, root growth and crop quality."},{label:"Nutri-Life Micro-Force",nutrientContent:{beneficial_microbes:"proprietary blend of soil & plant bacteria"},description:"A microbial blend designed to create a strong bacterial-dominant brew that improves nutrient release, nitrogen fixation and crop resilience."},{label:"Nutri-Life Root-Guard",nutrientContent:{Trichoderma_harzianum:"present"},description:"A talc-based Trichoderma inoculant that boosts root health, strengthens the rhizosphere and supports plant resilience."},{label:"Nutri-Life Platform",nutrientContent:{Glomus_intraradices:"present",Glomus_clarum:"present",Glomus_aggregatum:"present",Glomus_deserticola:"present",Glomus_macrocarpum:"present",Glomus_caledonium:"present",Glomus_mosseae:"present",Gigaspora_rosea:"present",Gigaspora_margarita:"present",Scutelospora_heterogama:"present",Azospirillum_brasilense:"present",Azotobacter_chroococcum:"present",Gluconacetobacter_diazotrophicus:"present",Bacillus_megaterium:"present",Pseudomonas_fluorescens:"present"},description:"A comprehensive AMF and bacterial inoculant that enhances root development, nutrient uptake and soil bio-balance."},{label:"Nutri-Life Sudo-Shield",nutrientContent:{Pseudomonas_fluorescens:"present"},description:"A Pseudomonas fluorescens inoculant that supports plant defence, recovery from stress and root-zone microbial balance."},{label:"Nutri-Life Tricho-Shield",nutrientContent:{Trichoderma_harzianum:"present",Trichoderma_lignorum:"present",Trichoderma_koningii:"present"},description:"A blend of Trichoderma species that strengthens root health, improves bio-balance and supports crop resilience."},{label:"Nutri-Life BAM",nutrientContent:{},description:"A source of beneficial anaerobic (facultative) microbes that can increase organic matter decomposition levels and nutrient cycling, also helping enhance plant resilience."},{label:"Borax",nutrientContent:{Boron:14},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Cobalt Sulfate Heptahydrate",nutrientContent:{Cobalt:21},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Copper Sulfate",nutrientContent:{Copper:25},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Dolomite",nutrientContent:{Calcium:20,Magnesium:10},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Gran Am",nutrientContent:{Ammonium:20,Sulphur:24},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Granulated Boric Acid",nutrientContent:{Boron:17.5},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Granulated Copper Sulfate",nutrientContent:{Copper:25},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Granulated Zinc Mono",nutrientContent:{Zinc:35},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Guano",nutrientContent:{Calcium:30,Phosphorus:13},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Iron Sulfate",nutrientContent:{Iron:18},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Magnesite",nutrientContent:{Magnesium:27},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Magnesium Oxide",nutrientContent:{Magnesium:53},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Magnesium Sulfate",nutrientContent:{Magnesium:9.9,Sulphur:13},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Manganese Sulfate",nutrientContent:{Manganese:31},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Mono Potassium Phosphate (MKP)",nutrientContent:{Potassium:28,Phosphorus:22},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Natural Gypsum",nutrientContent:{Calcium:20,Sulphur:15},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"NTS Stabilised Boron Granules",nutrientContent:{Boron:3.3},phLogic:{min_pH:null,max_pH:null},releaseType:"moderate"},{label:"Sodium Molybdate",nutrientContent:{Molybdenum:39},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Super Fine Ag Lime",nutrientContent:{Calcium:40},phLogic:{min_pH:null,max_pH:null},releaseType:"slow"},{label:"Zinc Sulfate Heptahydrate",nutrientContent:{Zinc:22,Sulphur:11},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"},{label:"Zinc Sulfate Monohydrate",nutrientContent:{Zinc:34,Sulphur:15},phLogic:{min_pH:null,max_pH:null},releaseType:"fast"}],Oe=(St,Ke)=>{if(Array.isArray(St)&&St.length>0)for(const lt of St){let pt=Ke;Ke==="Fertigation"&&(pt="Biological Fertigation Program"),Ke==="Soil Drench"&&(pt="Soil Drench Program"),Ke==="Pre-Flowering Foliar"&&(pt="Pre-Flowering Foliar Spray"),Ke==="Nutritional Foliar"&&(pt="Nutritional Foliar Spray"),Ke==="Seed Treatment"&&(pt="Seed Treatment"),Ke==="Planting Blend"&&(pt="Planting Blend"),Ke==="Soil Amendments"&&(pt="Soil Amendments"),Ke==="Main Soil Corrections"&&(pt="Main Soil Corrections"),Ke==="Soil Corrections"&&(pt="Soil Corrections");let qt="[No Name]",on="",Gt="",en="",Tt="";if(typeof lt=="string")qt=lt;else if(lt&&typeof lt=="object")if(lt.fertilizer){qt=lt.fertilizer,on=lt.rate||"",Gt=lt.unit||"",en=lt.description||"";const tn=Ze.find(yn=>yn.label===lt.fertilizer);Tt=(tn==null?void 0:tn.url)||""}else qt=lt.name||lt.product||lt.label||"[No Name]",on=lt.rate||"",Gt=lt.unit||"",en=lt.description||"";ge.push({name:qt,group:pt,rate:on,unit:Gt,description:en,url:Tt})}};console.log(" PDF DEBUG: data.soilAmendments structure:",JSON.stringify(D.soilAmendments,null,2)),Array.isArray(D.soilAmendments)&&D.soilAmendments.forEach((St,Ke)=>{console.log(` PDF DEBUG: Soil amendment ${Ke}:`,{fertilizer:St.fertilizer,nutrient:St.nutrient,rate:St.rate,unit:St.unit,contains:St.contains})}),Oe(D.soilAmendments,"Soil Amendments"),Oe(D.seedTreatmentProducts,"Seed Treatment"),Oe(D.plantingBlendProducts,"Planting Blend"),Oe(D.soilCorrections,"Soil Corrections"),Oe(D.fertigationProducts||D.soilDrenchProducts,"Fertigation"),Oe(D.soilDrenchProgramProducts||[],"Soil Drench"),Oe(D.preFloweringFoliarProducts,"Pre-Flowering Foliar"),Oe(D.nutritionalFoliarProducts||[],"Nutritional Foliar"),console.log(" PDF DEBUG: data.nutritionalFoliarProducts:",D.nutritionalFoliarProducts),console.log(" PDF DEBUG: Final recommendations array:",ge)}if(q.drawText("The following recommendations have been included",{x:(595.28-s.widthOfTextAtSize("The following recommendations have been included",12))/2,y:Ae,size:12,font:s,color:o}),Ae-=15,Ae-=10,ge.length>0){let Ze="";for(const Oe of ge){if(Oe.group&&Oe.group!==Ze){Ze!==""&&(Ae-=8),q.drawText(Oe.group+":",{x:he,y:Ae,size:10.5,font:s,color:l}),Ae-=12;const Gt=jxe[Oe.group];if(Gt){const en=r1(Gt,i,8,re);for(let Tt=0;Tt<en.length;Tt++)q.drawText(en[Tt],{x:he+15,y:Ae,size:8,font:i,color:a}),Ae-=9;Ae-=2}Ae-=3,Ze=Oe.group}q.drawText("",{x:he+10,y:Ae,size:8,font:s,color:l});const St=DD[Oe.name]||{url:"",description:""},Ke=Oe.url||St.url,lt=L(Oe.name.replace(//g,"-").replace(//g,"-").replace(//g,"-")),pt=9,qt=s.widthOfTextAtSize(lt,pt);if(q.drawText(lt,{x:he+25,y:Ae,size:pt,font:s,color:En(.1,.3,.8)}),q.drawLine({start:{x:he+25,y:Ae-1},end:{x:he+25+qt,y:Ae-1},thickness:.7,color:En(.1,.3,.8)}),Oe.rate&&Oe.unit){const Gt=` (${Oe.rate} ${Oe.unit})`;q.drawText(Gt,{x:he+25+qt+5,y:Ae,size:7,font:i,color:En(.4,.4,.4)})}if(Ke){const Gt=r.context.obj({Type:be.of("Annot"),Subtype:be.of("Link"),Rect:[he+25,841.89-Ae,he+25+qt,841.89-Ae+12],Border:[0,0,0],A:r.context.obj({Type:be.of("Action"),S:be.of("URI"),URI:Zr.of(Ke)})}),en=r.context.register(Gt);let Tt=q.node.Annots();if(Tt)Tt.push(en);else{const tn=Gr.withContext(r.context);tn.push(en),q.node.set(be.of("Annots"),tn)}}const on=Oe.description||St.description;if(on){const Gt=Oe.rate&&Oe.unit?` (${Oe.rate} ${Oe.unit})`:"",en=Oe.rate&&Oe.unit?i.widthOfTextAtSize(Gt,9):0,Tt=he+25+qt+5+en+10,tn=L(on.replace(//g,"-").replace(//g,"-").replace(//g,"-")),yn=re-(Tt-he)-10,Yt=r1(tn,i,9,yn);if(Yt.length>0){const cn=": "+Yt[0];q.drawText(cn,{x:Tt,y:Ae,size:9,font:i,color:En(.2,.2,.2)}),Ae-=11;for(let bn=1;bn<Yt.length;bn++)q.drawText(Yt[bn],{x:he+25,y:Ae,size:9,font:i,color:En(.2,.2,.2)}),Ae-=11;if(Ke){const bn=` (${Ke})`,yr=Yt[Yt.length-1],On=Yt.length===1?Tt:he+25,hr=i.widthOfTextAtSize((Yt.length===1?": ":"")+yr,9),Pn=On+hr+5;q.drawText(bn,{x:Pn,y:Ae+11,size:8,font:i,color:En(.1,.3,.8)});const Si=841.89-(Ae+11),$c=r.context.obj({Type:be.of("Annot"),Subtype:be.of("Link"),Rect:[Pn,Si,Pn+i.widthOfTextAtSize(bn,8),Si+10],Border:[0,0,0],A:r.context.obj({Type:be.of("Action"),S:be.of("URI"),URI:Zr.of(Ke)})}),di=r.context.register($c);let us=q.node.Annots();if(us)us.push(di);else{const qs=Gr.withContext(r.context);qs.push(di),q.node.set(be.of("Annots"),qs)}}}Ae-=4}else{if(Ke){const Gt=` (${Ke})`,en=i.widthOfTextAtSize(Gt,8),Tt=he+25+qt+5+(Oe.rate&&Oe.unit?i.widthOfTextAtSize(` (${Oe.rate} ${Oe.unit})`,9):0);q.drawText(Gt,{x:Tt,y:Ae,size:8,font:i,color:En(.1,.3,.8)});const tn=841.89-Ae,yn=r.context.obj({Type:be.of("Annot"),Subtype:be.of("Link"),Rect:[Tt,tn,Tt+en,tn+10],Border:[0,0,0],A:r.context.obj({Type:be.of("Action"),S:be.of("URI"),URI:Zr.of(Ke)})}),Yt=r.context.register(yn);let cn=q.node.Annots();if(cn)cn.push(Yt);else{const bn=Gr.withContext(r.context);bn.push(Yt),q.node.set(be.of("Annots"),bn)}}Oe.group==="Soil Amendments"||Oe.group==="Soil Corrections"?Ae-=12:Ae-=4}if(Ae<100)break}}else q.drawText("No recommendations available.",{x:he,y:Ae,size:9,font:i,color:a}),Ae-=8;Ae-=8;let we=Ae-25;const ke="Tank Mixing Sequence",ze=12,Ve=500,Ue=(595.28-Ve)/2,ft=s.widthOfTextAtSize(ke,ze);q.drawText(ke,{x:Ue+(Ve-ft)/2,y:we+22,size:ze,font:s,color:o});const Kt="Follow this sequence for optimal mixing and application.",Ge=7,Se=i.widthOfTextAtSize(Kt,Ge);q.drawText(Kt,{x:Ue+(Ve-Se)/2,y:we+12,size:Ge,font:i,color:a});const Nt=18;q.drawRectangle({x:Ue,y:we-Nt,width:500,height:Nt,color:o});const xt=["SEQUENCE","PRODUCT DESCRIPTION","PRODUCTS","NOTES"];let at=[Ue+2,Ue+65,Ue+215,Ue+315],Ct=[55,145,100,175];const Et=7,mt=7,Ut=6,qe=2,Cn=12;xt.forEach((Ze,Oe)=>{const St=s.widthOfTextAtSize(Ze,Et),Ke=at[Oe]+Ct[Oe]/2;q.drawText(Ze,{x:Ke-St/2,y:we-Nt/2-Et/2+4,size:Et,font:s,color:En(1,1,1)})});let zt=we-Nt;if(Array.isArray(D.tankMixing)&&D.tankMixing.length>0){let Ze=0;for(const Oe of D.tankMixing){const St=String(Oe.sequence||""),Ke=r1(Oe.description||"",i,mt,Ct[1]-2*Ut),lt=r1(Oe.products||"",i,mt,Ct[2]-2*Ut),pt=r1(Oe.notes||"",i,mt,Ct[3]-2*Ut),qt=Math.max(Ke.length,lt.length,pt.length,1),on=Math.max(Cn,qt*(mt+3)+2*qe);Ze%2===0&&q.drawRectangle({x:Ue,y:zt-on,width:500,height:on,color:En(.97,.98,.95)});const Gt=mt+3,en=Gt,Tt=zt-qe-(on-2*qe-en)/2-i.heightAtSize(mt)*.7,tn=Ke.length*Gt,yn=zt-qe-(on-2*qe-tn)/2-i.heightAtSize(mt)*.7,Yt=lt.length*Gt,cn=zt-qe-(on-2*qe-Yt)/2-i.heightAtSize(mt)*.7,bn=pt.length*Gt,yr=zt-qe-(on-2*qe-bn)/2-i.heightAtSize(mt)*.7;q.drawText(St,{x:at[0]+Ut,y:Tt,size:mt,font:i,color:l});for(let Pn=0;Pn<Ke.length;Pn++){const Si=yn-Pn*Gt;q.drawText(Ke[Pn],{x:at[1]+Ut,y:Si,size:mt,font:i,color:l})}for(let Pn=0;Pn<lt.length;Pn++){const Si=cn-Pn*Gt;q.drawText(lt[Pn],{x:at[2]+Ut,y:Si,size:mt,font:i,color:l})}for(let Pn=0;Pn<pt.length;Pn++){const Si=yr-Pn*Gt;q.drawText(pt[Pn],{x:at[3]+Ut,y:Si,size:mt,font:i,color:l})}let On=zt,hr=zt-on;for(let Pn=0;Pn<at.length;Pn++)q.drawLine({start:{x:at[Pn]-2,y:On},end:{x:at[Pn]-2,y:hr},thickness:.4,color:En(.85,.9,.8)});if(q.drawLine({start:{x:Ue+500,y:On},end:{x:Ue+500,y:hr},thickness:.4,color:En(.85,.9,.8)}),q.drawLine({start:{x:Ue,y:On},end:{x:Ue+500,y:On},thickness:.4,color:En(.85,.9,.8)}),q.drawLine({start:{x:Ue,y:hr},end:{x:Ue+500,y:hr},thickness:.4,color:En(.85,.9,.8)}),zt-=on,Ze++,zt<120)break}}else q.drawText("No tank mixing data.",{x:at[0],y:zt,size:10,font:i,color:a});const vn=45,mn=vn+25,ln=mn+30,Fn=mn+45,se=typeof D.plantHealthScore=="number"?D.plantHealthScore:0;let ut=1;se>=80?ut=5:se>=60?ut=4:se>=40?ut=3:se>=20&&(ut=2);const At="/NTS G.R.O.W Star Full.png",Pt="/NTS G.R.O.W Star Empty.png",Le=await fetch(At).then(Ze=>Ze.arrayBuffer()),We=await fetch(Pt).then(Ze=>Ze.arrayBuffer()),oe=await r.embedPng(Le),st=await r.embedPng(We),sn=18,O=18,Xe=2;if(D.reportFooterText){const St=47.639999999999986,Ke=r1(D.reportFooterText,i,7,500);let lt=vn;for(let pt=0;pt<Ke.length;pt++)Ke.length-1,q.drawText(Ke[pt],{x:St,y:lt,size:7,font:i,color:a}),lt-=8}if(D.agronomist&&(D.agronomist.name||D.agronomist.role||D.agronomist.email)){const Ze=D.agronomist.name||"",Oe=9,St=s.widthOfTextAtSize(Ze,Oe);q.drawText(Ze,{x:(595.28-St)/2,y:mn+15,size:Oe,font:s,color:l});let Ke=mn+5;if(D.agronomist.role){const lt=D.agronomist.role,pt=8,qt=i.widthOfTextAtSize(lt,pt);q.drawText(lt,{x:(595.28-qt)/2,y:Ke,size:pt,font:i,color:En(.54,.54,.54)}),Ke-=10}if(D.agronomist.email){const lt=D.agronomist.email,pt=8,qt=i.widthOfTextAtSize(lt,pt);q.drawText(lt,{x:(595.28-qt)/2,y:Ke,size:pt,font:i,color:En(.54,.54,.54)})}}else{const Ze="Signature: ___________________",St=s.widthOfTextAtSize(Ze,9);q.drawText(Ze,{x:(595.28-St)/2,y:mn+15,size:9,font:s,color:En(.7,.7,.7)})}const Ye=12,ae=12,Ee=A==="plant"?"Overall Plant Health Score:":"Overall Soil Health Score:",Pe=` ${se.toFixed(1)} / 100`,Ft=s.widthOfTextAtSize(Ee,Ye),vt=s.widthOfTextAtSize(Pe,ae);q.drawText(Ee,{x:(595.28-(Ft+vt))/2,y:ln,size:Ye,font:s,color:o}),q.drawText(Pe,{x:(595.28-(Ft+vt))/2+Ft,y:ln,size:ae,font:s,color:o});const Lt=5*sn+4*Xe;for(let Ze=0;Ze<5;Ze++){const Oe=Ze<ut?oe:st;q.drawImage(Oe,{x:(595.28-Lt)/2+Ze*(sn+Xe),y:Fn,width:sn,height:O})}}if(e&&e.backAttachments&&e.backAttachments.length>0)for(const W of e.backAttachments){let L="";if(W==="humic"&&(L="/attachments/Humic Acid Recipe.pdf"),W==="cover-crop"&&(L="/attachments/Cover Crop Mix Table.pdf"),W==="fulvic"&&(L="/attachments/Fulvic Acid Recipe.pdf"),W==="bam"&&(L="/attachments/BAM Recipe.pdf"),W==="soil-therapy-general-guidelines"&&(L="/attachments/soil-therapy-general-guidelines.pdf"),W==="seed-treatment-instructions"&&(L="/attachments/seed-treatment-instructions.pdf"),W==="micro-force-brewing-recipe"&&(L="/attachments/micro-force-brewing-recipe.pdf"),W==="bam-brewing-recipe"&&(L="/attachments/bam-brewing-recipe.pdf"),L)try{const D=await fetch(L);if(!D.ok){console.warn(`PDF file not found: ${L}`);continue}const z=await D.arrayBuffer(),G=await Fl.load(z);(await r.copyPages(G,G.getPageIndices())).forEach(J=>r.addPage(J))}catch(D){console.warn(`Failed to load PDF: ${L}`,D);continue}}const h=await r.save(),f=new Blob([h],{type:"application/pdf"}),v=URL.createObjectURL(f),g=document.createElement("a");g.href=v;const x=Array.isArray(n)?((V=n[0])==null?void 0:V.client)||"Therapy_Report":(n==null?void 0:n.client)||"Therapy_Report",b=String(x).replace(/[^a-zA-Z0-9 _-]/g," ").replace(/\s+/g,"_").slice(0,80)||"Therapy_Report";g.download=`${b}.pdf`,g.rel="noopener",g.target="_blank",document.body.appendChild(g);try{g.click()}catch{}try{setTimeout(()=>{try{window.open(v,"_blank")}catch{}try{document.body.removeChild(g)}catch{}setTimeout(()=>URL.revokeObjectURL(v),1500)},50)}catch{}}KA.workerSrc="/pdf.worker.min.mjs";function Vxe(n,e,t){return t&&Array.isArray(t)&&t.length===2?n<t[0]?"low":n>t[1]?"high":"optimal":typeof e=="number"&&isFinite(e)&&e!==0?n<.9*e?"low":n>1.1*e?"high":"optimal":"optimal"}let K1=[{name:"CEC",current:6.35,ideal:6.35,unit:"",category:"albrecht"},{name:"TEC",current:6.35,ideal:6.35,unit:"",category:"albrecht"},{name:"Paramagnetism",current:170,ideal:600,unit:"cgs",category:"albrecht"},{name:"pH-level (1:5 water)",current:7.1,ideal:6.7,unit:"",category:"albrecht"},{name:"Organic Matter (Calc)",current:2.26,ideal:6,ideal_range:[5.6,8.4],unit:"%",category:"albrecht"},{name:"Organic Carbon (LECO)",current:1.29,ideal:3.5,unit:"%",category:"albrecht"},{name:"Conductivity (1:5 water)",current:.06,ideal:.15,unit:"mS/cm",category:"albrecht"},{name:"Ca/Mg Ratio",current:5.11,ideal:4,unit:":1",category:"albrecht"},{name:"Nitrate-N (KCl)",current:9.7,ideal:15,unit:"ppm",category:"albrecht"},{name:"Ammonium-N (KCl)",current:.6,ideal:15,unit:"ppm",category:"albrecht"},{name:"Phosphorus (Mehlich III)",current:89,ideal:60,ideal_range:[45,75],unit:"ppm",category:"albrecht"},{name:"Calcium (Mehlich III)",current:1030,ideal:1317,ideal_range:[1200,1500],unit:"ppm",category:"albrecht"},{name:"Magnesium (Mehlich III)",current:121,ideal:122,ideal_range:[100,150],unit:"ppm",category:"albrecht"},{name:"Potassium (Mehlich III)",current:66.8,ideal:111.5,ideal_range:[90,130],unit:"ppm",category:"albrecht"},{name:"Sodium (Mehlich III)",current:0,ideal:14.5,unit:"ppm",category:"albrecht"},{name:"Sulfur (KCl)",current:1,ideal:40,unit:"ppm",category:"albrecht"},{name:"Aluminium",current:2.2,ideal:1.5,unit:"ppm",category:"albrecht"},{name:"Silicon (CaCl2)",current:9,ideal:550,unit:"ppm",category:"albrecht"},{name:"Boron (Hot CaCl2)",current:.1,ideal:2,unit:"ppm",category:"albrecht"},{name:"Iron (DTPA)",current:68.8,ideal:120,unit:"ppm",category:"albrecht"},{name:"Manganese (DTPA)",current:4.9,ideal:20,unit:"ppm",category:"albrecht"},{name:"Copper (DTPA)",current:3.2,ideal:4.5,unit:"ppm",category:"albrecht"},{name:"Zinc (DTPA)",current:6.3,ideal:7.5,unit:"ppm",category:"albrecht"},{name:"Base Saturation Calcium",current:81.05,ideal:64,unit:"%",category:"base_saturation"},{name:"Base Saturation Magnesium",current:15.87,ideal:16,unit:"%",category:"base_saturation"},{name:"Base Saturation Potassium",current:2.7,ideal:4.25,unit:"%",category:"base_saturation"},{name:"Base Saturation Sodium",current:0,ideal:1,unit:"%",category:"base_saturation"},{name:"Base Saturation Aluminium",current:.38,ideal:.5,unit:"%",category:"base_saturation"},{name:"Base Saturation Hydrogen",current:0,ideal:10,unit:"%",category:"base_saturation"},{name:"Base Saturation Other Bases",current:0,ideal:5,unit:"%",category:"base_saturation"},{name:"LaMotte Calcium",current:1040,ideal:1500,unit:"ppm",category:"lamotte"},{name:"LaMotte Magnesium",current:113,ideal:212.5,unit:"ppm",category:"lamotte"},{name:"LaMotte Phosphorus",current:16,ideal:18.5,unit:"ppm",category:"lamotte"},{name:"LaMotte Potassium",current:62,ideal:90,unit:"ppm",category:"lamotte"}].map(n=>{const e=typeof n.current=="string",t=typeof n.ideal=="string",r=e&&n.current.trim().startsWith("<")?0:Number(n.current),i=t&&n.ideal.trim().startsWith("<")?0:Number(n.ideal);return{...n,current:r,ideal:i,status:Vxe(r,i,n.ideal_range)}});const Gxe=[{alias:"Calcium",match:"Calcium (Mehlich III)"},{alias:"Magnesium",match:"Magnesium (Mehlich III)"},{alias:"Potassium",match:"Potassium (Mehlich III)"},{alias:"Phosphorus",match:"Phosphorus (Mehlich III)"},{alias:"Sulphur",match:"Sulfur (KCl)"},{alias:"Nitrate",match:"Nitrate-N (KCl)"},{alias:"Ammonium",match:"Ammonium-N (KCl)"}];Gxe.forEach(({alias:n,match:e})=>{const t=K1.find(r=>r.name===e);t&&!K1.some(r=>r.name===n)&&K1.push({...t,name:n})});const Wxe=["Organic Matter (Calc)","pH-level (1:5 water)","CEC","Nitrate","Ammonium","Phosphorus","Potassium","Calcium","Magnesium","Sodium","Sulphur","Iron","Copper","Manganese","Boron","Zinc","Cobalt","Molybdenum","Silica","Aluminium","Aluminum","Ca/Mg Ratio","LaMotte Calcium","LaMotte Magnesium","LaMotte Phosphorus","LaMotte Potassium","Sodium TAE","Potassium TAE","Calcium TAE","Magnesium TAE","Phosphorus TAE","Aluminium TAE","Copper TAE","Iron TAE","Manganese TAE","Selenium TAE","Zinc TAE","Boron TAE","Silicon TAE","Cobalt TAE","Molybdenum TAE","Sulfur TAE"],qxe=["CEC","TEC","Paramagnetism","pH_level_1_5_water","Organic_Matter_Calc","Organic_Carbon_LECO","Conductivity_1_5_water","Ca_Mg_Ratio","Nitrate_N_KCl","Ammonium_N_KCl","Phosphorus_Mehlich_III","Calcium_Mehlich_III","Magnesium_Mehlich_III","Potassium_Mehlich_III","Sodium_Mehlich_III","Sulfur_KCl","Aluminium","Silicon_CaCl2","Boron_Hot_CaCl2","Iron_DTPA","Manganese_DTPA","Copper_DTPA","Zinc_DTPA","Calcium","Magnesium","Potassium","Sodium","Aluminum","Hydrogen","Other_Bases","Calcium_Lamotte","Magnesium_Lamotte","Phosphorus_Lamotte","Potassium_Lamotte"],Xxe={albrecht_mehlich_kcl:{CEC:8,TEC:8,Paramagnetism:{value:170,ideal_range:[200,1e3],target:600},pH_level_1_5_water:{value:7.2,ideal_range:[6,6.8],target:6.4},Organic_Matter_Calc:{value:1.63,unit:"%",ideal_range:[4,10],target:7},Organic_Carbon_LECO:{value:.93,unit:"%",ideal_range:[2,5],target:3.5},Conductivity_1_5_water:{value:.03,unit:"mS/cm",ideal_range:[.1,.2],target:.15000000000000002},Ca_Mg_Ratio:{value:1.75,unit:":1",ideal_range:[4.3,4.3],target:4.3},Nitrate_N_KCl:{value:2.1,unit:"ppm",ideal_range:[10,20],target:15},Ammonium_N_KCl:{value:4.8,unit:"ppm",ideal_range:[10,20],target:15},Phosphorus_Mehlich_III:{value:21.6,unit:"ppm",ideal_range:[35,50],target:42.5},Calcium_Mehlich_III:{value:949,unit:"ppm",ideal_range:[1041,2e3],target:1520.5},Magnesium_Mehlich_III:{value:326,unit:"ppm",ideal_range:[144,285],target:214.5},Potassium_Mehlich_III:{value:155,unit:"ppm",ideal_range:[109,156],target:132.5},Sodium_Mehlich_III:{value:26,unit:"ppm",ideal_range:[9,28],target:18.5},Sulfur_KCl:{value:4.5,unit:"ppm",ideal_range:[30,50],target:40},Aluminium:{value:2.7,unit:"ppm",ideal_range:[0,4],target:2},Silicon_CaCl2:{value:48,unit:"ppm",ideal_range:[100,1e3],target:550},Boron_Hot_CaCl2:{value:.28,unit:"ppm",ideal_range:[1,3],target:2},Iron_DTPA:{value:17.9,unit:"ppm",ideal_range:[40,200],target:120},Manganese_DTPA:{value:7.9,unit:"ppm",ideal_range:[30,100],target:65},Copper_DTPA:{value:1.1,unit:"ppm",ideal_range:[2,7],target:4.5},Zinc_DTPA:{value:3.7,unit:"ppm",ideal_range:[3,10],target:6.5}},base_saturation:{Calcium:{value:59.3,unit:"%",target:65},Magnesium:{value:33.95,unit:"%",target:15},Potassium:{value:4.97,unit:"%",target:6},Sodium:{value:1.41,unit:"%",target:1},Aluminum:{value:.37,unit:"%",target:.5},Hydrogen:{value:0,unit:"%",target:0},Other_Bases:{value:0,unit:"%",target:0}},lamotte_reams:{Calcium_LaMotte:{value:934,unit:"ppm",ideal_range:[1e3,2e3],target:1500},Magnesium_LaMotte:{value:286,unit:"ppm",ideal_range:[140,285],target:212.5},Phosphorus_LaMotte:{value:7.7,unit:"ppm",ideal_range:[7,30],target:18.5},Potassium_LaMotte:{value:165,unit:"ppm",ideal_range:[80,100],target:90}},tae:{Sodium_TAE:{value:"<50",unit:"ppm",ideal_range:[100,500],target:300},Potassium_TAE:{value:609,unit:"ppm",ideal_range:[200,2e3],target:1100},Calcium_TAE:{value:1230,unit:"ppm",ideal_range:[1e3,1e4],target:5500},Magnesium_TAE:{value:895,unit:"ppm",ideal_range:[500,5e3],target:2750},Phosphorus_TAE:{value:239,unit:"ppm",ideal_range:[400,1500],target:950},Aluminium_TAE:{value:7370,unit:"ppm",ideal_range:[2e3,5e4],target:26e3},Copper_TAE:{value:14,unit:"ppm",ideal_range:[20,50],target:35},Iron_TAE:{value:16500,unit:"ppm",ideal_range:[1e3,5e4],target:25500},Manganese_TAE:{value:267,unit:"ppm",ideal_range:[200,2e3],target:1100},Selenium_TAE:{value:"<0.5",unit:"ppm",ideal_range:[.6,2],target:1.3},Zinc_TAE:{value:27,unit:"ppm",ideal_range:[20,50],target:35},Boron_TAE:{value:"<2.0",unit:"ppm",ideal_range:[2,50],target:26},Silicon_TAE:{value:708,unit:"ppm",ideal_range:[1e3,3e3],target:2e3},Cobalt_TAE:{value:7.1,unit:"ppm",ideal_range:[2,40],target:21},Molybdenum_TAE:{value:.4,unit:"ppm",ideal_range:[.5,2],target:1.25},Sulfur_TAE:{value:104,unit:"ppm",ideal_range:[100,1e3],target:550}}},cj={"Nitrate-N (KCl)":"Nitrate",Nitrate_N_KCl:"Nitrate","Ammonium-N (KCl)":"Ammonium",Ammonium_N_KCl:"Ammonium","Phosphorus (Mehlich III)":"Phosphorus",Phosphorus_Mehlich_III:"Phosphorus","Calcium (Mehlich III)":"Calcium",Calcium_Mehlich_III:"Calcium","Magnesium (Mehlich III)":"Magnesium",Magnesium_Mehlich_III:"Magnesium","Potassium (Mehlich III)":"Potassium",Potassium_Mehlich_III:"Potassium","Sodium (Mehlich III)":"Sodium",Sodium_Mehlich_III:"Sodium","Sulfur (KCl)":"Sulphur",Sulfur_KCl:"Sulphur",Aluminium:"Aluminium","Silicon (CaCl2)":"Silicon",Silicon_CaCl2:"Silicon","Boron (Hot CaCl2)":"Boron",Boron_Hot_CaCl2:"Boron","Iron (DTPA)":"Iron",Iron_DTPA:"Iron","Manganese (DTPA)":"Manganese",Manganese_DTPA:"Manganese","Copper (DTPA)":"Copper",Copper_DTPA:"Copper","Zinc (DTPA)":"Zinc",Zinc_DTPA:"Zinc",Calcium:"Calcium",Magnesium:"Magnesium",Potassium:"Potassium",Sodium:"Sodium",Aluminum:"Aluminium",Hydrogen:"Hydrogen",Other_Bases:"Other_Bases",Calcium_LaMotte:"Calcium",Magnesium_LaMotte:"Magnesium",Phosphorus_LaMotte:"Phosphorus",Potassium_LaMotte:"Potassium",Sodium_TAE:"Sodium",Potassium_TAE:"Potassium",Calcium_TAE:"Calcium",Magnesium_TAE:"Magnesium",Phosphorus_TAE:"Phosphorus",Aluminium_TAE:"Aluminium",Copper_TAE:"Copper",Iron_TAE:"Iron",Manganese_TAE:"Manganese",Selenium_TAE:"Selenium",Zinc_TAE:"Zinc",Boron_TAE:"Boron",Silicon_TAE:"Silicon",Cobalt_TAE:"Cobalt",Molybdenum_TAE:"Molybdenum",Sulfur_TAE:"Sulphur"},Yxe=()=>{const[n,e]=_.useState(null),[t,r]=_.useState(!1),[i,s]=_.useState([]),[o,a]=_.useState([]);_.useRef(null);const l=_.useRef(null),[c,u]=_.useState(!1),[A,h]=_.useState(!1),[f,v]=_.useState(!1),[g,x]=_.useState(!1),[b,S]=_.useState(null),[E,k]=_.useState([]),[P,N]=_.useState(0),[I,U]=_.useState([]),[V,W]=_.useState(-1),L=_.useMemo(()=>E.length>0&&E[P]?E[P].data||{}:{},[E,P]);_.useEffect(()=>{E.length>0&&E.some((rt,Ne)=>!rt.data.tankMixingItems||!Array.isArray(rt.data.tankMixingItems)||rt.data.tankMixingItems.length===0)&&(console.log("Initializing tank mixing data for all paddocks"),k(rt=>rt.map((Ne,ht)=>!Ne.data.tankMixingItems||!Array.isArray(Ne.data.tankMixingItems)||Ne.data.tankMixingItems.length===0?{...Ne,data:{...Ne.data,tankMixingItems:$i()}}:Ne)))},[E.length,P]);const[D,z]=_.useState("Soil organic matter and CEC analysis will be generated based on your uploaded data."),[G,ve]=_.useState("Base saturation analysis will be generated based on your uploaded data."),[J,$]=_.useState("Soil pH analysis will be generated based on your uploaded data."),[X,ie]=_.useState("Available nutrients analysis will be generated based on your uploaded data."),[pe,te]=_.useState("Soil reserves analysis will be generated based on your uploaded data."),[H,q]=_.useState("LaMotte/Reams analysis will be generated based on your uploaded data."),[re,he]=_.useState("Total Available Elements (TAE) analysis will be generated based on your uploaded data."),[Ae,ge]=_.useState(""),[we,ke]=_.useState([{id:"1",product:"Root & Shoot",rate:"3-4",unit:"L/tonne of seed"},{id:"2",product:"Nutri-Life BAM",rate:"5",unit:"L/tonne of seed"},{id:"3",product:"Nutri-Life Platform",rate:"1.3",unit:"kg/tonne of seed"}]),[ze,Ve]=_.useState([]),[Ue,ft]=_.useState([]),[Kt,Ge]=_.useState({}),[Se,Nt]=_.useState({}),[xt,at]=_.useState(25),[Ct,Et]=_.useState({CEC:{red:-50,blue:50,greenLow:-49,greenHigh:49},Paramagnetism:{red:-50,blue:50,greenLow:-49,greenHigh:49},"pH-level (1:5 water)":{red:-35,blue:35,greenLow:-34,greenHigh:34},"Organic Matter (Calc)":{red:-25,blue:15,greenLow:-24,greenHigh:14},"Organic Carbon (LECO)":{red:-14,blue:72,greenLow:-13,greenHigh:71},"Conductivity (1:5 water)":{red:-49,blue:150,greenLow:-48,greenHigh:149},"Ca / Mg Ratio":{red:-50,blue:50,greenLow:-49,greenHigh:49},"Nitrate-N (KCl)":{red:-50,blue:50,greenLow:-49,greenHigh:49},"Ammonium-N (KCl)":{red:-50,blue:50,greenLow:-49,greenHigh:49},"Phosphorus (Mehlich III)":{red:-30,blue:100,greenLow:-29,greenHigh:99},"Calcium (Mehlich III)":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Magnesium (Mehlich III)":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Potassium (Mehlich III)":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Sodium (Mehlich III)":{red:-35,blue:100,greenLow:-34,greenHigh:99},"Sulphur (KCl)":{red:-50,blue:100,greenLow:-49,greenHigh:99},Chloride:{red:-50,blue:100,greenLow:-49,greenHigh:99},Aluminium:{red:-50,blue:100,greenLow:-49,greenHigh:99},"Silicon (CaCl2)":{red:-60,blue:100,greenLow:-59,greenHigh:99},"Boron (Hot CaCl2)":{red:-30,blue:150,greenLow:-29,greenHigh:149},"Iron (DTPA)":{red:-50,blue:100,greenLow:-49,greenHigh:99},"Manganese (DTPA)":{red:-50,blue:100,greenLow:-49,greenHigh:99},"Copper (DTPA)":{red:-50,blue:100,greenLow:-49,greenHigh:99},"Zinc (DTPA)":{red:-50,blue:100,greenLow:-49,greenHigh:99},"Base Saturation Calcium":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Base Saturation Magnesium":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Base Saturation Potassium":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Base Saturation Sodium":{red:-35,blue:100,greenLow:-34,greenHigh:99},"Base Saturation Aluminium":{red:-35,blue:100,greenLow:-34,greenHigh:99},"Base Saturation Hydrogen":{red:-35,blue:70,greenLow:-34,greenHigh:69},"Base Saturation Other Bases":{red:-35,blue:100,greenLow:-34,greenHigh:99},"LaMotte Calcium":{red:-50,blue:100,greenLow:-49,greenHigh:99},"LaMotte Magnesium":{red:-50,blue:100,greenLow:-49,greenHigh:99},"LaMotte Phosphorus":{red:-50,blue:100,greenLow:-49,greenHigh:99},"LaMotte Potassium":{red:-50,blue:100,greenLow:-49,greenHigh:99}}),[mt,Ut]=_.useState([]),[qe,Cn]=_.useState(()=>{const fe=["More soluble Solids","Liquid Solutions","MMS (Micronized Mineral Solutions)","Spray Oil","Microbial Products"],rt=["May require several minutes of good agitation","Make sure previous inputs are fully dissolved before adding.","Pre-mix well before adding slowly to the tank under constant agitation. Maintain constant agitation to prevent settling.","Spreader/sticker/penetrant. Essential for success of foliar sprays.","Always add microbes to the spray tank last after the other ingredients have been diluted."];return fe.map((Ne,ht)=>({id:(Date.now()+ht).toString(),sequence:ht+1,productDescription:Ne,products:[],notes:rt[ht]}))}),[zt,vn]=_.useState([]),[mn,ln]=_.useState([]),[Fn,se]=_.useState([]),[ut,At]=_.useState({name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"}),[Pt,Le]=_.useState([]),[We,oe]=_.useState(0),[st,sn]=_.useState([]),[O,Xe]=_.useState({nutritionalStatus:"",generalComments:"",productRecommendation:"",productRecommendationSummary:"",totalNutrientSummary:"",pdfAttachments:"",selectAgronomist:"",reportFooter:"",saveExport:""}),[Ye,ae]=_.useState(""),[Ee,Pe]=_.useState(""),[Ft,vt]=_.useState({soilAmendments:!1,seedTreatment:!1,plantingBlend:!1,biologicalFertigation:!1,preFloweringFoliar:!1,preFloweringFoliar2:!1,nutritionalFoliar:!1,nutritionalFoliar2:!1}),[Lt,Ze]=_.useState(""),[Oe,St]=_.useState([]),[Ke,lt]=_.useState([]),[pt,qt]=_.useState([]),[on,Gt]=_.useState([]),[en,Tt]=_.useState(!1),[tn,yn]=_.useState(!1),[Yt,cn]=_.useState(!0),[bn,yr]=_.useState(!0),[On,hr]=_.useState(!0),[Pn,Si]=_.useState(!0),[$c,di]=_.useState(!0),[us,qs]=_.useState(!0),[qu,Xu]=_.useState(!0),[Yu,uh]=_.useState(!0),[Dl,Hr]=_.useState(!0),[rl,_s]=_.useState("Disclaimer: Any recommendations provided by Nutri-Tech Solutions Pty Ltd are advice only. As no control can be exercised over storage; handling; mixing application or use; weather; plant or soil conditions before, during or after application (all of which may affect the performance of our program); no responsibility for, or liability for any failure in performance, losses, damages, or injuries (consequential or otherwise), arising from such storage, mixing, application, or use will be accepted under any circumstances whatsoever. The buyer assumes all responsibility for the use of any of our products."),[ri,Zu]=_.useState(!1),[Ah,eu]=_.useState(!1),_l=["CEC","TEC","Paramagnetism","pH_level_1_5_water","Organic_Matter_Calc","Organic_Carbon_LECO","Conductivity_1_5_water","Ca_Mg_Ratio","Nitrate_N_KCl","Ammonium_N_KCl","Phosphorus_Mehlich_III","Calcium_Mehlich_III","Magnesium_Mehlich_III","Potassium_Mehlich_III","Sodium_Mehlich_III","Sulfur_KCl","Aluminium","Silicon_CaCl2","Boron_Hot_CaCl2","Iron_DTPA","Manganese_DTPA","Copper_DTPA","Zinc_DTPA","Calcium","Magnesium","Potassium","Sodium","Aluminum","Hydrogen","Other_Bases","Calcium_LaMotte","Magnesium_LaMotte","Phosphorus_LaMotte","Potassium_LaMotte","Sodium_TAE","Potassium_TAE","Calcium_TAE","Magnesium_TAE","Phosphorus_TAE","Aluminium_TAE","Copper_TAE","Iron_TAE","Manganese_TAE","Selenium_TAE","Zinc_TAE","Boron_TAE","Silicon_TAE","Cobalt_TAE","Molybdenum_TAE","Sulfur_TAE"],vs=_.useMemo(()=>E.length>0&&E[P]?E[P].data.nutrients||[]:n?[]:K1,[E,P,n]),ys=Rt(vs,_l,Xxe),ci={};try{ci["Agricultural Limestone (CaCO)"]={nutrientContent:{Calcium:38}},ci["Gypsum (Calcium Sulfate)"]={nutrientContent:{Calcium:23,Sulphur:18}};const fe={Calcium:19,Nitrate:12},rt={Ammonium:21,Sulphur:24};ci["Calcium Nitrate"]={nutrientContent:fe},ci.Nitrate={nutrientContent:fe},ci["Nitrate-N (KCl)"]={nutrientContent:fe},ci["Potassium Nitrate"]={nutrientContent:{Potassium:44,Nitrate:13}},ci["Sodium Nitrate"]={nutrientContent:{Sodium:16,Nitrate:16}},ci["Ammonium Sulfate"]={nutrientContent:rt},ci.Ammonium={nutrientContent:rt},ci["Ammonium-N (KCl)"]={nutrientContent:rt},ci["Ammonium Nitrate"]={nutrientContent:{Ammonium:17,Nitrate:17}},ci["Diammonium Phosphate (DAP)"]={nutrientContent:{Ammonium:18,Phosphorus:20}},ci["Monoammonium Phosphate (MAP)"]={nutrientContent:{Ammonium:11,Phosphorus:22}},ci.Urea={nutrientContent:{Ammonium:46}},ci["Anhydrous Ammonia"]={nutrientContent:{Ammonium:82}},ci["Nitrate-N"]={nutrientContent:fe},ci["Nitrate Nitrogen"]={nutrientContent:fe},ci.NO3={nutrientContent:fe},ci["NO3-N"]={nutrientContent:fe},ci["Ammonium-N"]={nutrientContent:rt},ci["Ammonium Nitrogen"]={nutrientContent:rt},ci.NH4={nutrientContent:rt},ci["NH4-N"]={nutrientContent:rt}}catch{}const lo=fe=>fe.split("(")[0].trim().toLowerCase(),Ol=new Map;vs.forEach(fe=>{const rt=lo(fe.name);(!Ol.has(rt)||/mehlich|dtpa|kcl|hot|lamotte|ca|mg|iii|ii|i|tae|saturation|base|sulfur|sulphur|phosphorus|potassium|magnesium|calcium|sodium|aluminium|aluminum|hydrogen|other/i.test(fe.name))&&Ol.set(rt,fe)});const As=Array.from(Ol.values()).filter(fe=>Wxe.some(Ne=>fe.name.toLowerCase().includes(Ne.toLowerCase()))).map(fe=>{const rt=fe.name.split("(")[0].trim();function Ne(Jt){return typeof Jt=="string"&&Jt.includes("<")?0:typeof Jt=="string"?parseFloat(Jt)||0:typeof Jt=="number"?Jt:0}const ht=Ne(fe.current),gt=Ne(fe.ideal);let tt=0;gt>0&&(tt=(ht-gt)/gt*100);let lr="optimal";return tt<-25?lr="low":tt>25&&(lr="high"),{...fe,name:rt,current:ht,ideal:gt,status:lr}}),tu=["Calcium","Magnesium","Potassium","Sodium","Aluminum","Hydrogen","Other Bases","Other_Bases"],Do=new Map;ys.forEach(fe=>{const rt=lo(fe.name);tu.includes(fe.name)&&fe.unit==="%"?Do.set(rt,fe):Do.has(rt)||Do.set(rt,fe)}),Array.from(Do.values());const Wf=kt.forwardRef((fe,rt)=>{var Ne,ht;return y.jsxs("div",{ref:rt,className:"p-10 bg-white text-black w-full min-h-screen",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-4xl font-extrabold",style:{color:"#8cb33a",letterSpacing:"-2px"},children:"NTS"}),y.jsxs("span",{className:"text-xs font-medium text-gray-600 -mt-1",children:["Nutri-Tech Solutions",y.jsx("sup",{children:""})]})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("span",{className:"text-3xl font-bold text-gray-700",children:["Soil Therapy",y.jsx("sup",{children:""})]}),y.jsx("span",{className:"text-3xl font-bold text-gray-700 -mt-2",children:"Report"})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-2xl font-bold",style:{color:"#8cb33a",letterSpacing:"-1px"},children:"Nutrition"}),y.jsxs("span",{className:"text-2xl font-bold",style:{color:"#8cb33a",letterSpacing:"-1px",marginTop:"-0.5rem"},children:["Farming",y.jsx("sup",{children:""})]})]})]}),y.jsx("div",{style:{height:"4px",background:"#8cb33a",width:"100%",marginBottom:"1.5rem"}}),y.jsxs("div",{className:"mb-4 text-2xl font-bold text-black",children:["Paddock: ",fe.paddocks&&fe.paddocks[0]]}),y.jsx("div",{className:"mb-8",children:y.jsx(uxe,{nutrients:As})}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"#8cb33a"},children:"General Comments"}),y.jsx("div",{className:"text-base whitespace-pre-line bg-gray-50 rounded-lg p-4 border border-gray-200",children:fe.generalComments})]}),y.jsx("div",{className:"mb-36"}),y.jsx("div",{style:{pageBreakBefore:"always"}}),y.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"#8cb33a"},children:"Product Recommendation"}),fe.soilAmendments&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:"#8cb33a"},children:"Soil Amendments"}),y.jsx("ul",{className:"list-disc ml-6 text-base",children:fe.soilAmendments.map((gt,tt)=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:gt.fertilizer})," at a rate of ",gt.rate," ",gt.unit,gt.contains&&gt.contains.length>0&&y.jsxs("span",{className:"text-gray-600",children:[" (Contains: ",gt.contains.join(", "),")"]})]},tt))})]}),fe.seedTreatment&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:"#8cb33a"},children:"Seed Treatment"}),y.jsx("ul",{className:"list-disc ml-6 text-base",children:fe.seedTreatment.map(gt=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:gt.product})," at a rate of ",gt.rate," ",gt.unit]},gt.id))})]}),fe.soilDrench&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:"#8cb33a"},children:"Soil Drench"}),y.jsx("ul",{className:"list-disc ml-6 text-base",children:fe.soilDrench.map(gt=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:gt.product})," at a rate of ",gt.rate," ",gt.unit]},gt.id))})]}),fe.foliarSpray&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h2",{className:"text-lg font-bold mb-1",style:{color:"#8cb33a"},children:"Foliar Spray"}),y.jsx("ul",{className:"list-disc ml-6 text-base",children:fe.foliarSpray.map(gt=>y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold",children:gt.product})," at a rate of ",gt.rate," ",gt.unit]},gt.id))})]}),fe.tankMixing&&y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:"#8cb33a"},children:"General Tank Mixing Sequence"}),y.jsxs("table",{className:"w-full text-sm border border-gray-300 rounded-lg overflow-hidden",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2 border-b",children:"Order"}),y.jsx("th",{className:"p-2 border-b",children:"Product Description"}),y.jsx("th",{className:"p-2 border-b",children:"Products"}),y.jsx("th",{className:"p-2 border-b",children:"Notes"})]})}),y.jsx("tbody",{children:(Array.isArray(fe.tankMixing)?fe.tankMixing:[]).map(gt=>y.jsxs("tr",{children:[y.jsx("td",{className:"p-2 border-b text-center",children:gt.sequence}),y.jsx("td",{className:"p-2 border-b",children:gt.productDescription}),y.jsx("td",{className:"p-2 border-b",children:gt.products&&gt.products.length>0?gt.products.join(", "):"-"}),y.jsx("td",{className:"p-2 border-b",children:gt.notes})]},gt.id))})]})]}),y.jsx("div",{className:"mt-8",children:y.jsxs("div",{className:"text-base font-semibold mt-4",children:[(Ne=fe.agronomist)==null?void 0:Ne.name,y.jsx("br",{}),"Agronomist",y.jsx("br",{}),(ht=fe.agronomist)==null?void 0:ht.email]})})]})}),nu=async fe=>{if(!f){v(!0);try{debugger;e(fe);try{let lr=fe.name.split("..");S(null),console.log("FILENAME",lr);let Jt="";if(lr.length>0){const un=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,Rn=lr.filter(jt=>un.test(jt));console.log(Rn),Rn.length>0&&(Jt=Rn[0])}S(Jt)}catch(tt){console.error(tt)}const rt=new FormData;rt.append("file",fe);const Ne=await fetch("/extract-soil-report",{method:"POST",body:rt});if(!Ne.ok)throw new Error(`HTTP error! status: ${Ne.status}`);const ht=await Ne.json();if(ht.error)throw new Error(ht.error);ht.lamotte?(ii(ht.lamotte),console.log("DEBUG - lamotteFromBackend:",ht.lamotte)):ii(null);let gt=ht==null?void 0:ht.nutrient_overview;if(ht.analyses&&Array.isArray(ht.analyses)&&ht.analyses.length>0){U(ht.analyses),W(0);const tt={};ht.analyses.forEach((un,Rn)=>{var jt,Tn;if(un&&(un.nutrients||(jt=un.info)!=null&&jt.paddock||un.name)){const Dt=((Tn=un.info)==null?void 0:Tn.paddock)||un.paddock||un.name||`Analysis ${Rn+1}`;tt[Dt]||(tt[Dt]={analysisId:`paddock-${Rn+1}`,name:Dt,paddock:Dt,nutrients:[],analyses:[]}),un.nutrients&&Array.isArray(un.nutrients)&&tt[Dt].nutrients.push(...un.nutrients),tt[Dt].analyses.push(un)}});const lr=Object.values(tt).map((un,Rn)=>{const jt=[],Tn=new Map;un.nutrients.forEach(Y=>{const le=Y.name;Tn.has(le)||Tn.set(le,[]),Tn.get(le).push(Y)}),Tn.forEach((Y,le)=>{if(Y.length===1)jt.push(Y[0]);else{const xe=Y.filter(je=>je.category==="tae"),Ie=Y.filter(je=>je.category!=="tae");if(Ie.length>0){const je=[" (Mehlich III)"," (KCl)"," (DTPA)"," (Hot CaCl2)"," (CaCl2)"," (LECO)"," (Calc)"," (1:5 water)"];let ot=Ie[0],Ht=-1;Ie.forEach(Ln=>{const fn=Ln.name.replace(le,""),Hn=je.findIndex(Lr=>fn.includes(Lr));Hn>Ht&&(Ht=Hn,ot=Ln)}),jt.push(ot)}xe.forEach(je=>{jt.push(je)})}});let Dt={};gt&&(Dt=gt[un.paddock]);const Fr=Dt??{};console.log("current_nutrient_overview",Dt);let T=Dt==null?void 0:Dt["Phosphorus Monitoring"];return{analysisId:un.analysisId,name:un.name,paddock:un.paddock,data:{nutrients:jt,somCecText:(Dt==null?void 0:Dt.CEC)??"Soil organic matter and CEC analysis will be generated based on your uploaded data.",cecText:(Dt==null?void 0:Dt.CEC)??"Soil organic matter and CEC analysis will be generated based on your uploaded data.",baseSaturationText:(Dt==null?void 0:Dt["Base Saturation"])??"Base saturation analysis will be generated based on your uploaded data.",phText:(Dt==null?void 0:Dt["Soil pH"])??"Soil pH analysis will be generated based on your uploaded data.",availableNutrientsText:(Dt==null?void 0:Dt["Available Nutrients"])??"Available nutrients analysis will be generated based on your uploaded data.",soilReservesText:(Dt==null?void 0:Dt["Organic Matter"])??"Soil reserves analysis will be generated based on your uploaded data.",lamotteReamsText:(Dt==null?void 0:Dt["Lamotte Reams"])??"LaMotte/Reams analysis will be generated based on your uploaded data.",taeText:(Dt==null?void 0:Dt.TAE)??"Total Available Elements (TAE) analysis will be generated based on your uploaded data.",phosphorusMonitoringText:(Dt==null?void 0:Dt["Phosphorus Monitoring"])??"Phosphorus Monitoring analysis will be generated based on your uploaded data.",organicMatterText:(Dt==null?void 0:Dt["Organic Matter"])??"",generalComments:{organicMatter:"",cec:"",soilPh:"",baseSaturation:"",availableNutrients:"",lamotteReams:"",tae:""},soilDrenchProducts:[],soilDrenchProgramProducts:[],seedTreatmentProducts:[],plantingBlendProducts:[],preFloweringFoliarProducts:[],preFloweringFoliarProducts2:[],nutritionalFoliarProducts:[],nutritionalFoliarProducts2:[],tankMixingItems:$i(),soilAmendmentsSummary:[],selectedAgronomist:{name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"},reportFooterText:"Disclaimer: Any recommendations provided by Nutri-Tech Solutions Pty Ltd are advice only. As no control can be exercised over storage; handling; mixing application or use; weather; plant or soil conditions before, during or after application (all of which may affect the performance of our program); no responsibility for, or liability for any failure in performance, losses, damages, or injuries (consequential or otherwise), arising from such storage, mixing, application, or use will be accepted under any circumstances whatsoever. The buyer assumes all responsibility for the use of any of our products."},complete:!1}});console.log("newPaddockReports",lr),k(lr),N(0);const Jt=lr[0];Jt&&Jt.data.nutrients&&Array.isArray(Jt.data.nutrients)&&Le(Jt.data.nutrients)}else Array.isArray(ht.nutrients)?(Le(ht.nutrients),U([{id:"single",name:"Single Analysis",nutrients:ht.nutrients}]),W(0),k([{analysisId:"single",name:"Single Analysis",paddock:"Single Analysis",data:{nutrients:ht.nutrients,somCecText:"Soil organic matter and CEC analysis will be generated based on your uploaded data.",baseSaturationText:"Base saturation analysis will be generated based on your uploaded data.",phText:"Soil pH analysis will be generated based on your uploaded data.",availableNutrientsText:"Available nutrients analysis will be generated based on your uploaded data.",soilReservesText:"Soil reserves analysis will be generated based on your uploaded data.",lamotteReamsText:"LaMotte/Reams analysis will be generated based on your uploaded data.",taeText:"Total Available Elements (TAE) analysis will be generated based on your uploaded data.",generalComments:{organicMatter:"",cec:"",soilPh:"",baseSaturation:"",availableNutrients:"",lamotteReams:"",tae:""},soilDrenchProducts:[],soilDrenchProgramProducts:[],seedTreatmentProducts:[],plantingBlendProducts:[],preFloweringFoliarProducts:[],preFloweringFoliarProducts2:[],nutritionalFoliarProducts:[],nutritionalFoliarProducts2:[],tankMixingItems:$i(),soilAmendmentsSummary:[],selectedAgronomist:{name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"},reportFooterText:"Disclaimer: Any recommendations provided by Nutri-Tech Solutions Pty Ltd are advice only. As no control can be exercised over storage; handling; mixing application or use; weather; plant or soil conditions before, during or after application (all of which may affect the performance of our program); no responsibility for, or liability for any failure in performance, losses, damages, or injuries (consequential or otherwise), arising from such storage, mixing, application, or use will be accepted under any circumstances whatsoever. The buyer assumes all responsibility for the use of any of our products."},complete:!1}]),N(0)):(Le([]),U([]),k([]))}catch(rt){console.error("Error parsing PDF:",rt),alert("Failed to parse PDF. Please check your file or try a different one.")}finally{v(!1)}}},Wr=async()=>{if(!g){x(!0);try{await new Promise(fe=>setTimeout(fe,1e3)),r(!0)}catch(fe){console.error("Error generating report:",fe)}finally{x(!1)}}},Ul=async()=>{if(!A){h(!0);try{if(Ql(L),!E||E.length===0){console.error("No paddock reports available for export"),alert("No paddock reports available for export. Please upload a file first.");return}const fe=()=>{E.forEach((ht,gt)=>{if(!(ht.data.soilAmendmentsSummary&&ht.data.soilAmendmentsSummary.length>0)){const lr=[{label:"Calcium Nitrate",nutrientContent:{Calcium:19,Nitrate:12}},{label:"Potassium Nitrate",nutrientContent:{Potassium:44,Nitrate:13}},{label:"Ammonium Sulfate",nutrientContent:{Ammonium:21,Sulphur:24}},{label:"Monoammonium Phosphate (MAP)",nutrientContent:{Phosphorus:22,Ammonium:11}},{label:"Diammonium Phosphate (DAP)",nutrientContent:{Phosphorus:20,Ammonium:18}},{label:"Potassium Magnesium Sulfate",nutrientContent:{Potassium:22,Magnesium:11,Sulphur:22}},{label:"Calcium Sulfate (Gypsum)",nutrientContent:{Calcium:23,Sulphur:18}},{label:"Magnesium Sulfate (Epsom Salt)",nutrientContent:{Magnesium:10,Sulphur:13}},{label:"Potassium Sulfate",nutrientContent:{Potassium:44,Sulphur:18}},{label:"Calcium Carbonate (Lime)",nutrientContent:{Calcium:40}},{label:"Dolomite Lime",nutrientContent:{Calcium:22,Magnesium:13}},{label:"Boron",nutrientContent:{Boron:17}},{label:"Copper Sulfate",nutrientContent:{Copper:25,Sulphur:13}},{label:"Iron Sulfate",nutrientContent:{Iron:20,Sulphur:11}},{label:"Manganese Sulfate",nutrientContent:{Manganese:23,Sulphur:13}},{label:"Zinc Sulfate",nutrientContent:{Zinc:23,Sulphur:11}},{label:"Molybdenum",nutrientContent:{Molybdenum:54}}],un=(ht.data.nutrients||[]).filter(jt=>{const Tn=T=>typeof T=="number"&&!isNaN(T),Dt=Tn(jt.current)&&Tn(jt.ideal)&&jt.current<jt.ideal,Fr=jt.category!=="lamotte_reams"&&jt.category!=="tae"&&jt.category!=="base_saturation";return Dt&&Fr}),Rn=[];un.forEach(jt=>{const Tn=lr.find(Dt=>Dt.nutrientContent&&Dt.nutrientContent[jt.genericName||jt.name]>0);if(Tn){const Dt=jt.genericName||jt.name,Fr=Tn.nutrientContent[Dt]||0,Y=Math.max(jt.ideal-jt.current,0)*2.4*100/Fr;Y>0&&Rn.push({fertilizer:Tn.label,nutrient:Dt,rate:Y.toFixed(1),unit:"kg/ha",contains:[Dt]})}}),ht.data.soilAmendmentsSummary=Rn}})},rt=E.map((ht,gt)=>{var un,Rn,jt,Tn,Dt,Fr;const tt=ht.data,lr=[tt.somCecText,tt.baseSaturationText,tt.phText,tt.availableNutrientsText,tt.soilReservesText,tt.lamotteReamsText,tt.taeText].filter(T=>T&&T.trim()).join(`

`);return console.log(`PDF Export DEBUG - Paddock ${gt} data:`,{somCecText:tt.somCecText,baseSaturationText:tt.baseSaturationText,phText:tt.phText,availableNutrientsText:tt.availableNutrientsText,lamotteReamsText:tt.lamotteReamsText,taeText:tt.taeText,organicMatterText:tt.organicMatterText,cecText:tt.cecText}),{paddockName:((un=E[gt])==null?void 0:un.paddock)||((Rn=E[gt])==null?void 0:Rn.name)||((Tn=(jt=I[gt])==null?void 0:jt.info)==null?void 0:Tn.paddock)||((Dt=I[gt])==null?void 0:Dt.paddock)||((Fr=I[gt])==null?void 0:Fr.name)||`Paddock ${gt+1}`,summary:lr,seedTreatmentProducts:tt.seedTreatmentProducts||we||[],plantingBlendProducts:tt.plantingBlendProducts||[],soilAmendments:tt.soilAmendmentsSummary&&tt.soilAmendmentsSummary.length>0?tt.soilAmendmentsSummary.map(T=>({...T,description:bs(T.fertilizer)||""})):[],fertigationProducts:tt.soilDrenchProducts||ze||[],soilDrenchProducts:tt.soilDrenchProducts||ze||[],soilDrenchProgramProducts:tt.soilDrenchProgramProducts||[],preFloweringFoliarProducts:tt.preFloweringFoliarProducts||[],nutritionalFoliarProducts:tt.nutritionalFoliarProducts||pt||[],foliarSprayProducts:tt.foliarSprayProducts||Ue||[],tankMixing:(()=>{const T=tt.tankMixingItems||qe||$i();return console.log("PDF DEBUG: Original tankMixingItems for paddock:",tt.tankMixingItems),console.log("PDF DEBUG: Fallback tankMixingItems:",qe),console.log("PDF DEBUG: Final tankMixingData:",T),T.map(Y=>({sequence:Y.sequence,description:Y.productDescription||"",products:Array.isArray(Y.products)?Y.products.join(", "):Y.products||"",notes:Y.notes||""}))})(),plantHealthScore:Ju(tt.nutrients||As),agronomist:tt.selectedAgronomist||ut,reportFooterText:tt.reportFooterText||rl,nutrients:tt.nutrients||As,somCecText:tt.somCecText||"",baseSaturationText:tt.baseSaturationText||"",phText:tt.phText||"",availableNutrientsText:tt.availableNutrientsText||"",lamotteReamsText:tt.lamotteReamsText||"",taeText:tt.taeText||"",phosphorusMonitoringText:tt.phosphorusMonitoringText||"",organicMatterText:tt.organicMatterText||"",cecText:tt.cecText||"",client:tt.client||"Soil Therapy Report",crop:tt.crop||"Soil Analysis",date:tt.date||new Date().toISOString().slice(0,10)}}),Ne=await Kxe(rt,{frontAttachments:mn||[],backAttachments:Fn||[],uploadedFile:n})}catch(fe){console.error("PDF Export error:",fe),alert(`PDF Export failed: ${fe.message}`)}finally{h(!1)}}};function Ju(fe){if(!fe||fe.length===0)return 0;const Ne=fe.map(ht=>{const gt=ht.current,tt=ht.ideal;if(typeof tt!="number"||tt===0||tt==null)return NaN;let lr=0;return typeof gt=="number"&&typeof tt=="number"&&tt!==0&&(lr=(gt-tt)/tt),rn(lr)}).filter(ht=>!isNaN(ht));return Ne.length>0?Ne.reduce((ht,gt)=>ht+gt,0)/Ne.length:0}As.filter(fe=>fe.status==="low").map(fe=>fe.name);const hc=({nutrients:fe,colorThresholds:rt,setColorThresholds:Ne,zoneSensitivity:ht,setZoneSensitivity:gt,onClose:tt})=>{const lr={CEC:{deficient_threshold:50,excessive_threshold:100},TEC:{deficient_threshold:50,excessive_threshold:100},Paramagnetism:{deficient_threshold:50,excessive_threshold:100},pH_level_1_5_water:{deficient_threshold:50,excessive_threshold:115},Organic_Matter_Calc:{deficient_threshold:50,excessive_threshold:150},Organic_Carbon_LECO:{deficient_threshold:50,excessive_threshold:100},Conductivity_1_5_water:{deficient_threshold:50,excessive_threshold:100},Ca_Mg_Ratio:{deficient_threshold:50,excessive_threshold:100},Nitrate_N_KCl:{deficient_threshold:50,excessive_threshold:100},Ammonium_N_KCl:{deficient_threshold:50,excessive_threshold:100},Phosphorus_Mehlich_III:{deficient_threshold:30,excessive_threshold:60},Calcium_Mehlich_III:{deficient_threshold:35,excessive_threshold:70},Magnesium_Mehlich_III:{deficient_threshold:35,excessive_threshold:70},Potassium_Mehlich_III:{deficient_threshold:35,excessive_threshold:70},Sodium_Mehlich_III:{deficient_threshold:35,excessive_threshold:100},Sulfur_KCl:{deficient_threshold:50,excessive_threshold:100},Chloride:{deficient_threshold:35,excessive_threshold:50},Aluminium:{deficient_threshold:50,excessive_threshold:100},Silicon_CaCl2:{deficient_threshold:35,excessive_threshold:70},Boron_Hot_CaCl2:{deficient_threshold:30,excessive_threshold:150},Iron_DTPA:{deficient_threshold:50,excessive_threshold:100},Manganese_DTPA:{deficient_threshold:50,excessive_threshold:100},Copper_DTPA:{deficient_threshold:50,excessive_threshold:100},Zinc_DTPA:{deficient_threshold:50,excessive_threshold:100},Calcium:{deficient_threshold:35,excessive_threshold:70},Magnesium:{deficient_threshold:35,excessive_threshold:70},Potassium:{deficient_threshold:35,excessive_threshold:70},Sodium:{deficient_threshold:35,excessive_threshold:70},Aluminum:{deficient_threshold:35,excessive_threshold:70},Hydrogen:{deficient_threshold:35,excessive_threshold:70},Other_Bases:{deficient_threshold:35,excessive_threshold:70},Calcium_LaMotte:{deficient_threshold:35,excessive_threshold:70},Magnesium_LaMotte:{deficient_threshold:35,excessive_threshold:70},Phosphorus_LaMotte:{deficient_threshold:35,excessive_threshold:70},Potassium_LaMotte:{deficient_threshold:35,excessive_threshold:70},Sodium_TAE:{deficient_threshold:35,excessive_threshold:70},Potassium_TAE:{deficient_threshold:35,excessive_threshold:70},Calcium_TAE:{deficient_threshold:35,excessive_threshold:70},Magnesium_TAE:{deficient_threshold:35,excessive_threshold:70},Phosphorus_TAE:{deficient_threshold:35,excessive_threshold:70},Aluminium_TAE:{deficient_threshold:35,excessive_threshold:70},Copper_TAE:{deficient_threshold:35,excessive_threshold:70},Iron_TAE:{deficient_threshold:35,excessive_threshold:70},Manganese_TAE:{deficient_threshold:35,excessive_threshold:70},Selenium_TAE:{deficient_threshold:35,excessive_threshold:70},Zinc_TAE:{deficient_threshold:35,excessive_threshold:70},Boron_TAE:{deficient_threshold:35,excessive_threshold:70},Silicon_TAE:{deficient_threshold:35,excessive_threshold:70},Cobalt_TAE:{deficient_threshold:35,excessive_threshold:70},Molybdenum_TAE:{deficient_threshold:35,excessive_threshold:70},Sulfur_TAE:{deficient_threshold:35,excessive_threshold:70}},[Jt,un]=_.useState(()=>{const T={},Y={Aluminum:"Aluminium",Aluminium:"Aluminum",Other_Bases:"Other Bases","Other Bases":"Other_Bases"};return fe.forEach(le=>{let xe=rt&&typeof rt[le]=="object"&&rt[le]!==null?rt[le]:lr[le];if(!xe){const Ie=Object.keys(lr).find(je=>je.toLowerCase()===le.toLowerCase());Ie&&(xe=lr[Ie])}!xe&&Y[le]&&(xe=lr[Y[le]]),xe||(xe=lr.default),T[le]=typeof xe=="object"&&xe!==null?xe:{}}),T}),[Rn,jt]=_.useState(()=>{const T={};return fe.forEach(Y=>{const le=ht&&typeof ht[Y]=="object"&&ht[Y]!==null?ht[Y]:{deficient:1,optimal:1,excessive:1};T[Y]=typeof le=="object"&&le!==null?le:{}}),T}),Tn=(T,Y,le)=>{un(xe=>({...xe,[T]:{...typeof xe[T]=="object"&&xe[T]!==null?xe[T]:{},[Y]:Number(le)}}))},Dt=(T,Y,le)=>{jt(xe=>({...xe,[T]:{...typeof xe[T]=="object"&&xe[T]!==null?xe[T]:{},[Y]:Number(le)}}))},Fr=()=>{Ne(T=>{const Y={...T};return Object.entries(Jt).forEach(([le,xe])=>{Y[le]=xe}),Y}),gt(T=>{const Y={...T};return Object.entries(Rn).forEach(([le,xe])=>{Y[le]=xe}),Y}),tt()};return y.jsx(Exe,{open:!0,onOpenChange:tt,children:y.jsxs(mY,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[y.jsx(gY,{children:y.jsx(vY,{children:"Edit Nutrient Color Logic"})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Color Thresholds"}),y.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:fe.map(T=>{var Y,le;return y.jsxs("div",{className:"border rounded p-3",children:[y.jsx("div",{className:"font-medium mb-2",children:T}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600",children:"Red (Deficient)"}),y.jsx("input",{type:"number",value:((Y=Jt[T])==null?void 0:Y.deficient_threshold)||"",onChange:xe=>Tn(T,"deficient_threshold",xe.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600",children:"Blue (Excessive)"}),y.jsx("input",{type:"number",value:((le=Jt[T])==null?void 0:le.excessive_threshold)||"",onChange:xe=>Tn(T,"excessive_threshold",xe.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]})]})]},T)})})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Zone Sensitivity"}),y.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:fe.map(T=>{var Y,le,xe;return y.jsxs("div",{className:"border rounded p-3",children:[y.jsx("div",{className:"font-medium mb-2",children:T}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600",children:"Deficient"}),y.jsx("input",{type:"number",step:"0.1",value:((Y=Rn[T])==null?void 0:Y.deficient)||"",onChange:Ie=>Dt(T,"deficient",Ie.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600",children:"Optimal"}),y.jsx("input",{type:"number",step:"0.1",value:((le=Rn[T])==null?void 0:le.optimal)||"",onChange:Ie=>Dt(T,"optimal",Ie.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600",children:"Excessive"}),y.jsx("input",{type:"number",step:"0.1",value:((xe=Rn[T])==null?void 0:xe.excessive)||"",onChange:Ie=>Dt(T,"excessive",Ie.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]})]})]},T)})})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[y.jsx(xr,{variant:"outline",onClick:tt,children:"Cancel"}),y.jsx(xr,{onClick:Fr,children:"Save Changes"})]})]})})},id=["calcium","magnesium","potassium","phosphorus","sulphur","sodium","nitrate","ammonium"];function il(fe){const rt=fe.toLowerCase();return rt.startsWith("ammonium")?"ammonium":rt.startsWith("nitrate")?"nitrate":rt.startsWith("calcium")?"calcium":rt.startsWith("magnesium")?"magnesium":rt.startsWith("potassium")?"potassium":rt.startsWith("phosphorus")?"phosphorus":rt.startsWith("sulphur")||rt.startsWith("sulfur")?"sulphur":rt.startsWith("sodium")?"sodium":rt}Array.from(new Map(As.filter(fe=>id.some(rt=>fe.name.toLowerCase().includes(rt))).map(fe=>[il(fe.name),fe])).values()),As.filter(fe=>!id.some(rt=>fe.name.toLowerCase().includes(rt)));const Hl=[...L.foliarSprayProducts||[],...L.preFloweringFoliarProducts||[],...L.preFloweringFoliarProducts2||[],...L.nutritionalFoliarProducts||[],...L.nutritionalFoliarProducts2||[],...L.plantingBlendProducts||[]];(fe=>fe.map(rt=>typeof rt=="string"?rt:rt&&typeof rt=="object"?rt.product||rt.label||rt.name||rt.fertilizer||JSON.stringify(rt):String(rt)).filter(rt=>rt&&rt.trim()!==""))(Hl),i&&i.length===1&&i[0];const[ru,Ki]=_.useState(!0),[Ts,wo]=kt.useState(()=>{const fe={};return qxe.forEach(rt=>{fe[rt]={low:-50,high:50}}),fe}),[nn,sl]=kt.useState(!1),sa=(L.nutrients||K1).map(fe=>{const rt=cj[fe.name]||fe.name;let Ne="optimal";return fe.ideal_range&&Array.isArray(fe.ideal_range)&&fe.ideal_range.length===2?fe.current<fe.ideal_range[0]?Ne="low":fe.current>fe.ideal_range[1]?Ne="high":Ne="optimal":typeof fe.ideal=="number"&&isFinite(fe.ideal)&&fe.ideal!==0&&(fe.current<.9*fe.ideal?Ne="low":fe.current>1.1*fe.ideal&&(Ne="high")),{...fe,genericName:rt,status:Ne}}),fc=(L.nutrients||K1).filter(fe=>{const rt=(fe.name||"").toLowerCase(),Ne=(fe.category||"").toLowerCase();return!(rt.includes("tae")||rt.includes("lamotte")||Ne==="tae"||Ne==="lamotte_reams"||Ne==="base_saturation")}).map(fe=>{const rt=cj[fe.name]||fe.name;let Ne="optimal";return fe.ideal_range&&Array.isArray(fe.ideal_range)&&fe.ideal_range.length===2?fe.current<fe.ideal_range[0]?Ne="low":fe.current>fe.ideal_range[1]?Ne="high":Ne="optimal":typeof fe.ideal=="number"&&isFinite(fe.ideal)&&fe.ideal!==0&&(fe.current<.9*fe.ideal?Ne="low":fe.current>1.1*fe.ideal&&(Ne="high")),{...fe,genericName:rt,status:Ne}}),ol={Paramagnetism:{deficient:1,optimal:1,excessive:1},"pH-level (1:5 water)":{deficient:1,optimal:1,excessive:1},"Organic Matter (Calc)":{deficient:1,optimal:1,excessive:1},"Organic Carbon (LECO)":{deficient:1,optimal:1,excessive:1},"Conductivity (1:5 water)":{deficient:1,optimal:1,excessive:1},"Ca/Mg Ratio":{deficient:1,optimal:1,excessive:1},"Nitrate-N (KCl)":{deficient:1,optimal:1,excessive:1},"Ammonium-N (KCl)":{deficient:1,optimal:1,excessive:1},"Phosphorus (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Calcium (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Magnesium (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Potassium (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Sodium (Mehlich III)":{deficient:1,optimal:1,excessive:1},"Sulfur (KCl)":{deficient:1,optimal:1,excessive:1},Aluminium:{deficient:1,optimal:1,excessive:1},"Silicon (CaCl2)":{deficient:1,optimal:1,excessive:1},"Boron (Hot CaCl2)":{deficient:1,optimal:1,excessive:1},"Iron (DTPA)":{deficient:1,optimal:1,excessive:1},"Manganese (DTPA)":{deficient:1,optimal:1,excessive:1},"Copper (DTPA)":{deficient:1,optimal:1,excessive:1},"Zinc (DTPA)":{deficient:1,optimal:1,excessive:1},"Calcium (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Magnesium (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Potassium (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Sodium (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Aluminum (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Hydrogen (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Other Bases (Base Saturation)":{deficient:1,optimal:1,excessive:1},"Calcium (LaMotte)":{deficient:1,optimal:1,excessive:1},"Magnesium (LaMotte)":{deficient:1,optimal:1,excessive:1},"Phosphorus (LaMotte)":{deficient:1,optimal:1,excessive:1},"Potassium (LaMotte)":{deficient:1,optimal:1,excessive:1},"Sodium (TAE)":{deficient:1,optimal:1,excessive:1},"Potassium (TAE)":{deficient:1,optimal:1,excessive:1},"Calcium (TAE)":{deficient:1,optimal:1,excessive:1},"Magnesium (TAE)":{deficient:1,optimal:1,excessive:1},"Phosphorus (TAE)":{deficient:1,optimal:1,excessive:1},"Aluminium (TAE)":{deficient:1,optimal:1,excessive:1},"Copper (TAE)":{deficient:1,optimal:1,excessive:1},"Iron (TAE)":{deficient:1,optimal:1,excessive:1},"Manganese (TAE)":{deficient:1,optimal:1,excessive:1},"Selenium (TAE)":{deficient:1,optimal:1,excessive:1},"Zinc (TAE)":{deficient:1,optimal:1,excessive:1},"Boron (TAE)":{deficient:1,optimal:1,excessive:1},"Silicon (TAE)":{deficient:1,optimal:1,excessive:1},"Cobalt (TAE)":{deficient:1,optimal:1,excessive:1},"Molybdenum (TAE)":{deficient:1,optimal:1,excessive:1},"Sulfur (TAE)":{deficient:1,optimal:1,excessive:1}},[iu,pc]=_.useState(ol),Fe=({nutrients:fe})=>{const rt=["Calcium","Magnesium","Potassium","Sodium","Aluminum","Hydrogen","Other Bases","Other_Bases"],Ne=["LaMotte Calcium","LaMotte Magnesium","LaMotte Phosphorus","LaMotte Potassium","Calcium_LaMotte","Magnesium_LaMotte","Phosphorus_LaMotte","Potassium_LaMotte","Sodium TAE","Potassium TAE","Calcium TAE","Magnesium TAE","Phosphorus TAE","Aluminium TAE","Copper TAE","Iron TAE","Manganese TAE","Selenium TAE","Zinc TAE","Boron TAE","Silicon TAE","Cobalt TAE","Molybdenum TAE","Sulfur TAE","Sodium_TAE","Potassium_TAE","Calcium_TAE","Magnesium_TAE","Phosphorus_TAE","Aluminium_TAE","Copper_TAE","Iron_TAE","Manganese_TAE","Selenium_TAE","Zinc_TAE","Boron_TAE","Silicon_TAE","Cobalt_TAE","Molybdenum_TAE","Sulfur_TAE"];fe.filter(Jt=>Ne.includes(Jt.name)?!1:rt.includes(Jt.name)?Jt.unit==="%":!0),fe.map(Jt=>{const un=Jt.current,Rn=Jt.ideal;if(typeof Rn!="number"||Rn===0||Rn==null)return NaN;let jt=0;return typeof un=="number"&&typeof Rn=="number"&&Rn!==0&&(jt=(un-Rn)/Rn),rn(jt)}).filter(Jt=>!isNaN(Jt));const gt=Ju(L.nutrients);let tt=1;gt>=80?tt=5:gt>=60?tt=4:gt>=40?tt=3:gt>=20&&(tt=2);const lr=Array.from({length:5},(Jt,un)=>un<tt?"":"").join(" ");return y.jsxs(rr,{className:"bg-white mt-8",children:[y.jsxs(wi,{className:"flex flex-row items-center justify-between",children:[y.jsx(xi,{className:"text-black",children:"Comprehensive Nutrient Table (Sensitivity & Deviation)"}),y.jsx("button",{type:"button",className:"ml-2 text-gray-400 hover:text-blue-600 focus:outline-none align-middle","aria-label":"Edit thresholds and sensitivity",onClick:()=>Zu(!0),children:y.jsx(EM,{size:20})})]}),y.jsx(Ar,{children:y.jsxs("div",{className:"mb-2 flex flex-col items-center justify-center",children:[y.jsx("div",{className:"text-3xl mb-1",style:{letterSpacing:"2px",color:"#fbbf24"},children:lr}),y.jsxs("div",{className:"mb-4 text-2xl font-bold text-blue-700 text-center",children:["Overall Soil Health Score: ",gt.toFixed(1)," / 100"]})]})})]})};function rn(fe,rt=50,Ne=2,ht=250){const gt=Math.abs(fe)*100;if(gt>=ht)return 0;const tt=100/(1+Math.pow(gt/rt,Ne));return Math.max(Math.min(tt,100),0)}const[$n,zn]=_.useState({});function Rt(fe,rt,Ne){const ht={"pH-level (1:5 water)":"pH_level_1_5_water","Organic Matter (Calc)":"Organic_Matter_Calc","Organic Carbon (LECO)":"Organic_Carbon_LECO","Conductivity (1:5 water)":"Conductivity_1_5_water","Ca/Mg Ratio":"Ca_Mg_Ratio","Nitrate-N (KCl)":"Nitrate_N_KCl","Ammonium-N (KCl)":"Ammonium_N_KCl","Phosphorus (Mehlich III)":"Phosphorus_Mehlich_III","Calcium (Mehlich III)":"Calcium_Mehlich_III","Magnesium (Mehlich III)":"Magnesium_Mehlich_III","Potassium (Mehlich III)":"Potassium_Mehlich_III","Sodium (Mehlich III)":"Sodium_Mehlich_III","Sulfur (KCl)":"Sulfur_KCl",Aluminium:"Aluminium","Silicon (CaCl2)":"Silicon_CaCl2","Boron (Hot CaCl2)":"Boron_Hot_CaCl2","Iron (DTPA)":"Iron_DTPA","Manganese (DTPA)":"Manganese_DTPA","Copper (DTPA)":"Copper_DTPA","Zinc (DTPA)":"Zinc_DTPA",Aluminum:"Aluminum",Hydrogen:"Hydrogen","Other Bases":"Other_Bases","Calcium LaMotte":"Calcium_LaMotte","Magnesium LaMotte":"Magnesium_LaMotte","Phosphorus LaMotte":"Phosphorus_LaMotte","Potassium LaMotte":"Potassium_LaMotte",Selenium:"Selenium_TAE",Cobalt:"Cobalt_TAE",Molybdenum:"Molybdenum_TAE","Sodium TAE":"Sodium_TAE","Potassium TAE":"Potassium_TAE","Calcium TAE":"Calcium_TAE","Magnesium TAE":"Magnesium_TAE","Phosphorus TAE":"Phosphorus_TAE","Aluminium TAE":"Aluminium_TAE","Copper TAE":"Copper_TAE","Iron TAE":"Iron_TAE","Manganese TAE":"Manganese_TAE","Selenium TAE":"Selenium_TAE","Zinc TAE":"Zinc_TAE","Boron TAE":"Boron_TAE","Silicon TAE":"Silicon_TAE","Cobalt TAE":"Cobalt_TAE","Molybdenum TAE":"Molybdenum_TAE","Sulfur TAE":"Sulfur_TAE"},gt={};return["Sodium","Potassium","Calcium","Magnesium"].forEach(Jt=>{fe.filter(un=>un.name===Jt&&un.category==="tae")}),fe.forEach(Jt=>{let un=ht[Jt.name]||Jt.name;if(Jt.category==="tae"){const jt=Jt.name+"_TAE";if(rt.includes(jt)){gt[jt]=Jt;return}}if(["Sodium","Potassium","Calcium","Magnesium","Phosphorus","Aluminium","Copper","Iron","Manganese","Zinc","Boron","Silicon","Sulfur","Selenium","Cobalt","Molybdenum"].includes(Jt.name)&&(Jt.unit===""||Jt.unit&&Jt.unit.toLowerCase()==="ppm")){const jt=Jt.name+"_TAE";if(rt.includes(jt)&&!gt[jt]){gt[jt]=Jt;return}}rt.includes(un)&&(gt[un]=Jt)}),["Calcium","Magnesium","Potassium","Sodium","Aluminum","Hydrogen","Other_Bases"].forEach(Jt=>{const un=fe.find(Rn=>(Rn.name===Jt||Rn.name===Jt.replace("_"," "))&&Rn.unit==="%");un&&rt.includes(Jt)&&(gt[Jt]=un)}),["Calcium","Magnesium","Phosphorus","Potassium"].forEach(Jt=>{const un=Jt+"_LaMotte";let Rn;if(Jt==="Phosphorus"){const jt=fe.filter(Tn=>{const Dt=(Tn.name||"").toString(),Fr=Tn.unit&&Tn.unit.toLowerCase()==="ppm",T=/phosphorus.*lamotte/i.test(Dt)||Dt==="Phosphorus_LaMotte",Y=Tn.category==="lamotte_reams",le=typeof Tn.ideal=="number"&&Tn.ideal>=7&&Tn.ideal<=30||Array.isArray(Tn.ideal_range)&&Tn.ideal_range[0]>=7&&Tn.ideal_range[1]<=30;return Fr&&(T||Y||le)&&/phosphorus/i.test(Dt)});jt.length>0&&(Rn=jt[0])}else Rn=fe.find(jt=>{const Tn=(jt.name||"").toString(),Dt=jt.unit&&jt.unit.toLowerCase()==="ppm",Fr=jt.category!=="tae",T=!/Mehlich/i.test(Tn),Y=typeof jt.current=="number"?jt.current<=1e3:!0;return Dt&&Fr&&T&&(Tn===Jt||Tn===Jt.replace("_"," "))&&Y});!gt[un]&&Rn&&(gt[un]={...Rn,name:un,current:Rn.current}),!Rn&&Jt==="Phosphorus"&&(gt[un]={name:un,current:0,unit:"ppm"})}),rt.map(Jt=>{let un=gt[Jt],Rn=un&&typeof un.current<"u"?un.current:"",jt=un&&typeof un.ideal<"u"?un.ideal:void 0,Tn=un&&un.unit?un.unit:Ne&&Ne[Jt]&&Ne[Jt].unit?Ne[Jt].unit:"",Dt=Ne&&Ne[Jt]&&Ne[Jt].ideal_range?Ne[Jt].ideal_range:void 0;return{name:Jt,current:Rn,ideal:jt,unit:Tn,ideal_range:Dt,category:/_LaMotte$/.test(Jt)?"lamotte_reams":Ne&&Ne[Jt]&&Ne[Jt].category||void 0}})}const[Sn,fr]=_.useState({organicMatter:"",cec:"",soilPh:"",baseSaturation:"",availableNutrients:"",lamotteReams:"",tae:""}),[hn,jr]=_.useState(!1),[Yn,gi]=_.useState(null),[Vr,ii]=_.useState(null);async function Ns(){var rt;jr(!0),gi(null);const fe=[];try{debugger;console.log("Ref",b);const Ne={organicMatter:["Organic Matter (Calc)"],cec:["CEC","TEC"],soilPh:["pH-level (1:5 water)"],baseSaturation:["Calcium","Magnesium","Potassium","Sodium","Aluminum","Hydrogen","Other_Bases"],availableNutrients:["Nitrate-N (KCl)","Ammonium-N (KCl)","Phosphorus (Mehlich III)","Calcium (Mehlich III)","Magnesium (Mehlich III)","Potassium (Mehlich III)","Sodium (Mehlich III)","Sulfur (KCl)","Aluminium","Silicon (CaCl2)","Boron (Hot CaCl2)","Iron (DTPA)","Manganese (DTPA)","Copper (DTPA)","Zinc (DTPA)"],lamotteReams:["Calcium_LaMotte","Magnesium_LaMotte","Phosphorus_LaMotte","Potassium_LaMotte"],tae:["Sodium TAE","Potassium TAE","Calcium TAE","Magnesium TAE","Phosphorus TAE","Aluminium TAE","Copper TAE","Iron TAE","Manganese TAE","Selenium TAE","Zinc TAE","Boron TAE","Silicon TAE","Cobalt TAE","Molybdenum TAE","Sulfur TAE"],phosphorusMonitoring:[]},ht={};let gt=!1;if(b){const tt={method:"GET"};let lr=E[P],Jt=lr==null?void 0:lr.paddock;console.log("currentPaddockData",L,E,P,lr);let un=await fetch(`/api/proxy/get-ai-comments/${b}?key=${encodeURIComponent(Jt)}`,tt);if(console.log("get_ai_comments",un),un.status==200){let Rn=await un.json();console.log("get_ai_comments",Rn);let jt=(rt=Rn==null?void 0:Rn.ai_comments)==null?void 0:rt.combined_nutrients_explanation;console.log("get_ai_comments",jt),ht.availableNutrients=jt["Available Nutrients"],ht.baseSaturation=jt["Base Saturation"],ht.cec=jt.CEC,ht.lamotteReams=jt["Lamotte Reams"],ht.organicMatter=jt["Organic Matter"],ht.phosphorusMonitoring=jt["Phosphorus Monitoring"],ht.soilPh=jt["Soil pH"],ht.tae=jt.TAE,gt=!0}}if(!gt)for(const[tt,lr]of Object.entries(Ne)){let Jt=function(le,xe){const{deficient:Ie,excess:je,optimal:ot}=xe;return le==="organicMatter"?`Organic matter analysis shows ${Ie.length>0?"deficiencies in "+Ie.join(", "):"good levels"}. ${je.length>0?"Excessive levels in "+je.join(", "):""} ${ot.length>0?"Optimal levels in "+ot.join(", "):""}`:le==="cec"?`Cation Exchange Capacity (CEC) analysis indicates ${Ie.length>0?"deficiencies in "+Ie.join(", "):"good levels"}. ${je.length>0?"Excessive levels in "+je.join(", "):""} ${ot.length>0?"Optimal levels in "+ot.join(", "):""}`:le==="soilPh"?`Soil pH analysis shows ${Ie.length>0?"deficiencies in "+Ie.join(", "):"good levels"}. ${je.length>0?"Excessive levels in "+je.join(", "):""} ${ot.length>0?"Optimal levels in "+ot.join(", "):""}`:le==="baseSaturation"?`Base saturation analysis reveals ${Ie.length>0?"deficiencies in "+Ie.join(", "):"good levels"}. ${je.length>0?"Excessive levels in "+je.join(", "):""} ${ot.length>0?"Optimal levels in "+ot.join(", "):""}`:le==="availableNutrients"?`Available nutrients analysis reveals plant-accessible nutrient levels. ${Ie.length>0?"Deficiencies detected in "+Ie.join(", "):""} ${je.length>0?"Excessive levels in "+je.join(", "):""} ${ot.length>0?"Optimal levels in "+ot.join(", "):""}`:le==="lamotteReams"?`LaMotte/Reams analysis provides specific nutrient availability assessment. ${Ie.length>0?"Deficiencies detected in "+Ie.join(", "):""} ${je.length>0?"Excessive levels in "+je.join(", "):""} ${ot.length>0?"Optimal levels in "+ot.join(", "):""}`:le==="tae"?`Total Available Elements (TAE) analysis shows comprehensive nutrient availability. ${Ie.length>0?"Deficiencies detected in "+Ie.join(", "):""} ${je.length>0?"Excessive levels in "+je.join(", "):""} ${ot.length>0?"Optimal levels in "+ot.join(", "):""}`:`Analysis shows ${Ie.length>0?"deficiencies in "+Ie.join(", "):"good levels"}. ${je.length>0?"Excessive levels in "+je.join(", "):""} ${ot.length>0?"Optimal levels in "+ot.join(", "):""}`};const un=tt==="lamotteReams"?(()=>{if(Vr&&Array.isArray(Vr.selected)&&Vr.selected.filter(Boolean).length>0){const Vn=Vr.selected.filter(Boolean).map(si=>({name:si.name||si.raw_name||"Unknown",current:si.current,ideal:si.ideal,unit:si.unit||"ppm",category:"lamotte_reams"}));return console.log("DEBUG - lamotteReams using backend.selected:",Vn),Vn}const Ie=[...E&&E.length?E.flatMap(Vn=>Vn&&Vn.data&&Vn.data.nutrients?Vn.data.nutrients:[]):[],...vs,...ys].filter(Vn=>/calcium|magnesium|potassium|phosphorus/i.test((Vn.name||"").toString()));console.log("DEBUG - lamotteReams candidates snapshot (Ca/Mg/K/P any):",Ie.map(Vn=>({name:Vn.name,current:Vn.current,ideal:Vn.ideal,unit:Vn.unit,category:Vn.category})));const je=Vn=>{if(typeof Vn=="number")return Vn;if(typeof Vn=="string"){const Gi=Vn.replace(/,/g,"").match(/-?\d*\.?\d+/);return Gi?parseFloat(Gi[0]):NaN}return NaN},ot=(Vn,si,Gi=.6)=>{const Wi=je(Vn);return typeof Wi=="number"&&!Number.isNaN(Wi)&&Math.abs(Wi-si)<=Gi},Ht=(Vn,si)=>{const Gi=Ie.filter(Wi=>ot(Wi.ideal,si,1));return Gi.length===0?(console.log(`DEBUG - lamotteReams NOT FOUND for ${Vn} ideal${si}. Showing all ${Vn} candidates:`,Ie.filter(Wi=>new RegExp(Vn,"i").test(Wi.name||""))),null):(Gi.length>1&&console.log(`DEBUG - lamotteReams MULTIPLE hits for ${Vn} ideal${si}:`,Gi),Gi[0])},Ln=Ht("Phosphorus",18.5),fn=Ht("Calcium",1500),Hn=Ht("Magnesium",212.5),Lr=Ht("Potassium",90),_i=[Ln,fn,Hn,Lr].filter(Boolean);return console.log("DEBUG - lamotteReams selected by ideal:",_i.map(Vn=>({name:Vn.name,current:Vn.current,ideal:Vn.ideal,unit:Vn.unit,category:Vn.category}))),_i.length===4?_i:Ie})():tt==="tae"?(()=>{const le=new Set(["Sodium","Potassium","Calcium","Magnesium","Phosphorus","Aluminium","Aluminum","Copper","Iron","Manganese","Selenium","Zinc","Boron","Silicon","Cobalt","Molybdenum","Sulfur","Sulphur"]);return vs.filter(xe=>{if(!(xe.category==="tae"||String(xe.name||"").includes("TAE")))return!1;const je=String(xe.name||"").replace(/_TAE$/,"").replace(/\s*TAE$/,"");return le.has(je)})})():tt==="availableNutrients"?vs.filter(le=>{const xe=le.name.toLowerCase();return["nitrate-n (kcl)","ammonium-n (kcl)","phosphorus (mehlich iii)","calcium (mehlich iii)","magnesium (mehlich iii)","potassium (mehlich iii)","sodium (mehlich iii)","sulfur (kcl)","aluminium","silicon (cacl2)","boron (hot cacl2)","iron (dtpa)","manganese (dtpa)","copper (dtpa)","zinc (dtpa)"].includes(xe)}):vs.filter(le=>lr.includes(le.name));if(tt==="organicMatter"&&console.log("DEBUG - organicMatter sectionNutrients:",un),tt==="baseSaturation"&&(console.log("DEBUG - baseSaturation sectionNutrients:",un),console.log("DEBUG - All unifiedNutrientRows for baseSaturation:",ys.filter(le=>["Calcium","Magnesium","Potassium","Sodium","Aluminum","Hydrogen","Other_Bases"].includes(le.name)))),tt==="lamotteReams"&&(console.log("DEBUG - lamotteReams sectionNutrients:",un),console.log("DEBUG - All sourceNutrients for lamotteReams:",vs.filter(le=>le.name.includes("LaMotte")||le.name.includes("_LaMotte")||["Calcium","Magnesium","Phosphorus","Potassium"].includes(le.name)&&le.unit==="ppm"))),tt==="tae"){console.log("DEBUG - tae sectionNutrients:",un),console.log("DEBUG - All sourceNutrients for tae:",vs.filter(Ie=>Ie.name.includes("TAE")||Ie.category==="tae"));const le=new Set(["Sodium","Potassium","Calcium","Magnesium","Phosphorus","Aluminium","Aluminum","Copper","Iron","Manganese","Selenium","Zinc","Boron","Silicon","Cobalt","Molybdenum","Sulfur","Sulphur"]),xe=un.filter(Ie=>le.has(String(Ie.name||"").replace(/_TAE$/,"")));console.log("DEBUG - tae sectionNutrients (sanitized):",xe)}const Rn=un.map(le=>{let xe="optimal",Ie="none",je=null;if(le.ideal_range&&Array.isArray(le.ideal_range)&&le.ideal_range.length===2){Ie="ideal_range";const ot=le.ideal_range[1]-le.ideal_range[0],Ht=le.ideal_range[0]-ot*.15,Ln=le.ideal_range[1]+ot*.3;le.current<Ht?xe="low":le.current<le.ideal_range[0]?xe="marginally_low":le.current>Ln?xe="high":le.current>le.ideal_range[1]?xe="marginally_high":xe="optimal"}else le.ideal!==void 0&&le.current!==void 0&&(Ie="percentage_deviation",je=(le.current-le.ideal)/le.ideal,je<-.35?xe="low":je<-.15?xe="marginally_low":je>.7?xe="high":je>.3?xe="marginally_high":xe="optimal");return{...le,status:xe,classificationMethod:Ie,deviation:je}});let jt=Rn.filter(le=>le.status==="low").map(le=>le.name),Tn=Rn.filter(le=>le.status==="marginally_low").map(le=>le.name),Dt=Rn.filter(le=>le.status==="optimal").map(le=>le.name),Fr=Rn.filter(le=>le.status==="marginally_high").map(le=>le.name),T=Rn.filter(le=>le.status==="high").map(le=>le.name);if(tt==="baseSaturation"){const le=["Hydrogen","Aluminum","Other_Bases"];jt=jt.filter(xe=>!le.includes(xe)||T.includes(xe)),Tn=Tn.filter(xe=>!le.includes(xe)||T.includes(xe)),Dt=Dt.filter(xe=>!le.includes(xe)||T.includes(xe)),Fr=Fr.filter(xe=>!le.includes(xe)||T.includes(xe))}if(tt==="organicMatter"&&console.log("DEBUG - organicMatter status categories:",{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}),tt==="lamotteReams"&&console.log("DEBUG - lamotteReams status categories:",{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}),tt==="tae"&&console.log("DEBUG - tae status categories:",{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}),tt==="baseSaturation"){const le=new Set(["Calcium","Magnesium","Potassium","Sodium","Aluminium","Aluminum","Hydrogen","Other_Bases","Other Bases"]),xe=fn=>fn&&(fn==="Aluminum"?"Aluminium":fn==="Other_Bases"?"Other Bases":fn);jt=jt.filter(fn=>le.has(fn)).map(xe),Tn=Tn.filter(fn=>le.has(fn)).map(xe),Dt=Dt.filter(fn=>le.has(fn)).map(xe),Fr=Fr.filter(fn=>le.has(fn)).map(xe),T=T.filter(fn=>le.has(fn)).map(xe);const Ie=[{key:"excess",label:"Excessive"},{key:"marginallyExcessive",label:"Marginally excessive"},{key:"optimal",label:"Optimal"},{key:"marginallyDeficient",label:"Marginally deficient"},{key:"deficient",label:"Deficient"}],je={deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T},ot={};for(const fn of Ie)for(const Hn of je[fn.key]||[])Hn in ot||(ot[Hn]=fn.key);const Ht={deficient:[],marginallyDeficient:[],optimal:[],marginallyExcessive:[],excess:[]};Object.entries(ot).forEach(([fn,Hn])=>{Ht[Hn].push(fn)});const Ln=new Set(["Aluminium","Hydrogen","Other Bases"]);["deficient","marginallyDeficient","optimal","marginallyExcessive"].forEach(fn=>{Ht[fn]=Ht[fn].filter(Hn=>!Ln.has(Hn))}),Object.keys(Ht).forEach(fn=>{Ht[fn]=Ht[fn].sort((Hn,Lr)=>Hn.localeCompare(Lr))}),jt=Ht.deficient,Tn=Ht.marginallyDeficient,Dt=Ht.optimal,Fr=Ht.marginallyExcessive,T=Ht.excess,console.log("DEBUG - baseSaturation status categories (sanitized):",{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}),console.log("DEBUG - Full nutrientsWithStatus for baseSaturation:",Rn)}if(tt==="lamotteReams"&&(console.log("DEBUG - lamotteReams status categories:",{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}),console.log("DEBUG - lamotteReams sectionNutrients:",un),console.log("DEBUG - All sourceNutrients for lamotteReams:",vs.filter(le=>le.name.includes("LaMotte")||le.name.includes("_LaMotte")))),tt==="tae"&&(console.log("DEBUG - tae status categories:",{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}),console.log("DEBUG - tae sectionNutrients:",un),console.log("DEBUG - All sourceNutrients for tae:",vs.filter(le=>le.category==="tae"))),tt==="availableNutrients"){console.log("DEBUG - availableNutrients status categories:",{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}),console.log("DEBUG - availableNutrients sectionNutrients:",un),console.log("DEBUG - All sourceNutrients for availableNutrients:",vs.filter(je=>{const ot=je.name.toLowerCase();return ot.includes("nitrate")||ot.includes("ammonium")||ot.includes("phosphorus")||ot.includes("calcium")||ot.includes("magnesium")||ot.includes("potassium")||ot.includes("sodium")||ot.includes("sulfur")||ot.includes("aluminium")||ot.includes("silicon")||ot.includes("boron")||ot.includes("iron")||ot.includes("manganese")||ot.includes("copper")||ot.includes("zinc")})),console.log("DEBUG - Full nutrientsWithStatus for availableNutrients:",Rn),console.log("DEBUG - Expected available nutrients names:",lr),console.log("DEBUG - All sourceNutrients names:",vs.map(je=>je.name)),console.log("DEBUG - Detailed classification analysis:"),Rn.forEach(je=>{console.log(`  ${je.name}: current=${je.current}, ideal=${je.ideal}, ideal_range=${je.ideal_range}, method=${je.classificationMethod}, deviation=${je.deviation}, status=${je.status}`)});const le=["Nitrate-N (KCl)","Ammonium-N (KCl)","Phosphorus (Mehlich III)","Calcium (Mehlich III)","Magnesium (Mehlich III)","Potassium (Mehlich III)","Sodium (Mehlich III)","Sulfur (KCl)","Aluminium","Silicon (CaCl2)","Boron (Hot CaCl2)","Iron (DTPA)","Manganese (DTPA)","Copper (DTPA)","Zinc (DTPA)"],xe=Rn.map(je=>je.name),Ie=le.filter(je=>!xe.includes(je));Ie.length>0&&console.log("DEBUG - Missing nutrients:",Ie)}let Y=null;try{tt==="availableNutrients"&&console.log("DEBUG - Data being sent to AI for availableNutrients:",{section:tt,nutrientsCount:un.length,statusCategories:{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}}),tt==="lamotteReams"&&console.log("DEBUG - Data being sent to AI for lamotteReams:",{section:tt,nutrientsCount:un.length,statusCategories:{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}}),tt==="tae"&&console.log("DEBUG - Data being sent to AI for tae:",{section:tt,nutrientsCount:un.length,statusCategories:{deficient:jt,marginallyDeficient:Tn,optimal:Dt,marginallyExcessive:Fr,excess:T}});const le=await fetch("/generate-soil-comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({section:tt,nutrients:un,statusCategories:{deficient:jt,excess:T,optimal:Dt,marginallyDeficient:Tn,marginallyExcessive:Fr}})});if(!le.ok){console.error(`AI endpoint failed for ${tt}: ${le.status} ${le.statusText}`);let Ie="";try{const ot=await le.json();Ie=ot.error||ot.message||""}catch{try{Ie=await le.text()}catch{Ie=`Server error: ${le.status} ${le.statusText}`}}console.error(`Error details for ${tt}:`,Ie),fe.push(`${tt}: ${Ie||le.statusText||"Server error"}`);const je=Jt(tt,{deficient:jt,excess:T,optimal:Dt,marginallyDeficient:Tn,marginallyExcessive:Fr});ht[tt]=je;continue}let xe;try{xe=await le.json()}catch(Ie){console.error(`Failed to parse JSON response for ${tt}:`,Ie);const je=Jt(tt,{deficient:jt,excess:T,optimal:Dt,marginallyDeficient:Tn,marginallyExcessive:Fr});ht[tt]=je;continue}if(xe&&xe.summary)ht[tt]=xe.summary;else if(xe&&xe.error){console.error(`AI endpoint returned error for ${tt}:`,xe.error);const Ie=Jt(tt,{deficient:jt,excess:T,optimal:Dt,marginallyDeficient:Tn,marginallyExcessive:Fr});ht[tt]=Ie}else{const Ie=Jt(tt,{deficient:jt,excess:T,optimal:Dt,marginallyDeficient:Tn,marginallyExcessive:Fr});ht[tt]=Ie}}catch(le){console.error(`AI call failed for ${tt}:`,le);const xe=Jt(tt,{deficient:jt,excess:T,optimal:Dt,marginallyDeficient:Tn,marginallyExcessive:Fr});ht[tt]=xe}}if(or("generalComments",{...L.generalComments,...ht}),fe.length>0){const tt=`AI generation partially failed for ${fe.length} section(s). Fallback content was generated. ${fe.length<=3?"Errors: "+fe.join("; "):"Check console for details."}`;gi(tt),console.warn("AI generation errors:",fe)}{const tt=[];ht.organicMatter&&tt.push(ht.organicMatter),ht.cec&&tt.push(ht.cec),tt.length>0&&or("somCecText",tt.join(`

`))}ht.baseSaturation&&or("baseSaturationText",ht.baseSaturation),ht.soilPh&&or("phText",ht.soilPh),ht.organicMatter&&or("organicMatterText",ht.organicMatter),ht.cec&&or("cecText",ht.cec),ht.availableNutrients&&or("availableNutrientsText",ht.availableNutrients),ht.lamotteReams&&or("lamotteReamsText",ht.lamotteReams),ht.tae&&or("taeText",ht.tae),ht.phosphorusMonitoring&&or("phosphorusMonitoringText",ht.phosphorusMonitoring)}catch(Ne){console.error("AI generation error:",Ne),gi(`Failed to generate comments: ${Ne.message||"Unknown error"}`)}finally{jr(!1)}}const[Kn,Er]=kt.useState({});async function Li(fe,rt){return rt&&rt.description?rt.description:fe&&fe.description?fe.description:typeof window<"u"&&typeof window.generateProductDescriptionAI=="function"?await window.generateProductDescriptionAI({name:fe.label,contains:fe.contains,nutrientPercents:fe.nutrientPercents,nutrientBreakdown:fe.nutrientBreakdown}):"A high-quality product designed to support plant health and growth."}kt.useEffect(()=>{let fe=!0;async function rt(){const Ne={},ht=[...we||[],...st||[],...ze||[],...(L==null?void 0:L.soilDrenchProgramProducts)||[],...Oe||[],...Ke||[],...pt||[],...on||[]];for(const gt of ht){let tt=ide.find(Jt=>Jt.label===gt.product)||B0.find(Jt=>Jt.label===gt.product)||Fx.find(Jt=>Jt.label===gt.product);const lr=typeof S2<"u"&&tt&&S2[tt.label]?S2[tt.label]:{};Ne[gt.id]=await Li(tt,lr)}fe&&Er(Ne)}return rt(),()=>{fe=!1}},[we,st,ze,L==null?void 0:L.soilDrenchProgramProducts,Oe,Ke,pt,on]),we.map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)});const nr={"Calcium Nitrate":"Supplies readily available calcium and nitrate nitrogen for rapid plant uptake.","Potassium Nitrate":"Provides both potassium and nitrate nitrogen for balanced plant growth.","Sodium Nitrate (Chile Nitrate)":"Fast-acting source of nitrate nitrogen and sodium for specific crop needs.","Ammonium Nitrate":"Balanced source of ammonium and nitrate nitrogen for vigorous growth.","UAN Solution (Urea Ammonium Nitrate)":"Liquid blend of urea and ammonium nitrate for flexible nitrogen application.","Calcium Ammonium Nitrate (CAN)":"Supplies calcium, ammonium, and nitrate nitrogen for improved yield.","Magnesium Nitrate":"Provides magnesium and nitrate nitrogen for healthy growth.","Zinc Nitrate":"Supplies zinc and nitrate nitrogen for correcting deficiencies.","Iron Nitrate":"Provides iron and nitrate nitrogen for chlorophyll production.","Copper Nitrate":"Supplies copper and nitrate nitrogen for enzyme activation.","Ammonium Sulfate":"Provides ammonium nitrogen and sulfur for rapid green-up and protein formation.","Monoammonium Phosphate (MAP)":"Supplies phosphorus and ammonium nitrogen for early root and shoot growth.","Diammonium Phosphate (DAP)":"Provides phosphorus and ammonium nitrogen for vigorous early plant development.","Ammonium Thiosulfate":"Liquid source of ammonium nitrogen and sulfur for fertigation.","Ammonium Polyphosphate (APP)":"Liquid phosphorus and ammonium nitrogen for starter and fertigation.","Ammonium Chloride":"Supplies ammonium nitrogen and chloride for specific crop needs.","Ammonium Acetate":"Source of ammonium nitrogen for specialty applications.","Triple Superphosphate (TSP)":"Delivers concentrated phosphorus and calcium for strong root development.","Rock Phosphate":"Slow-release source of phosphorus for long-term soil fertility.","Soft Rock Phosphate":"Natural source of phosphorus and calcium for organic systems.",Thermophosphate:"Slow-release phosphate with calcium and magnesium.","Bone Meal":"Organic source of phosphorus and calcium for soil health.","Fish Bone Meal":"Organic phosphorus, calcium, and nitrogen for soil fertility.","Chicken Manure":"Organic fertilizer providing N, P, K, and organic matter.","Agricultural Limestone (CaCO)":"Raises soil pH and supplies calcium to improve soil structure and nutrient availability.","Dolomitic Lime":"Raises soil pH and supplies both calcium and magnesium for balanced nutrition.","Gypsum (Calcium Sulfate)":"Provides calcium and sulfur without affecting soil pH; improves soil structure and drainage.","Calcium Chloride":"Supplies fast-acting calcium for correcting deficiencies.","Muriate of Potash (Potassium Chloride)":"Delivers high levels of potassium for improved crop yield and quality.",Langbeinite:"Supplies potassium, magnesium, and sulfur for balanced nutrition.","Potassium Magnesium Sulfate":"Provides potassium, magnesium, and sulfur for soil fertility.","Potassium Thiosulfate":"Liquid potassium and sulfur for fertigation.","Potassium Carbonate":"Highly soluble potassium source for rapid correction.","Potassium Acetate":"Potassium source for specialty applications.","Wood Ash":"Supplies potassium, calcium, magnesium, and phosphorus for soil amendment.","Sulfur-Rich Compost":"Organic source of sulfur, calcium, magnesium, potassium, phosphorus, and nitrogen.","Elemental Sulfur":"Lowers soil pH and supplies sulfur for protein synthesis and enzyme function.","Potassium Sulfate (Sulfate of Potash)":"Supplies potassium and sulfur for improved crop quality and disease resistance."};function bs(fe){if(nr[fe])return nr[fe];const rt=Object.keys(nr).find(Ne=>Ne.toLowerCase()===fe.toLowerCase());if(rt)return nr[rt]}const Ql=fe=>{k(rt=>rt.map((Ne,ht)=>ht===P?{...Ne,data:{...Ne.data,...fe},complete:!0}:Ne))},Bi=fe=>{N(fe)},or=(fe,rt)=>{k(Ne=>Ne.map((ht,gt)=>{if(gt===P){const tt={...ht.data,[fe]:rt};return fe==="tankMixingItems"&&(!rt||!Array.isArray(rt)||rt.length===0)&&(console.log("Initializing tankMixingItems with default values for paddock",gt),tt.tankMixingItems=$i()),fe==="soilAmendmentsSummary"&&(tt.soilAmendmentsSummary=Array.isArray(rt)?rt:[]),{...ht,data:tt}}return ht}))};function $i(){const fe=["More soluble Solids","Liquid Solutions","MMS (Micronized Mineral Solutions)","Spray Oil","Microbial Products"],rt=["May require several minutes of good agitation","Make sure previous inputs are fully dissolved before adding.","Pre-mix well before adding slowly to the tank under constant agitation. Maintain constant agitation to prevent settling.","Spreader/sticker/penetrant. Essential for success of foliar sprays.","Always add microbes to the spray tank last after the other ingredients have been diluted."];return fe.map((Ne,ht)=>({id:(Date.now()+ht).toString(),sequence:ht+1,productDescription:Ne,products:[],notes:rt[ht]}))}return y.jsx("div",{className:"w-full max-w-screen-2xl mx-auto",children:y.jsxs("div",{className:"space-y-6 px-2 sm:px-4 lg:px-8",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("div",{className:"flex flex-row items-center justify-between gap-4 min-h-[56px]",children:y.jsx("h1",{className:"text-3xl font-extrabold text-black",children:"Soil Report Generator"})}),y.jsx("p",{className:"text-base text-gray-600 mt-2",children:"Analyze your soil and generate professional recommendations."})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-8",children:[y.jsxs(rr,{className:"bg-white flex-1",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"How To Use This Tool"})}),y.jsx(Ar,{children:y.jsxs("div",{className:"text-gray-800 text-base space-y-2",children:[y.jsx("p",{children:y.jsx("strong",{children:"This tool helps you analyze your soil, visualize nutrient status, and generate precise fertilizer recommendations for optimal crop nutrition."})}),y.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Upload your soil therapy charts:"})," First, export the soil therapy charts PDF from the NTS admin platform. Then click the upload area or drag and drop that PDF file here to generate recommendations."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Review your soil nutrient status:"})," The app reads your data and shows which nutrients are deficient, optimal, or excessive, with color-coded charts and tables."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Get recommendations:"})," For each deficient nutrient, select recommended fertilizers. The app calculates the required rates and ensures no nutrient exceeds safe levels."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Track all applications:"})," Add seed treatments, soil drenches, and foliar sprays. The app tracks all sources and shows a complete nutrient application summary."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Export your report:"})," Download or share a professional PDF report with all recommendations, charts, and supporting documents."]})]}),y.jsxs("p",{children:["Hover the ",y.jsx("span",{className:"inline-block align-middle",children:y.jsx(lO,{size:16,className:"inline text-blue-600"})})," info icon in any section for detailed explanations."]})]})})]}),y.jsxs(rr,{className:"bg-white flex-1",children:[y.jsxs(wi,{className:"flex flex-row items-center justify-between",children:[y.jsx(xi,{className:"text-black",children:"Soil Analysis Upload"}),y.jsx("button",{type:"button",className:"ml-2 text-gray-400 hover:text-blue-600 focus:outline-none align-middle",children:y.jsx(lO,{size:18})})]}),y.jsxs(Ar,{children:[y.jsx(a7,{onFileUpload:nu,isLoading:f}),n&&y.jsx("div",{className:"mt-4 flex justify-end",children:y.jsx(xr,{variant:"outline",onClick:()=>{e(null),r(!1)},children:"Upload New Soil Analysis"})})]})]})]}),n&&!t&&y.jsx(rr,{className:"bg-white",children:y.jsx(Ar,{className:"pt-6",children:y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-black",children:"Generate Soil Report"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Analysis complete. Generate comprehensive soil management report."})]}),y.jsx(xr,{onClick:Wr,disabled:g,children:g?y.jsxs(y.Fragment,{children:[y.jsx(k2,{className:"h-4 w-4 animate-spin mr-2"}),"Generating Report..."]}):"Generate Report"})]})})}),t&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"space-y-6",children:[y.jsx(Rs,{title:y.jsx("span",{className:"flex items-center",children:"1. Nutritional Status Summary"}),collapsible:!0,expanded:Yt,onToggle:()=>cn(fe=>!fe),useHideButton:!0,infoContent:"This section provides an overview of your soil's nutritional status, including charts and tables that show nutrient levels, deviations from targets, and overall soil health. Use this to quickly identify deficiencies or excesses.",children:Yt&&y.jsxs(y.Fragment,{children:[(()=>{const fe=E.filter(rt=>{var Ne;return rt&&rt.data&&(((Ne=rt.data.nutrients)==null?void 0:Ne.length)>0||rt.name||rt.paddock)});return fe.length>1?y.jsx("div",{className:"flex gap-2 mb-6",children:fe.map((rt,Ne)=>y.jsxs("button",{className:`px-4 py-2 rounded-t font-semibold border-b-2 ${P===Ne?"bg-[#8cb43a] text-white border-[#8cb43a]":"bg-gray-100 text-gray-700 border-transparent"} ${rt.complete?"ring-2 ring-green-400":""}`,onClick:()=>Bi(Ne),type:"button",children:[rt.paddock&&rt.paddock!=="Unknown"?rt.paddock:rt.name||`Paddock ${Ne+1}`,rt.complete&&y.jsx("span",{className:"ml-2 text-green-500",children:""})]},rt.analysisId))}):null})(),y.jsxs("div",{className:"mb-4",children:[y.jsx(Fe,{nutrients:ys}),ri&&y.jsx(hc,{nutrients:sa.map(fe=>fe.name),colorThresholds:Ts,setColorThresholds:wo,zoneSensitivity:iu,setZoneSensitivity:pc,onClose:()=>Zu(!1)})]}),!1]})}),y.jsx(Rs,{title:"2. General Comments",collapsible:!0,expanded:bn,onToggle:()=>yr(fe=>!fe),useHideButton:!0,infoContent:"This section contains general comments and interpretations about your soil analysis, including organic matter, CEC, base saturation, pH, available nutrients, and reserves.",children:bn&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block font-medium mb-1",children:"Organic Matter"}),y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[60px]",value:L.organicMatterText||"",onChange:fe=>or("organicMatterText",fe.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block font-medium mb-1",children:"CEC"}),y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[60px]",value:L.cecText||"",onChange:fe=>or("cecText",fe.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block font-medium mb-1",children:"Soil pH"}),y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[60px]",value:L.phText||"",onChange:fe=>or("phText",fe.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block font-medium mb-1",children:"Base Saturation"}),y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[60px]",value:L.baseSaturationText||"",onChange:fe=>or("baseSaturationText",fe.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block font-medium mb-1",children:"Available Nutrients"}),y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[60px]",value:L.availableNutrientsText||"",onChange:fe=>or("availableNutrientsText",fe.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block font-medium mb-1",children:"Lamotte Reams"}),y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[60px]",value:L.lamotteReamsText||"",onChange:fe=>or("lamotteReamsText",fe.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block font-medium mb-1",children:"TAE"}),y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[60px]",value:L.taeText||"",onChange:fe=>or("taeText",fe.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block font-medium mb-1",children:"Phosphorus Monitoring"}),y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[60px]",value:L.phosphorusMonitoringText,onChange:fe=>or("phosphorusMonitoringText",fe.target.value),placeholder:"Enter manual notes about phosphorus monitoring..."})]}),y.jsxs("div",{className:"mt-4 flex gap-2 items-center",children:[y.jsx(xr,{onClick:Ns,disabled:hn,type:"button",children:hn?"Generating...":"Generate with AI"}),y.jsx(xr,{onClick:()=>{const fe={organicMatterText:L.organicMatterText||"",cecText:L.cecText||"",baseSaturationText:L.baseSaturationText||"",phText:L.phText||"",availableNutrientsText:L.availableNutrientsText||"",lamotteReamsText:L.lamotteReamsText||"",taeText:L.taeText||"",phosphorusMonitoringText:L.phosphorusMonitoringText||""};console.log("Current text values before saving:",fe);const rt={...L.generalComments,organicMatter:fe.organicMatterText,cec:fe.cecText,baseSaturation:fe.baseSaturationText,soilPh:fe.phText,availableNutrients:fe.availableNutrientsText,lamotteReams:fe.lamotteReamsText,tae:fe.taeText,phosphorusMonitoring:fe.phosphorusMonitoringText};console.log("Saving comments to generalComments:",rt);const Ne={...L,generalComments:rt,somCecText:fe.organicMatterText+`

`+fe.cecText,baseSaturationText:fe.baseSaturationText,phText:fe.phText,availableNutrientsText:fe.availableNutrientsText,lamotteReamsText:fe.lamotteReamsText,taeText:fe.taeText,phosphorusMonitoringText:fe.phosphorusMonitoringText,organicMatterText:fe.organicMatterText,cecText:fe.cecText};console.log("Updated data for PDF export:",{somCecText:Ne.somCecText,baseSaturationText:Ne.baseSaturationText,phText:Ne.phText,availableNutrientsText:Ne.availableNutrientsText,lamotteReamsText:Ne.lamotteReamsText,taeText:Ne.taeText}),k(ht=>ht.map((gt,tt)=>tt===P?{...gt,data:Ne}:gt)),console.log("Comments saved successfully! All fields updated."),alert("Comments saved successfully!")},variant:"outline",type:"button",children:"Save Comments"}),Yn&&y.jsx("span",{className:"text-red-600 text-sm",children:Yn})]})]})}),y.jsx(Rs,{title:"3. Product Recommendation",collapsible:!0,expanded:On,onToggle:()=>hr(fe=>!fe),useHideButton:!0,infoContent:"Select and review recommended products for soil amendments, seed treatment, planting blends, biological fertigation, and foliar sprays. Adjust rates and options as needed.",children:On&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Soil Corrections"})}),y.jsx(Ar,{children:y.jsx(Uxe,{nutrients:fc,soilAmendmentsSummary:L.soilAmendmentsSummary||[],setSoilAmendmentsSummary:fe=>or("soilAmendmentsSummary",fe),onNutrientLevelsChange:zn},`soil-corrections-${P}`)})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Seed Treatment"})}),y.jsx(Ar,{children:y.jsx(Axe,{selectedProducts:L.seedTreatmentProducts||[],setSelectedProducts:fe=>or("seedTreatmentProducts",fe),productOptions:B0})})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Planting Blend"})}),y.jsx(Ar,{children:y.jsx(dxe,{selectedProducts:L.plantingBlendProducts||[],setSelectedProducts:fe=>or("plantingBlendProducts",fe),productOptions:B0})})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Biological Fertigation Program"})}),y.jsx(Ar,{children:y.jsx(JF,{selectedProducts:L.soilDrenchProducts||[],setSelectedProducts:fe=>or("soilDrenchProducts",fe),deficientNutrients:As.filter(fe=>fe.status==="low").map(fe=>fe.name)})})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Soil Drench Program"})}),y.jsx(Ar,{children:y.jsx(JF,{selectedProducts:L.soilDrenchProgramProducts||[],setSelectedProducts:fe=>or("soilDrenchProgramProducts",fe),deficientNutrients:As.filter(fe=>fe.status==="low").map(fe=>fe.name),title:"Soil Drench Program",description:"Soil drench programs deliver nutrients and beneficial compounds directly to the root zone, improving nutrient uptake and soil biology activation.",placeholder:"Choose soil drench product"})})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Pre-Flowering Foliar Spray"})}),y.jsxs(Ar,{children:[y.jsx(zm,{selectedProducts:L.preFloweringFoliarProducts||[],setSelectedProducts:fe=>or("preFloweringFoliarProducts",fe),deficientNutrients:As.filter(fe=>fe.status==="low").map(fe=>fe.name)}),en?y.jsx(xr,{variant:"destructive",className:"mt-2",onClick:()=>Tt(!1),children:"Remove Second Application"}):y.jsx(xr,{variant:"outline",className:"mt-2",onClick:()=>Tt(!0),children:"Add Second Application"}),en&&y.jsx(zm,{selectedProducts:L.preFloweringFoliarProducts2||[],setSelectedProducts:fe=>or("preFloweringFoliarProducts2",fe),deficientNutrients:As.filter(fe=>fe.status==="low").map(fe=>fe.name)})]})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Nutritional Foliar Spray"})}),y.jsxs(Ar,{children:[y.jsx(zm,{selectedProducts:L.nutritionalFoliarProducts||[],setSelectedProducts:fe=>or("nutritionalFoliarProducts",fe),deficientNutrients:As.filter(fe=>fe.status==="low").map(fe=>fe.name)}),tn?y.jsx(xr,{variant:"destructive",className:"mt-2",onClick:()=>yn(!1),children:"Remove Second Application"}):y.jsx(xr,{variant:"outline",className:"mt-2",onClick:()=>yn(!0),children:"Add Second Application"}),tn&&y.jsx(zm,{selectedProducts:L.nutritionalFoliarProducts2||[],setSelectedProducts:fe=>or("nutritionalFoliarProducts2",fe),deficientNutrients:As.filter(fe=>fe.status==="low").map(fe=>fe.name)})]})]}),y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"General Tank Mixing Sequence"})}),y.jsx(Ar,{children:y.jsx(cV,{selectedProducts:(()=>{const rt=[...L.foliarSprayProducts||[],...L.preFloweringFoliarProducts||[],...L.preFloweringFoliarProducts2||[],...L.nutritionalFoliarProducts||[],...L.nutritionalFoliarProducts2||[]].map(Ne=>typeof Ne=="string"?Ne:Ne.product||Ne.name||"").filter(Boolean);return Array.from(new Set(rt))})(),mixingItems:L.tankMixingItems||$i(),setMixingItems:fe=>or("tankMixingItems",fe),onSummaryChange:fe=>or("tankMixingItems",fe)},`tank-mixing-${P}`)})]})]})}),y.jsx(Rs,{title:"4. Product Recommendation Summary",collapsible:!0,expanded:Pn,onToggle:()=>Si(fe=>!fe),useHideButton:!0,infoContent:"A summary of all recommended products, their purposes, and application rates. Use this as a quick reference for your full nutrient program.",children:Pn&&y.jsxs(rr,{className:"bg-white",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Product Recommendation Summary"})}),y.jsx(Ar,{children:y.jsxs("ul",{className:"list-disc ml-6 text-base",children:[Array.isArray(L.soilAmendmentsSummary)&&L.soilAmendmentsSummary.length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Soil Corrections:"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Soil amendments and fertilizers applied to correct nutrient deficiencies and improve soil health."}),y.jsx("ul",{className:"ml-6 mt-1",children:L.soilAmendmentsSummary.map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.fertilizer),ht=(Ne==null?void 0:Ne.description)||bs(fe.fertilizer);return y.jsxs("li",{className:"mb-1",children:[y.jsx("span",{className:"font-semibold text-blue-700",children:fe.fertilizer}),ht&&y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),fe.contains&&fe.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",fe.contains.join(", "),")"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},rt)})})]}),L.seedTreatmentProducts&&L.seedTreatmentProducts.length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Seed Treatment:"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Products applied to seeds before planting to enhance germination and early growth."}),y.jsx("ul",{className:"ml-6 mt-1",children:L.seedTreatmentProducts.map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)})})]}),L.plantingBlendProducts&&L.plantingBlendProducts.length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Planting Blend:"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Custom blends applied at planting to provide balanced nutrition for seedlings."}),y.jsx("ul",{className:"ml-6 mt-1",children:L.plantingBlendProducts.map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)})})]}),L.soilDrenchProducts&&L.soilDrenchProducts.length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Biological Fertigation Program:"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Biological products delivered through irrigation to enhance soil health and nutrient cycling."}),y.jsx("ul",{className:"ml-6 mt-1",children:L.soilDrenchProducts.map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)})})]}),L.soilDrenchProgramProducts&&L.soilDrenchProgramProducts.length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Soil Drench Program:"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Soil drench products delivered directly to the root zone to enhance soil health and nutrient cycling."}),y.jsx("ul",{className:"ml-6 mt-1",children:L.soilDrenchProgramProducts.map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)})})]}),L.preFloweringFoliarProducts&&L.preFloweringFoliarProducts.length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Pre-Flowering Foliar Spray:"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Nutrient solutions sprayed before flowering for rapid absorption and early plant support."}),y.jsx("ul",{className:"ml-6 mt-1",children:L.preFloweringFoliarProducts.map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)})})]}),L.preFloweringFoliarProducts2&&L.preFloweringFoliarProducts2.length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Pre-Flowering Foliar Spray (2):"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Nutrient solutions sprayed before flowering for rapid absorption and early plant support."}),y.jsx("ul",{className:"ml-6 mt-1",children:L.preFloweringFoliarProducts2.map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)})})]}),(L.nutritionalFoliarProducts||pt)&&(L.nutritionalFoliarProducts||pt).length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Nutritional Foliar Spray:"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Nutrient solutions sprayed for ongoing nutritional support and rapid correction of deficiencies."}),y.jsx("ul",{className:"ml-6 mt-1",children:(L.nutritionalFoliarProducts||pt).map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)})})]}),(L.nutritionalFoliarProducts2||on)&&(L.nutritionalFoliarProducts2||on).length>0&&y.jsxs("li",{className:"mb-2",children:[y.jsx("span",{className:"font-semibold",children:"Nutritional Foliar Spray (2):"}),y.jsx("span",{className:"text-gray-600 ml-2",children:"Nutrient solutions sprayed for ongoing nutritional support and rapid correction of deficiencies."}),y.jsx("ul",{className:"ml-6 mt-1",children:(L.nutritionalFoliarProducts2||on).map((fe,rt)=>{const Ne=sc.find(gt=>gt.label===fe.product),ht=(Ne==null?void 0:Ne.description)||"A high-quality product designed to support plant health and growth.";return y.jsxs("li",{className:"mb-1",children:[y.jsx("a",{href:Ne?`https://www.nutri-tech.com.au/products/${Ne.value}`:"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:underline",children:fe.product}),y.jsxs("span",{className:"text-gray-700 ml-1",children:[" ",ht]}),Ne&&Ne.contains&&Ne.contains.length>0&&y.jsxs("span",{className:"text-gray-500 ml-1",children:[" (Contains: ",Ne.contains.join(", "),")"]}),Ne&&Ne.nutrientPercents&&Ne.nutrientPercents.length>0&&y.jsxs("span",{className:"text-gray-400 ml-1",children:[" [",Ne.nutrientPercents.join(", "),"]"]}),y.jsxs("span",{className:"font-semibold ml-2",children:[fe.rate," ",fe.unit]})]},fe.id)})})]})]})})]})}),y.jsx(Rs,{title:"6. PDF Attachments",collapsible:!0,expanded:us,onToggle:()=>qs(fe=>!fe),useHideButton:!0,infoContent:"Attach supporting PDF documents, such as lab reports or additional recommendations, to include in your final report export.",children:us&&y.jsx(uV,{frontAttachments:mn,setFrontAttachments:ln,backAttachments:Fn,setBackAttachments:se,onSummaryChange:vn})}),y.jsx(Rs,{title:"7. Select Agronomist for Signature",collapsible:!0,expanded:qu,onToggle:()=>Xu(fe=>!fe),useHideButton:!0,infoContent:"Choose the agronomist who will sign off on this report. Their name and contact details will appear in the final document.",children:qu&&y.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[y.jsx("label",{className:"block font-medium mb-2 text-black",children:"Select Agronomist for Signature"}),y.jsx("select",{className:"border rounded px-3 py-2 w-full",value:(L.selectedAgronomist||ut).email,onChange:fe=>{const rt=[{name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"},{name:"Alan Montalbetti",role:"Agronomist",email:"alan@nutri-tech.com.au"},{name:"Adriano De Senna",role:"Agronomist",email:"adriano@nutri-tech.com.au"},{name:"Graeme Sait",role:"CEO & Founder",email:"graeme@nutri-tech.com.au"},{name:"Franz Hentze",role:"Agronomist",email:"franz@nutri-tech.com.au"},{name:"Fred Ghorbani",role:"Agronomist",email:"fred@nutri-tech.com.au"},{name:"Adam Durey",role:"NTS sales consultant",email:"durey@nutri-tech.com.au"}].find(Ne=>Ne.email===fe.target.value);rt&&(At(rt),k(Ne=>Ne.map(ht=>({...ht,data:{...ht.data,selectedAgronomist:rt}}))))},children:[{name:"Marco Giorgio",role:"Agronomist",email:"marco@nutri-tech.com.au"},{name:"Alan Montalbetti",role:"Agronomist",email:"alan@nutri-tech.com.au"},{name:"Adriano De Senna",role:"Agronomist",email:"adriano@nutri-tech.com.au"},{name:"Graeme Sait",role:"CEO & Founder",email:"graeme@nutri-tech.com.au"},{name:"Franz Hentze",role:"Agronomist",email:"franz@nutri-tech.com.au"},{name:"Fred Ghorbani",role:"Agronomist",email:"fred@nutri-tech.com.au"},{name:"Adam Durey",role:"NTS sales consultant",email:"durey@nutri-tech.com.au"}].map(fe=>y.jsxs("option",{value:fe.email,children:[fe.name," - ",fe.role," - ",fe.email]},fe.email))})]})}),y.jsx(Rs,{title:"8. Report Footer/Disclaimer",collapsible:!0,expanded:Yu,onToggle:()=>uh(fe=>!fe),useHideButton:!0,infoContent:"Edit the disclaimer or footer text that will appear at the bottom of your exported report. This typically includes legal or advisory notes.",children:Yu&&y.jsxs(rr,{className:"bg-white mb-6",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Report Footer / Disclaimer"})}),y.jsxs(Ar,{children:[y.jsx("textarea",{className:"w-full p-2 border rounded text-sm min-h-[80px]",value:rl,onChange:fe=>_s(fe.target.value)}),y.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"This text will appear at the bottom of the exported report. You may edit it as needed."})]})]})}),y.jsx(Rs,{title:"9. Export Report",collapsible:!0,expanded:Dl,onToggle:()=>Hr(fe=>!fe),useHideButton:!0,infoContent:"Save your work, download the report as a PDF, or share it. Use these options to finalize and distribute your soil analysis report.",children:Dl&&y.jsxs(rr,{className:"bg-white mb-6",children:[y.jsx(wi,{children:y.jsx(xi,{className:"text-black",children:"Export Report"})}),y.jsx(Ar,{children:y.jsx("div",{className:"flex gap-4",children:y.jsx(xr,{className:"flex items-center gap-2 bg-[#8cb43a] hover:bg-[#7aa32f] text-white",onClick:()=>{Ul()},disabled:A,children:A?y.jsxs(y.Fragment,{children:[y.jsx(k2,{className:"h-4 w-4 animate-spin"}),"Generating PDF..."]}):y.jsxs(y.Fragment,{children:[y.jsx(vJ,{className:"h-4 w-4"}),"Generate Custom PDF"]})})})})]})})]})}),y.jsx("div",{style:{position:"absolute",left:"-9999px",top:0,maxWidth:"900px",margin:"0 auto"},children:y.jsx(Wf,{ref:l,nutrients:fc,paddocks:E.map(fe=>fe.paddock),generalComments:[L.somCecText||[L.organicMatterText,L.cecText].filter(Boolean).join(`

`),L.baseSaturationText||"",L.phText||"",L.availableNutrientsText||"",L.lamotteReamsText||"",L.taeText||""].filter(fe=>fe&&fe.trim()).join(`

`),soilAmendments:mt,seedTreatment:we,soilDrench:L.soilDrenchProducts||ze,foliarSpray:L.foliarSprayProducts||Ue,tankMixing:L.tankMixingItems||qe,pdfAttachments:zt,agronomist:L.selectedAgronomist||ut})})]})})},Zxe=()=>y.jsx(VM,{children:y.jsx(Yxe,{})}),Jxe=new Wte,$xe=()=>y.jsx(_$,{defaultTheme:"light",children:y.jsx(Xte,{client:Jxe,children:y.jsxs(Cte,{children:[y.jsx(c$,{}),y.jsx(U$,{}),y.jsx(qne,{children:y.jsxs(jne,{children:[y.jsx(i1,{path:"/",element:y.jsx(axe,{})}),y.jsx(i1,{path:"/plant-report",element:y.jsx(ixe,{})}),y.jsx(i1,{path:"/print-report",element:y.jsx(oxe,{})}),y.jsx(i1,{path:"/soil-report",element:y.jsx(Zxe,{})}),y.jsx(i1,{path:"*",element:y.jsx(sxe,{})})]})})]})})});dZ.createRoot(document.getElementById("root")).render(y.jsx($xe,{}));export{Qi as _,t2e as c,iN as g};
